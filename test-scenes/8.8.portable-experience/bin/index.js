"use strict";
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod2) => function __require() {
  return mod2 || (0, cb[__getOwnPropNames(cb)[0]])((mod2 = { exports: {} }).exports, mod2), mod2.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod2, isNodeMode, target) => (target = mod2 != null ? __create(__getProtoOf(mod2)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod2 || !mod2.__esModule ? __defProp(target, "default", { value: mod2, enumerable: true }) : target,
  mod2
));
var __toCommonJS = (mod2) => __copyProps(__defProp({}, "__esModule", { value: true }), mod2);

// node_modules/@protobufjs/aspromise/index.js
var require_aspromise = __commonJS({
  "node_modules/@protobufjs/aspromise/index.js"(exports2, module2) {
    "use strict";
    module2.exports = asPromise;
    function asPromise(fn, ctx) {
      var params = new Array(arguments.length - 1), offset = 0, index = 2, pending = true;
      while (index < arguments.length)
        params[offset++] = arguments[index++];
      return new Promise(function executor(resolve2, reject) {
        params[offset] = function callback(err) {
          if (pending) {
            pending = false;
            if (err)
              reject(err);
            else {
              var params2 = new Array(arguments.length - 1), offset2 = 0;
              while (offset2 < params2.length)
                params2[offset2++] = arguments[offset2];
              resolve2.apply(null, params2);
            }
          }
        };
        try {
          fn.apply(ctx || null, params);
        } catch (err) {
          if (pending) {
            pending = false;
            reject(err);
          }
        }
      });
    }
  }
});

// node_modules/@protobufjs/base64/index.js
var require_base64 = __commonJS({
  "node_modules/@protobufjs/base64/index.js"(exports2) {
    "use strict";
    var base64 = exports2;
    base64.length = function length2(string) {
      var p = string.length;
      if (!p)
        return 0;
      var n = 0;
      while (--p % 4 > 1 && string.charAt(p) === "=")
        ++n;
      return Math.ceil(string.length * 3) / 4 - n;
    };
    var b64 = new Array(64);
    var s64 = new Array(123);
    for (i = 0; i < 64; )
      s64[b64[i] = i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i - 59 | 43] = i++;
    var i;
    base64.encode = function encode(buffer, start, end) {
      var parts = null, chunk = [];
      var i2 = 0, j = 0, t;
      while (start < end) {
        var b = buffer[start++];
        switch (j) {
          case 0:
            chunk[i2++] = b64[b >> 2];
            t = (b & 3) << 4;
            j = 1;
            break;
          case 1:
            chunk[i2++] = b64[t | b >> 4];
            t = (b & 15) << 2;
            j = 2;
            break;
          case 2:
            chunk[i2++] = b64[t | b >> 6];
            chunk[i2++] = b64[b & 63];
            j = 0;
            break;
        }
        if (i2 > 8191) {
          (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));
          i2 = 0;
        }
      }
      if (j) {
        chunk[i2++] = b64[t];
        chunk[i2++] = 61;
        if (j === 1)
          chunk[i2++] = 61;
      }
      if (parts) {
        if (i2)
          parts.push(String.fromCharCode.apply(String, chunk.slice(0, i2)));
        return parts.join("");
      }
      return String.fromCharCode.apply(String, chunk.slice(0, i2));
    };
    var invalidEncoding = "invalid encoding";
    base64.decode = function decode(string, buffer, offset) {
      var start = offset;
      var j = 0, t;
      for (var i2 = 0; i2 < string.length; ) {
        var c = string.charCodeAt(i2++);
        if (c === 61 && j > 1)
          break;
        if ((c = s64[c]) === void 0)
          throw Error(invalidEncoding);
        switch (j) {
          case 0:
            t = c;
            j = 1;
            break;
          case 1:
            buffer[offset++] = t << 2 | (c & 48) >> 4;
            t = c;
            j = 2;
            break;
          case 2:
            buffer[offset++] = (t & 15) << 4 | (c & 60) >> 2;
            t = c;
            j = 3;
            break;
          case 3:
            buffer[offset++] = (t & 3) << 6 | c;
            j = 0;
            break;
        }
      }
      if (j === 1)
        throw Error(invalidEncoding);
      return offset - start;
    };
    base64.test = function test(string) {
      return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string);
    };
  }
});

// node_modules/@protobufjs/eventemitter/index.js
var require_eventemitter = __commonJS({
  "node_modules/@protobufjs/eventemitter/index.js"(exports2, module2) {
    "use strict";
    module2.exports = EventEmitter;
    function EventEmitter() {
      this._listeners = {};
    }
    EventEmitter.prototype.on = function on(evt, fn, ctx) {
      (this._listeners[evt] || (this._listeners[evt] = [])).push({
        fn,
        ctx: ctx || this
      });
      return this;
    };
    EventEmitter.prototype.off = function off(evt, fn) {
      if (evt === void 0)
        this._listeners = {};
      else {
        if (fn === void 0)
          this._listeners[evt] = [];
        else {
          var listeners = this._listeners[evt];
          for (var i = 0; i < listeners.length; )
            if (listeners[i].fn === fn)
              listeners.splice(i, 1);
            else
              ++i;
        }
      }
      return this;
    };
    EventEmitter.prototype.emit = function emit(evt) {
      var listeners = this._listeners[evt];
      if (listeners) {
        var args = [], i = 1;
        for (; i < arguments.length; )
          args.push(arguments[i++]);
        for (i = 0; i < listeners.length; )
          listeners[i].fn.apply(listeners[i++].ctx, args);
      }
      return this;
    };
  }
});

// node_modules/@protobufjs/float/index.js
var require_float = __commonJS({
  "node_modules/@protobufjs/float/index.js"(exports2, module2) {
    "use strict";
    module2.exports = factory(factory);
    function factory(exports3) {
      if (typeof Float32Array !== "undefined")
        (function() {
          var f32 = new Float32Array([-0]), f8b = new Uint8Array(f32.buffer), le = f8b[3] === 128;
          function writeFloat_f32_cpy(val, buf, pos) {
            f32[0] = val;
            buf[pos] = f8b[0];
            buf[pos + 1] = f8b[1];
            buf[pos + 2] = f8b[2];
            buf[pos + 3] = f8b[3];
          }
          function writeFloat_f32_rev(val, buf, pos) {
            f32[0] = val;
            buf[pos] = f8b[3];
            buf[pos + 1] = f8b[2];
            buf[pos + 2] = f8b[1];
            buf[pos + 3] = f8b[0];
          }
          exports3.writeFloatLE = le ? writeFloat_f32_cpy : writeFloat_f32_rev;
          exports3.writeFloatBE = le ? writeFloat_f32_rev : writeFloat_f32_cpy;
          function readFloat_f32_cpy(buf, pos) {
            f8b[0] = buf[pos];
            f8b[1] = buf[pos + 1];
            f8b[2] = buf[pos + 2];
            f8b[3] = buf[pos + 3];
            return f32[0];
          }
          function readFloat_f32_rev(buf, pos) {
            f8b[3] = buf[pos];
            f8b[2] = buf[pos + 1];
            f8b[1] = buf[pos + 2];
            f8b[0] = buf[pos + 3];
            return f32[0];
          }
          exports3.readFloatLE = le ? readFloat_f32_cpy : readFloat_f32_rev;
          exports3.readFloatBE = le ? readFloat_f32_rev : readFloat_f32_cpy;
        })();
      else
        (function() {
          function writeFloat_ieee754(writeUint, val, buf, pos) {
            var sign = val < 0 ? 1 : 0;
            if (sign)
              val = -val;
            if (val === 0)
              writeUint(1 / val > 0 ? (
                /* positive */
                0
              ) : (
                /* negative 0 */
                2147483648
              ), buf, pos);
            else if (isNaN(val))
              writeUint(2143289344, buf, pos);
            else if (val > 34028234663852886e22)
              writeUint((sign << 31 | 2139095040) >>> 0, buf, pos);
            else if (val < 11754943508222875e-54)
              writeUint((sign << 31 | Math.round(val / 1401298464324817e-60)) >>> 0, buf, pos);
            else {
              var exponent = Math.floor(Math.log(val) / Math.LN2), mantissa = Math.round(val * Math.pow(2, -exponent) * 8388608) & 8388607;
              writeUint((sign << 31 | exponent + 127 << 23 | mantissa) >>> 0, buf, pos);
            }
          }
          exports3.writeFloatLE = writeFloat_ieee754.bind(null, writeUintLE);
          exports3.writeFloatBE = writeFloat_ieee754.bind(null, writeUintBE);
          function readFloat_ieee754(readUint, buf, pos) {
            var uint = readUint(buf, pos), sign = (uint >> 31) * 2 + 1, exponent = uint >>> 23 & 255, mantissa = uint & 8388607;
            return exponent === 255 ? mantissa ? NaN : sign * Infinity : exponent === 0 ? sign * 1401298464324817e-60 * mantissa : sign * Math.pow(2, exponent - 150) * (mantissa + 8388608);
          }
          exports3.readFloatLE = readFloat_ieee754.bind(null, readUintLE);
          exports3.readFloatBE = readFloat_ieee754.bind(null, readUintBE);
        })();
      if (typeof Float64Array !== "undefined")
        (function() {
          var f64 = new Float64Array([-0]), f8b = new Uint8Array(f64.buffer), le = f8b[7] === 128;
          function writeDouble_f64_cpy(val, buf, pos) {
            f64[0] = val;
            buf[pos] = f8b[0];
            buf[pos + 1] = f8b[1];
            buf[pos + 2] = f8b[2];
            buf[pos + 3] = f8b[3];
            buf[pos + 4] = f8b[4];
            buf[pos + 5] = f8b[5];
            buf[pos + 6] = f8b[6];
            buf[pos + 7] = f8b[7];
          }
          function writeDouble_f64_rev(val, buf, pos) {
            f64[0] = val;
            buf[pos] = f8b[7];
            buf[pos + 1] = f8b[6];
            buf[pos + 2] = f8b[5];
            buf[pos + 3] = f8b[4];
            buf[pos + 4] = f8b[3];
            buf[pos + 5] = f8b[2];
            buf[pos + 6] = f8b[1];
            buf[pos + 7] = f8b[0];
          }
          exports3.writeDoubleLE = le ? writeDouble_f64_cpy : writeDouble_f64_rev;
          exports3.writeDoubleBE = le ? writeDouble_f64_rev : writeDouble_f64_cpy;
          function readDouble_f64_cpy(buf, pos) {
            f8b[0] = buf[pos];
            f8b[1] = buf[pos + 1];
            f8b[2] = buf[pos + 2];
            f8b[3] = buf[pos + 3];
            f8b[4] = buf[pos + 4];
            f8b[5] = buf[pos + 5];
            f8b[6] = buf[pos + 6];
            f8b[7] = buf[pos + 7];
            return f64[0];
          }
          function readDouble_f64_rev(buf, pos) {
            f8b[7] = buf[pos];
            f8b[6] = buf[pos + 1];
            f8b[5] = buf[pos + 2];
            f8b[4] = buf[pos + 3];
            f8b[3] = buf[pos + 4];
            f8b[2] = buf[pos + 5];
            f8b[1] = buf[pos + 6];
            f8b[0] = buf[pos + 7];
            return f64[0];
          }
          exports3.readDoubleLE = le ? readDouble_f64_cpy : readDouble_f64_rev;
          exports3.readDoubleBE = le ? readDouble_f64_rev : readDouble_f64_cpy;
        })();
      else
        (function() {
          function writeDouble_ieee754(writeUint, off0, off1, val, buf, pos) {
            var sign = val < 0 ? 1 : 0;
            if (sign)
              val = -val;
            if (val === 0) {
              writeUint(0, buf, pos + off0);
              writeUint(1 / val > 0 ? (
                /* positive */
                0
              ) : (
                /* negative 0 */
                2147483648
              ), buf, pos + off1);
            } else if (isNaN(val)) {
              writeUint(0, buf, pos + off0);
              writeUint(2146959360, buf, pos + off1);
            } else if (val > 17976931348623157e292) {
              writeUint(0, buf, pos + off0);
              writeUint((sign << 31 | 2146435072) >>> 0, buf, pos + off1);
            } else {
              var mantissa;
              if (val < 22250738585072014e-324) {
                mantissa = val / 5e-324;
                writeUint(mantissa >>> 0, buf, pos + off0);
                writeUint((sign << 31 | mantissa / 4294967296) >>> 0, buf, pos + off1);
              } else {
                var exponent = Math.floor(Math.log(val) / Math.LN2);
                if (exponent === 1024)
                  exponent = 1023;
                mantissa = val * Math.pow(2, -exponent);
                writeUint(mantissa * 4503599627370496 >>> 0, buf, pos + off0);
                writeUint((sign << 31 | exponent + 1023 << 20 | mantissa * 1048576 & 1048575) >>> 0, buf, pos + off1);
              }
            }
          }
          exports3.writeDoubleLE = writeDouble_ieee754.bind(null, writeUintLE, 0, 4);
          exports3.writeDoubleBE = writeDouble_ieee754.bind(null, writeUintBE, 4, 0);
          function readDouble_ieee754(readUint, off0, off1, buf, pos) {
            var lo = readUint(buf, pos + off0), hi = readUint(buf, pos + off1);
            var sign = (hi >> 31) * 2 + 1, exponent = hi >>> 20 & 2047, mantissa = 4294967296 * (hi & 1048575) + lo;
            return exponent === 2047 ? mantissa ? NaN : sign * Infinity : exponent === 0 ? sign * 5e-324 * mantissa : sign * Math.pow(2, exponent - 1075) * (mantissa + 4503599627370496);
          }
          exports3.readDoubleLE = readDouble_ieee754.bind(null, readUintLE, 0, 4);
          exports3.readDoubleBE = readDouble_ieee754.bind(null, readUintBE, 4, 0);
        })();
      return exports3;
    }
    function writeUintLE(val, buf, pos) {
      buf[pos] = val & 255;
      buf[pos + 1] = val >>> 8 & 255;
      buf[pos + 2] = val >>> 16 & 255;
      buf[pos + 3] = val >>> 24;
    }
    function writeUintBE(val, buf, pos) {
      buf[pos] = val >>> 24;
      buf[pos + 1] = val >>> 16 & 255;
      buf[pos + 2] = val >>> 8 & 255;
      buf[pos + 3] = val & 255;
    }
    function readUintLE(buf, pos) {
      return (buf[pos] | buf[pos + 1] << 8 | buf[pos + 2] << 16 | buf[pos + 3] << 24) >>> 0;
    }
    function readUintBE(buf, pos) {
      return (buf[pos] << 24 | buf[pos + 1] << 16 | buf[pos + 2] << 8 | buf[pos + 3]) >>> 0;
    }
  }
});

// node_modules/@protobufjs/inquire/index.js
var require_inquire = __commonJS({
  "node_modules/@protobufjs/inquire/index.js"(exports, module) {
    "use strict";
    module.exports = inquire;
    function inquire(moduleName) {
      try {
        var mod = eval("quire".replace(/^/, "re"))(moduleName);
        if (mod && (mod.length || Object.keys(mod).length))
          return mod;
      } catch (e) {
      }
      return null;
    }
  }
});

// node_modules/@protobufjs/utf8/index.js
var require_utf8 = __commonJS({
  "node_modules/@protobufjs/utf8/index.js"(exports2) {
    "use strict";
    var utf83 = exports2;
    utf83.length = function utf8_length(string) {
      var len = 0, c = 0;
      for (var i = 0; i < string.length; ++i) {
        c = string.charCodeAt(i);
        if (c < 128)
          len += 1;
        else if (c < 2048)
          len += 2;
        else if ((c & 64512) === 55296 && (string.charCodeAt(i + 1) & 64512) === 56320) {
          ++i;
          len += 4;
        } else
          len += 3;
      }
      return len;
    };
    utf83.read = function utf8_read(buffer, start, end) {
      var len = end - start;
      if (len < 1)
        return "";
      var parts = null, chunk = [], i = 0, t;
      while (start < end) {
        t = buffer[start++];
        if (t < 128)
          chunk[i++] = t;
        else if (t > 191 && t < 224)
          chunk[i++] = (t & 31) << 6 | buffer[start++] & 63;
        else if (t > 239 && t < 365) {
          t = ((t & 7) << 18 | (buffer[start++] & 63) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63) - 65536;
          chunk[i++] = 55296 + (t >> 10);
          chunk[i++] = 56320 + (t & 1023);
        } else
          chunk[i++] = (t & 15) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63;
        if (i > 8191) {
          (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));
          i = 0;
        }
      }
      if (parts) {
        if (i)
          parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));
        return parts.join("");
      }
      return String.fromCharCode.apply(String, chunk.slice(0, i));
    };
    utf83.write = function utf8_write(string, buffer, offset) {
      var start = offset, c1, c2;
      for (var i = 0; i < string.length; ++i) {
        c1 = string.charCodeAt(i);
        if (c1 < 128) {
          buffer[offset++] = c1;
        } else if (c1 < 2048) {
          buffer[offset++] = c1 >> 6 | 192;
          buffer[offset++] = c1 & 63 | 128;
        } else if ((c1 & 64512) === 55296 && ((c2 = string.charCodeAt(i + 1)) & 64512) === 56320) {
          c1 = 65536 + ((c1 & 1023) << 10) + (c2 & 1023);
          ++i;
          buffer[offset++] = c1 >> 18 | 240;
          buffer[offset++] = c1 >> 12 & 63 | 128;
          buffer[offset++] = c1 >> 6 & 63 | 128;
          buffer[offset++] = c1 & 63 | 128;
        } else {
          buffer[offset++] = c1 >> 12 | 224;
          buffer[offset++] = c1 >> 6 & 63 | 128;
          buffer[offset++] = c1 & 63 | 128;
        }
      }
      return offset - start;
    };
  }
});

// node_modules/@protobufjs/pool/index.js
var require_pool = __commonJS({
  "node_modules/@protobufjs/pool/index.js"(exports2, module2) {
    "use strict";
    module2.exports = pool;
    function pool(alloc, slice, size) {
      var SIZE = size || 8192;
      var MAX = SIZE >>> 1;
      var slab = null;
      var offset = SIZE;
      return function pool_alloc(size2) {
        if (size2 < 1 || size2 > MAX)
          return alloc(size2);
        if (offset + size2 > SIZE) {
          slab = alloc(SIZE);
          offset = 0;
        }
        var buf = slice.call(slab, offset, offset += size2);
        if (offset & 7)
          offset = (offset | 7) + 1;
        return buf;
      };
    }
  }
});

// node_modules/protobufjs/src/util/longbits.js
var require_longbits = __commonJS({
  "node_modules/protobufjs/src/util/longbits.js"(exports2, module2) {
    "use strict";
    module2.exports = LongBits;
    var util = require_minimal();
    function LongBits(lo, hi) {
      this.lo = lo >>> 0;
      this.hi = hi >>> 0;
    }
    var zero = LongBits.zero = new LongBits(0, 0);
    zero.toNumber = function() {
      return 0;
    };
    zero.zzEncode = zero.zzDecode = function() {
      return this;
    };
    zero.length = function() {
      return 1;
    };
    var zeroHash = LongBits.zeroHash = "\0\0\0\0\0\0\0\0";
    LongBits.fromNumber = function fromNumber(value) {
      if (value === 0)
        return zero;
      var sign = value < 0;
      if (sign)
        value = -value;
      var lo = value >>> 0, hi = (value - lo) / 4294967296 >>> 0;
      if (sign) {
        hi = ~hi >>> 0;
        lo = ~lo >>> 0;
        if (++lo > 4294967295) {
          lo = 0;
          if (++hi > 4294967295)
            hi = 0;
        }
      }
      return new LongBits(lo, hi);
    };
    LongBits.from = function from(value) {
      if (typeof value === "number")
        return LongBits.fromNumber(value);
      if (util.isString(value)) {
        if (util.Long)
          value = util.Long.fromString(value);
        else
          return LongBits.fromNumber(parseInt(value, 10));
      }
      return value.low || value.high ? new LongBits(value.low >>> 0, value.high >>> 0) : zero;
    };
    LongBits.prototype.toNumber = function toNumber(unsigned) {
      if (!unsigned && this.hi >>> 31) {
        var lo = ~this.lo + 1 >>> 0, hi = ~this.hi >>> 0;
        if (!lo)
          hi = hi + 1 >>> 0;
        return -(lo + hi * 4294967296);
      }
      return this.lo + this.hi * 4294967296;
    };
    LongBits.prototype.toLong = function toLong(unsigned) {
      return util.Long ? new util.Long(this.lo | 0, this.hi | 0, Boolean(unsigned)) : { low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned) };
    };
    var charCodeAt = String.prototype.charCodeAt;
    LongBits.fromHash = function fromHash(hash) {
      if (hash === zeroHash)
        return zero;
      return new LongBits(
        (charCodeAt.call(hash, 0) | charCodeAt.call(hash, 1) << 8 | charCodeAt.call(hash, 2) << 16 | charCodeAt.call(hash, 3) << 24) >>> 0,
        (charCodeAt.call(hash, 4) | charCodeAt.call(hash, 5) << 8 | charCodeAt.call(hash, 6) << 16 | charCodeAt.call(hash, 7) << 24) >>> 0
      );
    };
    LongBits.prototype.toHash = function toHash() {
      return String.fromCharCode(
        this.lo & 255,
        this.lo >>> 8 & 255,
        this.lo >>> 16 & 255,
        this.lo >>> 24,
        this.hi & 255,
        this.hi >>> 8 & 255,
        this.hi >>> 16 & 255,
        this.hi >>> 24
      );
    };
    LongBits.prototype.zzEncode = function zzEncode() {
      var mask = this.hi >> 31;
      this.hi = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;
      this.lo = (this.lo << 1 ^ mask) >>> 0;
      return this;
    };
    LongBits.prototype.zzDecode = function zzDecode() {
      var mask = -(this.lo & 1);
      this.lo = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;
      this.hi = (this.hi >>> 1 ^ mask) >>> 0;
      return this;
    };
    LongBits.prototype.length = function length2() {
      var part0 = this.lo, part1 = (this.lo >>> 28 | this.hi << 4) >>> 0, part2 = this.hi >>> 24;
      return part2 === 0 ? part1 === 0 ? part0 < 16384 ? part0 < 128 ? 1 : 2 : part0 < 2097152 ? 3 : 4 : part1 < 16384 ? part1 < 128 ? 5 : 6 : part1 < 2097152 ? 7 : 8 : part2 < 128 ? 9 : 10;
    };
  }
});

// node_modules/protobufjs/src/util/minimal.js
var require_minimal = __commonJS({
  "node_modules/protobufjs/src/util/minimal.js"(exports2) {
    "use strict";
    var util = exports2;
    util.asPromise = require_aspromise();
    util.base64 = require_base64();
    util.EventEmitter = require_eventemitter();
    util.float = require_float();
    util.inquire = require_inquire();
    util.utf8 = require_utf8();
    util.pool = require_pool();
    util.LongBits = require_longbits();
    util.isNode = Boolean(typeof global !== "undefined" && global && global.process && global.process.versions && global.process.versions.node);
    util.global = util.isNode && global || false || typeof self !== "undefined" && self || exports2;
    util.emptyArray = Object.freeze ? Object.freeze([]) : (
      /* istanbul ignore next */
      []
    );
    util.emptyObject = Object.freeze ? Object.freeze({}) : (
      /* istanbul ignore next */
      {}
    );
    util.isInteger = Number.isInteger || /* istanbul ignore next */
    function isInteger(value) {
      return typeof value === "number" && isFinite(value) && Math.floor(value) === value;
    };
    util.isString = function isString(value) {
      return typeof value === "string" || value instanceof String;
    };
    util.isObject = function isObject3(value) {
      return value && typeof value === "object";
    };
    util.isset = /**
     * Checks if a property on a message is considered to be present.
     * @param {Object} obj Plain object or message instance
     * @param {string} prop Property name
     * @returns {boolean} `true` if considered to be present, otherwise `false`
     */
    util.isSet = function isSet3(obj, prop) {
      var value = obj[prop];
      if (value != null && obj.hasOwnProperty(prop))
        return typeof value !== "object" || (Array.isArray(value) ? value.length : Object.keys(value).length) > 0;
      return false;
    };
    util.Buffer = function() {
      try {
        var Buffer2 = util.inquire("buffer").Buffer;
        return Buffer2.prototype.utf8Write ? Buffer2 : (
          /* istanbul ignore next */
          null
        );
      } catch (e) {
        return null;
      }
    }();
    util._Buffer_from = null;
    util._Buffer_allocUnsafe = null;
    util.newBuffer = function newBuffer(sizeOrArray) {
      return typeof sizeOrArray === "number" ? util.Buffer ? util._Buffer_allocUnsafe(sizeOrArray) : new util.Array(sizeOrArray) : util.Buffer ? util._Buffer_from(sizeOrArray) : typeof Uint8Array === "undefined" ? sizeOrArray : new Uint8Array(sizeOrArray);
    };
    util.Array = typeof Uint8Array !== "undefined" ? Uint8Array : Array;
    util.Long = /* istanbul ignore next */
    util.global.dcodeIO && /* istanbul ignore next */
    util.global.dcodeIO.Long || /* istanbul ignore next */
    util.global.Long || util.inquire("long");
    util.key2Re = /^true|false|0|1$/;
    util.key32Re = /^-?(?:0|[1-9][0-9]*)$/;
    util.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;
    util.longToHash = function longToHash(value) {
      return value ? util.LongBits.from(value).toHash() : util.LongBits.zeroHash;
    };
    util.longFromHash = function longFromHash(hash, unsigned) {
      var bits = util.LongBits.fromHash(hash);
      if (util.Long)
        return util.Long.fromBits(bits.lo, bits.hi, unsigned);
      return bits.toNumber(Boolean(unsigned));
    };
    function merge(dst, src, ifNotSet) {
      for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)
        if (dst[keys[i]] === void 0 || !ifNotSet)
          dst[keys[i]] = src[keys[i]];
      return dst;
    }
    util.merge = merge;
    util.lcFirst = function lcFirst(str) {
      return str.charAt(0).toLowerCase() + str.substring(1);
    };
    function newError(name) {
      function CustomError(message, properties) {
        if (!(this instanceof CustomError))
          return new CustomError(message, properties);
        Object.defineProperty(this, "message", { get: function() {
          return message;
        } });
        if (Error.captureStackTrace)
          Error.captureStackTrace(this, CustomError);
        else
          Object.defineProperty(this, "stack", { value: new Error().stack || "" });
        if (properties)
          merge(this, properties);
      }
      (CustomError.prototype = Object.create(Error.prototype)).constructor = CustomError;
      Object.defineProperty(CustomError.prototype, "name", { get: function() {
        return name;
      } });
      CustomError.prototype.toString = function toString() {
        return this.name + ": " + this.message;
      };
      return CustomError;
    }
    util.newError = newError;
    util.ProtocolError = newError("ProtocolError");
    util.oneOfGetter = function getOneOf(fieldNames) {
      var fieldMap = {};
      for (var i = 0; i < fieldNames.length; ++i)
        fieldMap[fieldNames[i]] = 1;
      return function() {
        for (var keys = Object.keys(this), i2 = keys.length - 1; i2 > -1; --i2)
          if (fieldMap[keys[i2]] === 1 && this[keys[i2]] !== void 0 && this[keys[i2]] !== null)
            return keys[i2];
      };
    };
    util.oneOfSetter = function setOneOf(fieldNames) {
      return function(name) {
        for (var i = 0; i < fieldNames.length; ++i)
          if (fieldNames[i] !== name)
            delete this[fieldNames[i]];
      };
    };
    util.toJSONOptions = {
      longs: String,
      enums: String,
      bytes: String,
      json: true
    };
    util._configure = function() {
      var Buffer2 = util.Buffer;
      if (!Buffer2) {
        util._Buffer_from = util._Buffer_allocUnsafe = null;
        return;
      }
      util._Buffer_from = Buffer2.from !== Uint8Array.from && Buffer2.from || /* istanbul ignore next */
      function Buffer_from(value, encoding) {
        return new Buffer2(value, encoding);
      };
      util._Buffer_allocUnsafe = Buffer2.allocUnsafe || /* istanbul ignore next */
      function Buffer_allocUnsafe(size) {
        return new Buffer2(size);
      };
    };
  }
});

// node_modules/protobufjs/src/writer.js
var require_writer = __commonJS({
  "node_modules/protobufjs/src/writer.js"(exports2, module2) {
    "use strict";
    module2.exports = Writer;
    var util = require_minimal();
    var BufferWriter;
    var LongBits = util.LongBits;
    var base64 = util.base64;
    var utf83 = util.utf8;
    function Op(fn, len, val) {
      this.fn = fn;
      this.len = len;
      this.next = void 0;
      this.val = val;
    }
    function noop() {
    }
    function State(writer) {
      this.head = writer.head;
      this.tail = writer.tail;
      this.len = writer.len;
      this.next = writer.states;
    }
    function Writer() {
      this.len = 0;
      this.head = new Op(noop, 0, 0);
      this.tail = this.head;
      this.states = null;
    }
    var create = function create2() {
      return util.Buffer ? function create_buffer_setup() {
        return (Writer.create = function create_buffer() {
          return new BufferWriter();
        })();
      } : function create_array() {
        return new Writer();
      };
    };
    Writer.create = create();
    Writer.alloc = function alloc(size) {
      return new util.Array(size);
    };
    if (util.Array !== Array)
      Writer.alloc = util.pool(Writer.alloc, util.Array.prototype.subarray);
    Writer.prototype._push = function push(fn, len, val) {
      this.tail = this.tail.next = new Op(fn, len, val);
      this.len += len;
      return this;
    };
    function writeByte(val, buf, pos) {
      buf[pos] = val & 255;
    }
    function writeVarint32(val, buf, pos) {
      while (val > 127) {
        buf[pos++] = val & 127 | 128;
        val >>>= 7;
      }
      buf[pos] = val;
    }
    function VarintOp(len, val) {
      this.len = len;
      this.next = void 0;
      this.val = val;
    }
    VarintOp.prototype = Object.create(Op.prototype);
    VarintOp.prototype.fn = writeVarint32;
    Writer.prototype.uint32 = function write_uint32(value) {
      this.len += (this.tail = this.tail.next = new VarintOp(
        (value = value >>> 0) < 128 ? 1 : value < 16384 ? 2 : value < 2097152 ? 3 : value < 268435456 ? 4 : 5,
        value
      )).len;
      return this;
    };
    Writer.prototype.int32 = function write_int32(value) {
      return value < 0 ? this._push(writeVarint64, 10, LongBits.fromNumber(value)) : this.uint32(value);
    };
    Writer.prototype.sint32 = function write_sint32(value) {
      return this.uint32((value << 1 ^ value >> 31) >>> 0);
    };
    function writeVarint64(val, buf, pos) {
      while (val.hi) {
        buf[pos++] = val.lo & 127 | 128;
        val.lo = (val.lo >>> 7 | val.hi << 25) >>> 0;
        val.hi >>>= 7;
      }
      while (val.lo > 127) {
        buf[pos++] = val.lo & 127 | 128;
        val.lo = val.lo >>> 7;
      }
      buf[pos++] = val.lo;
    }
    Writer.prototype.uint64 = function write_uint64(value) {
      var bits = LongBits.from(value);
      return this._push(writeVarint64, bits.length(), bits);
    };
    Writer.prototype.int64 = Writer.prototype.uint64;
    Writer.prototype.sint64 = function write_sint64(value) {
      var bits = LongBits.from(value).zzEncode();
      return this._push(writeVarint64, bits.length(), bits);
    };
    Writer.prototype.bool = function write_bool(value) {
      return this._push(writeByte, 1, value ? 1 : 0);
    };
    function writeFixed32(val, buf, pos) {
      buf[pos] = val & 255;
      buf[pos + 1] = val >>> 8 & 255;
      buf[pos + 2] = val >>> 16 & 255;
      buf[pos + 3] = val >>> 24;
    }
    Writer.prototype.fixed32 = function write_fixed32(value) {
      return this._push(writeFixed32, 4, value >>> 0);
    };
    Writer.prototype.sfixed32 = Writer.prototype.fixed32;
    Writer.prototype.fixed64 = function write_fixed64(value) {
      var bits = LongBits.from(value);
      return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);
    };
    Writer.prototype.sfixed64 = Writer.prototype.fixed64;
    Writer.prototype.float = function write_float(value) {
      return this._push(util.float.writeFloatLE, 4, value);
    };
    Writer.prototype.double = function write_double(value) {
      return this._push(util.float.writeDoubleLE, 8, value);
    };
    var writeBytes = util.Array.prototype.set ? function writeBytes_set(val, buf, pos) {
      buf.set(val, pos);
    } : function writeBytes_for(val, buf, pos) {
      for (var i = 0; i < val.length; ++i)
        buf[pos + i] = val[i];
    };
    Writer.prototype.bytes = function write_bytes(value) {
      var len = value.length >>> 0;
      if (!len)
        return this._push(writeByte, 1, 0);
      if (util.isString(value)) {
        var buf = Writer.alloc(len = base64.length(value));
        base64.decode(value, buf, 0);
        value = buf;
      }
      return this.uint32(len)._push(writeBytes, len, value);
    };
    Writer.prototype.string = function write_string(value) {
      var len = utf83.length(value);
      return len ? this.uint32(len)._push(utf83.write, len, value) : this._push(writeByte, 1, 0);
    };
    Writer.prototype.fork = function fork() {
      this.states = new State(this);
      this.head = this.tail = new Op(noop, 0, 0);
      this.len = 0;
      return this;
    };
    Writer.prototype.reset = function reset() {
      if (this.states) {
        this.head = this.states.head;
        this.tail = this.states.tail;
        this.len = this.states.len;
        this.states = this.states.next;
      } else {
        this.head = this.tail = new Op(noop, 0, 0);
        this.len = 0;
      }
      return this;
    };
    Writer.prototype.ldelim = function ldelim() {
      var head = this.head, tail = this.tail, len = this.len;
      this.reset().uint32(len);
      if (len) {
        this.tail.next = head.next;
        this.tail = tail;
        this.len += len;
      }
      return this;
    };
    Writer.prototype.finish = function finish() {
      var head = this.head.next, buf = this.constructor.alloc(this.len), pos = 0;
      while (head) {
        head.fn(head.val, buf, pos);
        pos += head.len;
        head = head.next;
      }
      return buf;
    };
    Writer._configure = function(BufferWriter_) {
      BufferWriter = BufferWriter_;
      Writer.create = create();
      BufferWriter._configure();
    };
  }
});

// node_modules/protobufjs/src/writer_buffer.js
var require_writer_buffer = __commonJS({
  "node_modules/protobufjs/src/writer_buffer.js"(exports2, module2) {
    "use strict";
    module2.exports = BufferWriter;
    var Writer = require_writer();
    (BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;
    var util = require_minimal();
    function BufferWriter() {
      Writer.call(this);
    }
    BufferWriter._configure = function() {
      BufferWriter.alloc = util._Buffer_allocUnsafe;
      BufferWriter.writeBytesBuffer = util.Buffer && util.Buffer.prototype instanceof Uint8Array && util.Buffer.prototype.set.name === "set" ? function writeBytesBuffer_set(val, buf, pos) {
        buf.set(val, pos);
      } : function writeBytesBuffer_copy(val, buf, pos) {
        if (val.copy)
          val.copy(buf, pos, 0, val.length);
        else
          for (var i = 0; i < val.length; )
            buf[pos++] = val[i++];
      };
    };
    BufferWriter.prototype.bytes = function write_bytes_buffer(value) {
      if (util.isString(value))
        value = util._Buffer_from(value, "base64");
      var len = value.length >>> 0;
      this.uint32(len);
      if (len)
        this._push(BufferWriter.writeBytesBuffer, len, value);
      return this;
    };
    function writeStringBuffer(val, buf, pos) {
      if (val.length < 40)
        util.utf8.write(val, buf, pos);
      else if (buf.utf8Write)
        buf.utf8Write(val, pos);
      else
        buf.write(val, pos);
    }
    BufferWriter.prototype.string = function write_string_buffer(value) {
      var len = util.Buffer.byteLength(value);
      this.uint32(len);
      if (len)
        this._push(writeStringBuffer, len, value);
      return this;
    };
    BufferWriter._configure();
  }
});

// node_modules/protobufjs/src/reader.js
var require_reader = __commonJS({
  "node_modules/protobufjs/src/reader.js"(exports2, module2) {
    "use strict";
    module2.exports = Reader;
    var util = require_minimal();
    var BufferReader;
    var LongBits = util.LongBits;
    var utf83 = util.utf8;
    function indexOutOfRange(reader, writeLength) {
      return RangeError("index out of range: " + reader.pos + " + " + (writeLength || 1) + " > " + reader.len);
    }
    function Reader(buffer) {
      this.buf = buffer;
      this.pos = 0;
      this.len = buffer.length;
    }
    var create_array = typeof Uint8Array !== "undefined" ? function create_typed_array(buffer) {
      if (buffer instanceof Uint8Array || Array.isArray(buffer))
        return new Reader(buffer);
      throw Error("illegal buffer");
    } : function create_array2(buffer) {
      if (Array.isArray(buffer))
        return new Reader(buffer);
      throw Error("illegal buffer");
    };
    var create = function create2() {
      return util.Buffer ? function create_buffer_setup(buffer) {
        return (Reader.create = function create_buffer(buffer2) {
          return util.Buffer.isBuffer(buffer2) ? new BufferReader(buffer2) : create_array(buffer2);
        })(buffer);
      } : create_array;
    };
    Reader.create = create();
    Reader.prototype._slice = util.Array.prototype.subarray || /* istanbul ignore next */
    util.Array.prototype.slice;
    Reader.prototype.uint32 = function read_uint32_setup() {
      var value = 4294967295;
      return function read_uint32() {
        value = (this.buf[this.pos] & 127) >>> 0;
        if (this.buf[this.pos++] < 128)
          return value;
        value = (value | (this.buf[this.pos] & 127) << 7) >>> 0;
        if (this.buf[this.pos++] < 128)
          return value;
        value = (value | (this.buf[this.pos] & 127) << 14) >>> 0;
        if (this.buf[this.pos++] < 128)
          return value;
        value = (value | (this.buf[this.pos] & 127) << 21) >>> 0;
        if (this.buf[this.pos++] < 128)
          return value;
        value = (value | (this.buf[this.pos] & 15) << 28) >>> 0;
        if (this.buf[this.pos++] < 128)
          return value;
        if ((this.pos += 5) > this.len) {
          this.pos = this.len;
          throw indexOutOfRange(this, 10);
        }
        return value;
      };
    }();
    Reader.prototype.int32 = function read_int32() {
      return this.uint32() | 0;
    };
    Reader.prototype.sint32 = function read_sint32() {
      var value = this.uint32();
      return value >>> 1 ^ -(value & 1) | 0;
    };
    function readLongVarint() {
      var bits = new LongBits(0, 0);
      var i = 0;
      if (this.len - this.pos > 4) {
        for (; i < 4; ++i) {
          bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;
          if (this.buf[this.pos++] < 128)
            return bits;
        }
        bits.lo = (bits.lo | (this.buf[this.pos] & 127) << 28) >>> 0;
        bits.hi = (bits.hi | (this.buf[this.pos] & 127) >> 4) >>> 0;
        if (this.buf[this.pos++] < 128)
          return bits;
        i = 0;
      } else {
        for (; i < 3; ++i) {
          if (this.pos >= this.len)
            throw indexOutOfRange(this);
          bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;
          if (this.buf[this.pos++] < 128)
            return bits;
        }
        bits.lo = (bits.lo | (this.buf[this.pos++] & 127) << i * 7) >>> 0;
        return bits;
      }
      if (this.len - this.pos > 4) {
        for (; i < 5; ++i) {
          bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;
          if (this.buf[this.pos++] < 128)
            return bits;
        }
      } else {
        for (; i < 5; ++i) {
          if (this.pos >= this.len)
            throw indexOutOfRange(this);
          bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;
          if (this.buf[this.pos++] < 128)
            return bits;
        }
      }
      throw Error("invalid varint encoding");
    }
    Reader.prototype.bool = function read_bool() {
      return this.uint32() !== 0;
    };
    function readFixed32_end(buf, end) {
      return (buf[end - 4] | buf[end - 3] << 8 | buf[end - 2] << 16 | buf[end - 1] << 24) >>> 0;
    }
    Reader.prototype.fixed32 = function read_fixed32() {
      if (this.pos + 4 > this.len)
        throw indexOutOfRange(this, 4);
      return readFixed32_end(this.buf, this.pos += 4);
    };
    Reader.prototype.sfixed32 = function read_sfixed32() {
      if (this.pos + 4 > this.len)
        throw indexOutOfRange(this, 4);
      return readFixed32_end(this.buf, this.pos += 4) | 0;
    };
    function readFixed64() {
      if (this.pos + 8 > this.len)
        throw indexOutOfRange(this, 8);
      return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4));
    }
    Reader.prototype.float = function read_float() {
      if (this.pos + 4 > this.len)
        throw indexOutOfRange(this, 4);
      var value = util.float.readFloatLE(this.buf, this.pos);
      this.pos += 4;
      return value;
    };
    Reader.prototype.double = function read_double() {
      if (this.pos + 8 > this.len)
        throw indexOutOfRange(this, 4);
      var value = util.float.readDoubleLE(this.buf, this.pos);
      this.pos += 8;
      return value;
    };
    Reader.prototype.bytes = function read_bytes() {
      var length2 = this.uint32(), start = this.pos, end = this.pos + length2;
      if (end > this.len)
        throw indexOutOfRange(this, length2);
      this.pos += length2;
      if (Array.isArray(this.buf))
        return this.buf.slice(start, end);
      return start === end ? new this.buf.constructor(0) : this._slice.call(this.buf, start, end);
    };
    Reader.prototype.string = function read_string() {
      var bytes = this.bytes();
      return utf83.read(bytes, 0, bytes.length);
    };
    Reader.prototype.skip = function skip(length2) {
      if (typeof length2 === "number") {
        if (this.pos + length2 > this.len)
          throw indexOutOfRange(this, length2);
        this.pos += length2;
      } else {
        do {
          if (this.pos >= this.len)
            throw indexOutOfRange(this);
        } while (this.buf[this.pos++] & 128);
      }
      return this;
    };
    Reader.prototype.skipType = function(wireType) {
      switch (wireType) {
        case 0:
          this.skip();
          break;
        case 1:
          this.skip(8);
          break;
        case 2:
          this.skip(this.uint32());
          break;
        case 3:
          while ((wireType = this.uint32() & 7) !== 4) {
            this.skipType(wireType);
          }
          break;
        case 5:
          this.skip(4);
          break;
        default:
          throw Error("invalid wire type " + wireType + " at offset " + this.pos);
      }
      return this;
    };
    Reader._configure = function(BufferReader_) {
      BufferReader = BufferReader_;
      Reader.create = create();
      BufferReader._configure();
      var fn = util.Long ? "toLong" : (
        /* istanbul ignore next */
        "toNumber"
      );
      util.merge(Reader.prototype, {
        int64: function read_int64() {
          return readLongVarint.call(this)[fn](false);
        },
        uint64: function read_uint64() {
          return readLongVarint.call(this)[fn](true);
        },
        sint64: function read_sint64() {
          return readLongVarint.call(this).zzDecode()[fn](false);
        },
        fixed64: function read_fixed64() {
          return readFixed64.call(this)[fn](true);
        },
        sfixed64: function read_sfixed64() {
          return readFixed64.call(this)[fn](false);
        }
      });
    };
  }
});

// node_modules/protobufjs/src/reader_buffer.js
var require_reader_buffer = __commonJS({
  "node_modules/protobufjs/src/reader_buffer.js"(exports2, module2) {
    "use strict";
    module2.exports = BufferReader;
    var Reader = require_reader();
    (BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;
    var util = require_minimal();
    function BufferReader(buffer) {
      Reader.call(this, buffer);
    }
    BufferReader._configure = function() {
      if (util.Buffer)
        BufferReader.prototype._slice = util.Buffer.prototype.slice;
    };
    BufferReader.prototype.string = function read_string_buffer() {
      var len = this.uint32();
      return this.buf.utf8Slice ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + len, this.len)) : this.buf.toString("utf-8", this.pos, this.pos = Math.min(this.pos + len, this.len));
    };
    BufferReader._configure();
  }
});

// node_modules/protobufjs/src/rpc/service.js
var require_service = __commonJS({
  "node_modules/protobufjs/src/rpc/service.js"(exports2, module2) {
    "use strict";
    module2.exports = Service;
    var util = require_minimal();
    (Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;
    function Service(rpcImpl, requestDelimited, responseDelimited) {
      if (typeof rpcImpl !== "function")
        throw TypeError("rpcImpl must be a function");
      util.EventEmitter.call(this);
      this.rpcImpl = rpcImpl;
      this.requestDelimited = Boolean(requestDelimited);
      this.responseDelimited = Boolean(responseDelimited);
    }
    Service.prototype.rpcCall = function rpcCall(method, requestCtor, responseCtor, request, callback) {
      if (!request)
        throw TypeError("request must be specified");
      var self2 = this;
      if (!callback)
        return util.asPromise(rpcCall, self2, method, requestCtor, responseCtor, request);
      if (!self2.rpcImpl) {
        setTimeout(function() {
          callback(Error("already ended"));
        }, 0);
        return void 0;
      }
      try {
        return self2.rpcImpl(
          method,
          requestCtor[self2.requestDelimited ? "encodeDelimited" : "encode"](request).finish(),
          function rpcCallback(err, response) {
            if (err) {
              self2.emit("error", err, method);
              return callback(err);
            }
            if (response === null) {
              self2.end(
                /* endedByRPC */
                true
              );
              return void 0;
            }
            if (!(response instanceof responseCtor)) {
              try {
                response = responseCtor[self2.responseDelimited ? "decodeDelimited" : "decode"](response);
              } catch (err2) {
                self2.emit("error", err2, method);
                return callback(err2);
              }
            }
            self2.emit("data", response, method);
            return callback(null, response);
          }
        );
      } catch (err) {
        self2.emit("error", err, method);
        setTimeout(function() {
          callback(err);
        }, 0);
        return void 0;
      }
    };
    Service.prototype.end = function end(endedByRPC) {
      if (this.rpcImpl) {
        if (!endedByRPC)
          this.rpcImpl(null, null, null);
        this.rpcImpl = null;
        this.emit("end").off();
      }
      return this;
    };
  }
});

// node_modules/protobufjs/src/rpc.js
var require_rpc = __commonJS({
  "node_modules/protobufjs/src/rpc.js"(exports2) {
    "use strict";
    var rpc = exports2;
    rpc.Service = require_service();
  }
});

// node_modules/protobufjs/src/roots.js
var require_roots = __commonJS({
  "node_modules/protobufjs/src/roots.js"(exports2, module2) {
    "use strict";
    module2.exports = {};
  }
});

// node_modules/protobufjs/src/index-minimal.js
var require_index_minimal = __commonJS({
  "node_modules/protobufjs/src/index-minimal.js"(exports2) {
    "use strict";
    var protobuf = exports2;
    protobuf.build = "minimal";
    protobuf.Writer = require_writer();
    protobuf.BufferWriter = require_writer_buffer();
    protobuf.Reader = require_reader();
    protobuf.BufferReader = require_reader_buffer();
    protobuf.util = require_minimal();
    protobuf.rpc = require_rpc();
    protobuf.roots = require_roots();
    protobuf.configure = configure;
    function configure() {
      protobuf.util._configure();
      protobuf.Writer._configure(protobuf.BufferWriter);
      protobuf.Reader._configure(protobuf.BufferReader);
    }
    configure();
  }
});

// node_modules/protobufjs/minimal.js
var require_minimal2 = __commonJS({
  "node_modules/protobufjs/minimal.js"(exports2, module2) {
    "use strict";
    module2.exports = require_index_minimal();
  }
});

// node_modules/long/src/long.js
var require_long = __commonJS({
  "node_modules/long/src/long.js"(exports2, module2) {
    module2.exports = Long2;
    var wasm = null;
    try {
      wasm = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([
        0,
        97,
        115,
        109,
        1,
        0,
        0,
        0,
        1,
        13,
        2,
        96,
        0,
        1,
        127,
        96,
        4,
        127,
        127,
        127,
        127,
        1,
        127,
        3,
        7,
        6,
        0,
        1,
        1,
        1,
        1,
        1,
        6,
        6,
        1,
        127,
        1,
        65,
        0,
        11,
        7,
        50,
        6,
        3,
        109,
        117,
        108,
        0,
        1,
        5,
        100,
        105,
        118,
        95,
        115,
        0,
        2,
        5,
        100,
        105,
        118,
        95,
        117,
        0,
        3,
        5,
        114,
        101,
        109,
        95,
        115,
        0,
        4,
        5,
        114,
        101,
        109,
        95,
        117,
        0,
        5,
        8,
        103,
        101,
        116,
        95,
        104,
        105,
        103,
        104,
        0,
        0,
        10,
        191,
        1,
        6,
        4,
        0,
        35,
        0,
        11,
        36,
        1,
        1,
        126,
        32,
        0,
        173,
        32,
        1,
        173,
        66,
        32,
        134,
        132,
        32,
        2,
        173,
        32,
        3,
        173,
        66,
        32,
        134,
        132,
        126,
        34,
        4,
        66,
        32,
        135,
        167,
        36,
        0,
        32,
        4,
        167,
        11,
        36,
        1,
        1,
        126,
        32,
        0,
        173,
        32,
        1,
        173,
        66,
        32,
        134,
        132,
        32,
        2,
        173,
        32,
        3,
        173,
        66,
        32,
        134,
        132,
        127,
        34,
        4,
        66,
        32,
        135,
        167,
        36,
        0,
        32,
        4,
        167,
        11,
        36,
        1,
        1,
        126,
        32,
        0,
        173,
        32,
        1,
        173,
        66,
        32,
        134,
        132,
        32,
        2,
        173,
        32,
        3,
        173,
        66,
        32,
        134,
        132,
        128,
        34,
        4,
        66,
        32,
        135,
        167,
        36,
        0,
        32,
        4,
        167,
        11,
        36,
        1,
        1,
        126,
        32,
        0,
        173,
        32,
        1,
        173,
        66,
        32,
        134,
        132,
        32,
        2,
        173,
        32,
        3,
        173,
        66,
        32,
        134,
        132,
        129,
        34,
        4,
        66,
        32,
        135,
        167,
        36,
        0,
        32,
        4,
        167,
        11,
        36,
        1,
        1,
        126,
        32,
        0,
        173,
        32,
        1,
        173,
        66,
        32,
        134,
        132,
        32,
        2,
        173,
        32,
        3,
        173,
        66,
        32,
        134,
        132,
        130,
        34,
        4,
        66,
        32,
        135,
        167,
        36,
        0,
        32,
        4,
        167,
        11
      ])), {}).exports;
    } catch (e) {
    }
    function Long2(low, high, unsigned) {
      this.low = low | 0;
      this.high = high | 0;
      this.unsigned = !!unsigned;
    }
    Long2.prototype.__isLong__;
    Object.defineProperty(Long2.prototype, "__isLong__", { value: true });
    function isLong(obj) {
      return (obj && obj["__isLong__"]) === true;
    }
    Long2.isLong = isLong;
    var INT_CACHE = {};
    var UINT_CACHE = {};
    function fromInt(value, unsigned) {
      var obj, cachedObj, cache;
      if (unsigned) {
        value >>>= 0;
        if (cache = 0 <= value && value < 256) {
          cachedObj = UINT_CACHE[value];
          if (cachedObj)
            return cachedObj;
        }
        obj = fromBits(value, (value | 0) < 0 ? -1 : 0, true);
        if (cache)
          UINT_CACHE[value] = obj;
        return obj;
      } else {
        value |= 0;
        if (cache = -128 <= value && value < 128) {
          cachedObj = INT_CACHE[value];
          if (cachedObj)
            return cachedObj;
        }
        obj = fromBits(value, value < 0 ? -1 : 0, false);
        if (cache)
          INT_CACHE[value] = obj;
        return obj;
      }
    }
    Long2.fromInt = fromInt;
    function fromNumber(value, unsigned) {
      if (isNaN(value))
        return unsigned ? UZERO : ZERO;
      if (unsigned) {
        if (value < 0)
          return UZERO;
        if (value >= TWO_PWR_64_DBL)
          return MAX_UNSIGNED_VALUE;
      } else {
        if (value <= -TWO_PWR_63_DBL)
          return MIN_VALUE;
        if (value + 1 >= TWO_PWR_63_DBL)
          return MAX_VALUE;
      }
      if (value < 0)
        return fromNumber(-value, unsigned).neg();
      return fromBits(value % TWO_PWR_32_DBL | 0, value / TWO_PWR_32_DBL | 0, unsigned);
    }
    Long2.fromNumber = fromNumber;
    function fromBits(lowBits, highBits, unsigned) {
      return new Long2(lowBits, highBits, unsigned);
    }
    Long2.fromBits = fromBits;
    var pow_dbl = Math.pow;
    function fromString(str, unsigned, radix) {
      if (str.length === 0)
        throw Error("empty string");
      if (str === "NaN" || str === "Infinity" || str === "+Infinity" || str === "-Infinity")
        return ZERO;
      if (typeof unsigned === "number") {
        radix = unsigned, unsigned = false;
      } else {
        unsigned = !!unsigned;
      }
      radix = radix || 10;
      if (radix < 2 || 36 < radix)
        throw RangeError("radix");
      var p;
      if ((p = str.indexOf("-")) > 0)
        throw Error("interior hyphen");
      else if (p === 0) {
        return fromString(str.substring(1), unsigned, radix).neg();
      }
      var radixToPower = fromNumber(pow_dbl(radix, 8));
      var result = ZERO;
      for (var i = 0; i < str.length; i += 8) {
        var size = Math.min(8, str.length - i), value = parseInt(str.substring(i, i + size), radix);
        if (size < 8) {
          var power = fromNumber(pow_dbl(radix, size));
          result = result.mul(power).add(fromNumber(value));
        } else {
          result = result.mul(radixToPower);
          result = result.add(fromNumber(value));
        }
      }
      result.unsigned = unsigned;
      return result;
    }
    Long2.fromString = fromString;
    function fromValue(val, unsigned) {
      if (typeof val === "number")
        return fromNumber(val, unsigned);
      if (typeof val === "string")
        return fromString(val, unsigned);
      return fromBits(val.low, val.high, typeof unsigned === "boolean" ? unsigned : val.unsigned);
    }
    Long2.fromValue = fromValue;
    var TWO_PWR_16_DBL = 1 << 16;
    var TWO_PWR_24_DBL = 1 << 24;
    var TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;
    var TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;
    var TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;
    var TWO_PWR_24 = fromInt(TWO_PWR_24_DBL);
    var ZERO = fromInt(0);
    Long2.ZERO = ZERO;
    var UZERO = fromInt(0, true);
    Long2.UZERO = UZERO;
    var ONE = fromInt(1);
    Long2.ONE = ONE;
    var UONE = fromInt(1, true);
    Long2.UONE = UONE;
    var NEG_ONE = fromInt(-1);
    Long2.NEG_ONE = NEG_ONE;
    var MAX_VALUE = fromBits(4294967295 | 0, 2147483647 | 0, false);
    Long2.MAX_VALUE = MAX_VALUE;
    var MAX_UNSIGNED_VALUE = fromBits(4294967295 | 0, 4294967295 | 0, true);
    Long2.MAX_UNSIGNED_VALUE = MAX_UNSIGNED_VALUE;
    var MIN_VALUE = fromBits(0, 2147483648 | 0, false);
    Long2.MIN_VALUE = MIN_VALUE;
    var LongPrototype = Long2.prototype;
    LongPrototype.toInt = function toInt() {
      return this.unsigned ? this.low >>> 0 : this.low;
    };
    LongPrototype.toNumber = function toNumber() {
      if (this.unsigned)
        return (this.high >>> 0) * TWO_PWR_32_DBL + (this.low >>> 0);
      return this.high * TWO_PWR_32_DBL + (this.low >>> 0);
    };
    LongPrototype.toString = function toString(radix) {
      radix = radix || 10;
      if (radix < 2 || 36 < radix)
        throw RangeError("radix");
      if (this.isZero())
        return "0";
      if (this.isNegative()) {
        if (this.eq(MIN_VALUE)) {
          var radixLong = fromNumber(radix), div = this.div(radixLong), rem1 = div.mul(radixLong).sub(this);
          return div.toString(radix) + rem1.toInt().toString(radix);
        } else
          return "-" + this.neg().toString(radix);
      }
      var radixToPower = fromNumber(pow_dbl(radix, 6), this.unsigned), rem = this;
      var result = "";
      while (true) {
        var remDiv = rem.div(radixToPower), intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0, digits = intval.toString(radix);
        rem = remDiv;
        if (rem.isZero())
          return digits + result;
        else {
          while (digits.length < 6)
            digits = "0" + digits;
          result = "" + digits + result;
        }
      }
    };
    LongPrototype.getHighBits = function getHighBits() {
      return this.high;
    };
    LongPrototype.getHighBitsUnsigned = function getHighBitsUnsigned() {
      return this.high >>> 0;
    };
    LongPrototype.getLowBits = function getLowBits() {
      return this.low;
    };
    LongPrototype.getLowBitsUnsigned = function getLowBitsUnsigned() {
      return this.low >>> 0;
    };
    LongPrototype.getNumBitsAbs = function getNumBitsAbs() {
      if (this.isNegative())
        return this.eq(MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();
      var val = this.high != 0 ? this.high : this.low;
      for (var bit = 31; bit > 0; bit--)
        if ((val & 1 << bit) != 0)
          break;
      return this.high != 0 ? bit + 33 : bit + 1;
    };
    LongPrototype.isZero = function isZero() {
      return this.high === 0 && this.low === 0;
    };
    LongPrototype.eqz = LongPrototype.isZero;
    LongPrototype.isNegative = function isNegative() {
      return !this.unsigned && this.high < 0;
    };
    LongPrototype.isPositive = function isPositive() {
      return this.unsigned || this.high >= 0;
    };
    LongPrototype.isOdd = function isOdd() {
      return (this.low & 1) === 1;
    };
    LongPrototype.isEven = function isEven() {
      return (this.low & 1) === 0;
    };
    LongPrototype.equals = function equals(other) {
      if (!isLong(other))
        other = fromValue(other);
      if (this.unsigned !== other.unsigned && this.high >>> 31 === 1 && other.high >>> 31 === 1)
        return false;
      return this.high === other.high && this.low === other.low;
    };
    LongPrototype.eq = LongPrototype.equals;
    LongPrototype.notEquals = function notEquals(other) {
      return !this.eq(
        /* validates */
        other
      );
    };
    LongPrototype.neq = LongPrototype.notEquals;
    LongPrototype.ne = LongPrototype.notEquals;
    LongPrototype.lessThan = function lessThan(other) {
      return this.comp(
        /* validates */
        other
      ) < 0;
    };
    LongPrototype.lt = LongPrototype.lessThan;
    LongPrototype.lessThanOrEqual = function lessThanOrEqual(other) {
      return this.comp(
        /* validates */
        other
      ) <= 0;
    };
    LongPrototype.lte = LongPrototype.lessThanOrEqual;
    LongPrototype.le = LongPrototype.lessThanOrEqual;
    LongPrototype.greaterThan = function greaterThan(other) {
      return this.comp(
        /* validates */
        other
      ) > 0;
    };
    LongPrototype.gt = LongPrototype.greaterThan;
    LongPrototype.greaterThanOrEqual = function greaterThanOrEqual(other) {
      return this.comp(
        /* validates */
        other
      ) >= 0;
    };
    LongPrototype.gte = LongPrototype.greaterThanOrEqual;
    LongPrototype.ge = LongPrototype.greaterThanOrEqual;
    LongPrototype.compare = function compare(other) {
      if (!isLong(other))
        other = fromValue(other);
      if (this.eq(other))
        return 0;
      var thisNeg = this.isNegative(), otherNeg = other.isNegative();
      if (thisNeg && !otherNeg)
        return -1;
      if (!thisNeg && otherNeg)
        return 1;
      if (!this.unsigned)
        return this.sub(other).isNegative() ? -1 : 1;
      return other.high >>> 0 > this.high >>> 0 || other.high === this.high && other.low >>> 0 > this.low >>> 0 ? -1 : 1;
    };
    LongPrototype.comp = LongPrototype.compare;
    LongPrototype.negate = function negate() {
      if (!this.unsigned && this.eq(MIN_VALUE))
        return MIN_VALUE;
      return this.not().add(ONE);
    };
    LongPrototype.neg = LongPrototype.negate;
    LongPrototype.add = function add(addend) {
      if (!isLong(addend))
        addend = fromValue(addend);
      var a48 = this.high >>> 16;
      var a32 = this.high & 65535;
      var a16 = this.low >>> 16;
      var a00 = this.low & 65535;
      var b48 = addend.high >>> 16;
      var b32 = addend.high & 65535;
      var b16 = addend.low >>> 16;
      var b00 = addend.low & 65535;
      var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
      c00 += a00 + b00;
      c16 += c00 >>> 16;
      c00 &= 65535;
      c16 += a16 + b16;
      c32 += c16 >>> 16;
      c16 &= 65535;
      c32 += a32 + b32;
      c48 += c32 >>> 16;
      c32 &= 65535;
      c48 += a48 + b48;
      c48 &= 65535;
      return fromBits(c16 << 16 | c00, c48 << 16 | c32, this.unsigned);
    };
    LongPrototype.subtract = function subtract(subtrahend) {
      if (!isLong(subtrahend))
        subtrahend = fromValue(subtrahend);
      return this.add(subtrahend.neg());
    };
    LongPrototype.sub = LongPrototype.subtract;
    LongPrototype.multiply = function multiply(multiplier) {
      if (this.isZero())
        return ZERO;
      if (!isLong(multiplier))
        multiplier = fromValue(multiplier);
      if (wasm) {
        var low = wasm.mul(
          this.low,
          this.high,
          multiplier.low,
          multiplier.high
        );
        return fromBits(low, wasm.get_high(), this.unsigned);
      }
      if (multiplier.isZero())
        return ZERO;
      if (this.eq(MIN_VALUE))
        return multiplier.isOdd() ? MIN_VALUE : ZERO;
      if (multiplier.eq(MIN_VALUE))
        return this.isOdd() ? MIN_VALUE : ZERO;
      if (this.isNegative()) {
        if (multiplier.isNegative())
          return this.neg().mul(multiplier.neg());
        else
          return this.neg().mul(multiplier).neg();
      } else if (multiplier.isNegative())
        return this.mul(multiplier.neg()).neg();
      if (this.lt(TWO_PWR_24) && multiplier.lt(TWO_PWR_24))
        return fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);
      var a48 = this.high >>> 16;
      var a32 = this.high & 65535;
      var a16 = this.low >>> 16;
      var a00 = this.low & 65535;
      var b48 = multiplier.high >>> 16;
      var b32 = multiplier.high & 65535;
      var b16 = multiplier.low >>> 16;
      var b00 = multiplier.low & 65535;
      var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
      c00 += a00 * b00;
      c16 += c00 >>> 16;
      c00 &= 65535;
      c16 += a16 * b00;
      c32 += c16 >>> 16;
      c16 &= 65535;
      c16 += a00 * b16;
      c32 += c16 >>> 16;
      c16 &= 65535;
      c32 += a32 * b00;
      c48 += c32 >>> 16;
      c32 &= 65535;
      c32 += a16 * b16;
      c48 += c32 >>> 16;
      c32 &= 65535;
      c32 += a00 * b32;
      c48 += c32 >>> 16;
      c32 &= 65535;
      c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;
      c48 &= 65535;
      return fromBits(c16 << 16 | c00, c48 << 16 | c32, this.unsigned);
    };
    LongPrototype.mul = LongPrototype.multiply;
    LongPrototype.divide = function divide(divisor) {
      if (!isLong(divisor))
        divisor = fromValue(divisor);
      if (divisor.isZero())
        throw Error("division by zero");
      if (wasm) {
        if (!this.unsigned && this.high === -2147483648 && divisor.low === -1 && divisor.high === -1) {
          return this;
        }
        var low = (this.unsigned ? wasm.div_u : wasm.div_s)(
          this.low,
          this.high,
          divisor.low,
          divisor.high
        );
        return fromBits(low, wasm.get_high(), this.unsigned);
      }
      if (this.isZero())
        return this.unsigned ? UZERO : ZERO;
      var approx, rem, res;
      if (!this.unsigned) {
        if (this.eq(MIN_VALUE)) {
          if (divisor.eq(ONE) || divisor.eq(NEG_ONE))
            return MIN_VALUE;
          else if (divisor.eq(MIN_VALUE))
            return ONE;
          else {
            var halfThis = this.shr(1);
            approx = halfThis.div(divisor).shl(1);
            if (approx.eq(ZERO)) {
              return divisor.isNegative() ? ONE : NEG_ONE;
            } else {
              rem = this.sub(divisor.mul(approx));
              res = approx.add(rem.div(divisor));
              return res;
            }
          }
        } else if (divisor.eq(MIN_VALUE))
          return this.unsigned ? UZERO : ZERO;
        if (this.isNegative()) {
          if (divisor.isNegative())
            return this.neg().div(divisor.neg());
          return this.neg().div(divisor).neg();
        } else if (divisor.isNegative())
          return this.div(divisor.neg()).neg();
        res = ZERO;
      } else {
        if (!divisor.unsigned)
          divisor = divisor.toUnsigned();
        if (divisor.gt(this))
          return UZERO;
        if (divisor.gt(this.shru(1)))
          return UONE;
        res = UZERO;
      }
      rem = this;
      while (rem.gte(divisor)) {
        approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));
        var log2 = Math.ceil(Math.log(approx) / Math.LN2), delta = log2 <= 48 ? 1 : pow_dbl(2, log2 - 48), approxRes = fromNumber(approx), approxRem = approxRes.mul(divisor);
        while (approxRem.isNegative() || approxRem.gt(rem)) {
          approx -= delta;
          approxRes = fromNumber(approx, this.unsigned);
          approxRem = approxRes.mul(divisor);
        }
        if (approxRes.isZero())
          approxRes = ONE;
        res = res.add(approxRes);
        rem = rem.sub(approxRem);
      }
      return res;
    };
    LongPrototype.div = LongPrototype.divide;
    LongPrototype.modulo = function modulo(divisor) {
      if (!isLong(divisor))
        divisor = fromValue(divisor);
      if (wasm) {
        var low = (this.unsigned ? wasm.rem_u : wasm.rem_s)(
          this.low,
          this.high,
          divisor.low,
          divisor.high
        );
        return fromBits(low, wasm.get_high(), this.unsigned);
      }
      return this.sub(this.div(divisor).mul(divisor));
    };
    LongPrototype.mod = LongPrototype.modulo;
    LongPrototype.rem = LongPrototype.modulo;
    LongPrototype.not = function not() {
      return fromBits(~this.low, ~this.high, this.unsigned);
    };
    LongPrototype.and = function and(other) {
      if (!isLong(other))
        other = fromValue(other);
      return fromBits(this.low & other.low, this.high & other.high, this.unsigned);
    };
    LongPrototype.or = function or(other) {
      if (!isLong(other))
        other = fromValue(other);
      return fromBits(this.low | other.low, this.high | other.high, this.unsigned);
    };
    LongPrototype.xor = function xor(other) {
      if (!isLong(other))
        other = fromValue(other);
      return fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);
    };
    LongPrototype.shiftLeft = function shiftLeft(numBits) {
      if (isLong(numBits))
        numBits = numBits.toInt();
      if ((numBits &= 63) === 0)
        return this;
      else if (numBits < 32)
        return fromBits(this.low << numBits, this.high << numBits | this.low >>> 32 - numBits, this.unsigned);
      else
        return fromBits(0, this.low << numBits - 32, this.unsigned);
    };
    LongPrototype.shl = LongPrototype.shiftLeft;
    LongPrototype.shiftRight = function shiftRight(numBits) {
      if (isLong(numBits))
        numBits = numBits.toInt();
      if ((numBits &= 63) === 0)
        return this;
      else if (numBits < 32)
        return fromBits(this.low >>> numBits | this.high << 32 - numBits, this.high >> numBits, this.unsigned);
      else
        return fromBits(this.high >> numBits - 32, this.high >= 0 ? 0 : -1, this.unsigned);
    };
    LongPrototype.shr = LongPrototype.shiftRight;
    LongPrototype.shiftRightUnsigned = function shiftRightUnsigned(numBits) {
      if (isLong(numBits))
        numBits = numBits.toInt();
      numBits &= 63;
      if (numBits === 0)
        return this;
      else {
        var high = this.high;
        if (numBits < 32) {
          var low = this.low;
          return fromBits(low >>> numBits | high << 32 - numBits, high >>> numBits, this.unsigned);
        } else if (numBits === 32)
          return fromBits(high, 0, this.unsigned);
        else
          return fromBits(high >>> numBits - 32, 0, this.unsigned);
      }
    };
    LongPrototype.shru = LongPrototype.shiftRightUnsigned;
    LongPrototype.shr_u = LongPrototype.shiftRightUnsigned;
    LongPrototype.toSigned = function toSigned() {
      if (!this.unsigned)
        return this;
      return fromBits(this.low, this.high, false);
    };
    LongPrototype.toUnsigned = function toUnsigned() {
      if (this.unsigned)
        return this;
      return fromBits(this.low, this.high, true);
    };
    LongPrototype.toBytes = function toBytes(le) {
      return le ? this.toBytesLE() : this.toBytesBE();
    };
    LongPrototype.toBytesLE = function toBytesLE() {
      var hi = this.high, lo = this.low;
      return [
        lo & 255,
        lo >>> 8 & 255,
        lo >>> 16 & 255,
        lo >>> 24,
        hi & 255,
        hi >>> 8 & 255,
        hi >>> 16 & 255,
        hi >>> 24
      ];
    };
    LongPrototype.toBytesBE = function toBytesBE() {
      var hi = this.high, lo = this.low;
      return [
        hi >>> 24,
        hi >>> 16 & 255,
        hi >>> 8 & 255,
        hi & 255,
        lo >>> 24,
        lo >>> 16 & 255,
        lo >>> 8 & 255,
        lo & 255
      ];
    };
    Long2.fromBytes = function fromBytes(bytes, unsigned, le) {
      return le ? Long2.fromBytesLE(bytes, unsigned) : Long2.fromBytesBE(bytes, unsigned);
    };
    Long2.fromBytesLE = function fromBytesLE(bytes, unsigned) {
      return new Long2(
        bytes[0] | bytes[1] << 8 | bytes[2] << 16 | bytes[3] << 24,
        bytes[4] | bytes[5] << 8 | bytes[6] << 16 | bytes[7] << 24,
        unsigned
      );
    };
    Long2.fromBytesBE = function fromBytesBE(bytes, unsigned) {
      return new Long2(
        bytes[4] << 24 | bytes[5] << 16 | bytes[6] << 8 | bytes[7],
        bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3],
        unsigned
      );
    };
  }
});

// src/index.ts.entry-point.ts
var index_ts_entry_point_exports = {};
__export(index_ts_entry_point_exports, {
  main: () => main,
  onStart: () => onStart,
  onUpdate: () => onUpdate,
  rendererTransport: () => rendererTransport
});
module.exports = __toCommonJS(index_ts_entry_point_exports);

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/animator.gen.js
var import_minimal = __toESM(require_minimal2());
function createBasePBAnimator() {
  return { states: [] };
}
var PBAnimator;
(function(PBAnimator2) {
  function encode(message, writer = import_minimal.default.Writer.create()) {
    for (const v of message.states) {
      PBAnimationState.encode(v, writer.uint32(10).fork()).ldelim();
    }
    return writer;
  }
  PBAnimator2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal.default.Reader ? input : import_minimal.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAnimator();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.states.push(PBAnimationState.decode(reader, reader.uint32()));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAnimator2.decode = decode;
})(PBAnimator || (PBAnimator = {}));
function createBasePBAnimationState() {
  return {
    name: "",
    clip: "",
    playing: void 0,
    weight: void 0,
    speed: void 0,
    loop: void 0,
    shouldReset: void 0
  };
}
var PBAnimationState;
(function(PBAnimationState2) {
  function encode(message, writer = import_minimal.default.Writer.create()) {
    if (message.name !== "") {
      writer.uint32(10).string(message.name);
    }
    if (message.clip !== "") {
      writer.uint32(18).string(message.clip);
    }
    if (message.playing !== void 0) {
      writer.uint32(24).bool(message.playing);
    }
    if (message.weight !== void 0) {
      writer.uint32(37).float(message.weight);
    }
    if (message.speed !== void 0) {
      writer.uint32(45).float(message.speed);
    }
    if (message.loop !== void 0) {
      writer.uint32(48).bool(message.loop);
    }
    if (message.shouldReset !== void 0) {
      writer.uint32(56).bool(message.shouldReset);
    }
    return writer;
  }
  PBAnimationState2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal.default.Reader ? input : import_minimal.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAnimationState();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.name = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.clip = reader.string();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.weight = reader.float();
          continue;
        case 5:
          if (tag !== 45) {
            break;
          }
          message.speed = reader.float();
          continue;
        case 6:
          if (tag !== 48) {
            break;
          }
          message.loop = reader.bool();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.shouldReset = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAnimationState2.decode = decode;
})(PBAnimationState || (PBAnimationState = {}));

// node_modules/@dcl/ecs/dist/components/generated/Animator.gen.js
var AnimatorSchema = {
  COMPONENT_ID: 1042,
  serialize(value, builder) {
    const writer = PBAnimator.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBAnimator.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAnimator.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAnimator"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/audio_source.gen.js
var import_minimal2 = __toESM(require_minimal2());
function createBasePBAudioSource() {
  return { playing: void 0, volume: void 0, loop: void 0, pitch: void 0, audioClipUrl: "" };
}
var PBAudioSource;
(function(PBAudioSource2) {
  function encode(message, writer = import_minimal2.default.Writer.create()) {
    if (message.playing !== void 0) {
      writer.uint32(8).bool(message.playing);
    }
    if (message.volume !== void 0) {
      writer.uint32(21).float(message.volume);
    }
    if (message.loop !== void 0) {
      writer.uint32(24).bool(message.loop);
    }
    if (message.pitch !== void 0) {
      writer.uint32(37).float(message.pitch);
    }
    if (message.audioClipUrl !== "") {
      writer.uint32(42).string(message.audioClipUrl);
    }
    return writer;
  }
  PBAudioSource2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal2.default.Reader ? input : import_minimal2.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAudioSource();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.volume = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.loop = reader.bool();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.pitch = reader.float();
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.audioClipUrl = reader.string();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAudioSource2.decode = decode;
})(PBAudioSource || (PBAudioSource = {}));

// node_modules/@dcl/ecs/dist/components/generated/AudioSource.gen.js
var AudioSourceSchema = {
  COMPONENT_ID: 1020,
  serialize(value, builder) {
    const writer = PBAudioSource.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBAudioSource.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAudioSource.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAudioSource"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/audio_stream.gen.js
var import_minimal3 = __toESM(require_minimal2());
function createBasePBAudioStream() {
  return { playing: void 0, volume: void 0, url: "" };
}
var PBAudioStream;
(function(PBAudioStream2) {
  function encode(message, writer = import_minimal3.default.Writer.create()) {
    if (message.playing !== void 0) {
      writer.uint32(8).bool(message.playing);
    }
    if (message.volume !== void 0) {
      writer.uint32(21).float(message.volume);
    }
    if (message.url !== "") {
      writer.uint32(26).string(message.url);
    }
    return writer;
  }
  PBAudioStream2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal3.default.Reader ? input : import_minimal3.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAudioStream();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.volume = reader.float();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.url = reader.string();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAudioStream2.decode = decode;
})(PBAudioStream || (PBAudioStream = {}));

// node_modules/@dcl/ecs/dist/components/generated/AudioStream.gen.js
var AudioStreamSchema = {
  COMPONENT_ID: 1021,
  serialize(value, builder) {
    const writer = PBAudioStream.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBAudioStream.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAudioStream.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAudioStream"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_attach.gen.js
var import_minimal4 = __toESM(require_minimal2());
var AvatarAnchorPointType;
(function(AvatarAnchorPointType2) {
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_POSITION"] = 0] = "AAPT_POSITION";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_NAME_TAG"] = 1] = "AAPT_NAME_TAG";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_LEFT_HAND"] = 2] = "AAPT_LEFT_HAND";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_RIGHT_HAND"] = 3] = "AAPT_RIGHT_HAND";
})(AvatarAnchorPointType || (AvatarAnchorPointType = {}));
function createBasePBAvatarAttach() {
  return { avatarId: void 0, anchorPointId: 0 };
}
var PBAvatarAttach;
(function(PBAvatarAttach2) {
  function encode(message, writer = import_minimal4.default.Writer.create()) {
    if (message.avatarId !== void 0) {
      writer.uint32(10).string(message.avatarId);
    }
    if (message.anchorPointId !== 0) {
      writer.uint32(16).int32(message.anchorPointId);
    }
    return writer;
  }
  PBAvatarAttach2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal4.default.Reader ? input : import_minimal4.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarAttach();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.avatarId = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.anchorPointId = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarAttach2.decode = decode;
})(PBAvatarAttach || (PBAvatarAttach = {}));

// node_modules/@dcl/ecs/dist/components/generated/AvatarAttach.gen.js
var AvatarAttachSchema = {
  COMPONENT_ID: 1073,
  serialize(value, builder) {
    const writer = PBAvatarAttach.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBAvatarAttach.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarAttach.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAvatarAttach"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_modifier_area.gen.js
var import_minimal6 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/common/vectors.gen.js
var import_minimal5 = __toESM(require_minimal2());
function createBasePosition() {
  return { x: 0, y: 0, z: 0 };
}
var Position;
(function(Position2) {
  function encode(message, writer = import_minimal5.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    if (message.z !== 0) {
      writer.uint32(29).float(message.z);
    }
    return writer;
  }
  Position2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal5.default.Reader ? input : import_minimal5.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePosition();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.z = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Position2.decode = decode;
})(Position || (Position = {}));
function createBaseVector3() {
  return { x: 0, y: 0, z: 0 };
}
var Vector3;
(function(Vector33) {
  function encode(message, writer = import_minimal5.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    if (message.z !== 0) {
      writer.uint32(29).float(message.z);
    }
    return writer;
  }
  Vector33.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal5.default.Reader ? input : import_minimal5.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseVector3();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.z = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Vector33.decode = decode;
})(Vector3 || (Vector3 = {}));
function createBaseVector2() {
  return { x: 0, y: 0 };
}
var Vector2;
(function(Vector22) {
  function encode(message, writer = import_minimal5.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    return writer;
  }
  Vector22.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal5.default.Reader ? input : import_minimal5.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseVector2();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Vector22.decode = decode;
})(Vector2 || (Vector2 = {}));
function createBaseQuaternion() {
  return { x: 0, y: 0, z: 0, w: 0 };
}
var Quaternion;
(function(Quaternion3) {
  function encode(message, writer = import_minimal5.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    if (message.z !== 0) {
      writer.uint32(29).float(message.z);
    }
    if (message.w !== 0) {
      writer.uint32(37).float(message.w);
    }
    return writer;
  }
  Quaternion3.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal5.default.Reader ? input : import_minimal5.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseQuaternion();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.z = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.w = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Quaternion3.decode = decode;
})(Quaternion || (Quaternion = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_modifier_area.gen.js
var AvatarModifierType;
(function(AvatarModifierType2) {
  AvatarModifierType2[AvatarModifierType2["AMT_HIDE_AVATARS"] = 0] = "AMT_HIDE_AVATARS";
  AvatarModifierType2[AvatarModifierType2["AMT_DISABLE_PASSPORTS"] = 1] = "AMT_DISABLE_PASSPORTS";
})(AvatarModifierType || (AvatarModifierType = {}));
function createBasePBAvatarModifierArea() {
  return { area: void 0, excludeIds: [], modifiers: [] };
}
var PBAvatarModifierArea;
(function(PBAvatarModifierArea2) {
  function encode(message, writer = import_minimal6.default.Writer.create()) {
    if (message.area !== void 0) {
      Vector3.encode(message.area, writer.uint32(10).fork()).ldelim();
    }
    for (const v of message.excludeIds) {
      writer.uint32(18).string(v);
    }
    writer.uint32(26).fork();
    for (const v of message.modifiers) {
      writer.int32(v);
    }
    writer.ldelim();
    return writer;
  }
  PBAvatarModifierArea2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal6.default.Reader ? input : import_minimal6.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarModifierArea();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.area = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.excludeIds.push(reader.string());
          continue;
        case 3:
          if (tag === 24) {
            message.modifiers.push(reader.int32());
            continue;
          }
          if (tag === 26) {
            const end2 = reader.uint32() + reader.pos;
            while (reader.pos < end2) {
              message.modifiers.push(reader.int32());
            }
            continue;
          }
          break;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarModifierArea2.decode = decode;
})(PBAvatarModifierArea || (PBAvatarModifierArea = {}));

// node_modules/@dcl/ecs/dist/components/generated/AvatarModifierArea.gen.js
var AvatarModifierAreaSchema = {
  COMPONENT_ID: 1070,
  serialize(value, builder) {
    const writer = PBAvatarModifierArea.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBAvatarModifierArea.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarModifierArea.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAvatarModifierArea"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_shape.gen.js
var import_long = __toESM(require_long());
var import_minimal8 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/common/colors.gen.js
var import_minimal7 = __toESM(require_minimal2());
function createBaseColor3() {
  return { r: 0, g: 0, b: 0 };
}
var Color3;
(function(Color33) {
  function encode(message, writer = import_minimal7.default.Writer.create()) {
    if (message.r !== 0) {
      writer.uint32(13).float(message.r);
    }
    if (message.g !== 0) {
      writer.uint32(21).float(message.g);
    }
    if (message.b !== 0) {
      writer.uint32(29).float(message.b);
    }
    return writer;
  }
  Color33.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal7.default.Reader ? input : import_minimal7.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseColor3();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.r = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.g = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.b = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Color33.decode = decode;
})(Color3 || (Color3 = {}));
function createBaseColor4() {
  return { r: 0, g: 0, b: 0, a: 0 };
}
var Color4;
(function(Color43) {
  function encode(message, writer = import_minimal7.default.Writer.create()) {
    if (message.r !== 0) {
      writer.uint32(13).float(message.r);
    }
    if (message.g !== 0) {
      writer.uint32(21).float(message.g);
    }
    if (message.b !== 0) {
      writer.uint32(29).float(message.b);
    }
    if (message.a !== 0) {
      writer.uint32(37).float(message.a);
    }
    return writer;
  }
  Color43.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal7.default.Reader ? input : import_minimal7.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseColor4();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.r = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.g = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.b = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.a = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Color43.decode = decode;
})(Color4 || (Color4 = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_shape.gen.js
function createBasePBAvatarShape() {
  return {
    id: "",
    name: void 0,
    bodyShape: void 0,
    skinColor: void 0,
    hairColor: void 0,
    eyeColor: void 0,
    expressionTriggerId: void 0,
    expressionTriggerTimestamp: void 0,
    talking: void 0,
    wearables: [],
    emotes: []
  };
}
var PBAvatarShape;
(function(PBAvatarShape2) {
  function encode(message, writer = import_minimal8.default.Writer.create()) {
    if (message.id !== "") {
      writer.uint32(10).string(message.id);
    }
    if (message.name !== void 0) {
      writer.uint32(18).string(message.name);
    }
    if (message.bodyShape !== void 0) {
      writer.uint32(26).string(message.bodyShape);
    }
    if (message.skinColor !== void 0) {
      Color3.encode(message.skinColor, writer.uint32(34).fork()).ldelim();
    }
    if (message.hairColor !== void 0) {
      Color3.encode(message.hairColor, writer.uint32(42).fork()).ldelim();
    }
    if (message.eyeColor !== void 0) {
      Color3.encode(message.eyeColor, writer.uint32(50).fork()).ldelim();
    }
    if (message.expressionTriggerId !== void 0) {
      writer.uint32(58).string(message.expressionTriggerId);
    }
    if (message.expressionTriggerTimestamp !== void 0) {
      writer.uint32(64).int64(message.expressionTriggerTimestamp);
    }
    if (message.talking !== void 0) {
      writer.uint32(72).bool(message.talking);
    }
    for (const v of message.wearables) {
      writer.uint32(82).string(v);
    }
    for (const v of message.emotes) {
      writer.uint32(90).string(v);
    }
    return writer;
  }
  PBAvatarShape2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal8.default.Reader ? input : import_minimal8.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarShape();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.id = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.name = reader.string();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.bodyShape = reader.string();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.skinColor = Color3.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.hairColor = Color3.decode(reader, reader.uint32());
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.eyeColor = Color3.decode(reader, reader.uint32());
          continue;
        case 7:
          if (tag !== 58) {
            break;
          }
          message.expressionTriggerId = reader.string();
          continue;
        case 8:
          if (tag !== 64) {
            break;
          }
          message.expressionTriggerTimestamp = longToNumber(reader.int64());
          continue;
        case 9:
          if (tag !== 72) {
            break;
          }
          message.talking = reader.bool();
          continue;
        case 10:
          if (tag !== 82) {
            break;
          }
          message.wearables.push(reader.string());
          continue;
        case 11:
          if (tag !== 90) {
            break;
          }
          message.emotes.push(reader.string());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarShape2.decode = decode;
})(PBAvatarShape || (PBAvatarShape = {}));
var tsProtoGlobalThis = (() => {
  if (typeof globalThis !== "undefined") {
    return globalThis;
  }
  if (typeof self !== "undefined") {
    return self;
  }
  if (false) {
    return void 0;
  }
  if (typeof global !== "undefined") {
    return global;
  }
  throw "Unable to locate global object";
})();
function longToNumber(long) {
  if (long.gt(Number.MAX_SAFE_INTEGER)) {
    throw new tsProtoGlobalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");
  }
  return long.toNumber();
}
if (import_minimal8.default.util.Long !== import_long.default) {
  import_minimal8.default.util.Long = import_long.default;
  import_minimal8.default.configure();
}

// node_modules/@dcl/ecs/dist/components/generated/AvatarShape.gen.js
var AvatarShapeSchema = {
  COMPONENT_ID: 1080,
  serialize(value, builder) {
    const writer = PBAvatarShape.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBAvatarShape.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarShape.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAvatarShape"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/billboard.gen.js
var import_minimal9 = __toESM(require_minimal2());
var BillboardMode;
(function(BillboardMode2) {
  BillboardMode2[BillboardMode2["BM_NONE"] = 0] = "BM_NONE";
  BillboardMode2[BillboardMode2["BM_X"] = 1] = "BM_X";
  BillboardMode2[BillboardMode2["BM_Y"] = 2] = "BM_Y";
  BillboardMode2[BillboardMode2["BM_Z"] = 4] = "BM_Z";
  BillboardMode2[BillboardMode2["BM_ALL"] = 7] = "BM_ALL";
})(BillboardMode || (BillboardMode = {}));
function createBasePBBillboard() {
  return { billboardMode: void 0 };
}
var PBBillboard;
(function(PBBillboard2) {
  function encode(message, writer = import_minimal9.default.Writer.create()) {
    if (message.billboardMode !== void 0) {
      writer.uint32(8).int32(message.billboardMode);
    }
    return writer;
  }
  PBBillboard2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal9.default.Reader ? input : import_minimal9.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBBillboard();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.billboardMode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBBillboard2.decode = decode;
})(PBBillboard || (PBBillboard = {}));

// node_modules/@dcl/ecs/dist/components/generated/Billboard.gen.js
var BillboardSchema = {
  COMPONENT_ID: 1090,
  serialize(value, builder) {
    const writer = PBBillboard.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBBillboard.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBBillboard.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBBillboard"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/camera_mode.gen.js
var import_minimal10 = __toESM(require_minimal2());
function createBasePBCameraMode() {
  return { mode: 0 };
}
var PBCameraMode;
(function(PBCameraMode2) {
  function encode(message, writer = import_minimal10.default.Writer.create()) {
    if (message.mode !== 0) {
      writer.uint32(8).int32(message.mode);
    }
    return writer;
  }
  PBCameraMode2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal10.default.Reader ? input : import_minimal10.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBCameraMode();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.mode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBCameraMode2.decode = decode;
})(PBCameraMode || (PBCameraMode = {}));

// node_modules/@dcl/ecs/dist/components/generated/CameraMode.gen.js
var CameraModeSchema = {
  COMPONENT_ID: 1072,
  serialize(value, builder) {
    const writer = PBCameraMode.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBCameraMode.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBCameraMode.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBCameraMode"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/camera_mode_area.gen.js
var import_minimal11 = __toESM(require_minimal2());
function createBasePBCameraModeArea() {
  return { area: void 0, mode: 0 };
}
var PBCameraModeArea;
(function(PBCameraModeArea2) {
  function encode(message, writer = import_minimal11.default.Writer.create()) {
    if (message.area !== void 0) {
      Vector3.encode(message.area, writer.uint32(10).fork()).ldelim();
    }
    if (message.mode !== 0) {
      writer.uint32(16).int32(message.mode);
    }
    return writer;
  }
  PBCameraModeArea2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal11.default.Reader ? input : import_minimal11.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBCameraModeArea();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.area = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.mode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBCameraModeArea2.decode = decode;
})(PBCameraModeArea || (PBCameraModeArea = {}));

// node_modules/@dcl/ecs/dist/components/generated/CameraModeArea.gen.js
var CameraModeAreaSchema = {
  COMPONENT_ID: 1071,
  serialize(value, builder) {
    const writer = PBCameraModeArea.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBCameraModeArea.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBCameraModeArea.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBCameraModeArea"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/engine_info.gen.js
var import_minimal12 = __toESM(require_minimal2());
function createBasePBEngineInfo() {
  return { frameNumber: 0, totalRuntime: 0, tickNumber: 0 };
}
var PBEngineInfo;
(function(PBEngineInfo2) {
  function encode(message, writer = import_minimal12.default.Writer.create()) {
    if (message.frameNumber !== 0) {
      writer.uint32(8).uint32(message.frameNumber);
    }
    if (message.totalRuntime !== 0) {
      writer.uint32(21).float(message.totalRuntime);
    }
    if (message.tickNumber !== 0) {
      writer.uint32(24).uint32(message.tickNumber);
    }
    return writer;
  }
  PBEngineInfo2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal12.default.Reader ? input : import_minimal12.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBEngineInfo();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.frameNumber = reader.uint32();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.totalRuntime = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.tickNumber = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBEngineInfo2.decode = decode;
})(PBEngineInfo || (PBEngineInfo = {}));

// node_modules/@dcl/ecs/dist/components/generated/EngineInfo.gen.js
var EngineInfoSchema = {
  COMPONENT_ID: 1048,
  serialize(value, builder) {
    const writer = PBEngineInfo.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBEngineInfo.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBEngineInfo.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBEngineInfo"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/gltf_container.gen.js
var import_minimal13 = __toESM(require_minimal2());
function createBasePBGltfContainer() {
  return { src: "", visibleMeshesCollisionMask: void 0, invisibleMeshesCollisionMask: void 0 };
}
var PBGltfContainer;
(function(PBGltfContainer2) {
  function encode(message, writer = import_minimal13.default.Writer.create()) {
    if (message.src !== "") {
      writer.uint32(10).string(message.src);
    }
    if (message.visibleMeshesCollisionMask !== void 0) {
      writer.uint32(32).uint32(message.visibleMeshesCollisionMask);
    }
    if (message.invisibleMeshesCollisionMask !== void 0) {
      writer.uint32(40).uint32(message.invisibleMeshesCollisionMask);
    }
    return writer;
  }
  PBGltfContainer2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal13.default.Reader ? input : import_minimal13.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBGltfContainer();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.src = reader.string();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.visibleMeshesCollisionMask = reader.uint32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.invisibleMeshesCollisionMask = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBGltfContainer2.decode = decode;
})(PBGltfContainer || (PBGltfContainer = {}));

// node_modules/@dcl/ecs/dist/components/generated/GltfContainer.gen.js
var GltfContainerSchema = {
  COMPONENT_ID: 1041,
  serialize(value, builder) {
    const writer = PBGltfContainer.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBGltfContainer.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBGltfContainer.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBGltfContainer"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/gltf_container_loading_state.gen.js
var import_minimal14 = __toESM(require_minimal2());
function createBasePBGltfContainerLoadingState() {
  return { currentState: 0 };
}
var PBGltfContainerLoadingState;
(function(PBGltfContainerLoadingState2) {
  function encode(message, writer = import_minimal14.default.Writer.create()) {
    if (message.currentState !== 0) {
      writer.uint32(8).int32(message.currentState);
    }
    return writer;
  }
  PBGltfContainerLoadingState2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal14.default.Reader ? input : import_minimal14.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBGltfContainerLoadingState();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.currentState = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBGltfContainerLoadingState2.decode = decode;
})(PBGltfContainerLoadingState || (PBGltfContainerLoadingState = {}));

// node_modules/@dcl/ecs/dist/components/generated/GltfContainerLoadingState.gen.js
var GltfContainerLoadingStateSchema = {
  COMPONENT_ID: 1049,
  serialize(value, builder) {
    const writer = PBGltfContainerLoadingState.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBGltfContainerLoadingState.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBGltfContainerLoadingState.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBGltfContainerLoadingState"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/material.gen.js
var import_minimal16 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/common/texture.gen.js
var import_minimal15 = __toESM(require_minimal2());
var TextureWrapMode;
(function(TextureWrapMode2) {
  TextureWrapMode2[TextureWrapMode2["TWM_REPEAT"] = 0] = "TWM_REPEAT";
  TextureWrapMode2[TextureWrapMode2["TWM_CLAMP"] = 1] = "TWM_CLAMP";
  TextureWrapMode2[TextureWrapMode2["TWM_MIRROR"] = 2] = "TWM_MIRROR";
})(TextureWrapMode || (TextureWrapMode = {}));
var TextureFilterMode;
(function(TextureFilterMode2) {
  TextureFilterMode2[TextureFilterMode2["TFM_POINT"] = 0] = "TFM_POINT";
  TextureFilterMode2[TextureFilterMode2["TFM_BILINEAR"] = 1] = "TFM_BILINEAR";
  TextureFilterMode2[TextureFilterMode2["TFM_TRILINEAR"] = 2] = "TFM_TRILINEAR";
})(TextureFilterMode || (TextureFilterMode = {}));
function createBaseTexture() {
  return { src: "", wrapMode: void 0, filterMode: void 0 };
}
var Texture;
(function(Texture2) {
  function encode(message, writer = import_minimal15.default.Writer.create()) {
    if (message.src !== "") {
      writer.uint32(10).string(message.src);
    }
    if (message.wrapMode !== void 0) {
      writer.uint32(16).int32(message.wrapMode);
    }
    if (message.filterMode !== void 0) {
      writer.uint32(24).int32(message.filterMode);
    }
    return writer;
  }
  Texture2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal15.default.Reader ? input : import_minimal15.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseTexture();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.src = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.wrapMode = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.filterMode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Texture2.decode = decode;
})(Texture || (Texture = {}));
function createBaseAvatarTexture() {
  return { userId: "", wrapMode: void 0, filterMode: void 0 };
}
var AvatarTexture;
(function(AvatarTexture2) {
  function encode(message, writer = import_minimal15.default.Writer.create()) {
    if (message.userId !== "") {
      writer.uint32(10).string(message.userId);
    }
    if (message.wrapMode !== void 0) {
      writer.uint32(16).int32(message.wrapMode);
    }
    if (message.filterMode !== void 0) {
      writer.uint32(24).int32(message.filterMode);
    }
    return writer;
  }
  AvatarTexture2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal15.default.Reader ? input : import_minimal15.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseAvatarTexture();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.userId = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.wrapMode = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.filterMode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  AvatarTexture2.decode = decode;
})(AvatarTexture || (AvatarTexture = {}));
function createBaseVideoTexture() {
  return { videoPlayerEntity: 0, wrapMode: void 0, filterMode: void 0 };
}
var VideoTexture;
(function(VideoTexture2) {
  function encode(message, writer = import_minimal15.default.Writer.create()) {
    if (message.videoPlayerEntity !== 0) {
      writer.uint32(8).uint32(message.videoPlayerEntity);
    }
    if (message.wrapMode !== void 0) {
      writer.uint32(16).int32(message.wrapMode);
    }
    if (message.filterMode !== void 0) {
      writer.uint32(24).int32(message.filterMode);
    }
    return writer;
  }
  VideoTexture2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal15.default.Reader ? input : import_minimal15.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseVideoTexture();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.videoPlayerEntity = reader.uint32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.wrapMode = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.filterMode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  VideoTexture2.decode = decode;
})(VideoTexture || (VideoTexture = {}));
function createBaseTextureUnion() {
  return { tex: void 0 };
}
var TextureUnion;
(function(TextureUnion2) {
  function encode(message, writer = import_minimal15.default.Writer.create()) {
    switch (message.tex?.$case) {
      case "texture":
        Texture.encode(message.tex.texture, writer.uint32(10).fork()).ldelim();
        break;
      case "avatarTexture":
        AvatarTexture.encode(message.tex.avatarTexture, writer.uint32(18).fork()).ldelim();
        break;
      case "videoTexture":
        VideoTexture.encode(message.tex.videoTexture, writer.uint32(26).fork()).ldelim();
        break;
    }
    return writer;
  }
  TextureUnion2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal15.default.Reader ? input : import_minimal15.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseTextureUnion();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.tex = { $case: "texture", texture: Texture.decode(reader, reader.uint32()) };
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.tex = { $case: "avatarTexture", avatarTexture: AvatarTexture.decode(reader, reader.uint32()) };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.tex = { $case: "videoTexture", videoTexture: VideoTexture.decode(reader, reader.uint32()) };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  TextureUnion2.decode = decode;
})(TextureUnion || (TextureUnion = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/material.gen.js
var MaterialTransparencyMode;
(function(MaterialTransparencyMode2) {
  MaterialTransparencyMode2[MaterialTransparencyMode2["MTM_OPAQUE"] = 0] = "MTM_OPAQUE";
  MaterialTransparencyMode2[MaterialTransparencyMode2["MTM_ALPHA_TEST"] = 1] = "MTM_ALPHA_TEST";
  MaterialTransparencyMode2[MaterialTransparencyMode2["MTM_ALPHA_BLEND"] = 2] = "MTM_ALPHA_BLEND";
  MaterialTransparencyMode2[MaterialTransparencyMode2["MTM_ALPHA_TEST_AND_ALPHA_BLEND"] = 3] = "MTM_ALPHA_TEST_AND_ALPHA_BLEND";
  MaterialTransparencyMode2[MaterialTransparencyMode2["MTM_AUTO"] = 4] = "MTM_AUTO";
})(MaterialTransparencyMode || (MaterialTransparencyMode = {}));
function createBasePBMaterial() {
  return { material: void 0 };
}
var PBMaterial;
(function(PBMaterial2) {
  function encode(message, writer = import_minimal16.default.Writer.create()) {
    switch (message.material?.$case) {
      case "unlit":
        PBMaterial_UnlitMaterial.encode(message.material.unlit, writer.uint32(10).fork()).ldelim();
        break;
      case "pbr":
        PBMaterial_PbrMaterial.encode(message.material.pbr, writer.uint32(18).fork()).ldelim();
        break;
    }
    return writer;
  }
  PBMaterial2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal16.default.Reader ? input : import_minimal16.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMaterial();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.material = { $case: "unlit", unlit: PBMaterial_UnlitMaterial.decode(reader, reader.uint32()) };
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.material = { $case: "pbr", pbr: PBMaterial_PbrMaterial.decode(reader, reader.uint32()) };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMaterial2.decode = decode;
})(PBMaterial || (PBMaterial = {}));
function createBasePBMaterial_UnlitMaterial() {
  return { texture: void 0, alphaTest: void 0, castShadows: void 0, diffuseColor: void 0 };
}
var PBMaterial_UnlitMaterial;
(function(PBMaterial_UnlitMaterial2) {
  function encode(message, writer = import_minimal16.default.Writer.create()) {
    if (message.texture !== void 0) {
      TextureUnion.encode(message.texture, writer.uint32(10).fork()).ldelim();
    }
    if (message.alphaTest !== void 0) {
      writer.uint32(21).float(message.alphaTest);
    }
    if (message.castShadows !== void 0) {
      writer.uint32(24).bool(message.castShadows);
    }
    if (message.diffuseColor !== void 0) {
      Color4.encode(message.diffuseColor, writer.uint32(34).fork()).ldelim();
    }
    return writer;
  }
  PBMaterial_UnlitMaterial2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal16.default.Reader ? input : import_minimal16.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMaterial_UnlitMaterial();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.texture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.alphaTest = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.castShadows = reader.bool();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.diffuseColor = Color4.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMaterial_UnlitMaterial2.decode = decode;
})(PBMaterial_UnlitMaterial || (PBMaterial_UnlitMaterial = {}));
function createBasePBMaterial_PbrMaterial() {
  return {
    texture: void 0,
    alphaTest: void 0,
    castShadows: void 0,
    alphaTexture: void 0,
    emissiveTexture: void 0,
    bumpTexture: void 0,
    albedoColor: void 0,
    emissiveColor: void 0,
    reflectivityColor: void 0,
    transparencyMode: void 0,
    metallic: void 0,
    roughness: void 0,
    glossiness: void 0,
    specularIntensity: void 0,
    emissiveIntensity: void 0,
    directIntensity: void 0
  };
}
var PBMaterial_PbrMaterial;
(function(PBMaterial_PbrMaterial2) {
  function encode(message, writer = import_minimal16.default.Writer.create()) {
    if (message.texture !== void 0) {
      TextureUnion.encode(message.texture, writer.uint32(10).fork()).ldelim();
    }
    if (message.alphaTest !== void 0) {
      writer.uint32(21).float(message.alphaTest);
    }
    if (message.castShadows !== void 0) {
      writer.uint32(24).bool(message.castShadows);
    }
    if (message.alphaTexture !== void 0) {
      TextureUnion.encode(message.alphaTexture, writer.uint32(34).fork()).ldelim();
    }
    if (message.emissiveTexture !== void 0) {
      TextureUnion.encode(message.emissiveTexture, writer.uint32(42).fork()).ldelim();
    }
    if (message.bumpTexture !== void 0) {
      TextureUnion.encode(message.bumpTexture, writer.uint32(50).fork()).ldelim();
    }
    if (message.albedoColor !== void 0) {
      Color4.encode(message.albedoColor, writer.uint32(58).fork()).ldelim();
    }
    if (message.emissiveColor !== void 0) {
      Color3.encode(message.emissiveColor, writer.uint32(66).fork()).ldelim();
    }
    if (message.reflectivityColor !== void 0) {
      Color3.encode(message.reflectivityColor, writer.uint32(74).fork()).ldelim();
    }
    if (message.transparencyMode !== void 0) {
      writer.uint32(80).int32(message.transparencyMode);
    }
    if (message.metallic !== void 0) {
      writer.uint32(93).float(message.metallic);
    }
    if (message.roughness !== void 0) {
      writer.uint32(101).float(message.roughness);
    }
    if (message.glossiness !== void 0) {
      writer.uint32(109).float(message.glossiness);
    }
    if (message.specularIntensity !== void 0) {
      writer.uint32(117).float(message.specularIntensity);
    }
    if (message.emissiveIntensity !== void 0) {
      writer.uint32(125).float(message.emissiveIntensity);
    }
    if (message.directIntensity !== void 0) {
      writer.uint32(133).float(message.directIntensity);
    }
    return writer;
  }
  PBMaterial_PbrMaterial2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal16.default.Reader ? input : import_minimal16.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMaterial_PbrMaterial();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.texture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.alphaTest = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.castShadows = reader.bool();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.alphaTexture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.emissiveTexture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.bumpTexture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 7:
          if (tag !== 58) {
            break;
          }
          message.albedoColor = Color4.decode(reader, reader.uint32());
          continue;
        case 8:
          if (tag !== 66) {
            break;
          }
          message.emissiveColor = Color3.decode(reader, reader.uint32());
          continue;
        case 9:
          if (tag !== 74) {
            break;
          }
          message.reflectivityColor = Color3.decode(reader, reader.uint32());
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.transparencyMode = reader.int32();
          continue;
        case 11:
          if (tag !== 93) {
            break;
          }
          message.metallic = reader.float();
          continue;
        case 12:
          if (tag !== 101) {
            break;
          }
          message.roughness = reader.float();
          continue;
        case 13:
          if (tag !== 109) {
            break;
          }
          message.glossiness = reader.float();
          continue;
        case 14:
          if (tag !== 117) {
            break;
          }
          message.specularIntensity = reader.float();
          continue;
        case 15:
          if (tag !== 125) {
            break;
          }
          message.emissiveIntensity = reader.float();
          continue;
        case 16:
          if (tag !== 133) {
            break;
          }
          message.directIntensity = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMaterial_PbrMaterial2.decode = decode;
})(PBMaterial_PbrMaterial || (PBMaterial_PbrMaterial = {}));

// node_modules/@dcl/ecs/dist/components/generated/Material.gen.js
var MaterialSchema = {
  COMPONENT_ID: 1017,
  serialize(value, builder) {
    const writer = PBMaterial.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBMaterial.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBMaterial.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBMaterial"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/mesh_collider.gen.js
var import_minimal17 = __toESM(require_minimal2());
var ColliderLayer;
(function(ColliderLayer2) {
  ColliderLayer2[ColliderLayer2["CL_NONE"] = 0] = "CL_NONE";
  ColliderLayer2[ColliderLayer2["CL_POINTER"] = 1] = "CL_POINTER";
  ColliderLayer2[ColliderLayer2["CL_PHYSICS"] = 2] = "CL_PHYSICS";
  ColliderLayer2[ColliderLayer2["CL_RESERVED1"] = 4] = "CL_RESERVED1";
  ColliderLayer2[ColliderLayer2["CL_RESERVED2"] = 8] = "CL_RESERVED2";
  ColliderLayer2[ColliderLayer2["CL_RESERVED3"] = 16] = "CL_RESERVED3";
  ColliderLayer2[ColliderLayer2["CL_RESERVED4"] = 32] = "CL_RESERVED4";
  ColliderLayer2[ColliderLayer2["CL_RESERVED5"] = 64] = "CL_RESERVED5";
  ColliderLayer2[ColliderLayer2["CL_RESERVED6"] = 128] = "CL_RESERVED6";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM1"] = 256] = "CL_CUSTOM1";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM2"] = 512] = "CL_CUSTOM2";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM3"] = 1024] = "CL_CUSTOM3";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM4"] = 2048] = "CL_CUSTOM4";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM5"] = 4096] = "CL_CUSTOM5";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM6"] = 8192] = "CL_CUSTOM6";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM7"] = 16384] = "CL_CUSTOM7";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM8"] = 32768] = "CL_CUSTOM8";
})(ColliderLayer || (ColliderLayer = {}));
function createBasePBMeshCollider() {
  return { collisionMask: void 0, mesh: void 0 };
}
var PBMeshCollider;
(function(PBMeshCollider2) {
  function encode(message, writer = import_minimal17.default.Writer.create()) {
    if (message.collisionMask !== void 0) {
      writer.uint32(8).uint32(message.collisionMask);
    }
    switch (message.mesh?.$case) {
      case "box":
        PBMeshCollider_BoxMesh.encode(message.mesh.box, writer.uint32(18).fork()).ldelim();
        break;
      case "sphere":
        PBMeshCollider_SphereMesh.encode(message.mesh.sphere, writer.uint32(26).fork()).ldelim();
        break;
      case "cylinder":
        PBMeshCollider_CylinderMesh.encode(message.mesh.cylinder, writer.uint32(34).fork()).ldelim();
        break;
      case "plane":
        PBMeshCollider_PlaneMesh.encode(message.mesh.plane, writer.uint32(42).fork()).ldelim();
        break;
    }
    return writer;
  }
  PBMeshCollider2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal17.default.Reader ? input : import_minimal17.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.collisionMask = reader.uint32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.mesh = { $case: "box", box: PBMeshCollider_BoxMesh.decode(reader, reader.uint32()) };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.mesh = { $case: "sphere", sphere: PBMeshCollider_SphereMesh.decode(reader, reader.uint32()) };
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.mesh = { $case: "cylinder", cylinder: PBMeshCollider_CylinderMesh.decode(reader, reader.uint32()) };
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.mesh = { $case: "plane", plane: PBMeshCollider_PlaneMesh.decode(reader, reader.uint32()) };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider2.decode = decode;
})(PBMeshCollider || (PBMeshCollider = {}));
function createBasePBMeshCollider_BoxMesh() {
  return {};
}
var PBMeshCollider_BoxMesh;
(function(PBMeshCollider_BoxMesh2) {
  function encode(_, writer = import_minimal17.default.Writer.create()) {
    return writer;
  }
  PBMeshCollider_BoxMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal17.default.Reader ? input : import_minimal17.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider_BoxMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider_BoxMesh2.decode = decode;
})(PBMeshCollider_BoxMesh || (PBMeshCollider_BoxMesh = {}));
function createBasePBMeshCollider_CylinderMesh() {
  return { radiusTop: void 0, radiusBottom: void 0 };
}
var PBMeshCollider_CylinderMesh;
(function(PBMeshCollider_CylinderMesh2) {
  function encode(message, writer = import_minimal17.default.Writer.create()) {
    if (message.radiusTop !== void 0) {
      writer.uint32(13).float(message.radiusTop);
    }
    if (message.radiusBottom !== void 0) {
      writer.uint32(21).float(message.radiusBottom);
    }
    return writer;
  }
  PBMeshCollider_CylinderMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal17.default.Reader ? input : import_minimal17.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider_CylinderMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.radiusTop = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.radiusBottom = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider_CylinderMesh2.decode = decode;
})(PBMeshCollider_CylinderMesh || (PBMeshCollider_CylinderMesh = {}));
function createBasePBMeshCollider_PlaneMesh() {
  return {};
}
var PBMeshCollider_PlaneMesh;
(function(PBMeshCollider_PlaneMesh2) {
  function encode(_, writer = import_minimal17.default.Writer.create()) {
    return writer;
  }
  PBMeshCollider_PlaneMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal17.default.Reader ? input : import_minimal17.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider_PlaneMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider_PlaneMesh2.decode = decode;
})(PBMeshCollider_PlaneMesh || (PBMeshCollider_PlaneMesh = {}));
function createBasePBMeshCollider_SphereMesh() {
  return {};
}
var PBMeshCollider_SphereMesh;
(function(PBMeshCollider_SphereMesh2) {
  function encode(_, writer = import_minimal17.default.Writer.create()) {
    return writer;
  }
  PBMeshCollider_SphereMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal17.default.Reader ? input : import_minimal17.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider_SphereMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider_SphereMesh2.decode = decode;
})(PBMeshCollider_SphereMesh || (PBMeshCollider_SphereMesh = {}));

// node_modules/@dcl/ecs/dist/components/generated/MeshCollider.gen.js
var MeshColliderSchema = {
  COMPONENT_ID: 1019,
  serialize(value, builder) {
    const writer = PBMeshCollider.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBMeshCollider.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBMeshCollider.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBMeshCollider"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/mesh_renderer.gen.js
var import_minimal18 = __toESM(require_minimal2());
function createBasePBMeshRenderer() {
  return { mesh: void 0 };
}
var PBMeshRenderer;
(function(PBMeshRenderer2) {
  function encode(message, writer = import_minimal18.default.Writer.create()) {
    switch (message.mesh?.$case) {
      case "box":
        PBMeshRenderer_BoxMesh.encode(message.mesh.box, writer.uint32(10).fork()).ldelim();
        break;
      case "sphere":
        PBMeshRenderer_SphereMesh.encode(message.mesh.sphere, writer.uint32(18).fork()).ldelim();
        break;
      case "cylinder":
        PBMeshRenderer_CylinderMesh.encode(message.mesh.cylinder, writer.uint32(26).fork()).ldelim();
        break;
      case "plane":
        PBMeshRenderer_PlaneMesh.encode(message.mesh.plane, writer.uint32(34).fork()).ldelim();
        break;
    }
    return writer;
  }
  PBMeshRenderer2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal18.default.Reader ? input : import_minimal18.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.mesh = { $case: "box", box: PBMeshRenderer_BoxMesh.decode(reader, reader.uint32()) };
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.mesh = { $case: "sphere", sphere: PBMeshRenderer_SphereMesh.decode(reader, reader.uint32()) };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.mesh = { $case: "cylinder", cylinder: PBMeshRenderer_CylinderMesh.decode(reader, reader.uint32()) };
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.mesh = { $case: "plane", plane: PBMeshRenderer_PlaneMesh.decode(reader, reader.uint32()) };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer2.decode = decode;
})(PBMeshRenderer || (PBMeshRenderer = {}));
function createBasePBMeshRenderer_BoxMesh() {
  return { uvs: [] };
}
var PBMeshRenderer_BoxMesh;
(function(PBMeshRenderer_BoxMesh2) {
  function encode(message, writer = import_minimal18.default.Writer.create()) {
    writer.uint32(10).fork();
    for (const v of message.uvs) {
      writer.float(v);
    }
    writer.ldelim();
    return writer;
  }
  PBMeshRenderer_BoxMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal18.default.Reader ? input : import_minimal18.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer_BoxMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag === 13) {
            message.uvs.push(reader.float());
            continue;
          }
          if (tag === 10) {
            const end2 = reader.uint32() + reader.pos;
            while (reader.pos < end2) {
              message.uvs.push(reader.float());
            }
            continue;
          }
          break;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer_BoxMesh2.decode = decode;
})(PBMeshRenderer_BoxMesh || (PBMeshRenderer_BoxMesh = {}));
function createBasePBMeshRenderer_CylinderMesh() {
  return { radiusTop: void 0, radiusBottom: void 0 };
}
var PBMeshRenderer_CylinderMesh;
(function(PBMeshRenderer_CylinderMesh2) {
  function encode(message, writer = import_minimal18.default.Writer.create()) {
    if (message.radiusTop !== void 0) {
      writer.uint32(13).float(message.radiusTop);
    }
    if (message.radiusBottom !== void 0) {
      writer.uint32(21).float(message.radiusBottom);
    }
    return writer;
  }
  PBMeshRenderer_CylinderMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal18.default.Reader ? input : import_minimal18.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer_CylinderMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.radiusTop = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.radiusBottom = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer_CylinderMesh2.decode = decode;
})(PBMeshRenderer_CylinderMesh || (PBMeshRenderer_CylinderMesh = {}));
function createBasePBMeshRenderer_PlaneMesh() {
  return { uvs: [] };
}
var PBMeshRenderer_PlaneMesh;
(function(PBMeshRenderer_PlaneMesh2) {
  function encode(message, writer = import_minimal18.default.Writer.create()) {
    writer.uint32(10).fork();
    for (const v of message.uvs) {
      writer.float(v);
    }
    writer.ldelim();
    return writer;
  }
  PBMeshRenderer_PlaneMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal18.default.Reader ? input : import_minimal18.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer_PlaneMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag === 13) {
            message.uvs.push(reader.float());
            continue;
          }
          if (tag === 10) {
            const end2 = reader.uint32() + reader.pos;
            while (reader.pos < end2) {
              message.uvs.push(reader.float());
            }
            continue;
          }
          break;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer_PlaneMesh2.decode = decode;
})(PBMeshRenderer_PlaneMesh || (PBMeshRenderer_PlaneMesh = {}));
function createBasePBMeshRenderer_SphereMesh() {
  return {};
}
var PBMeshRenderer_SphereMesh;
(function(PBMeshRenderer_SphereMesh2) {
  function encode(_, writer = import_minimal18.default.Writer.create()) {
    return writer;
  }
  PBMeshRenderer_SphereMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal18.default.Reader ? input : import_minimal18.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer_SphereMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer_SphereMesh2.decode = decode;
})(PBMeshRenderer_SphereMesh || (PBMeshRenderer_SphereMesh = {}));

// node_modules/@dcl/ecs/dist/components/generated/MeshRenderer.gen.js
var MeshRendererSchema = {
  COMPONENT_ID: 1018,
  serialize(value, builder) {
    const writer = PBMeshRenderer.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBMeshRenderer.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBMeshRenderer.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBMeshRenderer"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/nft_shape.gen.js
var import_minimal19 = __toESM(require_minimal2());
var NftFrameType;
(function(NftFrameType2) {
  NftFrameType2[NftFrameType2["NFT_CLASSIC"] = 0] = "NFT_CLASSIC";
  NftFrameType2[NftFrameType2["NFT_BAROQUE_ORNAMENT"] = 1] = "NFT_BAROQUE_ORNAMENT";
  NftFrameType2[NftFrameType2["NFT_DIAMOND_ORNAMENT"] = 2] = "NFT_DIAMOND_ORNAMENT";
  NftFrameType2[NftFrameType2["NFT_MINIMAL_WIDE"] = 3] = "NFT_MINIMAL_WIDE";
  NftFrameType2[NftFrameType2["NFT_MINIMAL_GREY"] = 4] = "NFT_MINIMAL_GREY";
  NftFrameType2[NftFrameType2["NFT_BLOCKY"] = 5] = "NFT_BLOCKY";
  NftFrameType2[NftFrameType2["NFT_GOLD_EDGES"] = 6] = "NFT_GOLD_EDGES";
  NftFrameType2[NftFrameType2["NFT_GOLD_CARVED"] = 7] = "NFT_GOLD_CARVED";
  NftFrameType2[NftFrameType2["NFT_GOLD_WIDE"] = 8] = "NFT_GOLD_WIDE";
  NftFrameType2[NftFrameType2["NFT_GOLD_ROUNDED"] = 9] = "NFT_GOLD_ROUNDED";
  NftFrameType2[NftFrameType2["NFT_METAL_MEDIUM"] = 10] = "NFT_METAL_MEDIUM";
  NftFrameType2[NftFrameType2["NFT_METAL_WIDE"] = 11] = "NFT_METAL_WIDE";
  NftFrameType2[NftFrameType2["NFT_METAL_SLIM"] = 12] = "NFT_METAL_SLIM";
  NftFrameType2[NftFrameType2["NFT_METAL_ROUNDED"] = 13] = "NFT_METAL_ROUNDED";
  NftFrameType2[NftFrameType2["NFT_PINS"] = 14] = "NFT_PINS";
  NftFrameType2[NftFrameType2["NFT_MINIMAL_BLACK"] = 15] = "NFT_MINIMAL_BLACK";
  NftFrameType2[NftFrameType2["NFT_MINIMAL_WHITE"] = 16] = "NFT_MINIMAL_WHITE";
  NftFrameType2[NftFrameType2["NFT_TAPE"] = 17] = "NFT_TAPE";
  NftFrameType2[NftFrameType2["NFT_WOOD_SLIM"] = 18] = "NFT_WOOD_SLIM";
  NftFrameType2[NftFrameType2["NFT_WOOD_WIDE"] = 19] = "NFT_WOOD_WIDE";
  NftFrameType2[NftFrameType2["NFT_WOOD_TWIGS"] = 20] = "NFT_WOOD_TWIGS";
  NftFrameType2[NftFrameType2["NFT_CANVAS"] = 21] = "NFT_CANVAS";
  NftFrameType2[NftFrameType2["NFT_NONE"] = 22] = "NFT_NONE";
})(NftFrameType || (NftFrameType = {}));
function createBasePBNftShape() {
  return { urn: "", style: void 0, color: void 0 };
}
var PBNftShape;
(function(PBNftShape2) {
  function encode(message, writer = import_minimal19.default.Writer.create()) {
    if (message.urn !== "") {
      writer.uint32(10).string(message.urn);
    }
    if (message.style !== void 0) {
      writer.uint32(16).int32(message.style);
    }
    if (message.color !== void 0) {
      Color3.encode(message.color, writer.uint32(26).fork()).ldelim();
    }
    return writer;
  }
  PBNftShape2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal19.default.Reader ? input : import_minimal19.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBNftShape();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.urn = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.style = reader.int32();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.color = Color3.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBNftShape2.decode = decode;
})(PBNftShape || (PBNftShape = {}));

// node_modules/@dcl/ecs/dist/components/generated/NftShape.gen.js
var NftShapeSchema = {
  COMPONENT_ID: 1040,
  serialize(value, builder) {
    const writer = PBNftShape.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBNftShape.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBNftShape.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBNftShape"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/pointer_events.gen.js
var import_minimal20 = __toESM(require_minimal2());
function createBasePBPointerEvents() {
  return { pointerEvents: [] };
}
var PBPointerEvents;
(function(PBPointerEvents2) {
  function encode(message, writer = import_minimal20.default.Writer.create()) {
    for (const v of message.pointerEvents) {
      PBPointerEvents_Entry.encode(v, writer.uint32(10).fork()).ldelim();
    }
    return writer;
  }
  PBPointerEvents2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal20.default.Reader ? input : import_minimal20.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerEvents();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.pointerEvents.push(PBPointerEvents_Entry.decode(reader, reader.uint32()));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerEvents2.decode = decode;
})(PBPointerEvents || (PBPointerEvents = {}));
function createBasePBPointerEvents_Info() {
  return { button: void 0, hoverText: void 0, maxDistance: void 0, showFeedback: void 0 };
}
var PBPointerEvents_Info;
(function(PBPointerEvents_Info2) {
  function encode(message, writer = import_minimal20.default.Writer.create()) {
    if (message.button !== void 0) {
      writer.uint32(8).int32(message.button);
    }
    if (message.hoverText !== void 0) {
      writer.uint32(18).string(message.hoverText);
    }
    if (message.maxDistance !== void 0) {
      writer.uint32(29).float(message.maxDistance);
    }
    if (message.showFeedback !== void 0) {
      writer.uint32(32).bool(message.showFeedback);
    }
    return writer;
  }
  PBPointerEvents_Info2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal20.default.Reader ? input : import_minimal20.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerEvents_Info();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.button = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.hoverText = reader.string();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.maxDistance = reader.float();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.showFeedback = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerEvents_Info2.decode = decode;
})(PBPointerEvents_Info || (PBPointerEvents_Info = {}));
function createBasePBPointerEvents_Entry() {
  return { eventType: 0, eventInfo: void 0 };
}
var PBPointerEvents_Entry;
(function(PBPointerEvents_Entry2) {
  function encode(message, writer = import_minimal20.default.Writer.create()) {
    if (message.eventType !== 0) {
      writer.uint32(8).int32(message.eventType);
    }
    if (message.eventInfo !== void 0) {
      PBPointerEvents_Info.encode(message.eventInfo, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  PBPointerEvents_Entry2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal20.default.Reader ? input : import_minimal20.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerEvents_Entry();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.eventType = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.eventInfo = PBPointerEvents_Info.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerEvents_Entry2.decode = decode;
})(PBPointerEvents_Entry || (PBPointerEvents_Entry = {}));

// node_modules/@dcl/ecs/dist/components/generated/PointerEvents.gen.js
var PointerEventsSchema = {
  COMPONENT_ID: 1062,
  serialize(value, builder) {
    const writer = PBPointerEvents.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBPointerEvents.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBPointerEvents.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBPointerEvents"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/pointer_events_result.gen.js
var import_minimal22 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/raycast_hit.gen.js
var import_minimal21 = __toESM(require_minimal2());
function createBaseRaycastHit() {
  return {
    position: void 0,
    globalOrigin: void 0,
    direction: void 0,
    normalHit: void 0,
    length: 0,
    meshName: void 0,
    entityId: void 0
  };
}
var RaycastHit;
(function(RaycastHit2) {
  function encode(message, writer = import_minimal21.default.Writer.create()) {
    if (message.position !== void 0) {
      Vector3.encode(message.position, writer.uint32(10).fork()).ldelim();
    }
    if (message.globalOrigin !== void 0) {
      Vector3.encode(message.globalOrigin, writer.uint32(18).fork()).ldelim();
    }
    if (message.direction !== void 0) {
      Vector3.encode(message.direction, writer.uint32(26).fork()).ldelim();
    }
    if (message.normalHit !== void 0) {
      Vector3.encode(message.normalHit, writer.uint32(34).fork()).ldelim();
    }
    if (message.length !== 0) {
      writer.uint32(45).float(message.length);
    }
    if (message.meshName !== void 0) {
      writer.uint32(50).string(message.meshName);
    }
    if (message.entityId !== void 0) {
      writer.uint32(56).uint32(message.entityId);
    }
    return writer;
  }
  RaycastHit2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal21.default.Reader ? input : import_minimal21.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseRaycastHit();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.position = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.globalOrigin = Vector3.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.direction = Vector3.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.normalHit = Vector3.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 45) {
            break;
          }
          message.length = reader.float();
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.meshName = reader.string();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.entityId = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  RaycastHit2.decode = decode;
})(RaycastHit || (RaycastHit = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/pointer_events_result.gen.js
function createBasePBPointerEventsResult() {
  return { button: 0, hit: void 0, state: 0, timestamp: 0, analog: void 0, tickNumber: 0 };
}
var PBPointerEventsResult;
(function(PBPointerEventsResult2) {
  function encode(message, writer = import_minimal22.default.Writer.create()) {
    if (message.button !== 0) {
      writer.uint32(8).int32(message.button);
    }
    if (message.hit !== void 0) {
      RaycastHit.encode(message.hit, writer.uint32(18).fork()).ldelim();
    }
    if (message.state !== 0) {
      writer.uint32(32).int32(message.state);
    }
    if (message.timestamp !== 0) {
      writer.uint32(40).uint32(message.timestamp);
    }
    if (message.analog !== void 0) {
      writer.uint32(53).float(message.analog);
    }
    if (message.tickNumber !== 0) {
      writer.uint32(56).uint32(message.tickNumber);
    }
    return writer;
  }
  PBPointerEventsResult2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal22.default.Reader ? input : import_minimal22.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerEventsResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.button = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.hit = RaycastHit.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.state = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 6:
          if (tag !== 53) {
            break;
          }
          message.analog = reader.float();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.tickNumber = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerEventsResult2.decode = decode;
})(PBPointerEventsResult || (PBPointerEventsResult = {}));

// node_modules/@dcl/ecs/dist/components/generated/PointerEventsResult.gen.js
var PointerEventsResultSchema = {
  COMPONENT_ID: 1063,
  serialize(value, builder) {
    const writer = PBPointerEventsResult.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBPointerEventsResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBPointerEventsResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBPointerEventsResult"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/pointer_lock.gen.js
var import_minimal23 = __toESM(require_minimal2());
function createBasePBPointerLock() {
  return { isPointerLocked: false };
}
var PBPointerLock;
(function(PBPointerLock2) {
  function encode(message, writer = import_minimal23.default.Writer.create()) {
    if (message.isPointerLocked === true) {
      writer.uint32(8).bool(message.isPointerLocked);
    }
    return writer;
  }
  PBPointerLock2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal23.default.Reader ? input : import_minimal23.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerLock();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.isPointerLocked = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerLock2.decode = decode;
})(PBPointerLock || (PBPointerLock = {}));

// node_modules/@dcl/ecs/dist/components/generated/PointerLock.gen.js
var PointerLockSchema = {
  COMPONENT_ID: 1074,
  serialize(value, builder) {
    const writer = PBPointerLock.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBPointerLock.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBPointerLock.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBPointerLock"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/raycast.gen.js
var import_minimal24 = __toESM(require_minimal2());
var RaycastQueryType;
(function(RaycastQueryType2) {
  RaycastQueryType2[RaycastQueryType2["RQT_HIT_FIRST"] = 0] = "RQT_HIT_FIRST";
  RaycastQueryType2[RaycastQueryType2["RQT_QUERY_ALL"] = 1] = "RQT_QUERY_ALL";
  RaycastQueryType2[RaycastQueryType2["RQT_NONE"] = 2] = "RQT_NONE";
})(RaycastQueryType || (RaycastQueryType = {}));
function createBasePBRaycast() {
  return {
    timestamp: void 0,
    originOffset: void 0,
    direction: void 0,
    maxDistance: 0,
    queryType: 0,
    continuous: void 0,
    collisionMask: void 0
  };
}
var PBRaycast;
(function(PBRaycast2) {
  function encode(message, writer = import_minimal24.default.Writer.create()) {
    if (message.timestamp !== void 0) {
      writer.uint32(8).uint32(message.timestamp);
    }
    if (message.originOffset !== void 0) {
      Vector3.encode(message.originOffset, writer.uint32(18).fork()).ldelim();
    }
    switch (message.direction?.$case) {
      case "localDirection":
        Vector3.encode(message.direction.localDirection, writer.uint32(50).fork()).ldelim();
        break;
      case "globalDirection":
        Vector3.encode(message.direction.globalDirection, writer.uint32(26).fork()).ldelim();
        break;
      case "globalTarget":
        Vector3.encode(message.direction.globalTarget, writer.uint32(58).fork()).ldelim();
        break;
      case "targetEntity":
        writer.uint32(80).uint32(message.direction.targetEntity);
        break;
    }
    if (message.maxDistance !== 0) {
      writer.uint32(37).float(message.maxDistance);
    }
    if (message.queryType !== 0) {
      writer.uint32(40).int32(message.queryType);
    }
    if (message.continuous !== void 0) {
      writer.uint32(64).bool(message.continuous);
    }
    if (message.collisionMask !== void 0) {
      writer.uint32(72).uint32(message.collisionMask);
    }
    return writer;
  }
  PBRaycast2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal24.default.Reader ? input : import_minimal24.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBRaycast();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.originOffset = Vector3.decode(reader, reader.uint32());
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.direction = { $case: "localDirection", localDirection: Vector3.decode(reader, reader.uint32()) };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.direction = { $case: "globalDirection", globalDirection: Vector3.decode(reader, reader.uint32()) };
          continue;
        case 7:
          if (tag !== 58) {
            break;
          }
          message.direction = { $case: "globalTarget", globalTarget: Vector3.decode(reader, reader.uint32()) };
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.direction = { $case: "targetEntity", targetEntity: reader.uint32() };
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.maxDistance = reader.float();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.queryType = reader.int32();
          continue;
        case 8:
          if (tag !== 64) {
            break;
          }
          message.continuous = reader.bool();
          continue;
        case 9:
          if (tag !== 72) {
            break;
          }
          message.collisionMask = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBRaycast2.decode = decode;
})(PBRaycast || (PBRaycast = {}));

// node_modules/@dcl/ecs/dist/components/generated/Raycast.gen.js
var RaycastSchema = {
  COMPONENT_ID: 1067,
  serialize(value, builder) {
    const writer = PBRaycast.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBRaycast.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBRaycast.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBRaycast"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/raycast_result.gen.js
var import_minimal25 = __toESM(require_minimal2());
function createBasePBRaycastResult() {
  return { timestamp: void 0, globalOrigin: void 0, direction: void 0, hits: [], tickNumber: 0 };
}
var PBRaycastResult;
(function(PBRaycastResult2) {
  function encode(message, writer = import_minimal25.default.Writer.create()) {
    if (message.timestamp !== void 0) {
      writer.uint32(8).uint32(message.timestamp);
    }
    if (message.globalOrigin !== void 0) {
      Vector3.encode(message.globalOrigin, writer.uint32(18).fork()).ldelim();
    }
    if (message.direction !== void 0) {
      Vector3.encode(message.direction, writer.uint32(26).fork()).ldelim();
    }
    for (const v of message.hits) {
      RaycastHit.encode(v, writer.uint32(34).fork()).ldelim();
    }
    if (message.tickNumber !== 0) {
      writer.uint32(40).uint32(message.tickNumber);
    }
    return writer;
  }
  PBRaycastResult2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal25.default.Reader ? input : import_minimal25.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBRaycastResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.globalOrigin = Vector3.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.direction = Vector3.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.hits.push(RaycastHit.decode(reader, reader.uint32()));
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.tickNumber = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBRaycastResult2.decode = decode;
})(PBRaycastResult || (PBRaycastResult = {}));

// node_modules/@dcl/ecs/dist/components/generated/RaycastResult.gen.js
var RaycastResultSchema = {
  COMPONENT_ID: 1068,
  serialize(value, builder) {
    const writer = PBRaycastResult.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBRaycastResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBRaycastResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBRaycastResult"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/text_shape.gen.js
var import_minimal26 = __toESM(require_minimal2());
function createBasePBTextShape() {
  return {
    text: "",
    font: void 0,
    fontSize: void 0,
    fontAutoSize: void 0,
    textAlign: void 0,
    width: void 0,
    height: void 0,
    paddingTop: void 0,
    paddingRight: void 0,
    paddingBottom: void 0,
    paddingLeft: void 0,
    lineSpacing: void 0,
    lineCount: void 0,
    textWrapping: void 0,
    shadowBlur: void 0,
    shadowOffsetX: void 0,
    shadowOffsetY: void 0,
    outlineWidth: void 0,
    shadowColor: void 0,
    outlineColor: void 0,
    textColor: void 0
  };
}
var PBTextShape;
(function(PBTextShape2) {
  function encode(message, writer = import_minimal26.default.Writer.create()) {
    if (message.text !== "") {
      writer.uint32(10).string(message.text);
    }
    if (message.font !== void 0) {
      writer.uint32(16).int32(message.font);
    }
    if (message.fontSize !== void 0) {
      writer.uint32(29).float(message.fontSize);
    }
    if (message.fontAutoSize !== void 0) {
      writer.uint32(32).bool(message.fontAutoSize);
    }
    if (message.textAlign !== void 0) {
      writer.uint32(40).int32(message.textAlign);
    }
    if (message.width !== void 0) {
      writer.uint32(53).float(message.width);
    }
    if (message.height !== void 0) {
      writer.uint32(61).float(message.height);
    }
    if (message.paddingTop !== void 0) {
      writer.uint32(69).float(message.paddingTop);
    }
    if (message.paddingRight !== void 0) {
      writer.uint32(77).float(message.paddingRight);
    }
    if (message.paddingBottom !== void 0) {
      writer.uint32(85).float(message.paddingBottom);
    }
    if (message.paddingLeft !== void 0) {
      writer.uint32(93).float(message.paddingLeft);
    }
    if (message.lineSpacing !== void 0) {
      writer.uint32(101).float(message.lineSpacing);
    }
    if (message.lineCount !== void 0) {
      writer.uint32(104).int32(message.lineCount);
    }
    if (message.textWrapping !== void 0) {
      writer.uint32(112).bool(message.textWrapping);
    }
    if (message.shadowBlur !== void 0) {
      writer.uint32(125).float(message.shadowBlur);
    }
    if (message.shadowOffsetX !== void 0) {
      writer.uint32(133).float(message.shadowOffsetX);
    }
    if (message.shadowOffsetY !== void 0) {
      writer.uint32(141).float(message.shadowOffsetY);
    }
    if (message.outlineWidth !== void 0) {
      writer.uint32(149).float(message.outlineWidth);
    }
    if (message.shadowColor !== void 0) {
      Color3.encode(message.shadowColor, writer.uint32(154).fork()).ldelim();
    }
    if (message.outlineColor !== void 0) {
      Color3.encode(message.outlineColor, writer.uint32(162).fork()).ldelim();
    }
    if (message.textColor !== void 0) {
      Color4.encode(message.textColor, writer.uint32(170).fork()).ldelim();
    }
    return writer;
  }
  PBTextShape2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal26.default.Reader ? input : import_minimal26.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBTextShape();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.text = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.font = reader.int32();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.fontSize = reader.float();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.fontAutoSize = reader.bool();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.textAlign = reader.int32();
          continue;
        case 6:
          if (tag !== 53) {
            break;
          }
          message.width = reader.float();
          continue;
        case 7:
          if (tag !== 61) {
            break;
          }
          message.height = reader.float();
          continue;
        case 8:
          if (tag !== 69) {
            break;
          }
          message.paddingTop = reader.float();
          continue;
        case 9:
          if (tag !== 77) {
            break;
          }
          message.paddingRight = reader.float();
          continue;
        case 10:
          if (tag !== 85) {
            break;
          }
          message.paddingBottom = reader.float();
          continue;
        case 11:
          if (tag !== 93) {
            break;
          }
          message.paddingLeft = reader.float();
          continue;
        case 12:
          if (tag !== 101) {
            break;
          }
          message.lineSpacing = reader.float();
          continue;
        case 13:
          if (tag !== 104) {
            break;
          }
          message.lineCount = reader.int32();
          continue;
        case 14:
          if (tag !== 112) {
            break;
          }
          message.textWrapping = reader.bool();
          continue;
        case 15:
          if (tag !== 125) {
            break;
          }
          message.shadowBlur = reader.float();
          continue;
        case 16:
          if (tag !== 133) {
            break;
          }
          message.shadowOffsetX = reader.float();
          continue;
        case 17:
          if (tag !== 141) {
            break;
          }
          message.shadowOffsetY = reader.float();
          continue;
        case 18:
          if (tag !== 149) {
            break;
          }
          message.outlineWidth = reader.float();
          continue;
        case 19:
          if (tag !== 154) {
            break;
          }
          message.shadowColor = Color3.decode(reader, reader.uint32());
          continue;
        case 20:
          if (tag !== 162) {
            break;
          }
          message.outlineColor = Color3.decode(reader, reader.uint32());
          continue;
        case 21:
          if (tag !== 170) {
            break;
          }
          message.textColor = Color4.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBTextShape2.decode = decode;
})(PBTextShape || (PBTextShape = {}));

// node_modules/@dcl/ecs/dist/components/generated/TextShape.gen.js
var TextShapeSchema = {
  COMPONENT_ID: 1030,
  serialize(value, builder) {
    const writer = PBTextShape.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBTextShape.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBTextShape.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBTextShape"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_background.gen.js
var import_minimal28 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/common/border_rect.gen.js
var import_minimal27 = __toESM(require_minimal2());
function createBaseBorderRect() {
  return { top: 0, left: 0, right: 0, bottom: 0 };
}
var BorderRect;
(function(BorderRect2) {
  function encode(message, writer = import_minimal27.default.Writer.create()) {
    if (message.top !== 0) {
      writer.uint32(13).float(message.top);
    }
    if (message.left !== 0) {
      writer.uint32(21).float(message.left);
    }
    if (message.right !== 0) {
      writer.uint32(29).float(message.right);
    }
    if (message.bottom !== 0) {
      writer.uint32(37).float(message.bottom);
    }
    return writer;
  }
  BorderRect2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal27.default.Reader ? input : import_minimal27.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseBorderRect();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.top = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.left = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.right = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.bottom = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  BorderRect2.decode = decode;
})(BorderRect || (BorderRect = {}));
function createBaseRect() {
  return { x: 0, y: 0, width: 0, height: 0 };
}
var Rect;
(function(Rect2) {
  function encode(message, writer = import_minimal27.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    if (message.width !== 0) {
      writer.uint32(29).float(message.width);
    }
    if (message.height !== 0) {
      writer.uint32(37).float(message.height);
    }
    return writer;
  }
  Rect2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal27.default.Reader ? input : import_minimal27.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseRect();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.width = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.height = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Rect2.decode = decode;
})(Rect || (Rect = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_background.gen.js
var BackgroundTextureMode;
(function(BackgroundTextureMode2) {
  BackgroundTextureMode2[BackgroundTextureMode2["NINE_SLICES"] = 0] = "NINE_SLICES";
  BackgroundTextureMode2[BackgroundTextureMode2["CENTER"] = 1] = "CENTER";
  BackgroundTextureMode2[BackgroundTextureMode2["STRETCH"] = 2] = "STRETCH";
})(BackgroundTextureMode || (BackgroundTextureMode = {}));
function createBasePBUiBackground() {
  return { color: void 0, texture: void 0, textureMode: 0, textureSlices: void 0, uvs: [] };
}
var PBUiBackground;
(function(PBUiBackground2) {
  function encode(message, writer = import_minimal28.default.Writer.create()) {
    if (message.color !== void 0) {
      Color4.encode(message.color, writer.uint32(10).fork()).ldelim();
    }
    if (message.texture !== void 0) {
      TextureUnion.encode(message.texture, writer.uint32(18).fork()).ldelim();
    }
    if (message.textureMode !== 0) {
      writer.uint32(24).int32(message.textureMode);
    }
    if (message.textureSlices !== void 0) {
      BorderRect.encode(message.textureSlices, writer.uint32(34).fork()).ldelim();
    }
    writer.uint32(42).fork();
    for (const v of message.uvs) {
      writer.float(v);
    }
    writer.ldelim();
    return writer;
  }
  PBUiBackground2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal28.default.Reader ? input : import_minimal28.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiBackground();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.color = Color4.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.texture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.textureMode = reader.int32();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.textureSlices = BorderRect.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag === 45) {
            message.uvs.push(reader.float());
            continue;
          }
          if (tag === 42) {
            const end2 = reader.uint32() + reader.pos;
            while (reader.pos < end2) {
              message.uvs.push(reader.float());
            }
            continue;
          }
          break;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiBackground2.decode = decode;
})(PBUiBackground || (PBUiBackground = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiBackground.gen.js
var UiBackgroundSchema = {
  COMPONENT_ID: 1053,
  serialize(value, builder) {
    const writer = PBUiBackground.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBUiBackground.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiBackground.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiBackground"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_canvas_information.gen.js
var import_minimal29 = __toESM(require_minimal2());
function createBasePBUiCanvasInformation() {
  return { devicePixelRatio: 0, width: 0, height: 0, interactableArea: void 0 };
}
var PBUiCanvasInformation;
(function(PBUiCanvasInformation2) {
  function encode(message, writer = import_minimal29.default.Writer.create()) {
    if (message.devicePixelRatio !== 0) {
      writer.uint32(13).float(message.devicePixelRatio);
    }
    if (message.width !== 0) {
      writer.uint32(16).int32(message.width);
    }
    if (message.height !== 0) {
      writer.uint32(24).int32(message.height);
    }
    if (message.interactableArea !== void 0) {
      BorderRect.encode(message.interactableArea, writer.uint32(34).fork()).ldelim();
    }
    return writer;
  }
  PBUiCanvasInformation2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal29.default.Reader ? input : import_minimal29.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiCanvasInformation();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.devicePixelRatio = reader.float();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.width = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.height = reader.int32();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.interactableArea = BorderRect.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiCanvasInformation2.decode = decode;
})(PBUiCanvasInformation || (PBUiCanvasInformation = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiCanvasInformation.gen.js
var UiCanvasInformationSchema = {
  COMPONENT_ID: 1054,
  serialize(value, builder) {
    const writer = PBUiCanvasInformation.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBUiCanvasInformation.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiCanvasInformation.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiCanvasInformation"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_dropdown.gen.js
var import_minimal30 = __toESM(require_minimal2());
function createBasePBUiDropdown() {
  return {
    acceptEmpty: false,
    emptyLabel: void 0,
    options: [],
    selectedIndex: void 0,
    disabled: false,
    color: void 0,
    textAlign: void 0,
    font: void 0,
    fontSize: void 0
  };
}
var PBUiDropdown;
(function(PBUiDropdown2) {
  function encode(message, writer = import_minimal30.default.Writer.create()) {
    if (message.acceptEmpty === true) {
      writer.uint32(8).bool(message.acceptEmpty);
    }
    if (message.emptyLabel !== void 0) {
      writer.uint32(18).string(message.emptyLabel);
    }
    for (const v of message.options) {
      writer.uint32(26).string(v);
    }
    if (message.selectedIndex !== void 0) {
      writer.uint32(32).int32(message.selectedIndex);
    }
    if (message.disabled === true) {
      writer.uint32(40).bool(message.disabled);
    }
    if (message.color !== void 0) {
      Color4.encode(message.color, writer.uint32(50).fork()).ldelim();
    }
    if (message.textAlign !== void 0) {
      writer.uint32(80).int32(message.textAlign);
    }
    if (message.font !== void 0) {
      writer.uint32(88).int32(message.font);
    }
    if (message.fontSize !== void 0) {
      writer.uint32(96).int32(message.fontSize);
    }
    return writer;
  }
  PBUiDropdown2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal30.default.Reader ? input : import_minimal30.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiDropdown();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.acceptEmpty = reader.bool();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.emptyLabel = reader.string();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.options.push(reader.string());
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.selectedIndex = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.disabled = reader.bool();
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.color = Color4.decode(reader, reader.uint32());
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.textAlign = reader.int32();
          continue;
        case 11:
          if (tag !== 88) {
            break;
          }
          message.font = reader.int32();
          continue;
        case 12:
          if (tag !== 96) {
            break;
          }
          message.fontSize = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiDropdown2.decode = decode;
})(PBUiDropdown || (PBUiDropdown = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiDropdown.gen.js
var UiDropdownSchema = {
  COMPONENT_ID: 1094,
  serialize(value, builder) {
    const writer = PBUiDropdown.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBUiDropdown.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiDropdown.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiDropdown"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_dropdown_result.gen.js
var import_minimal31 = __toESM(require_minimal2());
function createBasePBUiDropdownResult() {
  return { value: 0 };
}
var PBUiDropdownResult;
(function(PBUiDropdownResult2) {
  function encode(message, writer = import_minimal31.default.Writer.create()) {
    if (message.value !== 0) {
      writer.uint32(8).int32(message.value);
    }
    return writer;
  }
  PBUiDropdownResult2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal31.default.Reader ? input : import_minimal31.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiDropdownResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.value = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiDropdownResult2.decode = decode;
})(PBUiDropdownResult || (PBUiDropdownResult = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiDropdownResult.gen.js
var UiDropdownResultSchema = {
  COMPONENT_ID: 1096,
  serialize(value, builder) {
    const writer = PBUiDropdownResult.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBUiDropdownResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiDropdownResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiDropdownResult"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_input.gen.js
var import_minimal32 = __toESM(require_minimal2());
function createBasePBUiInput() {
  return {
    placeholder: "",
    color: void 0,
    placeholderColor: void 0,
    disabled: false,
    textAlign: void 0,
    font: void 0,
    fontSize: void 0,
    value: void 0
  };
}
var PBUiInput;
(function(PBUiInput2) {
  function encode(message, writer = import_minimal32.default.Writer.create()) {
    if (message.placeholder !== "") {
      writer.uint32(10).string(message.placeholder);
    }
    if (message.color !== void 0) {
      Color4.encode(message.color, writer.uint32(18).fork()).ldelim();
    }
    if (message.placeholderColor !== void 0) {
      Color4.encode(message.placeholderColor, writer.uint32(26).fork()).ldelim();
    }
    if (message.disabled === true) {
      writer.uint32(32).bool(message.disabled);
    }
    if (message.textAlign !== void 0) {
      writer.uint32(80).int32(message.textAlign);
    }
    if (message.font !== void 0) {
      writer.uint32(88).int32(message.font);
    }
    if (message.fontSize !== void 0) {
      writer.uint32(96).int32(message.fontSize);
    }
    if (message.value !== void 0) {
      writer.uint32(106).string(message.value);
    }
    return writer;
  }
  PBUiInput2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal32.default.Reader ? input : import_minimal32.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiInput();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.placeholder = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.color = Color4.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.placeholderColor = Color4.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.disabled = reader.bool();
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.textAlign = reader.int32();
          continue;
        case 11:
          if (tag !== 88) {
            break;
          }
          message.font = reader.int32();
          continue;
        case 12:
          if (tag !== 96) {
            break;
          }
          message.fontSize = reader.int32();
          continue;
        case 13:
          if (tag !== 106) {
            break;
          }
          message.value = reader.string();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiInput2.decode = decode;
})(PBUiInput || (PBUiInput = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiInput.gen.js
var UiInputSchema = {
  COMPONENT_ID: 1093,
  serialize(value, builder) {
    const writer = PBUiInput.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBUiInput.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiInput.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiInput"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_input_result.gen.js
var import_minimal33 = __toESM(require_minimal2());
function createBasePBUiInputResult() {
  return { value: "" };
}
var PBUiInputResult;
(function(PBUiInputResult2) {
  function encode(message, writer = import_minimal33.default.Writer.create()) {
    if (message.value !== "") {
      writer.uint32(10).string(message.value);
    }
    return writer;
  }
  PBUiInputResult2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal33.default.Reader ? input : import_minimal33.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiInputResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.value = reader.string();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiInputResult2.decode = decode;
})(PBUiInputResult || (PBUiInputResult = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiInputResult.gen.js
var UiInputResultSchema = {
  COMPONENT_ID: 1095,
  serialize(value, builder) {
    const writer = PBUiInputResult.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBUiInputResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiInputResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiInputResult"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_text.gen.js
var import_minimal34 = __toESM(require_minimal2());
function createBasePBUiText() {
  return { value: "", color: void 0, textAlign: void 0, font: void 0, fontSize: void 0 };
}
var PBUiText;
(function(PBUiText2) {
  function encode(message, writer = import_minimal34.default.Writer.create()) {
    if (message.value !== "") {
      writer.uint32(10).string(message.value);
    }
    if (message.color !== void 0) {
      Color4.encode(message.color, writer.uint32(18).fork()).ldelim();
    }
    if (message.textAlign !== void 0) {
      writer.uint32(24).int32(message.textAlign);
    }
    if (message.font !== void 0) {
      writer.uint32(32).int32(message.font);
    }
    if (message.fontSize !== void 0) {
      writer.uint32(40).int32(message.fontSize);
    }
    return writer;
  }
  PBUiText2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal34.default.Reader ? input : import_minimal34.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiText();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.value = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.color = Color4.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.textAlign = reader.int32();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.font = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.fontSize = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiText2.decode = decode;
})(PBUiText || (PBUiText = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiText.gen.js
var UiTextSchema = {
  COMPONENT_ID: 1052,
  serialize(value, builder) {
    const writer = PBUiText.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBUiText.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiText.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiText"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_transform.gen.js
var import_minimal35 = __toESM(require_minimal2());
var YGPositionType;
(function(YGPositionType2) {
  YGPositionType2[YGPositionType2["YGPT_RELATIVE"] = 0] = "YGPT_RELATIVE";
  YGPositionType2[YGPositionType2["YGPT_ABSOLUTE"] = 1] = "YGPT_ABSOLUTE";
})(YGPositionType || (YGPositionType = {}));
var YGAlign;
(function(YGAlign2) {
  YGAlign2[YGAlign2["YGA_AUTO"] = 0] = "YGA_AUTO";
  YGAlign2[YGAlign2["YGA_FLEX_START"] = 1] = "YGA_FLEX_START";
  YGAlign2[YGAlign2["YGA_CENTER"] = 2] = "YGA_CENTER";
  YGAlign2[YGAlign2["YGA_FLEX_END"] = 3] = "YGA_FLEX_END";
  YGAlign2[YGAlign2["YGA_STRETCH"] = 4] = "YGA_STRETCH";
  YGAlign2[YGAlign2["YGA_BASELINE"] = 5] = "YGA_BASELINE";
  YGAlign2[YGAlign2["YGA_SPACE_BETWEEN"] = 6] = "YGA_SPACE_BETWEEN";
  YGAlign2[YGAlign2["YGA_SPACE_AROUND"] = 7] = "YGA_SPACE_AROUND";
})(YGAlign || (YGAlign = {}));
var YGUnit;
(function(YGUnit2) {
  YGUnit2[YGUnit2["YGU_UNDEFINED"] = 0] = "YGU_UNDEFINED";
  YGUnit2[YGUnit2["YGU_POINT"] = 1] = "YGU_POINT";
  YGUnit2[YGUnit2["YGU_PERCENT"] = 2] = "YGU_PERCENT";
  YGUnit2[YGUnit2["YGU_AUTO"] = 3] = "YGU_AUTO";
})(YGUnit || (YGUnit = {}));
var YGFlexDirection;
(function(YGFlexDirection2) {
  YGFlexDirection2[YGFlexDirection2["YGFD_ROW"] = 0] = "YGFD_ROW";
  YGFlexDirection2[YGFlexDirection2["YGFD_COLUMN"] = 1] = "YGFD_COLUMN";
  YGFlexDirection2[YGFlexDirection2["YGFD_COLUMN_REVERSE"] = 2] = "YGFD_COLUMN_REVERSE";
  YGFlexDirection2[YGFlexDirection2["YGFD_ROW_REVERSE"] = 3] = "YGFD_ROW_REVERSE";
})(YGFlexDirection || (YGFlexDirection = {}));
var YGWrap;
(function(YGWrap2) {
  YGWrap2[YGWrap2["YGW_NO_WRAP"] = 0] = "YGW_NO_WRAP";
  YGWrap2[YGWrap2["YGW_WRAP"] = 1] = "YGW_WRAP";
  YGWrap2[YGWrap2["YGW_WRAP_REVERSE"] = 2] = "YGW_WRAP_REVERSE";
})(YGWrap || (YGWrap = {}));
var YGJustify;
(function(YGJustify2) {
  YGJustify2[YGJustify2["YGJ_FLEX_START"] = 0] = "YGJ_FLEX_START";
  YGJustify2[YGJustify2["YGJ_CENTER"] = 1] = "YGJ_CENTER";
  YGJustify2[YGJustify2["YGJ_FLEX_END"] = 2] = "YGJ_FLEX_END";
  YGJustify2[YGJustify2["YGJ_SPACE_BETWEEN"] = 3] = "YGJ_SPACE_BETWEEN";
  YGJustify2[YGJustify2["YGJ_SPACE_AROUND"] = 4] = "YGJ_SPACE_AROUND";
  YGJustify2[YGJustify2["YGJ_SPACE_EVENLY"] = 5] = "YGJ_SPACE_EVENLY";
})(YGJustify || (YGJustify = {}));
var YGOverflow;
(function(YGOverflow2) {
  YGOverflow2[YGOverflow2["YGO_VISIBLE"] = 0] = "YGO_VISIBLE";
  YGOverflow2[YGOverflow2["YGO_HIDDEN"] = 1] = "YGO_HIDDEN";
  YGOverflow2[YGOverflow2["YGO_SCROLL"] = 2] = "YGO_SCROLL";
})(YGOverflow || (YGOverflow = {}));
var YGDisplay;
(function(YGDisplay2) {
  YGDisplay2[YGDisplay2["YGD_FLEX"] = 0] = "YGD_FLEX";
  YGDisplay2[YGDisplay2["YGD_NONE"] = 1] = "YGD_NONE";
})(YGDisplay || (YGDisplay = {}));
var YGEdge;
(function(YGEdge2) {
  YGEdge2[YGEdge2["YGE_LEFT"] = 0] = "YGE_LEFT";
  YGEdge2[YGEdge2["YGE_TOP"] = 1] = "YGE_TOP";
  YGEdge2[YGEdge2["YGE_RIGHT"] = 2] = "YGE_RIGHT";
  YGEdge2[YGEdge2["YGE_BOTTOM"] = 3] = "YGE_BOTTOM";
  YGEdge2[YGEdge2["YGE_START"] = 4] = "YGE_START";
  YGEdge2[YGEdge2["YGE_END"] = 5] = "YGE_END";
  YGEdge2[YGEdge2["YGE_HORIZONTAL"] = 6] = "YGE_HORIZONTAL";
  YGEdge2[YGEdge2["YGE_VERTICAL"] = 7] = "YGE_VERTICAL";
  YGEdge2[YGEdge2["YGE_ALL"] = 8] = "YGE_ALL";
})(YGEdge || (YGEdge = {}));
function createBasePBUiTransform() {
  return {
    parent: 0,
    rightOf: 0,
    alignContent: void 0,
    alignItems: void 0,
    flexWrap: void 0,
    flexShrink: void 0,
    positionType: 0,
    alignSelf: 0,
    flexDirection: 0,
    justifyContent: 0,
    overflow: 0,
    display: 0,
    flexBasisUnit: 0,
    flexBasis: 0,
    flexGrow: 0,
    widthUnit: 0,
    width: 0,
    heightUnit: 0,
    height: 0,
    minWidthUnit: 0,
    minWidth: 0,
    minHeightUnit: 0,
    minHeight: 0,
    maxWidthUnit: 0,
    maxWidth: 0,
    maxHeightUnit: 0,
    maxHeight: 0,
    positionLeftUnit: 0,
    positionLeft: 0,
    positionTopUnit: 0,
    positionTop: 0,
    positionRightUnit: 0,
    positionRight: 0,
    positionBottomUnit: 0,
    positionBottom: 0,
    marginLeftUnit: 0,
    marginLeft: 0,
    marginTopUnit: 0,
    marginTop: 0,
    marginRightUnit: 0,
    marginRight: 0,
    marginBottomUnit: 0,
    marginBottom: 0,
    paddingLeftUnit: 0,
    paddingLeft: 0,
    paddingTopUnit: 0,
    paddingTop: 0,
    paddingRightUnit: 0,
    paddingRight: 0,
    paddingBottomUnit: 0,
    paddingBottom: 0
  };
}
var PBUiTransform;
(function(PBUiTransform2) {
  function encode(message, writer = import_minimal35.default.Writer.create()) {
    if (message.parent !== 0) {
      writer.uint32(8).int32(message.parent);
    }
    if (message.rightOf !== 0) {
      writer.uint32(16).int32(message.rightOf);
    }
    if (message.alignContent !== void 0) {
      writer.uint32(24).int32(message.alignContent);
    }
    if (message.alignItems !== void 0) {
      writer.uint32(32).int32(message.alignItems);
    }
    if (message.flexWrap !== void 0) {
      writer.uint32(40).int32(message.flexWrap);
    }
    if (message.flexShrink !== void 0) {
      writer.uint32(53).float(message.flexShrink);
    }
    if (message.positionType !== 0) {
      writer.uint32(56).int32(message.positionType);
    }
    if (message.alignSelf !== 0) {
      writer.uint32(64).int32(message.alignSelf);
    }
    if (message.flexDirection !== 0) {
      writer.uint32(72).int32(message.flexDirection);
    }
    if (message.justifyContent !== 0) {
      writer.uint32(80).int32(message.justifyContent);
    }
    if (message.overflow !== 0) {
      writer.uint32(88).int32(message.overflow);
    }
    if (message.display !== 0) {
      writer.uint32(96).int32(message.display);
    }
    if (message.flexBasisUnit !== 0) {
      writer.uint32(104).int32(message.flexBasisUnit);
    }
    if (message.flexBasis !== 0) {
      writer.uint32(117).float(message.flexBasis);
    }
    if (message.flexGrow !== 0) {
      writer.uint32(125).float(message.flexGrow);
    }
    if (message.widthUnit !== 0) {
      writer.uint32(128).int32(message.widthUnit);
    }
    if (message.width !== 0) {
      writer.uint32(141).float(message.width);
    }
    if (message.heightUnit !== 0) {
      writer.uint32(144).int32(message.heightUnit);
    }
    if (message.height !== 0) {
      writer.uint32(157).float(message.height);
    }
    if (message.minWidthUnit !== 0) {
      writer.uint32(160).int32(message.minWidthUnit);
    }
    if (message.minWidth !== 0) {
      writer.uint32(173).float(message.minWidth);
    }
    if (message.minHeightUnit !== 0) {
      writer.uint32(176).int32(message.minHeightUnit);
    }
    if (message.minHeight !== 0) {
      writer.uint32(189).float(message.minHeight);
    }
    if (message.maxWidthUnit !== 0) {
      writer.uint32(192).int32(message.maxWidthUnit);
    }
    if (message.maxWidth !== 0) {
      writer.uint32(205).float(message.maxWidth);
    }
    if (message.maxHeightUnit !== 0) {
      writer.uint32(208).int32(message.maxHeightUnit);
    }
    if (message.maxHeight !== 0) {
      writer.uint32(221).float(message.maxHeight);
    }
    if (message.positionLeftUnit !== 0) {
      writer.uint32(224).int32(message.positionLeftUnit);
    }
    if (message.positionLeft !== 0) {
      writer.uint32(237).float(message.positionLeft);
    }
    if (message.positionTopUnit !== 0) {
      writer.uint32(240).int32(message.positionTopUnit);
    }
    if (message.positionTop !== 0) {
      writer.uint32(253).float(message.positionTop);
    }
    if (message.positionRightUnit !== 0) {
      writer.uint32(256).int32(message.positionRightUnit);
    }
    if (message.positionRight !== 0) {
      writer.uint32(269).float(message.positionRight);
    }
    if (message.positionBottomUnit !== 0) {
      writer.uint32(272).int32(message.positionBottomUnit);
    }
    if (message.positionBottom !== 0) {
      writer.uint32(285).float(message.positionBottom);
    }
    if (message.marginLeftUnit !== 0) {
      writer.uint32(288).int32(message.marginLeftUnit);
    }
    if (message.marginLeft !== 0) {
      writer.uint32(301).float(message.marginLeft);
    }
    if (message.marginTopUnit !== 0) {
      writer.uint32(304).int32(message.marginTopUnit);
    }
    if (message.marginTop !== 0) {
      writer.uint32(317).float(message.marginTop);
    }
    if (message.marginRightUnit !== 0) {
      writer.uint32(320).int32(message.marginRightUnit);
    }
    if (message.marginRight !== 0) {
      writer.uint32(333).float(message.marginRight);
    }
    if (message.marginBottomUnit !== 0) {
      writer.uint32(336).int32(message.marginBottomUnit);
    }
    if (message.marginBottom !== 0) {
      writer.uint32(349).float(message.marginBottom);
    }
    if (message.paddingLeftUnit !== 0) {
      writer.uint32(352).int32(message.paddingLeftUnit);
    }
    if (message.paddingLeft !== 0) {
      writer.uint32(365).float(message.paddingLeft);
    }
    if (message.paddingTopUnit !== 0) {
      writer.uint32(368).int32(message.paddingTopUnit);
    }
    if (message.paddingTop !== 0) {
      writer.uint32(381).float(message.paddingTop);
    }
    if (message.paddingRightUnit !== 0) {
      writer.uint32(384).int32(message.paddingRightUnit);
    }
    if (message.paddingRight !== 0) {
      writer.uint32(397).float(message.paddingRight);
    }
    if (message.paddingBottomUnit !== 0) {
      writer.uint32(400).int32(message.paddingBottomUnit);
    }
    if (message.paddingBottom !== 0) {
      writer.uint32(413).float(message.paddingBottom);
    }
    return writer;
  }
  PBUiTransform2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal35.default.Reader ? input : import_minimal35.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiTransform();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.parent = reader.int32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.rightOf = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.alignContent = reader.int32();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.alignItems = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.flexWrap = reader.int32();
          continue;
        case 6:
          if (tag !== 53) {
            break;
          }
          message.flexShrink = reader.float();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.positionType = reader.int32();
          continue;
        case 8:
          if (tag !== 64) {
            break;
          }
          message.alignSelf = reader.int32();
          continue;
        case 9:
          if (tag !== 72) {
            break;
          }
          message.flexDirection = reader.int32();
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.justifyContent = reader.int32();
          continue;
        case 11:
          if (tag !== 88) {
            break;
          }
          message.overflow = reader.int32();
          continue;
        case 12:
          if (tag !== 96) {
            break;
          }
          message.display = reader.int32();
          continue;
        case 13:
          if (tag !== 104) {
            break;
          }
          message.flexBasisUnit = reader.int32();
          continue;
        case 14:
          if (tag !== 117) {
            break;
          }
          message.flexBasis = reader.float();
          continue;
        case 15:
          if (tag !== 125) {
            break;
          }
          message.flexGrow = reader.float();
          continue;
        case 16:
          if (tag !== 128) {
            break;
          }
          message.widthUnit = reader.int32();
          continue;
        case 17:
          if (tag !== 141) {
            break;
          }
          message.width = reader.float();
          continue;
        case 18:
          if (tag !== 144) {
            break;
          }
          message.heightUnit = reader.int32();
          continue;
        case 19:
          if (tag !== 157) {
            break;
          }
          message.height = reader.float();
          continue;
        case 20:
          if (tag !== 160) {
            break;
          }
          message.minWidthUnit = reader.int32();
          continue;
        case 21:
          if (tag !== 173) {
            break;
          }
          message.minWidth = reader.float();
          continue;
        case 22:
          if (tag !== 176) {
            break;
          }
          message.minHeightUnit = reader.int32();
          continue;
        case 23:
          if (tag !== 189) {
            break;
          }
          message.minHeight = reader.float();
          continue;
        case 24:
          if (tag !== 192) {
            break;
          }
          message.maxWidthUnit = reader.int32();
          continue;
        case 25:
          if (tag !== 205) {
            break;
          }
          message.maxWidth = reader.float();
          continue;
        case 26:
          if (tag !== 208) {
            break;
          }
          message.maxHeightUnit = reader.int32();
          continue;
        case 27:
          if (tag !== 221) {
            break;
          }
          message.maxHeight = reader.float();
          continue;
        case 28:
          if (tag !== 224) {
            break;
          }
          message.positionLeftUnit = reader.int32();
          continue;
        case 29:
          if (tag !== 237) {
            break;
          }
          message.positionLeft = reader.float();
          continue;
        case 30:
          if (tag !== 240) {
            break;
          }
          message.positionTopUnit = reader.int32();
          continue;
        case 31:
          if (tag !== 253) {
            break;
          }
          message.positionTop = reader.float();
          continue;
        case 32:
          if (tag !== 256) {
            break;
          }
          message.positionRightUnit = reader.int32();
          continue;
        case 33:
          if (tag !== 269) {
            break;
          }
          message.positionRight = reader.float();
          continue;
        case 34:
          if (tag !== 272) {
            break;
          }
          message.positionBottomUnit = reader.int32();
          continue;
        case 35:
          if (tag !== 285) {
            break;
          }
          message.positionBottom = reader.float();
          continue;
        case 36:
          if (tag !== 288) {
            break;
          }
          message.marginLeftUnit = reader.int32();
          continue;
        case 37:
          if (tag !== 301) {
            break;
          }
          message.marginLeft = reader.float();
          continue;
        case 38:
          if (tag !== 304) {
            break;
          }
          message.marginTopUnit = reader.int32();
          continue;
        case 39:
          if (tag !== 317) {
            break;
          }
          message.marginTop = reader.float();
          continue;
        case 40:
          if (tag !== 320) {
            break;
          }
          message.marginRightUnit = reader.int32();
          continue;
        case 41:
          if (tag !== 333) {
            break;
          }
          message.marginRight = reader.float();
          continue;
        case 42:
          if (tag !== 336) {
            break;
          }
          message.marginBottomUnit = reader.int32();
          continue;
        case 43:
          if (tag !== 349) {
            break;
          }
          message.marginBottom = reader.float();
          continue;
        case 44:
          if (tag !== 352) {
            break;
          }
          message.paddingLeftUnit = reader.int32();
          continue;
        case 45:
          if (tag !== 365) {
            break;
          }
          message.paddingLeft = reader.float();
          continue;
        case 46:
          if (tag !== 368) {
            break;
          }
          message.paddingTopUnit = reader.int32();
          continue;
        case 47:
          if (tag !== 381) {
            break;
          }
          message.paddingTop = reader.float();
          continue;
        case 48:
          if (tag !== 384) {
            break;
          }
          message.paddingRightUnit = reader.int32();
          continue;
        case 49:
          if (tag !== 397) {
            break;
          }
          message.paddingRight = reader.float();
          continue;
        case 50:
          if (tag !== 400) {
            break;
          }
          message.paddingBottomUnit = reader.int32();
          continue;
        case 51:
          if (tag !== 413) {
            break;
          }
          message.paddingBottom = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiTransform2.decode = decode;
})(PBUiTransform || (PBUiTransform = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiTransform.gen.js
var UiTransformSchema = {
  COMPONENT_ID: 1050,
  serialize(value, builder) {
    const writer = PBUiTransform.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBUiTransform.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiTransform.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiTransform"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/video_event.gen.js
var import_minimal36 = __toESM(require_minimal2());
var VideoState;
(function(VideoState2) {
  VideoState2[VideoState2["VS_NONE"] = 0] = "VS_NONE";
  VideoState2[VideoState2["VS_ERROR"] = 1] = "VS_ERROR";
  VideoState2[VideoState2["VS_LOADING"] = 2] = "VS_LOADING";
  VideoState2[VideoState2["VS_READY"] = 3] = "VS_READY";
  VideoState2[VideoState2["VS_PLAYING"] = 4] = "VS_PLAYING";
  VideoState2[VideoState2["VS_BUFFERING"] = 5] = "VS_BUFFERING";
  VideoState2[VideoState2["VS_SEEKING"] = 6] = "VS_SEEKING";
  VideoState2[VideoState2["VS_PAUSED"] = 7] = "VS_PAUSED";
})(VideoState || (VideoState = {}));
function createBasePBVideoEvent() {
  return { timestamp: 0, tickNumber: 0, currentOffset: 0, videoLength: 0, state: 0 };
}
var PBVideoEvent;
(function(PBVideoEvent2) {
  function encode(message, writer = import_minimal36.default.Writer.create()) {
    if (message.timestamp !== 0) {
      writer.uint32(8).uint32(message.timestamp);
    }
    if (message.tickNumber !== 0) {
      writer.uint32(16).uint32(message.tickNumber);
    }
    if (message.currentOffset !== 0) {
      writer.uint32(29).float(message.currentOffset);
    }
    if (message.videoLength !== 0) {
      writer.uint32(37).float(message.videoLength);
    }
    if (message.state !== 0) {
      writer.uint32(40).int32(message.state);
    }
    return writer;
  }
  PBVideoEvent2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal36.default.Reader ? input : import_minimal36.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBVideoEvent();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.tickNumber = reader.uint32();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.currentOffset = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.videoLength = reader.float();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.state = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBVideoEvent2.decode = decode;
})(PBVideoEvent || (PBVideoEvent = {}));

// node_modules/@dcl/ecs/dist/components/generated/VideoEvent.gen.js
var VideoEventSchema = {
  COMPONENT_ID: 1044,
  serialize(value, builder) {
    const writer = PBVideoEvent.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBVideoEvent.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBVideoEvent.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBVideoEvent"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/video_player.gen.js
var import_minimal37 = __toESM(require_minimal2());
function createBasePBVideoPlayer() {
  return {
    src: "",
    playing: void 0,
    position: void 0,
    volume: void 0,
    playbackRate: void 0,
    loop: void 0
  };
}
var PBVideoPlayer;
(function(PBVideoPlayer2) {
  function encode(message, writer = import_minimal37.default.Writer.create()) {
    if (message.src !== "") {
      writer.uint32(10).string(message.src);
    }
    if (message.playing !== void 0) {
      writer.uint32(16).bool(message.playing);
    }
    if (message.position !== void 0) {
      writer.uint32(29).float(message.position);
    }
    if (message.volume !== void 0) {
      writer.uint32(37).float(message.volume);
    }
    if (message.playbackRate !== void 0) {
      writer.uint32(45).float(message.playbackRate);
    }
    if (message.loop !== void 0) {
      writer.uint32(48).bool(message.loop);
    }
    return writer;
  }
  PBVideoPlayer2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal37.default.Reader ? input : import_minimal37.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBVideoPlayer();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.src = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.position = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.volume = reader.float();
          continue;
        case 5:
          if (tag !== 45) {
            break;
          }
          message.playbackRate = reader.float();
          continue;
        case 6:
          if (tag !== 48) {
            break;
          }
          message.loop = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBVideoPlayer2.decode = decode;
})(PBVideoPlayer || (PBVideoPlayer = {}));

// node_modules/@dcl/ecs/dist/components/generated/VideoPlayer.gen.js
var VideoPlayerSchema = {
  COMPONENT_ID: 1043,
  serialize(value, builder) {
    const writer = PBVideoPlayer.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBVideoPlayer.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBVideoPlayer.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBVideoPlayer"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/visibility_component.gen.js
var import_minimal38 = __toESM(require_minimal2());
function createBasePBVisibilityComponent() {
  return { visible: void 0 };
}
var PBVisibilityComponent;
(function(PBVisibilityComponent2) {
  function encode(message, writer = import_minimal38.default.Writer.create()) {
    if (message.visible !== void 0) {
      writer.uint32(8).bool(message.visible);
    }
    return writer;
  }
  PBVisibilityComponent2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal38.default.Reader ? input : import_minimal38.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBVisibilityComponent();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.visible = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBVisibilityComponent2.decode = decode;
})(PBVisibilityComponent || (PBVisibilityComponent = {}));

// node_modules/@dcl/ecs/dist/components/generated/VisibilityComponent.gen.js
var VisibilityComponentSchema = {
  COMPONENT_ID: 1081,
  serialize(value, builder) {
    const writer = PBVisibilityComponent.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBVisibilityComponent.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBVisibilityComponent.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBVisibilityComponent"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/index.gen.js
var Animator = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::Animator", AnimatorSchema);
var AudioSource = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AudioSource", AudioSourceSchema);
var AudioStream = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AudioStream", AudioStreamSchema);
var AvatarAttach = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AvatarAttach", AvatarAttachSchema);
var AvatarModifierArea = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AvatarModifierArea", AvatarModifierAreaSchema);
var AvatarShape = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AvatarShape", AvatarShapeSchema);
var Billboard = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::Billboard", BillboardSchema);
var CameraMode = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::CameraMode", CameraModeSchema);
var CameraModeArea = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::CameraModeArea", CameraModeAreaSchema);
var EngineInfo = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::EngineInfo", EngineInfoSchema);
var GltfContainer = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::GltfContainer", GltfContainerSchema);
var GltfContainerLoadingState = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::GltfContainerLoadingState", GltfContainerLoadingStateSchema);
var Material = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::Material", MaterialSchema);
var MeshCollider = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::MeshCollider", MeshColliderSchema);
var MeshRenderer = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::MeshRenderer", MeshRendererSchema);
var NftShape = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::NftShape", NftShapeSchema);
var PointerEvents = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::PointerEvents", PointerEventsSchema);
var PointerEventsResult = (engine2) => /* @__PURE__ */ engine2.defineValueSetComponentFromSchema("core::PointerEventsResult", PointerEventsResultSchema, {
  timestampFunction: (t) => t.timestamp,
  maxElements: 100
});
var PointerLock = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::PointerLock", PointerLockSchema);
var Raycast = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::Raycast", RaycastSchema);
var RaycastResult = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::RaycastResult", RaycastResultSchema);
var TextShape = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::TextShape", TextShapeSchema);
var UiBackground = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiBackground", UiBackgroundSchema);
var UiCanvasInformation = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiCanvasInformation", UiCanvasInformationSchema);
var UiDropdown = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiDropdown", UiDropdownSchema);
var UiDropdownResult = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiDropdownResult", UiDropdownResultSchema);
var UiInput = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiInput", UiInputSchema);
var UiInputResult = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiInputResult", UiInputResultSchema);
var UiText = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiText", UiTextSchema);
var UiTransform = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiTransform", UiTransformSchema);
var VideoEvent = (engine2) => /* @__PURE__ */ engine2.defineValueSetComponentFromSchema("core::VideoEvent", VideoEventSchema, {
  timestampFunction: (t) => t.timestamp,
  maxElements: 100
});
var VideoPlayer = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::VideoPlayer", VideoPlayerSchema);
var VisibilityComponent = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::VisibilityComponent", VisibilityComponentSchema);
var componentDefinitionByName = {
  "core::Animator": Animator,
  "core::AudioSource": AudioSource,
  "core::AudioStream": AudioStream,
  "core::AvatarAttach": AvatarAttach,
  "core::AvatarModifierArea": AvatarModifierArea,
  "core::AvatarShape": AvatarShape,
  "core::Billboard": Billboard,
  "core::CameraMode": CameraMode,
  "core::CameraModeArea": CameraModeArea,
  "core::EngineInfo": EngineInfo,
  "core::GltfContainer": GltfContainer,
  "core::GltfContainerLoadingState": GltfContainerLoadingState,
  "core::Material": Material,
  "core::MeshCollider": MeshCollider,
  "core::MeshRenderer": MeshRenderer,
  "core::NftShape": NftShape,
  "core::PointerEvents": PointerEvents,
  "core::PointerEventsResult": PointerEventsResult,
  "core::PointerLock": PointerLock,
  "core::Raycast": Raycast,
  "core::RaycastResult": RaycastResult,
  "core::TextShape": TextShape,
  "core::UiBackground": UiBackground,
  "core::UiCanvasInformation": UiCanvasInformation,
  "core::UiDropdown": UiDropdown,
  "core::UiDropdownResult": UiDropdownResult,
  "core::UiInput": UiInput,
  "core::UiInputResult": UiInputResult,
  "core::UiText": UiText,
  "core::UiTransform": UiTransform,
  "core::VideoEvent": VideoEvent,
  "core::VideoPlayer": VideoPlayer,
  "core::VisibilityComponent": VisibilityComponent
};

// node_modules/@dcl/ecs/dist/components/extended/Material.js
var TextureHelper = {
  Common(texture) {
    return {
      tex: {
        $case: "texture",
        texture
      }
    };
  },
  Avatar(avatarTexture) {
    return {
      tex: {
        $case: "avatarTexture",
        avatarTexture
      }
    };
  },
  Video(videoTexture) {
    return {
      tex: {
        $case: "videoTexture",
        videoTexture
      }
    };
  }
};
function defineMaterialComponent(engine2) {
  const theComponent = Material(engine2);
  return {
    ...theComponent,
    Texture: TextureHelper,
    setBasicMaterial(entity, material) {
      theComponent.createOrReplace(entity, {
        material: {
          $case: "unlit",
          unlit: material
        }
      });
    },
    setPbrMaterial(entity, material) {
      theComponent.createOrReplace(entity, {
        material: {
          $case: "pbr",
          pbr: material
        }
      });
    }
  };
}

// node_modules/@dcl/ecs/dist/components/extended/MeshCollider.js
function defineMeshColliderComponent(engine2) {
  const theComponent = MeshCollider(engine2);
  function getCollisionMask(layers) {
    if (Array.isArray(layers)) {
      return layers.map((item) => item).reduce((prev, item) => prev | item, 0);
    } else if (layers) {
      return layers;
    }
  }
  return {
    ...theComponent,
    setBox(entity, colliderLayers) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "box", box: {} },
        collisionMask: getCollisionMask(colliderLayers)
      });
    },
    setPlane(entity, colliderLayers) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "plane", plane: {} },
        collisionMask: getCollisionMask(colliderLayers)
      });
    },
    setCylinder(entity, radiusBottom, radiusTop, colliderLayers) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "cylinder", cylinder: { radiusBottom, radiusTop } },
        collisionMask: getCollisionMask(colliderLayers)
      });
    },
    setSphere(entity, colliderLayers) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "sphere", sphere: {} },
        collisionMask: getCollisionMask(colliderLayers)
      });
    }
  };
}

// node_modules/@dcl/ecs/dist/components/extended/MeshRenderer.js
function defineMeshRendererComponent(engine2) {
  const theComponent = MeshRenderer(engine2);
  return {
    ...theComponent,
    setBox(entity, uvs) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "box", box: { uvs: uvs || [] } }
      });
    },
    setPlane(entity, uvs) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "plane", plane: { uvs: uvs || [] } }
      });
    },
    setCylinder(entity, radiusBottom, radiusTop) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "cylinder", cylinder: { radiusBottom, radiusTop } }
      });
    },
    setSphere(entity) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "sphere", sphere: {} }
      });
    }
  };
}

// node_modules/@dcl/ecs/dist/schemas/Array.js
var IArray = (type) => {
  return {
    serialize(value, builder) {
      builder.writeUint32(value.length);
      for (const item of value) {
        type.serialize(item, builder);
      }
    },
    deserialize(reader) {
      const newArray = [];
      const length2 = reader.readUint32();
      for (let index = 0; index < length2; index++) {
        newArray.push(type.deserialize(reader));
      }
      return newArray;
    },
    create() {
      return [];
    },
    jsonSchema: {
      type: "array",
      items: type.jsonSchema,
      serializationType: "array"
    }
  };
};

// node_modules/@dcl/ecs/dist/schemas/basic/Boolean.js
var Bool = {
  serialize(value, builder) {
    builder.writeInt8(value ? 1 : 0);
  },
  deserialize(reader) {
    return reader.readInt8() === 1;
  },
  create() {
    return false;
  },
  jsonSchema: {
    type: "boolean",
    serializationType: "boolean"
  }
};

// node_modules/@dcl/ecs/dist/schemas/basic/Integer.js
var Int64 = {
  serialize(value, builder) {
    builder.writeInt64(BigInt(value));
  },
  deserialize(reader) {
    return Number(reader.readInt64());
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "integer",
    serializationType: "int64"
  }
};
var Int32 = {
  serialize(value, builder) {
    builder.writeInt32(value);
  },
  deserialize(reader) {
    return reader.readInt32();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "integer",
    serializationType: "int32"
  }
};
var Int16 = {
  serialize(value, builder) {
    builder.writeInt16(value);
  },
  deserialize(reader) {
    return reader.readInt16();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "integer",
    serializationType: "int16"
  }
};
var Int8 = {
  serialize(value, builder) {
    builder.writeInt8(value);
  },
  deserialize(reader) {
    return reader.readInt8();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "integer",
    serializationType: "int8"
  }
};

// node_modules/@dcl/ecs/dist/schemas/basic/String.js
var FlatString = {
  serialize(value, builder) {
    builder.writeUtf8String(value);
  },
  deserialize(reader) {
    return reader.readUtf8String();
  },
  create() {
    return "";
  },
  jsonSchema: {
    type: "string",
    serializationType: "utf8-string"
  }
};
var EcsString = FlatString;

// node_modules/@dcl/ecs/dist/schemas/basic/Enum.js
function validateMemberValuesAreNumbersAndInRangeInt32(enumValue) {
  const MIN_VALUE = -(2 ** 31), MAX_VALUE = 2 ** 31 - 1;
  let valueCount = 0, totalCount = 0;
  for (const key in enumValue) {
    if (typeof enumValue[key] === "number") {
      if (enumValue[key] > MAX_VALUE || enumValue[key] < MIN_VALUE) {
        throw new Error(`Enum member values must be numbers within the range of ${MIN_VALUE} to ${MAX_VALUE}.`);
      }
      valueCount++;
    }
    totalCount++;
  }
  if (totalCount !== valueCount * 2) {
    throw new Error("All enum member values must be of numeric type.");
  }
}
function validateMemberValuesAreStrings(enumValue) {
  for (const key in enumValue) {
    if (typeof enumValue[key] !== "string") {
      throw new Error("All enum member values must be of string type.");
    }
  }
}
var IntEnumReflectionType = "enum-int";
var IntEnum = (enumObject, defaultValue) => {
  validateMemberValuesAreNumbersAndInRangeInt32(enumObject);
  return {
    serialize(value, builder) {
      Int32.serialize(value, builder);
    },
    deserialize(reader) {
      return Int32.deserialize(reader);
    },
    create() {
      return defaultValue;
    },
    jsonSchema: {
      // JSON-schema
      type: "integer",
      enum: Object.values(enumObject).filter((item) => Number.isInteger(item)),
      default: defaultValue,
      // @dcl/ecs Schema Spec
      serializationType: IntEnumReflectionType,
      enumObject
    }
  };
};
var StringEnumReflectionType = "enum-string";
var StringEnum = (enumObject, defaultValue) => {
  validateMemberValuesAreStrings(enumObject);
  return {
    serialize(value, builder) {
      FlatString.serialize(value, builder);
    },
    deserialize(reader) {
      return FlatString.deserialize(reader);
    },
    create() {
      return defaultValue;
    },
    jsonSchema: {
      // JSON-schema
      type: "string",
      enum: Object.values(enumObject),
      default: defaultValue,
      // @dcl/ecs Schema Spec
      serializationType: StringEnumReflectionType,
      enumObject
    }
  };
};

// node_modules/@dcl/ecs/dist/schemas/basic/Float.js
var Float32 = {
  serialize(value, builder) {
    builder.writeFloat32(value);
  },
  deserialize(reader) {
    return reader.readFloat32();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "number",
    serializationType: "float32"
  }
};
var Float64 = {
  serialize(value, builder) {
    builder.writeFloat64(value);
  },
  deserialize(reader) {
    return reader.readFloat64();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "number",
    serializationType: "float64"
  }
};

// node_modules/@dcl/ecs/dist/schemas/custom/Color3.js
var Color3Schema = {
  serialize(value, builder) {
    builder.writeFloat32(value.r);
    builder.writeFloat32(value.g);
    builder.writeFloat32(value.b);
  },
  deserialize(reader) {
    return {
      r: reader.readFloat32(),
      g: reader.readFloat32(),
      b: reader.readFloat32()
    };
  },
  create() {
    return { r: 0, g: 0, b: 0 };
  },
  jsonSchema: {
    type: "object",
    properties: {
      r: { type: "number" },
      g: { type: "number" },
      b: { type: "number" }
    },
    serializationType: "color3"
  }
};

// node_modules/@dcl/ecs/dist/schemas/custom/Color4.js
var Color4Schema = {
  serialize(value, builder) {
    builder.writeFloat32(value.r);
    builder.writeFloat32(value.g);
    builder.writeFloat32(value.b);
    builder.writeFloat32(value.a);
  },
  deserialize(reader) {
    return {
      r: reader.readFloat32(),
      g: reader.readFloat32(),
      b: reader.readFloat32(),
      a: reader.readFloat32()
    };
  },
  create() {
    return { r: 0, g: 0, b: 0, a: 0 };
  },
  jsonSchema: {
    type: "object",
    properties: {
      r: { type: "number" },
      g: { type: "number" },
      b: { type: "number" },
      a: { type: "number" }
    },
    serializationType: "color4"
  }
};

// node_modules/@dcl/ecs/dist/schemas/custom/Entity.js
var EntitySchema = {
  serialize(value, builder) {
    builder.writeInt32(value);
  },
  deserialize(reader) {
    return reader.readInt32();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "integer",
    serializationType: "entity"
  }
};

// node_modules/@dcl/ecs/dist/schemas/custom/Quaternion.js
var QuaternionSchema = {
  serialize(value, builder) {
    builder.writeFloat32(value.x);
    builder.writeFloat32(value.y);
    builder.writeFloat32(value.z);
    builder.writeFloat32(value.w);
  },
  deserialize(reader) {
    return {
      x: reader.readFloat32(),
      y: reader.readFloat32(),
      z: reader.readFloat32(),
      w: reader.readFloat32()
    };
  },
  create() {
    return { x: 0, y: 0, z: 0, w: 0 };
  },
  jsonSchema: {
    type: "object",
    properties: {
      x: { type: "number" },
      y: { type: "number" },
      z: { type: "number" },
      w: { type: "number" }
    },
    serializationType: "quaternion"
  }
};

// node_modules/@dcl/ecs/dist/schemas/custom/Vector3.js
var Vector3Schema = {
  serialize(value, builder) {
    builder.writeFloat32(value.x);
    builder.writeFloat32(value.y);
    builder.writeFloat32(value.z);
  },
  deserialize(reader) {
    return {
      x: reader.readFloat32(),
      y: reader.readFloat32(),
      z: reader.readFloat32()
    };
  },
  create() {
    return { x: 0, y: 0, z: 0 };
  },
  jsonSchema: {
    type: "object",
    properties: {
      x: { type: "number" },
      y: { type: "number" },
      z: { type: "number" },
      w: { type: "number" }
    },
    serializationType: "vector3"
  }
};

// node_modules/@dcl/ecs/dist/schemas/Map.js
var IMap = (spec, defaultValue) => {
  const specReflection = Object.keys(spec).reduce((specReflection2, currentKey) => {
    specReflection2[currentKey] = spec[currentKey].jsonSchema;
    return specReflection2;
  }, {});
  return {
    serialize(value, builder) {
      for (const key in spec) {
        spec[key].serialize(value[key], builder);
      }
    },
    deserialize(reader) {
      const newValue = {};
      for (const key in spec) {
        ;
        newValue[key] = spec[key].deserialize(reader);
      }
      return newValue;
    },
    create() {
      const newValue = {};
      for (const key in spec) {
        ;
        newValue[key] = spec[key].create();
      }
      return { ...newValue, ...defaultValue };
    },
    extend: (base) => {
      const newValue = {};
      for (const key in spec) {
        ;
        newValue[key] = spec[key].create();
      }
      return { ...newValue, ...defaultValue, ...base };
    },
    jsonSchema: {
      type: "object",
      properties: specReflection,
      serializationType: "map"
    }
  };
};

// node_modules/@dcl/ecs/dist/schemas/Optional.js
var IOptional = (spec) => {
  return {
    serialize(value, builder) {
      if (value) {
        builder.writeInt8(1);
        spec.serialize(value, builder);
      } else {
        builder.writeInt8(0);
      }
    },
    deserialize(reader) {
      const exists = reader.readInt8();
      if (exists) {
        return spec.deserialize(reader);
      }
    },
    create() {
      return void 0;
    },
    jsonSchema: {
      type: spec.jsonSchema.type,
      serializationType: "optional",
      optionalJsonSchema: spec.jsonSchema
    }
  };
};

// node_modules/@dcl/ecs/dist/schemas/OneOf.js
var IOneOf = (specs) => {
  const specKeys = Object.keys(specs);
  const keyToIndex = specKeys.reduce((dict, key, index) => {
    dict[key] = index;
    return dict;
  }, {});
  const specReflection = specKeys.reduce((specReflection2, currentKey) => {
    specReflection2[currentKey] = specs[currentKey].jsonSchema;
    return specReflection2;
  }, {});
  return {
    serialize({ $case, value }, builder) {
      const _value = keyToIndex[$case.toString()] + 1;
      builder.writeUint8(_value);
      specs[$case].serialize(value, builder);
    },
    deserialize(reader) {
      const $case = specKeys[reader.readInt8() - 1];
      const value = specs[$case].deserialize(reader);
      return { $case, value };
    },
    create() {
      return {};
    },
    jsonSchema: {
      type: "object",
      properties: specReflection,
      serializationType: "one-of"
    }
  };
};

// node_modules/@dcl/ecs/dist/schemas/buildSchema/utils.js
var isSchemaType = (value, types) => types.includes(value.serializationType);
var isOneOfJsonSchema = (type) => isSchemaType(type, ["one-of"]);
var getUnknownSchema = () => ({
  type: { type: "object", serializationType: "unknown" },
  value: void 0
});
var isCompoundType = (type) => isSchemaType(type, ["array", "map"]);
var getTypeAndValue = (properties, value, key) => {
  const type = properties[key];
  const valueKey = value[key];
  if (isOneOfJsonSchema(type)) {
    const typedMapValue = valueKey;
    if (!typedMapValue.$case)
      return getUnknownSchema();
    const propType = type.properties[typedMapValue.$case];
    if (isCompoundType(propType))
      value[key] = { [typedMapValue.$case]: typedMapValue.value };
    return { type: propType, value: typedMapValue.value };
  }
  return { type, value: valueKey };
};

// node_modules/@dcl/ecs/dist/schemas/buildSchema/index.js
var primitiveSchemas = {
  [Bool.jsonSchema.serializationType]: Bool,
  [EcsString.jsonSchema.serializationType]: EcsString,
  [Float32.jsonSchema.serializationType]: Float32,
  [Float64.jsonSchema.serializationType]: Float64,
  [Int8.jsonSchema.serializationType]: Int8,
  [Int16.jsonSchema.serializationType]: Int16,
  [Int32.jsonSchema.serializationType]: Int32,
  [Int64.jsonSchema.serializationType]: Int64,
  [Vector3Schema.jsonSchema.serializationType]: Vector3Schema,
  [QuaternionSchema.jsonSchema.serializationType]: QuaternionSchema,
  [Color3Schema.jsonSchema.serializationType]: Color3Schema,
  [Color4Schema.jsonSchema.serializationType]: Color4Schema,
  [EntitySchema.jsonSchema.serializationType]: EntitySchema
};
function jsonSchemaToSchema(jsonSchema) {
  if (primitiveSchemas[jsonSchema.serializationType]) {
    return primitiveSchemas[jsonSchema.serializationType];
  }
  if (jsonSchema.serializationType === "map") {
    const mapJsonSchema = jsonSchema;
    const spec = {};
    for (const key in mapJsonSchema.properties) {
      spec[key] = jsonSchemaToSchema(mapJsonSchema.properties[key]);
    }
    return IMap(spec);
  }
  if (jsonSchema.serializationType === "optional") {
    const withItemsJsonSchema = jsonSchema;
    return IOptional(jsonSchemaToSchema(withItemsJsonSchema.optionalJsonSchema));
  }
  if (jsonSchema.serializationType === "array") {
    const withItemsJsonSchema = jsonSchema;
    return IArray(jsonSchemaToSchema(withItemsJsonSchema.items));
  }
  if (jsonSchema.serializationType === "enum-int") {
    const enumJsonSchema = jsonSchema;
    return IntEnum(enumJsonSchema.enumObject, enumJsonSchema.default);
  }
  if (jsonSchema.serializationType === "enum-string") {
    const enumJsonSchema = jsonSchema;
    return StringEnum(enumJsonSchema.enumObject, enumJsonSchema.default);
  }
  if (jsonSchema.serializationType === "one-of") {
    const oneOfJsonSchema = jsonSchema;
    const spec = {};
    for (const key in oneOfJsonSchema.properties) {
      spec[key] = jsonSchemaToSchema(oneOfJsonSchema.properties[key]);
    }
    return IOneOf(spec);
  }
  throw new Error(`${jsonSchema.serializationType} is not supported as reverse schema generation.`);
}
function mutateValues(jsonSchema, value, mutateFn) {
  if (jsonSchema.serializationType === "map") {
    const { properties } = jsonSchema;
    const typedValue = value;
    for (const key in properties) {
      const { type, value: mapValue } = getTypeAndValue(properties, typedValue, key);
      if (type.serializationType === "unknown")
        continue;
      if (isCompoundType(type)) {
        mutateValues(type, mapValue, mutateFn);
      } else {
        const newValue = mutateFn(mapValue, type);
        if (newValue.changed) {
          typedValue[key] = newValue.value;
        }
      }
    }
  } else if (jsonSchema.serializationType === "array") {
    const { items } = jsonSchema;
    const arrayValue = value;
    for (let i = 0, n = arrayValue.length; i < n; i++) {
      const { type, value: value2 } = getTypeAndValue({ items }, { items: arrayValue[i] }, "items");
      if (isCompoundType(type)) {
        mutateValues(type, value2, mutateFn);
      } else {
        const newValue = mutateFn(value2, type);
        if (newValue.changed) {
          arrayValue[i] = newValue.value;
        }
      }
    }
  }
}

// node_modules/@dcl/ecs/dist/schemas/index.js
var Schemas;
(function(Schemas2) {
  Schemas2.Boolean = Bool;
  Schemas2.String = EcsString;
  Schemas2.Float = Float32;
  Schemas2.Double = Float64;
  Schemas2.Byte = Int8;
  Schemas2.Short = Int16;
  Schemas2.Int = Int32;
  Schemas2.Int64 = Int64;
  Schemas2.Number = Float32;
  Schemas2.Vector3 = Vector3Schema;
  Schemas2.Quaternion = QuaternionSchema;
  Schemas2.Color3 = Color3Schema;
  Schemas2.Color4 = Color4Schema;
  Schemas2.Entity = EntitySchema;
  Schemas2.EnumNumber = IntEnum;
  Schemas2.EnumString = StringEnum;
  Schemas2.Array = IArray;
  Schemas2.Map = IMap;
  Schemas2.Optional = IOptional;
  Schemas2.OneOf = IOneOf;
  Schemas2.fromJson = jsonSchemaToSchema;
  Schemas2.mutateNestedValues = mutateValues;
})(Schemas || (Schemas = {}));

// node_modules/@dcl/ecs/dist/components/manual/Name.js
function defineNameComponent(engine2) {
  const Name3 = engine2.defineComponent("core-schema::Name", {
    value: Schemas.String
  });
  return Name3;
}
var Name_default = defineNameComponent;

// node_modules/@dcl/ecs/dist/components/manual/Transform.js
var TRANSFORM_LENGTH = 44;
var TransformSchema = {
  serialize(value, builder) {
    const ptr = builder.incrementWriteOffset(TRANSFORM_LENGTH);
    builder.setFloat32(ptr, value.position.x);
    builder.setFloat32(ptr + 4, value.position.y);
    builder.setFloat32(ptr + 8, value.position.z);
    builder.setFloat32(ptr + 12, value.rotation.x);
    builder.setFloat32(ptr + 16, value.rotation.y);
    builder.setFloat32(ptr + 20, value.rotation.z);
    builder.setFloat32(ptr + 24, value.rotation.w);
    builder.setFloat32(ptr + 28, value.scale.x);
    builder.setFloat32(ptr + 32, value.scale.y);
    builder.setFloat32(ptr + 36, value.scale.z);
    builder.setUint32(ptr + 40, value.parent || 0);
  },
  deserialize(reader) {
    const ptr = reader.incrementReadOffset(TRANSFORM_LENGTH);
    return {
      position: {
        x: reader.getFloat32(ptr),
        y: reader.getFloat32(ptr + 4),
        z: reader.getFloat32(ptr + 8)
      },
      rotation: {
        x: reader.getFloat32(ptr + 12),
        y: reader.getFloat32(ptr + 16),
        z: reader.getFloat32(ptr + 20),
        w: reader.getFloat32(ptr + 24)
      },
      scale: {
        x: reader.getFloat32(ptr + 28),
        y: reader.getFloat32(ptr + 32),
        z: reader.getFloat32(ptr + 36)
      },
      parent: reader.getUint32(ptr + 40)
    };
  },
  create() {
    return {
      position: { x: 0, y: 0, z: 0 },
      scale: { x: 1, y: 1, z: 1 },
      rotation: { x: 0, y: 0, z: 0, w: 1 },
      parent: 0
    };
  },
  extend(value) {
    return {
      position: { x: 0, y: 0, z: 0 },
      scale: { x: 1, y: 1, z: 1 },
      rotation: { x: 0, y: 0, z: 0, w: 1 },
      parent: 0,
      ...value
    };
  },
  jsonSchema: {
    type: "object",
    properties: {
      position: {
        type: "object",
        properties: {
          x: { type: "number" },
          y: { type: "number" },
          z: { type: "number" }
        }
      },
      scale: {
        type: "object",
        properties: {
          x: { type: "number" },
          y: { type: "number" },
          z: { type: "number" }
        }
      },
      rotation: {
        type: "object",
        properties: {
          x: { type: "number" },
          y: { type: "number" },
          z: { type: "number" },
          w: { type: "number" }
        }
      },
      parent: { type: "integer" }
    },
    serializationType: "transform"
  }
};
function defineTransformComponent(engine2) {
  const transformDef = engine2.defineComponentFromSchema("core::Transform", TransformSchema);
  return {
    ...transformDef,
    create(entity, val) {
      return transformDef.create(entity, TransformSchema.extend(val));
    },
    createOrReplace(entity, val) {
      return transformDef.createOrReplace(entity, TransformSchema.extend(val));
    }
  };
}

// node_modules/@dcl/ecs/dist/components/index.js
var Transform = (engine2) => defineTransformComponent(engine2);
var Material2 = (engine2) => defineMaterialComponent(engine2);
var MeshRenderer2 = (engine2) => defineMeshRendererComponent(engine2);
var MeshCollider2 = (engine2) => defineMeshColliderComponent(engine2);
var Name = (engine2) => Name_default(engine2);

// node_modules/@dcl/ecs/dist/components/generated/component-names.gen.js
var coreComponentMappings = {
  "core::Transform": 1,
  "core::Animator": 1042,
  "core::AudioSource": 1020,
  "core::AudioStream": 1021,
  "core::AvatarAttach": 1073,
  "core::AvatarModifierArea": 1070,
  "core::AvatarShape": 1080,
  "core::Billboard": 1090,
  "core::CameraMode": 1072,
  "core::CameraModeArea": 1071,
  "core::EngineInfo": 1048,
  "core::GltfContainer": 1041,
  "core::GltfContainerLoadingState": 1049,
  "core::Material": 1017,
  "core::MeshCollider": 1019,
  "core::MeshRenderer": 1018,
  "core::NftShape": 1040,
  "core::PointerEvents": 1062,
  "core::PointerEventsResult": 1063,
  "core::PointerLock": 1074,
  "core::Raycast": 1067,
  "core::RaycastResult": 1068,
  "core::TextShape": 1030,
  "core::UiBackground": 1053,
  "core::UiCanvasInformation": 1054,
  "core::UiDropdown": 1094,
  "core::UiDropdownResult": 1096,
  "core::UiInput": 1093,
  "core::UiInputResult": 1095,
  "core::UiText": 1052,
  "core::UiTransform": 1050,
  "core::VideoEvent": 1044,
  "core::VideoPlayer": 1043,
  "core::VisibilityComponent": 1081
};

// node_modules/@dcl/ecs/dist/components/component-number.js
var utf8 = __toESM(require_utf8());

// node_modules/@dcl/ecs/dist/runtime/crc.js
var CRC_TABLE = new Int32Array([
  0,
  1996959894,
  3993919788,
  2567524794,
  124634137,
  1886057615,
  3915621685,
  2657392035,
  249268274,
  2044508324,
  3772115230,
  2547177864,
  162941995,
  2125561021,
  3887607047,
  2428444049,
  498536548,
  1789927666,
  4089016648,
  2227061214,
  450548861,
  1843258603,
  4107580753,
  2211677639,
  325883990,
  1684777152,
  4251122042,
  2321926636,
  335633487,
  1661365465,
  4195302755,
  2366115317,
  997073096,
  1281953886,
  3579855332,
  2724688242,
  1006888145,
  1258607687,
  3524101629,
  2768942443,
  901097722,
  1119000684,
  3686517206,
  2898065728,
  853044451,
  1172266101,
  3705015759,
  2882616665,
  651767980,
  1373503546,
  3369554304,
  3218104598,
  565507253,
  1454621731,
  3485111705,
  3099436303,
  671266974,
  1594198024,
  3322730930,
  2970347812,
  795835527,
  1483230225,
  3244367275,
  3060149565,
  1994146192,
  31158534,
  2563907772,
  4023717930,
  1907459465,
  112637215,
  2680153253,
  3904427059,
  2013776290,
  251722036,
  2517215374,
  3775830040,
  2137656763,
  141376813,
  2439277719,
  3865271297,
  1802195444,
  476864866,
  2238001368,
  4066508878,
  1812370925,
  453092731,
  2181625025,
  4111451223,
  1706088902,
  314042704,
  2344532202,
  4240017532,
  1658658271,
  366619977,
  2362670323,
  4224994405,
  1303535960,
  984961486,
  2747007092,
  3569037538,
  1256170817,
  1037604311,
  2765210733,
  3554079995,
  1131014506,
  879679996,
  2909243462,
  3663771856,
  1141124467,
  855842277,
  2852801631,
  3708648649,
  1342533948,
  654459306,
  3188396048,
  3373015174,
  1466479909,
  544179635,
  3110523913,
  3462522015,
  1591671054,
  702138776,
  2966460450,
  3352799412,
  1504918807,
  783551873,
  3082640443,
  3233442989,
  3988292384,
  2596254646,
  62317068,
  1957810842,
  3939845945,
  2647816111,
  81470997,
  1943803523,
  3814918930,
  2489596804,
  225274430,
  2053790376,
  3826175755,
  2466906013,
  167816743,
  2097651377,
  4027552580,
  2265490386,
  503444072,
  1762050814,
  4150417245,
  2154129355,
  426522225,
  1852507879,
  4275313526,
  2312317920,
  282753626,
  1742555852,
  4189708143,
  2394877945,
  397917763,
  1622183637,
  3604390888,
  2714866558,
  953729732,
  1340076626,
  3518719985,
  2797360999,
  1068828381,
  1219638859,
  3624741850,
  2936675148,
  906185462,
  1090812512,
  3747672003,
  2825379669,
  829329135,
  1181335161,
  3412177804,
  3160834842,
  628085408,
  1382605366,
  3423369109,
  3138078467,
  570562233,
  1426400815,
  3317316542,
  2998733608,
  733239954,
  1555261956,
  3268935591,
  3050360625,
  752459403,
  1541320221,
  2607071920,
  3965973030,
  1969922972,
  40735498,
  2617837225,
  3943577151,
  1913087877,
  83908371,
  2512341634,
  3803740692,
  2075208622,
  213261112,
  2463272603,
  3855990285,
  2094854071,
  198958881,
  2262029012,
  4057260610,
  1759359992,
  534414190,
  2176718541,
  4139329115,
  1873836001,
  414664567,
  2282248934,
  4279200368,
  1711684554,
  285281116,
  2405801727,
  4167216745,
  1634467795,
  376229701,
  2685067896,
  3608007406,
  1308918612,
  956543938,
  2808555105,
  3495958263,
  1231636301,
  1047427035,
  2932959818,
  3654703836,
  1088359270,
  936918e3,
  2847714899,
  3736837829,
  1202900863,
  817233897,
  3183342108,
  3401237130,
  1404277552,
  615818150,
  3134207493,
  3453421203,
  1423857449,
  601450431,
  3009837614,
  3294710456,
  1567103746,
  711928724,
  3020668471,
  3272380065,
  1510334235,
  755167117
]);
function _crc32(buf, previous) {
  let crc = ~~previous ^ -1;
  for (let n = 0; n < buf.length; n++) {
    crc = CRC_TABLE[(crc ^ buf[n]) & 255] ^ crc >>> 8;
  }
  return crc ^ -1;
}
function unsignedCRC32(data, prev = 0) {
  return _crc32(data, prev) >>> 0;
}

// node_modules/@dcl/ecs/dist/components/component-number.js
var MAX_STATIC_COMPONENT = 1 << 11;
function componentNumberFromName(componentName) {
  if (coreComponentMappings[componentName])
    return coreComponentMappings[componentName];
  const bytes = new Uint8Array(128);
  utf8.write(componentName, bytes, 0);
  return (unsignedCRC32(bytes) + MAX_STATIC_COMPONENT & 4294967295) >>> 0;
}

// node_modules/@dcl/ecs/dist/runtime/invariant.js
var __DEV__ = true;
function checkNotThenable(t, error) {
  if (__DEV__) {
    if (t && typeof t === "object" && typeof t.then === "function") {
      throw new Error(error);
    }
  }
  return t;
}

// node_modules/@dcl/ecs/dist/systems/crdt/gset.js
function createVersionGSet() {
  const lastVersion = /* @__PURE__ */ new Map();
  return {
    /**
     *
     * @param number
     * @param version
     * @returns
     */
    addTo(number, version) {
      if (version < 0) {
        return false;
      }
      const currentValue = lastVersion.get(number);
      if (currentValue !== void 0 && currentValue >= version) {
        return true;
      }
      lastVersion.set(number, version);
      return true;
    },
    /**
     * @returns the set with [number, version] of each value
     */
    has(n, v) {
      const currentValue = lastVersion.get(n);
      if (currentValue !== void 0 && currentValue >= v) {
        return true;
      }
      return false;
    },
    /**
     * Warning: this function returns the reference to the internal map,
     *  if you need to mutate some value, make a copy.
     * For optimization purpose the copy isn't made here.
     *
     * @returns the map of number to version
     */
    getMap() {
      return lastVersion;
    }
  };
}

// node_modules/@dcl/ecs/dist/engine/entity.js
var MAX_U16 = 65535;
var MASK_UPPER_16_ON_32 = 4294901760;
var AMOUNT_VERSION_AVAILABLE = MAX_U16 + 1;
var RESERVED_STATIC_ENTITIES = 512;
var MAX_ENTITY_NUMBER = MAX_U16;
var EntityUtils;
(function(EntityUtils2) {
  function fromEntityId(entityId) {
    return [(entityId & MAX_U16) >>> 0, ((entityId & MASK_UPPER_16_ON_32) >> 16 & MAX_U16) >>> 0];
  }
  EntityUtils2.fromEntityId = fromEntityId;
  function toEntityId(entityNumber, entityVersion) {
    return (entityNumber & MAX_U16 | (entityVersion & MAX_U16) << 16) >>> 0;
  }
  EntityUtils2.toEntityId = toEntityId;
})(EntityUtils || (EntityUtils = {}));
var EntityState;
(function(EntityState2) {
  EntityState2[EntityState2["Unknown"] = 0] = "Unknown";
  EntityState2[EntityState2["UsedEntity"] = 1] = "UsedEntity";
  EntityState2[EntityState2["Removed"] = 2] = "Removed";
  EntityState2[EntityState2["Reserved"] = 3] = "Reserved";
})(EntityState || (EntityState = {}));
function EntityContainer() {
  let entityCounter = RESERVED_STATIC_ENTITIES;
  const usedEntities = /* @__PURE__ */ new Set();
  let toRemoveEntities = [];
  const removedEntities = createVersionGSet();
  function generateNewEntity() {
    if (entityCounter > MAX_ENTITY_NUMBER - 1) {
      throw new Error(`It fails trying to generate an entity out of range ${MAX_ENTITY_NUMBER}.`);
    }
    const entityNumber = entityCounter++;
    const entityVersion = removedEntities.getMap().has(entityNumber) ? removedEntities.getMap().get(entityNumber) + 1 : 0;
    const entity = EntityUtils.toEntityId(entityNumber, entityVersion);
    if (usedEntities.has(entity)) {
      return generateNewEntity();
    }
    usedEntities.add(entity);
    return entity;
  }
  function generateEntity() {
    if (usedEntities.size + RESERVED_STATIC_ENTITIES >= entityCounter) {
      return generateNewEntity();
    }
    for (const [number, version] of removedEntities.getMap()) {
      if (version < MAX_U16) {
        const entity = EntityUtils.toEntityId(number, version + 1);
        if (!usedEntities.has(entity) && !toRemoveEntities.includes(entity)) {
          usedEntities.add(entity);
          return entity;
        }
      }
    }
    return generateNewEntity();
  }
  function removeEntity(entity) {
    if (entity < RESERVED_STATIC_ENTITIES)
      return false;
    if (usedEntities.has(entity)) {
      usedEntities.delete(entity);
      toRemoveEntities.push(entity);
    } else {
      updateRemovedEntity(entity);
    }
    return true;
  }
  function releaseRemovedEntities() {
    const arr = toRemoveEntities;
    if (arr.length) {
      toRemoveEntities = [];
      for (const entity of arr) {
        const [n, v] = EntityUtils.fromEntityId(entity);
        removedEntities.addTo(n, v);
      }
    }
    return arr;
  }
  function updateRemovedEntity(entity) {
    const [n, v] = EntityUtils.fromEntityId(entity);
    removedEntities.addTo(n, v);
    for (let i = 0; i <= v; i++) {
      usedEntities.delete(EntityUtils.toEntityId(n, i));
    }
    return true;
  }
  function updateUsedEntity(entity) {
    const [n, v] = EntityUtils.fromEntityId(entity);
    if (removedEntities.has(n, v))
      return false;
    if (v > 0) {
      for (let i = 0; i <= v - 1; i++) {
        usedEntities.delete(EntityUtils.toEntityId(n, i));
      }
      removedEntities.addTo(n, v - 1);
    }
    usedEntities.add(entity);
    return true;
  }
  function getEntityState(entity) {
    const [n, v] = EntityUtils.fromEntityId(entity);
    if (n < RESERVED_STATIC_ENTITIES) {
      return EntityState.Reserved;
    }
    if (usedEntities.has(entity)) {
      return EntityState.UsedEntity;
    }
    const removedVersion = removedEntities.getMap().get(n);
    if (removedVersion !== void 0 && removedVersion >= v) {
      return EntityState.Removed;
    }
    return EntityState.Unknown;
  }
  return {
    generateEntity,
    removeEntity,
    getExistingEntities() {
      return new Set(usedEntities);
    },
    getEntityState,
    releaseRemovedEntities,
    updateRemovedEntity,
    updateUsedEntity
  };
}

// node_modules/@dcl/ecs/dist/serialization/ByteBuffer/index.js
var utf82 = __toESM(require_utf8());
var __classPrivateFieldGet = function(receiver, state, kind, f) {
  if (kind === "a" && !f)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
};
var _ReadWriteByteBuffer_instances;
var _ReadWriteByteBuffer_woAdd;
var _ReadWriteByteBuffer_roAdd;
function getNextSize(currentSize, intendedSize) {
  const minNewSize = Math.max(currentSize, intendedSize) + 1024;
  return Math.ceil(minNewSize / 1024) * 1024;
}
var defaultInitialCapacity = 10240;
var ReadWriteByteBuffer = class {
  /**
   * @param buffer - The initial buffer, provide a buffer if you need to set "initial capacity"
   * @param readingOffset - Set the cursor where begins to read. Default 0
   * @param writingOffset - Set the cursor to not start writing from the begin of it. Defaults to the buffer size
   */
  constructor(buffer, readingOffset, writingOffset) {
    _ReadWriteByteBuffer_instances.add(this);
    this._buffer = buffer || new Uint8Array(defaultInitialCapacity);
    this.view = new DataView(this._buffer.buffer, this._buffer.byteOffset);
    this.woffset = writingOffset ?? (buffer ? this._buffer.length : null) ?? 0;
    this.roffset = readingOffset ?? 0;
  }
  buffer() {
    return this._buffer;
  }
  bufferLength() {
    return this._buffer.length;
  }
  resetBuffer() {
    this.roffset = 0;
    this.woffset = 0;
  }
  currentReadOffset() {
    return this.roffset;
  }
  currentWriteOffset() {
    return this.woffset;
  }
  incrementReadOffset(amount) {
    return __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, amount);
  }
  remainingBytes() {
    return this.woffset - this.roffset;
  }
  readFloat32() {
    return this.view.getFloat32(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 4), true);
  }
  readFloat64() {
    return this.view.getFloat64(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 8), true);
  }
  readInt8() {
    return this.view.getInt8(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 1));
  }
  readInt16() {
    return this.view.getInt16(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 2), true);
  }
  readInt32() {
    return this.view.getInt32(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 4), true);
  }
  readInt64() {
    return this.view.getBigInt64(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 8), true);
  }
  readUint8() {
    return this.view.getUint8(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 1));
  }
  readUint16() {
    return this.view.getUint16(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 2), true);
  }
  readUint32() {
    return this.view.getUint32(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 4), true);
  }
  readUint64() {
    return this.view.getBigUint64(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 8), true);
  }
  readBuffer() {
    const length2 = this.view.getUint32(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 4), true);
    return this._buffer.subarray(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, length2), __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 0));
  }
  readUtf8String() {
    const length2 = this.view.getUint32(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 4), true);
    return utf82.read(this._buffer, __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, length2), __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 0));
  }
  incrementWriteOffset(amount) {
    return __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, amount);
  }
  toBinary() {
    return this._buffer.subarray(0, this.woffset);
  }
  toCopiedBinary() {
    return new Uint8Array(this.toBinary());
  }
  writeBuffer(value, writeLength = true) {
    if (writeLength) {
      this.writeUint32(value.byteLength);
    }
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, value.byteLength);
    this._buffer.set(value, o);
  }
  writeUtf8String(value, writeLength = true) {
    const byteLength = utf82.length(value);
    if (writeLength) {
      this.writeUint32(byteLength);
    }
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, byteLength);
    utf82.write(value, this._buffer, o);
  }
  writeFloat32(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 4);
    this.view.setFloat32(o, value, true);
  }
  writeFloat64(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 8);
    this.view.setFloat64(o, value, true);
  }
  writeInt8(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 1);
    this.view.setInt8(o, value);
  }
  writeInt16(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 2);
    this.view.setInt16(o, value, true);
  }
  writeInt32(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 4);
    this.view.setInt32(o, value, true);
  }
  writeInt64(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 8);
    this.view.setBigInt64(o, value, true);
  }
  writeUint8(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 1);
    this.view.setUint8(o, value);
  }
  writeUint16(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 2);
    this.view.setUint16(o, value, true);
  }
  writeUint32(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 4);
    this.view.setUint32(o, value, true);
  }
  writeUint64(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 8);
    this.view.setBigUint64(o, value, true);
  }
  // DataView Proxy
  getFloat32(offset) {
    return this.view.getFloat32(offset, true);
  }
  getFloat64(offset) {
    return this.view.getFloat64(offset, true);
  }
  getInt8(offset) {
    return this.view.getInt8(offset);
  }
  getInt16(offset) {
    return this.view.getInt16(offset, true);
  }
  getInt32(offset) {
    return this.view.getInt32(offset, true);
  }
  getInt64(offset) {
    return this.view.getBigInt64(offset, true);
  }
  getUint8(offset) {
    return this.view.getUint8(offset);
  }
  getUint16(offset) {
    return this.view.getUint16(offset, true);
  }
  getUint32(offset) {
    return this.view.getUint32(offset, true);
  }
  getUint64(offset) {
    return this.view.getBigUint64(offset, true);
  }
  setFloat32(offset, value) {
    this.view.setFloat32(offset, value, true);
  }
  setFloat64(offset, value) {
    this.view.setFloat64(offset, value, true);
  }
  setInt8(offset, value) {
    this.view.setInt8(offset, value);
  }
  setInt16(offset, value) {
    this.view.setInt16(offset, value, true);
  }
  setInt32(offset, value) {
    this.view.setInt32(offset, value, true);
  }
  setInt64(offset, value) {
    this.view.setBigInt64(offset, value, true);
  }
  setUint8(offset, value) {
    this.view.setUint8(offset, value);
  }
  setUint16(offset, value) {
    this.view.setUint16(offset, value, true);
  }
  setUint32(offset, value) {
    this.view.setUint32(offset, value, true);
  }
  setUint64(offset, value) {
    this.view.setBigUint64(offset, value, true);
  }
};
_ReadWriteByteBuffer_instances = /* @__PURE__ */ new WeakSet(), _ReadWriteByteBuffer_woAdd = function _ReadWriteByteBuffer_woAdd2(amount) {
  if (this.woffset + amount > this._buffer.byteLength) {
    const newsize = getNextSize(this._buffer.byteLength, this.woffset + amount);
    const newBuffer = new Uint8Array(newsize);
    newBuffer.set(this._buffer);
    const oldOffset = this._buffer.byteOffset;
    this._buffer = newBuffer;
    this.view = new DataView(this._buffer.buffer, oldOffset);
  }
  this.woffset += amount;
  return this.woffset - amount;
}, _ReadWriteByteBuffer_roAdd = function _ReadWriteByteBuffer_roAdd2(amount) {
  if (this.roffset + amount > this.woffset) {
    throw new Error("Outside of the bounds of writen data.");
  }
  this.roffset += amount;
  return this.roffset - amount;
};

// node_modules/@dcl/ecs/dist/serialization/crdt/types.js
var CrdtMessageType;
(function(CrdtMessageType2) {
  CrdtMessageType2[CrdtMessageType2["RESERVED"] = 0] = "RESERVED";
  CrdtMessageType2[CrdtMessageType2["PUT_COMPONENT"] = 1] = "PUT_COMPONENT";
  CrdtMessageType2[CrdtMessageType2["DELETE_COMPONENT"] = 2] = "DELETE_COMPONENT";
  CrdtMessageType2[CrdtMessageType2["DELETE_ENTITY"] = 3] = "DELETE_ENTITY";
  CrdtMessageType2[CrdtMessageType2["APPEND_VALUE"] = 4] = "APPEND_VALUE";
  CrdtMessageType2[CrdtMessageType2["MAX_MESSAGE_TYPE"] = 5] = "MAX_MESSAGE_TYPE";
})(CrdtMessageType || (CrdtMessageType = {}));
var CRDT_MESSAGE_HEADER_LENGTH = 8;
var ProcessMessageResultType;
(function(ProcessMessageResultType2) {
  ProcessMessageResultType2[ProcessMessageResultType2["StateUpdatedTimestamp"] = 1] = "StateUpdatedTimestamp";
  ProcessMessageResultType2[ProcessMessageResultType2["StateOutdatedTimestamp"] = 2] = "StateOutdatedTimestamp";
  ProcessMessageResultType2[ProcessMessageResultType2["NoChanges"] = 3] = "NoChanges";
  ProcessMessageResultType2[ProcessMessageResultType2["StateOutdatedData"] = 4] = "StateOutdatedData";
  ProcessMessageResultType2[ProcessMessageResultType2["StateUpdatedData"] = 5] = "StateUpdatedData";
  ProcessMessageResultType2[ProcessMessageResultType2["EntityWasDeleted"] = 6] = "EntityWasDeleted";
  ProcessMessageResultType2[ProcessMessageResultType2["EntityDeleted"] = 7] = "EntityDeleted";
})(ProcessMessageResultType || (ProcessMessageResultType = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/crdtMessageProtocol.js
var CrdtMessageProtocol;
(function(CrdtMessageProtocol2) {
  function validate(buf) {
    const rem = buf.remainingBytes();
    if (rem < CRDT_MESSAGE_HEADER_LENGTH) {
      return false;
    }
    const messageLength = buf.getUint32(buf.currentReadOffset());
    if (rem < messageLength) {
      return false;
    }
    return true;
  }
  CrdtMessageProtocol2.validate = validate;
  function readHeader(buf) {
    if (!validate(buf)) {
      return null;
    }
    return {
      length: buf.readUint32(),
      type: buf.readUint32()
    };
  }
  CrdtMessageProtocol2.readHeader = readHeader;
  function getHeader(buf) {
    if (!validate(buf)) {
      return null;
    }
    const currentOffset = buf.currentReadOffset();
    return {
      length: buf.getUint32(currentOffset),
      type: buf.getUint32(currentOffset + 4)
    };
  }
  CrdtMessageProtocol2.getHeader = getHeader;
  function consumeMessage(buf) {
    const header = getHeader(buf);
    if (!header) {
      return false;
    }
    buf.incrementReadOffset(header.length);
    return true;
  }
  CrdtMessageProtocol2.consumeMessage = consumeMessage;
})(CrdtMessageProtocol || (CrdtMessageProtocol = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/deleteComponent.js
var DeleteComponent;
(function(DeleteComponent2) {
  DeleteComponent2.MESSAGE_HEADER_LENGTH = 12;
  function write3(entity, componentId, timestamp, buf) {
    const messageLength = CRDT_MESSAGE_HEADER_LENGTH + DeleteComponent2.MESSAGE_HEADER_LENGTH;
    const startMessageOffset = buf.incrementWriteOffset(messageLength);
    buf.setUint32(startMessageOffset, messageLength);
    buf.setUint32(startMessageOffset + 4, CrdtMessageType.DELETE_COMPONENT);
    buf.setUint32(startMessageOffset + 8, entity);
    buf.setUint32(startMessageOffset + 12, componentId);
    buf.setUint32(startMessageOffset + 16, timestamp);
  }
  DeleteComponent2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.DELETE_COMPONENT) {
      throw new Error("DeleteComponentOperation tried to read another message type.");
    }
    const msg = {
      ...header,
      entityId: buf.readUint32(),
      componentId: buf.readUint32(),
      timestamp: buf.readUint32()
    };
    return msg;
  }
  DeleteComponent2.read = read2;
})(DeleteComponent || (DeleteComponent = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/appendValue.js
var AppendValueOperation;
(function(AppendValueOperation2) {
  AppendValueOperation2.MESSAGE_HEADER_LENGTH = 16;
  function write3(entity, timestamp, componentId, data, buf) {
    const startMessageOffset = buf.incrementWriteOffset(CRDT_MESSAGE_HEADER_LENGTH + AppendValueOperation2.MESSAGE_HEADER_LENGTH);
    buf.writeBuffer(data, false);
    const messageLength = buf.currentWriteOffset() - startMessageOffset;
    buf.setUint32(startMessageOffset, messageLength);
    buf.setUint32(startMessageOffset + 4, CrdtMessageType.APPEND_VALUE);
    buf.setUint32(startMessageOffset + 8, entity);
    buf.setUint32(startMessageOffset + 12, componentId);
    buf.setUint32(startMessageOffset + 16, timestamp);
    const newLocal = messageLength - AppendValueOperation2.MESSAGE_HEADER_LENGTH - CRDT_MESSAGE_HEADER_LENGTH;
    buf.setUint32(startMessageOffset + 20, newLocal);
  }
  AppendValueOperation2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.APPEND_VALUE) {
      throw new Error("AppendValueOperation tried to read another message type.");
    }
    return {
      ...header,
      entityId: buf.readUint32(),
      componentId: buf.readUint32(),
      timestamp: buf.readUint32(),
      data: buf.readBuffer()
    };
  }
  AppendValueOperation2.read = read2;
})(AppendValueOperation || (AppendValueOperation = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/deleteEntity.js
var DeleteEntity;
(function(DeleteEntity2) {
  DeleteEntity2.MESSAGE_HEADER_LENGTH = 4;
  function write3(entity, buf) {
    buf.writeUint32(CRDT_MESSAGE_HEADER_LENGTH + 4);
    buf.writeUint32(CrdtMessageType.DELETE_ENTITY);
    buf.writeUint32(entity);
  }
  DeleteEntity2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.DELETE_ENTITY) {
      throw new Error("DeleteEntity tried to read another message type.");
    }
    return {
      ...header,
      entityId: buf.readUint32()
    };
  }
  DeleteEntity2.read = read2;
})(DeleteEntity || (DeleteEntity = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/putComponent.js
var PutComponentOperation;
(function(PutComponentOperation2) {
  PutComponentOperation2.MESSAGE_HEADER_LENGTH = 16;
  function write3(entity, timestamp, componentId, data, buf) {
    const startMessageOffset = buf.incrementWriteOffset(CRDT_MESSAGE_HEADER_LENGTH + PutComponentOperation2.MESSAGE_HEADER_LENGTH);
    buf.writeBuffer(data, false);
    const messageLength = buf.currentWriteOffset() - startMessageOffset;
    buf.setUint32(startMessageOffset, messageLength);
    buf.setUint32(startMessageOffset + 4, CrdtMessageType.PUT_COMPONENT);
    buf.setUint32(startMessageOffset + 8, entity);
    buf.setUint32(startMessageOffset + 12, componentId);
    buf.setUint32(startMessageOffset + 16, timestamp);
    const newLocal = messageLength - PutComponentOperation2.MESSAGE_HEADER_LENGTH - CRDT_MESSAGE_HEADER_LENGTH;
    buf.setUint32(startMessageOffset + 20, newLocal);
  }
  PutComponentOperation2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.PUT_COMPONENT) {
      throw new Error("PutComponentOperation tried to read another message type.");
    }
    return {
      ...header,
      entityId: buf.readUint32(),
      componentId: buf.readUint32(),
      timestamp: buf.readUint32(),
      data: buf.readBuffer()
    };
  }
  PutComponentOperation2.read = read2;
})(PutComponentOperation || (PutComponentOperation = {}));

// node_modules/@dcl/ecs/dist/systems/crdt/index.js
function crdtSceneSystem(engine2, onProcessEntityComponentChange) {
  const transports = [];
  const receivedMessages = [];
  const broadcastMessages = [];
  const outdatedMessages = [];
  function parseChunkMessage(transportId) {
    return function parseChunkMessage2(chunkMessage) {
      const buffer = new ReadWriteByteBuffer(chunkMessage);
      let header;
      while (header = CrdtMessageProtocol.getHeader(buffer)) {
        const offset = buffer.currentReadOffset();
        if (header.type === CrdtMessageType.DELETE_COMPONENT) {
          const message = DeleteComponent.read(buffer);
          receivedMessages.push({
            ...message,
            transportId,
            messageBuffer: buffer.buffer().subarray(offset, buffer.currentReadOffset())
          });
        } else if (header.type === CrdtMessageType.PUT_COMPONENT) {
          const message = PutComponentOperation.read(buffer);
          receivedMessages.push({
            ...message,
            transportId,
            messageBuffer: buffer.buffer().subarray(offset, buffer.currentReadOffset())
          });
        } else if (header.type === CrdtMessageType.DELETE_ENTITY) {
          const message = DeleteEntity.read(buffer);
          receivedMessages.push({
            ...message,
            transportId,
            messageBuffer: buffer.buffer().subarray(offset, buffer.currentReadOffset())
          });
        } else if (header.type === CrdtMessageType.APPEND_VALUE) {
          const message = AppendValueOperation.read(buffer);
          receivedMessages.push({
            ...message,
            transportId,
            messageBuffer: buffer.buffer().subarray(offset, buffer.currentReadOffset())
          });
        } else {
          buffer.incrementReadOffset(header.length);
        }
      }
    };
  }
  function getMessages(value) {
    const messagesToProcess = value.splice(0, value.length);
    return messagesToProcess;
  }
  async function receiveMessages() {
    const messagesToProcess = getMessages(receivedMessages);
    const bufferForOutdated = new ReadWriteByteBuffer();
    const entitiesShouldBeCleaned = [];
    for (const msg of messagesToProcess) {
      if (msg.type === CrdtMessageType.DELETE_ENTITY) {
        entitiesShouldBeCleaned.push(msg.entityId);
      } else {
        const entityState = engine2.entityContainer.getEntityState(msg.entityId);
        if (entityState === EntityState.Removed)
          continue;
        if (entityState === EntityState.Unknown) {
          engine2.entityContainer.updateUsedEntity(msg.entityId);
        }
        const component = engine2.getComponentOrNull(msg.componentId);
        if (component) {
          const [conflictMessage, value] = component.updateFromCrdt(msg);
          if (conflictMessage) {
            const offset = bufferForOutdated.currentWriteOffset();
            if (conflictMessage.type === CrdtMessageType.PUT_COMPONENT) {
              PutComponentOperation.write(msg.entityId, conflictMessage.timestamp, conflictMessage.componentId, conflictMessage.data, bufferForOutdated);
            } else if (conflictMessage.type === CrdtMessageType.DELETE_COMPONENT) {
              DeleteComponent.write(msg.entityId, component.componentId, conflictMessage.timestamp, bufferForOutdated);
            }
            outdatedMessages.push({
              ...msg,
              messageBuffer: bufferForOutdated.buffer().subarray(offset, bufferForOutdated.currentWriteOffset())
            });
          } else {
            broadcastMessages.push(msg);
            onProcessEntityComponentChange && onProcessEntityComponentChange(msg.entityId, msg.type, component, value);
          }
        } else {
          broadcastMessages.push(msg);
        }
      }
    }
    for (const entity of entitiesShouldBeCleaned) {
      for (let i = outdatedMessages.length - 1; i >= 0; i--) {
        if (outdatedMessages[i].entityId === entity && outdatedMessages[i].type !== CrdtMessageType.DELETE_ENTITY) {
          outdatedMessages.splice(i, 1);
        }
      }
      for (const definition of engine2.componentsIter()) {
        definition.entityDeleted(entity, false);
      }
      engine2.entityContainer.updateRemovedEntity(entity);
      onProcessEntityComponentChange && onProcessEntityComponentChange(entity, CrdtMessageType.DELETE_ENTITY);
    }
  }
  async function sendMessages(entitiesDeletedThisTick) {
    const crdtMessages = getMessages(broadcastMessages);
    const outdatedMessagesBkp = getMessages(outdatedMessages);
    const buffer = new ReadWriteByteBuffer();
    for (const component of engine2.componentsIter()) {
      for (const message of component.getCrdtUpdates()) {
        const offset = buffer.currentWriteOffset();
        if (transports.some((t) => t.filter(message))) {
          if (message.type === CrdtMessageType.PUT_COMPONENT) {
            PutComponentOperation.write(message.entityId, message.timestamp, message.componentId, message.data, buffer);
          } else if (message.type === CrdtMessageType.DELETE_COMPONENT) {
            DeleteComponent.write(message.entityId, component.componentId, message.timestamp, buffer);
          } else if (message.type === CrdtMessageType.APPEND_VALUE) {
            AppendValueOperation.write(message.entityId, message.timestamp, message.componentId, message.data, buffer);
          }
          crdtMessages.push({
            ...message,
            messageBuffer: buffer.buffer().subarray(offset, buffer.currentWriteOffset())
          });
          if (onProcessEntityComponentChange) {
            const rawValue = message.type === CrdtMessageType.PUT_COMPONENT || message.type === CrdtMessageType.APPEND_VALUE ? component.get(message.entityId) : void 0;
            onProcessEntityComponentChange(message.entityId, message.type, component, rawValue);
          }
        }
      }
    }
    for (const entityId of entitiesDeletedThisTick) {
      const offset = buffer.currentWriteOffset();
      DeleteEntity.write(entityId, buffer);
      crdtMessages.push({
        type: CrdtMessageType.DELETE_ENTITY,
        entityId,
        messageBuffer: buffer.buffer().subarray(offset, buffer.currentWriteOffset())
      });
      onProcessEntityComponentChange && onProcessEntityComponentChange(entityId, CrdtMessageType.DELETE_ENTITY);
    }
    const transportBuffer = new ReadWriteByteBuffer();
    for (const index in transports) {
      const transportIndex = Number(index);
      const transport = transports[transportIndex];
      transportBuffer.resetBuffer();
      for (const message2 of outdatedMessagesBkp) {
        if (message2.transportId === transportIndex && // TODO: This is an optimization, the state should converge anyway, whatever the message is sent.
        // Avoid sending multiple messages for the same entity-componentId
        !crdtMessages.find((m) => m.entityId === message2.entityId && // TODO: as any, with multiple type of messages, it should have many checks before the check for similar messages
        m.componentId && m.componentId === message2.componentId)) {
          transportBuffer.writeBuffer(message2.messageBuffer, false);
        }
      }
      for (const message2 of crdtMessages) {
        if (message2.transportId !== transportIndex && transport.filter(message2)) {
          transportBuffer.writeBuffer(message2.messageBuffer, false);
        }
      }
      const message = transportBuffer.currentWriteOffset() ? transportBuffer.toBinary() : new Uint8Array([]);
      await transport.send(message);
    }
  }
  function addTransport(transport) {
    const id = transports.push(transport) - 1;
    transport.onmessage = parseChunkMessage(id);
  }
  return {
    sendMessages,
    receiveMessages,
    addTransport
  };
}

// node_modules/@dcl/ecs/dist/systems/crdt/utils.js
var CrdtUtils;
(function(CrdtUtils2) {
  let SynchronizedEntityType;
  (function(SynchronizedEntityType2) {
    SynchronizedEntityType2[SynchronizedEntityType2["NETWORKED"] = 0] = "NETWORKED";
    SynchronizedEntityType2[SynchronizedEntityType2["RENDERER"] = 1] = "RENDERER";
  })(SynchronizedEntityType = CrdtUtils2.SynchronizedEntityType || (CrdtUtils2.SynchronizedEntityType = {}));
})(CrdtUtils || (CrdtUtils = {}));
function dataCompare(a, b) {
  if (a === b)
    return 0;
  if (a === null && b !== null)
    return -1;
  if (a !== null && b === null)
    return 1;
  if (a instanceof Uint8Array && b instanceof Uint8Array) {
    const lengthDifference = a.byteLength - b.byteLength;
    if (lengthDifference !== 0) {
      return lengthDifference > 0 ? 1 : -1;
    }
    let res;
    for (let i = 0, n = a.byteLength; i < n; i++) {
      res = a[i] - b[i];
      if (res !== 0) {
        return res > 0 ? 1 : -1;
      }
    }
    return 0;
  }
  if (typeof a === "string") {
    const lengthDifference = a.length - b.length;
    if (lengthDifference !== 0) {
      return lengthDifference > 0 ? 1 : -1;
    }
    return a.localeCompare(b);
  }
  return a > b ? 1 : -1;
}

// node_modules/@dcl/ecs/dist/engine/readonly.js
function deepReadonly(val) {
  return Object.freeze({ ...val });
}

// node_modules/@dcl/ecs/dist/engine/lww-element-set-component-definition.js
function incrementTimestamp(entity, timestamps) {
  const newTimestamp = (timestamps.get(entity) || 0) + 1;
  timestamps.set(entity, newTimestamp);
  return newTimestamp;
}
function createDumpLwwFunctionFromCrdt(componentId, timestamps, schema, data) {
  return function dumpCrdtState(buffer) {
    for (const [entity, timestamp] of timestamps) {
      if (data.has(entity)) {
        const it = data.get(entity);
        const buf = new ReadWriteByteBuffer();
        schema.serialize(it, buf);
        PutComponentOperation.write(entity, timestamp, componentId, buf.toBinary(), buffer);
      } else {
        DeleteComponent.write(entity, componentId, timestamp, buffer);
      }
    }
  };
}
function createUpdateLwwFromCrdt(componentId, timestamps, schema, data) {
  function crdtRuleForCurrentState(message) {
    const { entityId, timestamp } = message;
    const currentTimestamp = timestamps.get(entityId);
    if (currentTimestamp === void 0 || currentTimestamp < timestamp) {
      return ProcessMessageResultType.StateUpdatedTimestamp;
    }
    if (currentTimestamp > timestamp) {
      return ProcessMessageResultType.StateOutdatedTimestamp;
    }
    if (message.type === CrdtMessageType.DELETE_COMPONENT && !data.has(entityId)) {
      return ProcessMessageResultType.NoChanges;
    }
    let currentDataGreater = 0;
    if (data.has(entityId)) {
      const writeBuffer = new ReadWriteByteBuffer();
      schema.serialize(data.get(entityId), writeBuffer);
      currentDataGreater = dataCompare(writeBuffer.toBinary(), message.data || null);
    } else {
      currentDataGreater = dataCompare(null, message.data);
    }
    if (currentDataGreater === 0) {
      return ProcessMessageResultType.NoChanges;
    } else if (currentDataGreater > 0) {
      return ProcessMessageResultType.StateOutdatedData;
    } else {
      return ProcessMessageResultType.StateUpdatedData;
    }
  }
  return (msg) => {
    if (msg.type !== CrdtMessageType.PUT_COMPONENT && msg.type !== CrdtMessageType.DELETE_COMPONENT)
      return [null, data.get(msg.entityId)];
    const action = crdtRuleForCurrentState(msg);
    const entity = msg.entityId;
    switch (action) {
      case ProcessMessageResultType.StateUpdatedData:
      case ProcessMessageResultType.StateUpdatedTimestamp: {
        timestamps.set(entity, msg.timestamp);
        if (msg.type === CrdtMessageType.PUT_COMPONENT) {
          const buf = new ReadWriteByteBuffer(msg.data);
          data.set(entity, schema.deserialize(buf));
        } else {
          data.delete(entity);
        }
        return [null, data.get(entity)];
      }
      case ProcessMessageResultType.StateOutdatedTimestamp:
      case ProcessMessageResultType.StateOutdatedData: {
        if (data.has(entity)) {
          const writeBuffer = new ReadWriteByteBuffer();
          schema.serialize(data.get(entity), writeBuffer);
          return [
            {
              type: CrdtMessageType.PUT_COMPONENT,
              componentId,
              data: writeBuffer.toBinary(),
              entityId: entity,
              timestamp: timestamps.get(entity)
            },
            data.get(entity)
          ];
        } else {
          return [
            {
              type: CrdtMessageType.DELETE_COMPONENT,
              componentId,
              entityId: entity,
              timestamp: timestamps.get(entity)
            },
            void 0
          ];
        }
      }
    }
    return [null, data.get(entity)];
  };
}
function createGetCrdtMessagesForLww(componentId, timestamps, dirtyIterator, schema, data) {
  return function* () {
    for (const entity of dirtyIterator) {
      const newTimestamp = incrementTimestamp(entity, timestamps);
      if (data.has(entity)) {
        const writeBuffer = new ReadWriteByteBuffer();
        schema.serialize(data.get(entity), writeBuffer);
        const msg = {
          type: CrdtMessageType.PUT_COMPONENT,
          componentId,
          entityId: entity,
          data: writeBuffer.toBinary(),
          timestamp: newTimestamp
        };
        yield msg;
      } else {
        const msg = {
          type: CrdtMessageType.DELETE_COMPONENT,
          componentId,
          entityId: entity,
          timestamp: newTimestamp
        };
        yield msg;
      }
    }
    dirtyIterator.clear();
  };
}
function createComponentDefinitionFromSchema(componentName, componentId, schema) {
  const data = /* @__PURE__ */ new Map();
  const dirtyIterator = /* @__PURE__ */ new Set();
  const timestamps = /* @__PURE__ */ new Map();
  return {
    get componentId() {
      return componentId;
    },
    get componentName() {
      return componentName;
    },
    get componentType() {
      return 0;
    },
    schema,
    has(entity) {
      return data.has(entity);
    },
    deleteFrom(entity, markAsDirty = true) {
      const component = data.get(entity);
      if (data.delete(entity) && markAsDirty) {
        dirtyIterator.add(entity);
      }
      return component || null;
    },
    entityDeleted(entity, markAsDirty) {
      if (data.delete(entity) && markAsDirty) {
        dirtyIterator.add(entity);
      }
    },
    getOrNull(entity) {
      const component = data.get(entity);
      return component ? deepReadonly(component) : null;
    },
    get(entity) {
      const component = data.get(entity);
      if (!component) {
        throw new Error(`[getFrom] Component ${componentName} for entity #${entity} not found`);
      }
      return deepReadonly(component);
    },
    create(entity, value) {
      const component = data.get(entity);
      if (component) {
        throw new Error(`[create] Component ${componentName} for ${entity} already exists`);
      }
      const usedValue = value === void 0 ? schema.create() : schema.extend ? schema.extend(value) : value;
      data.set(entity, usedValue);
      dirtyIterator.add(entity);
      return usedValue;
    },
    createOrReplace(entity, value) {
      const usedValue = value === void 0 ? schema.create() : schema.extend ? schema.extend(value) : value;
      data.set(entity, usedValue);
      dirtyIterator.add(entity);
      return usedValue;
    },
    getMutableOrNull(entity) {
      const component = data.get(entity);
      if (!component) {
        return null;
      }
      dirtyIterator.add(entity);
      return component;
    },
    getOrCreateMutable(entity, value) {
      const component = data.get(entity);
      if (!component) {
        return this.create(entity, value);
      } else {
        dirtyIterator.add(entity);
        return component;
      }
    },
    getMutable(entity) {
      const component = this.getMutableOrNull(entity);
      if (component === null) {
        throw new Error(`[mutable] Component ${componentName} for ${entity} not found`);
      }
      return component;
    },
    *iterator() {
      for (const [entity, component] of data) {
        yield [entity, component];
      }
    },
    *dirtyIterator() {
      for (const entity of dirtyIterator) {
        yield entity;
      }
    },
    getCrdtUpdates: createGetCrdtMessagesForLww(componentId, timestamps, dirtyIterator, schema, data),
    updateFromCrdt: createUpdateLwwFromCrdt(componentId, timestamps, schema, data),
    dumpCrdtStateToBuffer: createDumpLwwFunctionFromCrdt(componentId, timestamps, schema, data)
  };
}

// node_modules/@dcl/ecs/dist/engine/systems.js
var SYSTEMS_REGULAR_PRIORITY = 1e5;
function SystemContainer() {
  const systems = [];
  function sort() {
    systems.sort((a, b) => b.priority - a.priority);
  }
  function add(fn, priority, name) {
    const systemName = name ?? fn.name;
    if (systems.find((item) => item.fn === fn)) {
      throw new Error(`System ${JSON.stringify(systemName)} already added to the engine`);
    }
    systems.push({
      fn,
      priority,
      name: systemName
    });
    sort();
  }
  function remove(selector) {
    let index = -1;
    if (typeof selector === "string") {
      index = systems.findIndex((item) => item.name === selector);
    } else {
      index = systems.findIndex((item) => item.fn === selector);
    }
    if (index === -1) {
      return false;
    }
    systems.splice(index, 1);
    sort();
    return true;
  }
  return {
    add,
    remove,
    getSystems() {
      return systems;
    }
  };
}

// node_modules/@dcl/ecs/dist/engine/grow-only-value-set-component-definition.js
var emptyReadonlySet = freezeSet(/* @__PURE__ */ new Set());
function frozenError() {
  throw new Error("The set is frozen");
}
function freezeSet(set) {
  ;
  set.add = frozenError;
  set.clear = frozenError;
  return set;
}
function sortByTimestamp(a, b) {
  return a.timestamp > b.timestamp ? 1 : -1;
}
function createValueSetComponentDefinitionFromSchema(componentName, componentId, schema, options) {
  const data = /* @__PURE__ */ new Map();
  const dirtyIterator = /* @__PURE__ */ new Set();
  const queuedCommands = [];
  function shouldSort(row) {
    const len = row.raw.length;
    if (len > 1 && row.raw[len - 1].timestamp <= row.raw[len - 2].timestamp) {
      return true;
    }
    return false;
  }
  function gotUpdated(entity) {
    const row = data.get(entity);
    if (row) {
      if (shouldSort(row)) {
        row.raw.sort(sortByTimestamp);
      }
      while (row.raw.length > options.maxElements) {
        row.raw.shift();
      }
      const frozenSet = freezeSet(new Set(row?.raw.map(($) => $.value)));
      row.frozenSet = frozenSet;
      return frozenSet;
    } else {
      return emptyReadonlySet;
    }
  }
  function append(entity, value) {
    let row = data.get(entity);
    if (!row) {
      row = { raw: [], frozenSet: emptyReadonlySet };
      data.set(entity, row);
    }
    const usedValue = schema.extend ? schema.extend(value) : value;
    const timestamp = options.timestampFunction(usedValue);
    if (__DEV__) {
      Object.freeze(usedValue);
    }
    row.raw.push({ value: usedValue, timestamp });
    return { set: gotUpdated(entity), value: usedValue };
  }
  const ret = {
    get componentId() {
      return componentId;
    },
    get componentName() {
      return componentName;
    },
    get componentType() {
      return 1;
    },
    schema,
    has(entity) {
      return data.has(entity);
    },
    entityDeleted(entity) {
      data.delete(entity);
    },
    get(entity) {
      const values = data.get(entity);
      if (values) {
        return values.frozenSet;
      } else {
        return emptyReadonlySet;
      }
    },
    addValue(entity, rawValue) {
      const { set, value } = append(entity, rawValue);
      dirtyIterator.add(entity);
      const buf = new ReadWriteByteBuffer();
      schema.serialize(value, buf);
      queuedCommands.push({
        componentId,
        data: buf.toBinary(),
        entityId: entity,
        timestamp: 0,
        type: CrdtMessageType.APPEND_VALUE
      });
      return set;
    },
    *iterator() {
      for (const [entity, component] of data) {
        yield [entity, component.frozenSet];
      }
    },
    *dirtyIterator() {
      for (const entity of dirtyIterator) {
        yield entity;
      }
    },
    getCrdtUpdates() {
      dirtyIterator.clear();
      return queuedCommands.splice(0, queuedCommands.length);
    },
    updateFromCrdt(_body) {
      if (_body.type === CrdtMessageType.APPEND_VALUE) {
        const buf = new ReadWriteByteBuffer(_body.data);
        append(_body.entityId, schema.deserialize(buf));
      }
      return [null, void 0];
    },
    dumpCrdtStateToBuffer: function(buffer) {
      for (const [entity, { raw }] of data) {
        for (const it of raw) {
          const buf = new ReadWriteByteBuffer();
          schema.serialize(it.value, buf);
          AppendValueOperation.write(entity, 0, componentId, buf.toBinary(), buffer);
        }
      }
    }
  };
  return ret;
}

// node_modules/@dcl/ecs/dist/engine/input.js
var InputCommands = [
  0,
  1,
  2,
  4,
  5,
  6,
  7,
  8,
  9,
  10,
  11,
  12,
  13
  /* InputAction.IA_ACTION_6 */
];
var InputStateUpdateSystemPriority = 1 << 20;
function createInputSystem(engine2) {
  const PointerEventsResult2 = PointerEventsResult(engine2);
  const globalState = {
    previousFrameMaxTimestamp: 0,
    currentFrameMaxTimestamp: 0,
    buttonState: /* @__PURE__ */ new Map(),
    thisFrameCommands: []
  };
  function findLastAction(pointerEventType, inputAction, entity) {
    const ascendingTimestampIterator = PointerEventsResult2.get(entity);
    for (const command of Array.from(ascendingTimestampIterator).reverse()) {
      if (command.button === inputAction && command.state === pointerEventType) {
        return command;
      }
    }
  }
  function* findCommandsByActionDescending(inputAction, entity) {
    const ascendingTimestampIterator = PointerEventsResult2.get(entity);
    for (const command of Array.from(ascendingTimestampIterator).reverse()) {
      if (command.button === inputAction) {
        yield command;
      }
    }
  }
  function buttonStateUpdateSystem() {
    let maxTimestamp = globalState.currentFrameMaxTimestamp;
    globalState.previousFrameMaxTimestamp = maxTimestamp;
    if (globalState.thisFrameCommands.length) {
      globalState.thisFrameCommands = [];
    }
    for (const [, commands] of engine2.getEntitiesWith(PointerEventsResult2)) {
      const arrayCommands = Array.from(commands);
      for (let i = arrayCommands.length - 1; i >= 0; i--) {
        const command = arrayCommands[i];
        if (command.timestamp > maxTimestamp) {
          maxTimestamp = command.timestamp;
        }
        if (command.timestamp > globalState.previousFrameMaxTimestamp) {
          globalState.thisFrameCommands.push(command);
        }
        if (command.state === 0 || command.state === 1) {
          const prevCommand = globalState.buttonState.get(command.button);
          if (!prevCommand || command.timestamp > prevCommand.timestamp) {
            globalState.buttonState.set(command.button, command);
          } else {
            break;
          }
        }
      }
    }
    globalState.currentFrameMaxTimestamp = maxTimestamp;
  }
  engine2.addSystem(buttonStateUpdateSystem, InputStateUpdateSystemPriority, "@dcl/ecs#inputSystem");
  function timestampIsCurrentFrame(timestamp) {
    if (timestamp > globalState.previousFrameMaxTimestamp && timestamp <= globalState.currentFrameMaxTimestamp) {
      return true;
    } else {
      return false;
    }
  }
  function getClick(inputAction, entity) {
    if (inputAction !== 3) {
      return findClick(inputAction, entity);
    }
    for (const input of InputCommands) {
      const cmd = findClick(input, entity);
      if (cmd)
        return cmd;
    }
    return null;
  }
  function findClick(inputAction, entity) {
    let down = null;
    let up = null;
    for (const it of findCommandsByActionDescending(inputAction, entity)) {
      if (!up) {
        if (it.state === 0) {
          up = it;
          continue;
        }
      } else if (!down) {
        if (it.state === 1) {
          down = it;
          break;
        }
      }
    }
    if (!up || !down)
      return null;
    if (down.timestamp < up.timestamp && timestampIsCurrentFrame(up.timestamp)) {
      return { up, down };
    }
    return null;
  }
  function getInputCommandFromEntity(inputAction, pointerEventType, entity) {
    if (inputAction !== 3) {
      return findInputCommand(inputAction, pointerEventType, entity);
    }
    for (const input of InputCommands) {
      const cmd = findInputCommand(input, pointerEventType, entity);
      if (cmd)
        return cmd;
    }
    return null;
  }
  function getInputCommand(inputAction, pointerEventType, entity) {
    if (entity) {
      return getInputCommandFromEntity(inputAction, pointerEventType, entity);
    } else {
      for (const command of globalState.thisFrameCommands) {
        if ((command.button === inputAction || inputAction === 3) && command.state === pointerEventType) {
          return command;
        }
      }
      return null;
    }
  }
  function findInputCommand(inputAction, pointerEventType, entity) {
    const command = findLastAction(pointerEventType, inputAction, entity);
    if (!command)
      return null;
    if (timestampIsCurrentFrame(command.timestamp)) {
      return command;
    } else {
      return null;
    }
  }
  function isClicked(inputAction, entity) {
    return getClick(inputAction, entity) !== null;
  }
  function isTriggered(inputAction, pointerEventType, entity) {
    if (entity) {
      const command = findLastAction(pointerEventType, inputAction, entity);
      return command && timestampIsCurrentFrame(command.timestamp) || false;
    } else {
      for (const command of globalState.thisFrameCommands) {
        if ((command.button === inputAction || inputAction === 3) && command.state === pointerEventType) {
          return true;
        }
      }
      return false;
    }
  }
  function isPressed(inputAction) {
    return globalState.buttonState.get(inputAction)?.state === 1;
  }
  return {
    isPressed,
    getClick,
    getInputCommand,
    isClicked,
    isTriggered
  };
}

// node_modules/@dcl/ecs/dist/engine/component.js
var ComponentType;
(function(ComponentType2) {
  ComponentType2[ComponentType2["LastWriteWinElementSet"] = 0] = "LastWriteWinElementSet";
  ComponentType2[ComponentType2["GrowOnlyValueSet"] = 1] = "GrowOnlyValueSet";
})(ComponentType || (ComponentType = {}));

// node_modules/@dcl/ecs/dist/engine/index.js
function preEngine() {
  const entityContainer = EntityContainer();
  const componentsDefinition = /* @__PURE__ */ new Map();
  const systems = SystemContainer();
  let sealed = false;
  function addSystem(fn, priority = SYSTEMS_REGULAR_PRIORITY, name) {
    systems.add(fn, priority, name);
  }
  function removeSystem(selector) {
    return systems.remove(selector);
  }
  function addEntity() {
    const entity = entityContainer.generateEntity();
    return entity;
  }
  function removeEntity(entity) {
    for (const [, component] of componentsDefinition) {
      component.entityDeleted(entity, true);
    }
    return entityContainer.removeEntity(entity);
  }
  function registerComponentDefinition(componentName, component) {
    if (sealed)
      throw new Error("Engine is already sealed. No components can be added at this stage");
    const componentId = componentNumberFromName(componentName);
    const prev = componentsDefinition.get(componentId);
    if (prev) {
      throw new Error(`Component number ${componentId} was already registered.`);
    }
    if (component.componentName !== componentName) {
      throw new Error(`Component name doesn't match componentDefinition.componentName ${componentName} != ${component.componentName}`);
    }
    if (component.componentId !== componentId) {
      throw new Error(`Component number doesn't match componentDefinition.componentId ${componentId} != ${component.componentId}`);
    }
    componentsDefinition.set(componentId, component);
    return component;
  }
  function defineComponentFromSchema(componentName, schema) {
    const componentId = componentNumberFromName(componentName);
    const prev = componentsDefinition.get(componentId);
    if (prev) {
      return prev;
    }
    if (sealed)
      throw new Error("Engine is already sealed. No components can be added at this stage");
    const newComponent = createComponentDefinitionFromSchema(componentName, componentId, schema);
    componentsDefinition.set(componentId, newComponent);
    return newComponent;
  }
  function defineValueSetComponentFromSchema(componentName, schema, options) {
    const componentId = componentNumberFromName(componentName);
    const prev = componentsDefinition.get(componentId);
    if (prev) {
      return prev;
    }
    if (sealed)
      throw new Error("Engine is already sealed. No components can be added at this stage");
    const newComponent = createValueSetComponentDefinitionFromSchema(componentName, componentId, schema, options);
    componentsDefinition.set(componentId, newComponent);
    return newComponent;
  }
  function defineComponent(componentName, mapSpec, constructorDefault) {
    const componentId = componentNumberFromName(componentName);
    const prev = componentsDefinition.get(componentId);
    if (prev) {
      return prev;
    }
    if (sealed)
      throw new Error("Engine is already sealed. No components can be added at this stage");
    const schemaSpec = Schemas.Map(mapSpec, constructorDefault);
    const def = createComponentDefinitionFromSchema(componentName, componentId, schemaSpec);
    const newComponent = {
      ...def,
      create(entity, val) {
        return def.create(entity, val);
      },
      createOrReplace(entity, val) {
        return def.createOrReplace(entity, val);
      }
    };
    componentsDefinition.set(componentId, newComponent);
    return newComponent;
  }
  function getComponent(componentIdOrName) {
    const componentId = typeof componentIdOrName === "number" ? componentIdOrName : componentNumberFromName(componentIdOrName);
    const component = componentsDefinition.get(componentId);
    if (!component) {
      throw new Error(`Component ${componentId} not found. You need to declare the components at the beginnig of the engine declaration`);
    }
    return component;
  }
  function getComponentOrNull(componentIdOrName) {
    const componentId = typeof componentIdOrName === "number" ? componentIdOrName : componentNumberFromName(componentIdOrName);
    return componentsDefinition.get(componentId) ?? /* istanbul ignore next */
    null;
  }
  function* getEntitiesWith(...components) {
    for (const [entity, ...groupComp] of getComponentDefGroup(...components)) {
      yield [entity, ...groupComp.map((c) => c.get(entity))];
    }
  }
  function getEntityOrNullByName(value) {
    const LabelComponent = Name({ defineComponent });
    for (const [entity, name] of getEntitiesWith(LabelComponent)) {
      if (name.value === value)
        return entity;
    }
    return null;
  }
  function* getComponentDefGroup(...args) {
    const [firstComponentDef, ...componentDefinitions] = args;
    for (const [entity] of firstComponentDef.iterator()) {
      let matches = true;
      for (const componentDef of componentDefinitions) {
        if (!componentDef.has(entity)) {
          matches = false;
          break;
        }
      }
      if (matches) {
        yield [entity, ...args];
      }
    }
  }
  function getSystems() {
    return systems.getSystems();
  }
  function componentsIter() {
    return componentsDefinition.values();
  }
  function removeComponentDefinition(componentIdOrName) {
    if (sealed)
      throw new Error("Engine is already sealed. No components can be removed at this stage");
    const componentId = typeof componentIdOrName === "number" ? componentIdOrName : componentNumberFromName(componentIdOrName);
    componentsDefinition.delete(componentId);
  }
  Transform({ defineComponentFromSchema });
  function seal() {
    if (!sealed) {
      sealed = true;
    }
  }
  return {
    addEntity,
    removeEntity,
    addSystem,
    getSystems,
    removeSystem,
    defineComponent,
    defineComponentFromSchema,
    defineValueSetComponentFromSchema,
    getEntitiesWith,
    getComponent,
    getComponentOrNull,
    getEntityOrNullByName,
    removeComponentDefinition,
    registerComponentDefinition,
    entityContainer,
    componentsIter,
    seal
  };
}
function Engine(options) {
  const partialEngine = preEngine();
  const crdtSystem = crdtSceneSystem(partialEngine, options?.onChangeFunction || null);
  async function update(dt) {
    await crdtSystem.receiveMessages();
    for (const system of partialEngine.getSystems()) {
      const ret = system.fn(dt);
      checkNotThenable(ret, `A system (${system.name || "anonymous"}) returned a thenable. Systems cannot be async functions. Documentation: https://dcl.gg/sdk/sync-systems`);
    }
    const deletedEntites = partialEngine.entityContainer.releaseRemovedEntities();
    await crdtSystem.sendMessages(deletedEntites);
  }
  return {
    addEntity: partialEngine.addEntity,
    removeEntity: partialEngine.removeEntity,
    addSystem: partialEngine.addSystem,
    removeSystem: partialEngine.removeSystem,
    defineComponent: partialEngine.defineComponent,
    defineComponentFromSchema: partialEngine.defineComponentFromSchema,
    defineValueSetComponentFromSchema: partialEngine.defineValueSetComponentFromSchema,
    registerComponentDefinition: partialEngine.registerComponentDefinition,
    getEntitiesWith: partialEngine.getEntitiesWith,
    getComponent: partialEngine.getComponent,
    getComponentOrNull: partialEngine.getComponentOrNull,
    removeComponentDefinition: partialEngine.removeComponentDefinition,
    componentsIter: partialEngine.componentsIter,
    seal: partialEngine.seal,
    getEntityOrNullByName: partialEngine.getEntityOrNullByName,
    update,
    RootEntity: 0,
    PlayerEntity: 1,
    CameraEntity: 2,
    getEntityState: partialEngine.entityContainer.getEntityState,
    addTransport: crdtSystem.addTransport,
    entityContainer: partialEngine.entityContainer
  };
}

// node_modules/@dcl/ecs/dist/systems/events.js
function createPointerEventsSystem(engine2, inputSystem2) {
  const PointerEvents3 = PointerEvents(engine2);
  let EventType;
  (function(EventType2) {
    EventType2[EventType2["Click"] = 0] = "Click";
    EventType2[EventType2["Down"] = 1] = "Down";
    EventType2[EventType2["Up"] = 2] = "Up";
  })(EventType || (EventType = {}));
  const getDefaultOpts = (opts = {}) => ({
    button: 3,
    ...opts
  });
  const eventsMap = /* @__PURE__ */ new Map();
  function getEvent(entity) {
    return eventsMap.get(entity) || eventsMap.set(entity, /* @__PURE__ */ new Map()).get(entity);
  }
  function setPointerEvent(entity, type, opts) {
    if (opts.hoverText || opts.showFeedback) {
      const pointerEvent = PointerEvents3.getMutableOrNull(entity) || PointerEvents3.create(entity);
      pointerEvent.pointerEvents.push({
        eventType: type,
        eventInfo: {
          button: opts.button,
          showFeedback: opts.showFeedback,
          hoverText: opts.hoverText,
          maxDistance: opts.maxDistance
        }
      });
    }
  }
  function removePointerEvent(entity, type, button) {
    const pointerEvent = PointerEvents3.getMutableOrNull(entity);
    if (!pointerEvent)
      return;
    pointerEvent.pointerEvents = pointerEvent.pointerEvents.filter((pointer) => !(pointer.eventInfo?.button === button && pointer.eventType === type));
  }
  function getPointerEvent(eventType) {
    if (eventType === EventType.Up) {
      return 0;
    }
    return 1;
  }
  function removeEvent(entity, type) {
    const event = getEvent(entity);
    const pointerEvent = event.get(type);
    if (pointerEvent?.opts.hoverText) {
      removePointerEvent(entity, getPointerEvent(type), pointerEvent.opts.button);
    }
    event.delete(type);
  }
  engine2.addSystem(function EventSystem() {
    for (const [entity, event] of eventsMap) {
      if (engine2.getEntityState(entity) === EntityState.Removed) {
        eventsMap.delete(entity);
        continue;
      }
      for (const [eventType, { cb, opts }] of event) {
        if (eventType === EventType.Click) {
          const command = inputSystem2.getClick(opts.button, entity);
          if (command)
            checkNotThenable(cb(command.up), "Click event returned a thenable. Only synchronous functions are allowed");
        }
        if (eventType === EventType.Down || eventType === EventType.Up) {
          const command = inputSystem2.getInputCommand(opts.button, getPointerEvent(eventType), entity);
          if (command) {
            checkNotThenable(cb(command), "Event handler returned a thenable. Only synchronous functions are allowed");
          }
        }
      }
    }
  });
  const onPointerDown = (...args) => {
    const [data, cb, maybeOpts] = args;
    if (typeof data === "number") {
      return onPointerDown({ entity: data, opts: maybeOpts ?? {} }, cb);
    }
    const { entity, opts } = data;
    const options = getDefaultOpts(opts);
    removeEvent(entity, EventType.Down);
    getEvent(entity).set(EventType.Down, { cb, opts: options });
    setPointerEvent(entity, 1, options);
  };
  const onPointerUp = (...args) => {
    const [data, cb, maybeOpts] = args;
    if (typeof data === "number") {
      return onPointerUp({ entity: data, opts: maybeOpts ?? {} }, cb);
    }
    const { entity, opts } = data;
    const options = getDefaultOpts(opts);
    removeEvent(entity, EventType.Up);
    getEvent(entity).set(EventType.Up, { cb, opts: options });
    setPointerEvent(entity, 0, options);
  };
  return {
    removeOnClick(entity) {
      removeEvent(entity, EventType.Click);
    },
    removeOnPointerDown(entity) {
      removeEvent(entity, EventType.Down);
    },
    removeOnPointerUp(entity) {
      removeEvent(entity, EventType.Up);
    },
    onClick(value, cb) {
      const { entity } = value;
      const options = getDefaultOpts(value.opts);
      removeEvent(entity, EventType.Click);
      getEvent(entity).set(EventType.Click, { cb, opts: options });
      setPointerEvent(entity, 1, options);
    },
    onPointerDown,
    onPointerUp
  };
}

// node_modules/@dcl/ecs/dist/runtime/initialization/index.js
var engine = /* @__PURE__ */ Engine();
var inputSystem = /* @__PURE__ */ createInputSystem(engine);
var pointerEventsSystem = /* @__PURE__ */ createPointerEventsSystem(engine, inputSystem);

// node_modules/@dcl/ecs/dist/components/generated/global.gen.js
var PointerEvents2 = /* @__PURE__ */ PointerEvents(engine);

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/camera_type.gen.js
var CameraType;
(function(CameraType2) {
  CameraType2[CameraType2["CT_FIRST_PERSON"] = 0] = "CT_FIRST_PERSON";
  CameraType2[CameraType2["CT_THIRD_PERSON"] = 1] = "CT_THIRD_PERSON";
  CameraType2[CameraType2["CT_CINEMATIC"] = 2] = "CT_CINEMATIC";
})(CameraType || (CameraType = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/input_action.gen.js
var InputAction;
(function(InputAction2) {
  InputAction2[InputAction2["IA_POINTER"] = 0] = "IA_POINTER";
  InputAction2[InputAction2["IA_PRIMARY"] = 1] = "IA_PRIMARY";
  InputAction2[InputAction2["IA_SECONDARY"] = 2] = "IA_SECONDARY";
  InputAction2[InputAction2["IA_ANY"] = 3] = "IA_ANY";
  InputAction2[InputAction2["IA_FORWARD"] = 4] = "IA_FORWARD";
  InputAction2[InputAction2["IA_BACKWARD"] = 5] = "IA_BACKWARD";
  InputAction2[InputAction2["IA_RIGHT"] = 6] = "IA_RIGHT";
  InputAction2[InputAction2["IA_LEFT"] = 7] = "IA_LEFT";
  InputAction2[InputAction2["IA_JUMP"] = 8] = "IA_JUMP";
  InputAction2[InputAction2["IA_WALK"] = 9] = "IA_WALK";
  InputAction2[InputAction2["IA_ACTION_3"] = 10] = "IA_ACTION_3";
  InputAction2[InputAction2["IA_ACTION_4"] = 11] = "IA_ACTION_4";
  InputAction2[InputAction2["IA_ACTION_5"] = 12] = "IA_ACTION_5";
  InputAction2[InputAction2["IA_ACTION_6"] = 13] = "IA_ACTION_6";
})(InputAction || (InputAction = {}));
var PointerEventType;
(function(PointerEventType2) {
  PointerEventType2[PointerEventType2["PET_UP"] = 0] = "PET_UP";
  PointerEventType2[PointerEventType2["PET_DOWN"] = 1] = "PET_DOWN";
  PointerEventType2[PointerEventType2["PET_HOVER_ENTER"] = 2] = "PET_HOVER_ENTER";
  PointerEventType2[PointerEventType2["PET_HOVER_LEAVE"] = 3] = "PET_HOVER_LEAVE";
})(PointerEventType || (PointerEventType = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/loading_state.gen.js
var LoadingState;
(function(LoadingState2) {
  LoadingState2[LoadingState2["UNKNOWN"] = 0] = "UNKNOWN";
  LoadingState2[LoadingState2["LOADING"] = 1] = "LOADING";
  LoadingState2[LoadingState2["NOT_FOUND"] = 2] = "NOT_FOUND";
  LoadingState2[LoadingState2["FINISHED_WITH_ERROR"] = 3] = "FINISHED_WITH_ERROR";
  LoadingState2[LoadingState2["FINISHED"] = 4] = "FINISHED";
})(LoadingState || (LoadingState = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/texts.gen.js
var TextAlignMode;
(function(TextAlignMode2) {
  TextAlignMode2[TextAlignMode2["TAM_TOP_LEFT"] = 0] = "TAM_TOP_LEFT";
  TextAlignMode2[TextAlignMode2["TAM_TOP_CENTER"] = 1] = "TAM_TOP_CENTER";
  TextAlignMode2[TextAlignMode2["TAM_TOP_RIGHT"] = 2] = "TAM_TOP_RIGHT";
  TextAlignMode2[TextAlignMode2["TAM_MIDDLE_LEFT"] = 3] = "TAM_MIDDLE_LEFT";
  TextAlignMode2[TextAlignMode2["TAM_MIDDLE_CENTER"] = 4] = "TAM_MIDDLE_CENTER";
  TextAlignMode2[TextAlignMode2["TAM_MIDDLE_RIGHT"] = 5] = "TAM_MIDDLE_RIGHT";
  TextAlignMode2[TextAlignMode2["TAM_BOTTOM_LEFT"] = 6] = "TAM_BOTTOM_LEFT";
  TextAlignMode2[TextAlignMode2["TAM_BOTTOM_CENTER"] = 7] = "TAM_BOTTOM_CENTER";
  TextAlignMode2[TextAlignMode2["TAM_BOTTOM_RIGHT"] = 8] = "TAM_BOTTOM_RIGHT";
})(TextAlignMode || (TextAlignMode = {}));
var Font;
(function(Font2) {
  Font2[Font2["F_SANS_SERIF"] = 0] = "F_SANS_SERIF";
  Font2[Font2["F_SERIF"] = 1] = "F_SERIF";
  Font2[Font2["F_MONOSPACE"] = 2] = "F_MONOSPACE";
})(Font || (Font = {}));

// node_modules/@dcl/ecs/dist/composite/components.js
function getCompositeRootComponent(engine2) {
  const component = engine2.getComponentOrNull("composite::root");
  if (component) {
    return component;
  }
  return engine2.defineComponent("composite::root", {
    src: Schemas.String,
    entities: Schemas.Array(Schemas.Map({
      src: Schemas.Entity,
      dest: Schemas.Entity
    }))
  });
}

// node_modules/@dcl/ecs/dist/composite/path.js
var currentWorkingDir = "/";
function normalizeStringPosix(path, allowAboveRoot = false) {
  let res = "";
  let lastSegmentLength = 0;
  let lastSlash = -1;
  let dots = 0;
  let code;
  for (let i = 0; i <= path.length; ++i) {
    if (i < path.length)
      code = path.charCodeAt(i);
    else if (code === 47)
      break;
    else
      code = 47;
    if (code === 47) {
      if (lastSlash === i - 1 || dots === 1) {
      } else if (lastSlash !== i - 1 && dots === 2) {
        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 || res.charCodeAt(res.length - 2) !== 46) {
          if (res.length > 2) {
            const lastSlashIndex = res.lastIndexOf("/");
            if (lastSlashIndex !== res.length - 1) {
              if (lastSlashIndex === -1) {
                res = "";
                lastSegmentLength = 0;
              } else {
                res = res.slice(0, lastSlashIndex);
                lastSegmentLength = res.length - 1 - res.lastIndexOf("/");
              }
              lastSlash = i;
              dots = 0;
              continue;
            }
          } else if (res.length === 2 || res.length === 1) {
            res = "";
            lastSegmentLength = 0;
            lastSlash = i;
            dots = 0;
            continue;
          }
        }
        if (allowAboveRoot) {
          if (res.length > 0)
            res += "/..";
          else
            res = "..";
          lastSegmentLength = 2;
        }
      } else {
        if (res.length > 0)
          res += "/" + path.slice(lastSlash + 1, i);
        else
          res = path.slice(lastSlash + 1, i);
        lastSegmentLength = i - lastSlash - 1;
      }
      lastSlash = i;
      dots = 0;
    } else if (code === 46 && dots !== -1) {
      ++dots;
    } else {
      dots = -1;
    }
  }
  return res;
}
function resolve(...args) {
  let resolvedPath = "";
  let resolvedAbsolute = false;
  let cwd;
  for (let i = args.length - 1; i >= -1 && !resolvedAbsolute; i--) {
    let path;
    if (i >= 0)
      path = args[i];
    else {
      if (cwd === void 0)
        cwd = currentWorkingDir;
      path = cwd;
    }
    if (path.length === 0) {
      continue;
    }
    resolvedPath = path + "/" + resolvedPath;
    resolvedAbsolute = path.charCodeAt(0) === 47;
  }
  resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);
  if (resolvedAbsolute) {
    if (resolvedPath.length > 0)
      return "/" + resolvedPath;
    else
      return "/";
  } else if (resolvedPath.length > 0) {
    return resolvedPath;
  } else {
    return ".";
  }
}
function dirname(path) {
  if (path.length === 0)
    return ".";
  let code = path.charCodeAt(0);
  const hasRoot = code === 47;
  let end = -1;
  let matchedSlash = true;
  for (let i = path.length - 1; i >= 1; --i) {
    code = path.charCodeAt(i);
    if (code === 47) {
      if (!matchedSlash) {
        end = i;
        break;
      }
    } else {
      matchedSlash = false;
    }
  }
  if (end === -1)
    return hasRoot ? "/" : ".";
  if (hasRoot && end === 1)
    return "//";
  return path.slice(0, end);
}
function resolveComposite(path, cwd) {
  const absolutePath = path.startsWith(".") ? resolve(cwd, path) : resolve(path);
  return absolutePath.substring(1);
}

// node_modules/@dcl/ecs/dist/composite/instance.js
var EntityMappingMode;
(function(EntityMappingMode2) {
  EntityMappingMode2[EntityMappingMode2["EMM_NONE"] = 0] = "EMM_NONE";
  EntityMappingMode2[EntityMappingMode2["EMM_NEXT_AVAILABLE"] = 1] = "EMM_NEXT_AVAILABLE";
  EntityMappingMode2[EntityMappingMode2["EMM_DIRECT_MAPPING"] = 2] = "EMM_DIRECT_MAPPING";
})(EntityMappingMode || (EntityMappingMode = {}));
function getComponentValue(componentDefinition, component) {
  if (component.data?.$case === "json") {
    return component.data.json;
  } else {
    return componentDefinition.schema.deserialize(new ReadWriteByteBuffer(component.data?.binary));
  }
}
function getComponentDefinition(engine2, component) {
  const existingComponentDefinition = engine2.getComponentOrNull(component.name);
  if (!existingComponentDefinition) {
    if (component.name.startsWith("core::")) {
      if (component.name in componentDefinitionByName) {
        return componentDefinitionByName[component.name](engine2);
      } else {
        throw new Error(`The core component ${component.name} was not found.`);
      }
    } else if (component.jsonSchema) {
      return engine2.defineComponentFromSchema(component.name, Schemas.fromJson(component.jsonSchema));
    } else {
      throw new Error(`${component.name} is not defined and there is no schema to define it.`);
    }
  } else {
    return existingComponentDefinition;
  }
}
function getEntityMapping(engine2, compositeEntity, mappedEntities, { entityMapping }) {
  const existingEntity = mappedEntities.get(compositeEntity);
  if (existingEntity) {
    return existingEntity;
  }
  if (entityMapping?.type === EntityMappingMode.EMM_DIRECT_MAPPING) {
    const entity = entityMapping.getCompositeEntity(compositeEntity);
    mappedEntities.set(compositeEntity, entity);
    return entity;
  }
  const newEntity = entityMapping?.type === EntityMappingMode.EMM_NEXT_AVAILABLE ? entityMapping.getNextAvailableEntity() : engine2.addEntity();
  if (newEntity === null) {
    throw new Error("There is no more entities to allocate");
  }
  mappedEntities.set(compositeEntity, newEntity);
  return newEntity;
}
function instanceComposite(engine2, compositeResource, compositeProvider2, options) {
  const { rootEntity, alreadyRequestedSrc: optionalAlreadyRequestedSrc, entityMapping } = options;
  const alreadyRequestedSrc = optionalAlreadyRequestedSrc || /* @__PURE__ */ new Set();
  const compositeDirectoryPath = dirname(resolve(compositeResource.src));
  const TransformComponentNumber = componentNumberFromName("core::Transform");
  const CompositeRootComponent = getCompositeRootComponent(engine2);
  const mappedEntities = /* @__PURE__ */ new Map();
  const getCompositeEntity = (compositeEntity) => getEntityMapping(engine2, compositeEntity, mappedEntities, options);
  const compositeRootEntity = rootEntity ?? getCompositeEntity(0);
  if (rootEntity) {
    mappedEntities.set(0, rootEntity);
  }
  const childrenComposite = compositeResource.composite.components.find((item) => item.name === CompositeRootComponent.componentName);
  if (childrenComposite) {
    for (const [childCompositeEntity, compositeRawData] of childrenComposite.data) {
      const childComposite = getComponentValue(CompositeRootComponent, compositeRawData);
      const childCompositePath = resolveComposite(childComposite.src, compositeDirectoryPath);
      const childCompositeResource = compositeProvider2.getCompositeOrNull(childCompositePath);
      const targetEntity = getCompositeEntity(childCompositeEntity);
      if (childCompositeResource) {
        if (alreadyRequestedSrc.has(childCompositeResource.src) || childCompositeResource.src === compositeResource.src) {
          throw new Error(`Composite ${compositeResource.src} has a recursive instanciation while try to instance ${childCompositeResource.src}. Previous instances: ${alreadyRequestedSrc.toString()}`);
        }
        instanceComposite(engine2, childCompositeResource, compositeProvider2, {
          rootEntity: targetEntity,
          alreadyRequestedSrc: new Set(alreadyRequestedSrc).add(childCompositeResource.src),
          entityMapping: entityMapping?.type === EntityMappingMode.EMM_NEXT_AVAILABLE ? entityMapping : void 0
        });
      }
    }
  }
  for (const component of compositeResource.composite.components) {
    if (component.name === CompositeRootComponent.componentName)
      continue;
    const componentDefinition = getComponentDefinition(engine2, component);
    for (const [entity, compositeComponentValue] of component.data) {
      const componentValueDeserialized = getComponentValue(componentDefinition, compositeComponentValue);
      const targetEntity = getCompositeEntity(entity);
      const componentValue = componentDefinition.create(targetEntity, componentValueDeserialized);
      if (componentDefinition.componentId === TransformComponentNumber) {
        const transform = componentValue;
        if (transform.parent) {
          transform.parent = getCompositeEntity(transform.parent);
        } else {
          transform.parent = getCompositeEntity(0);
        }
      } else {
        Schemas.mutateNestedValues(componentDefinition.schema.jsonSchema, componentValue, (value, valueType) => {
          if (valueType.serializationType === "entity") {
            return { changed: true, value: getCompositeEntity(value) };
          } else {
            return { changed: false };
          }
        });
      }
    }
  }
  const composite = CompositeRootComponent.getMutableOrNull(compositeRootEntity) || CompositeRootComponent.create(compositeRootEntity);
  for (const [entitySource, targetEntity] of mappedEntities) {
    composite.entities.push({
      src: entitySource,
      dest: targetEntity
    });
  }
  composite.src = compositeResource.src;
  return compositeRootEntity;
}

// node_modules/@dcl/ecs/dist/composite/proto/gen/composite.gen.js
var import_minimal40 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/composite/proto/gen/google/protobuf/struct.gen.js
var import_minimal39 = __toESM(require_minimal2());
var NullValue;
(function(NullValue2) {
  NullValue2[NullValue2["NULL_VALUE"] = 0] = "NULL_VALUE";
})(NullValue || (NullValue = {}));
function nullValueFromJSON(object) {
  switch (object) {
    case 0:
    case "NULL_VALUE":
      return 0;
    default:
      throw new tsProtoGlobalThis2.Error("Unrecognized enum value " + object + " for enum NullValue");
  }
}
function nullValueToJSON(object) {
  switch (object) {
    case 0:
      return "NULL_VALUE";
    default:
      throw new tsProtoGlobalThis2.Error("Unrecognized enum value " + object + " for enum NullValue");
  }
}
function createBaseStruct() {
  return { fields: /* @__PURE__ */ new Map() };
}
var Struct;
(function(Struct2) {
  function encode(message, writer = import_minimal39.default.Writer.create()) {
    message.fields.forEach((value, key) => {
      if (value !== void 0) {
        Struct_FieldsEntry.encode({ key, value }, writer.uint32(10).fork()).ldelim();
      }
    });
    return writer;
  }
  Struct2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal39.default.Reader ? input : import_minimal39.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseStruct();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          const entry1 = Struct_FieldsEntry.decode(reader, reader.uint32());
          if (entry1.value !== void 0) {
            message.fields.set(entry1.key, entry1.value);
          }
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Struct2.decode = decode;
  function fromJSON(object) {
    return {
      fields: isObject(object.fields) ? Object.entries(object.fields).reduce((acc, [key, value]) => {
        acc.set(key, value);
        return acc;
      }, /* @__PURE__ */ new Map()) : /* @__PURE__ */ new Map()
    };
  }
  Struct2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    obj.fields = {};
    if (message.fields) {
      message.fields.forEach((v, k) => {
        obj.fields[k] = v;
      });
    }
    return obj;
  }
  Struct2.toJSON = toJSON;
  function wrap(object) {
    const struct = createBaseStruct();
    if (object !== void 0) {
      Object.keys(object).forEach((key) => {
        struct.fields.set(key, object[key]);
      });
    }
    return struct;
  }
  Struct2.wrap = wrap;
  function unwrap(message) {
    const object = {};
    [...message.fields.keys()].forEach((key) => {
      object[key] = message.fields.get(key);
    });
    return object;
  }
  Struct2.unwrap = unwrap;
})(Struct || (Struct = {}));
function createBaseStruct_FieldsEntry() {
  return { key: "", value: void 0 };
}
var Struct_FieldsEntry;
(function(Struct_FieldsEntry2) {
  function encode(message, writer = import_minimal39.default.Writer.create()) {
    if (message.key !== "") {
      writer.uint32(10).string(message.key);
    }
    if (message.value !== void 0) {
      Value.encode(Value.wrap(message.value), writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  Struct_FieldsEntry2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal39.default.Reader ? input : import_minimal39.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseStruct_FieldsEntry();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.key = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.value = Value.unwrap(Value.decode(reader, reader.uint32()));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Struct_FieldsEntry2.decode = decode;
  function fromJSON(object) {
    return { key: isSet(object.key) ? String(object.key) : "", value: isSet(object?.value) ? object.value : void 0 };
  }
  Struct_FieldsEntry2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.key !== void 0 && (obj.key = message.key);
    message.value !== void 0 && (obj.value = message.value);
    return obj;
  }
  Struct_FieldsEntry2.toJSON = toJSON;
})(Struct_FieldsEntry || (Struct_FieldsEntry = {}));
function createBaseValue() {
  return { kind: void 0 };
}
var Value;
(function(Value2) {
  function encode(message, writer = import_minimal39.default.Writer.create()) {
    switch (message.kind?.$case) {
      case "nullValue":
        writer.uint32(8).int32(message.kind.nullValue);
        break;
      case "numberValue":
        writer.uint32(17).double(message.kind.numberValue);
        break;
      case "stringValue":
        writer.uint32(26).string(message.kind.stringValue);
        break;
      case "boolValue":
        writer.uint32(32).bool(message.kind.boolValue);
        break;
      case "structValue":
        Struct.encode(Struct.wrap(message.kind.structValue), writer.uint32(42).fork()).ldelim();
        break;
      case "listValue":
        ListValue.encode(ListValue.wrap(message.kind.listValue), writer.uint32(50).fork()).ldelim();
        break;
    }
    return writer;
  }
  Value2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal39.default.Reader ? input : import_minimal39.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseValue();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.kind = { $case: "nullValue", nullValue: reader.int32() };
          continue;
        case 2:
          if (tag !== 17) {
            break;
          }
          message.kind = { $case: "numberValue", numberValue: reader.double() };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.kind = { $case: "stringValue", stringValue: reader.string() };
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.kind = { $case: "boolValue", boolValue: reader.bool() };
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.kind = { $case: "structValue", structValue: Struct.unwrap(Struct.decode(reader, reader.uint32())) };
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.kind = { $case: "listValue", listValue: ListValue.unwrap(ListValue.decode(reader, reader.uint32())) };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Value2.decode = decode;
  function fromJSON(object) {
    return {
      kind: isSet(object.nullValue) ? { $case: "nullValue", nullValue: nullValueFromJSON(object.nullValue) } : isSet(object.numberValue) ? { $case: "numberValue", numberValue: Number(object.numberValue) } : isSet(object.stringValue) ? { $case: "stringValue", stringValue: String(object.stringValue) } : isSet(object.boolValue) ? { $case: "boolValue", boolValue: Boolean(object.boolValue) } : isSet(object.structValue) ? { $case: "structValue", structValue: object.structValue } : isSet(object.listValue) ? { $case: "listValue", listValue: [...object.listValue] } : void 0
    };
  }
  Value2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.kind?.$case === "nullValue" && (obj.nullValue = message.kind?.nullValue !== void 0 ? nullValueToJSON(message.kind?.nullValue) : void 0);
    message.kind?.$case === "numberValue" && (obj.numberValue = message.kind?.numberValue);
    message.kind?.$case === "stringValue" && (obj.stringValue = message.kind?.stringValue);
    message.kind?.$case === "boolValue" && (obj.boolValue = message.kind?.boolValue);
    message.kind?.$case === "structValue" && (obj.structValue = message.kind?.structValue);
    message.kind?.$case === "listValue" && (obj.listValue = message.kind?.listValue);
    return obj;
  }
  Value2.toJSON = toJSON;
  function wrap(value) {
    const result = createBaseValue();
    if (value === null) {
      result.kind = {
        $case: "nullValue",
        nullValue: 0
        /* NullValue.NULL_VALUE */
      };
    } else if (typeof value === "boolean") {
      result.kind = { $case: "boolValue", boolValue: value };
    } else if (typeof value === "number") {
      result.kind = { $case: "numberValue", numberValue: value };
    } else if (typeof value === "string") {
      result.kind = { $case: "stringValue", stringValue: value };
    } else if (Array.isArray(value)) {
      result.kind = { $case: "listValue", listValue: value };
    } else if (typeof value === "object") {
      result.kind = { $case: "structValue", structValue: value };
    } else if (typeof value !== "undefined") {
      throw new Error("Unsupported any value type: " + typeof value);
    }
    return result;
  }
  Value2.wrap = wrap;
  function unwrap(message) {
    if (message.kind?.$case === "nullValue") {
      return null;
    } else if (message.kind?.$case === "numberValue") {
      return message.kind?.numberValue;
    } else if (message.kind?.$case === "stringValue") {
      return message.kind?.stringValue;
    } else if (message.kind?.$case === "boolValue") {
      return message.kind?.boolValue;
    } else if (message.kind?.$case === "structValue") {
      return message.kind?.structValue;
    } else if (message.kind?.$case === "listValue") {
      return message.kind?.listValue;
    } else {
      return void 0;
    }
  }
  Value2.unwrap = unwrap;
})(Value || (Value = {}));
function createBaseListValue() {
  return { values: [] };
}
var ListValue;
(function(ListValue2) {
  function encode(message, writer = import_minimal39.default.Writer.create()) {
    for (const v of message.values) {
      Value.encode(Value.wrap(v), writer.uint32(10).fork()).ldelim();
    }
    return writer;
  }
  ListValue2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal39.default.Reader ? input : import_minimal39.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseListValue();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.values.push(Value.unwrap(Value.decode(reader, reader.uint32())));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  ListValue2.decode = decode;
  function fromJSON(object) {
    return { values: Array.isArray(object?.values) ? [...object.values] : [] };
  }
  ListValue2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    if (message.values) {
      obj.values = message.values.map((e) => e);
    } else {
      obj.values = [];
    }
    return obj;
  }
  ListValue2.toJSON = toJSON;
  function wrap(array) {
    const result = createBaseListValue();
    result.values = array ?? [];
    return result;
  }
  ListValue2.wrap = wrap;
  function unwrap(message) {
    if (message?.hasOwnProperty("values") && Array.isArray(message.values)) {
      return message.values;
    } else {
      return message;
    }
  }
  ListValue2.unwrap = unwrap;
})(ListValue || (ListValue = {}));
var tsProtoGlobalThis2 = (() => {
  if (typeof globalThis !== "undefined") {
    return globalThis;
  }
  if (typeof self !== "undefined") {
    return self;
  }
  if (false) {
    return void 0;
  }
  if (typeof global !== "undefined") {
    return global;
  }
  throw "Unable to locate global object";
})();
function isObject(value) {
  return typeof value === "object" && value !== null;
}
function isSet(value) {
  return value !== null && value !== void 0;
}

// node_modules/@dcl/ecs/dist/composite/proto/gen/composite.gen.js
function createBaseComponentData() {
  return { data: void 0 };
}
var ComponentData;
(function(ComponentData2) {
  function encode(message, writer = import_minimal40.default.Writer.create()) {
    switch (message.data?.$case) {
      case "json":
        Value.encode(Value.wrap(message.data.json), writer.uint32(10).fork()).ldelim();
        break;
      case "binary":
        writer.uint32(18).bytes(message.data.binary);
        break;
    }
    return writer;
  }
  ComponentData2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal40.default.Reader ? input : import_minimal40.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseComponentData();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.data = { $case: "json", json: Value.unwrap(Value.decode(reader, reader.uint32())) };
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.data = { $case: "binary", binary: reader.bytes() };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  ComponentData2.decode = decode;
  function fromJSON(object) {
    return {
      data: isSet2(object.json) ? { $case: "json", json: object.json } : isSet2(object.binary) ? { $case: "binary", binary: bytesFromBase64(object.binary) } : void 0
    };
  }
  ComponentData2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.data?.$case === "json" && (obj.json = message.data?.json);
    message.data?.$case === "binary" && (obj.binary = message.data?.binary !== void 0 ? base64FromBytes(message.data?.binary) : void 0);
    return obj;
  }
  ComponentData2.toJSON = toJSON;
})(ComponentData || (ComponentData = {}));
function createBaseCompositeComponent() {
  return { name: "", jsonSchema: void 0, data: /* @__PURE__ */ new Map() };
}
var CompositeComponent;
(function(CompositeComponent2) {
  function encode(message, writer = import_minimal40.default.Writer.create()) {
    if (message.name !== "") {
      writer.uint32(10).string(message.name);
    }
    if (message.jsonSchema !== void 0) {
      Value.encode(Value.wrap(message.jsonSchema), writer.uint32(18).fork()).ldelim();
    }
    message.data.forEach((value, key) => {
      CompositeComponent_DataEntry.encode({ key, value }, writer.uint32(26).fork()).ldelim();
    });
    return writer;
  }
  CompositeComponent2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal40.default.Reader ? input : import_minimal40.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseCompositeComponent();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.name = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.jsonSchema = Value.unwrap(Value.decode(reader, reader.uint32()));
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          const entry3 = CompositeComponent_DataEntry.decode(reader, reader.uint32());
          if (entry3.value !== void 0) {
            message.data.set(entry3.key, entry3.value);
          }
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  CompositeComponent2.decode = decode;
  function fromJSON(object) {
    return {
      name: isSet2(object.name) ? String(object.name) : "",
      jsonSchema: isSet2(object?.jsonSchema) ? object.jsonSchema : void 0,
      data: isObject2(object.data) ? Object.entries(object.data).reduce((acc, [key, value]) => {
        acc.set(Number(key), ComponentData.fromJSON(value));
        return acc;
      }, /* @__PURE__ */ new Map()) : /* @__PURE__ */ new Map()
    };
  }
  CompositeComponent2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.name !== void 0 && (obj.name = message.name);
    message.jsonSchema !== void 0 && (obj.jsonSchema = message.jsonSchema);
    obj.data = {};
    if (message.data) {
      message.data.forEach((v, k) => {
        obj.data[k] = ComponentData.toJSON(v);
      });
    }
    return obj;
  }
  CompositeComponent2.toJSON = toJSON;
})(CompositeComponent || (CompositeComponent = {}));
function createBaseCompositeComponent_DataEntry() {
  return { key: 0, value: void 0 };
}
var CompositeComponent_DataEntry;
(function(CompositeComponent_DataEntry2) {
  function encode(message, writer = import_minimal40.default.Writer.create()) {
    if (message.key !== 0) {
      writer.uint32(8).int32(message.key);
    }
    if (message.value !== void 0) {
      ComponentData.encode(message.value, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  CompositeComponent_DataEntry2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal40.default.Reader ? input : import_minimal40.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseCompositeComponent_DataEntry();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.key = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.value = ComponentData.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  CompositeComponent_DataEntry2.decode = decode;
  function fromJSON(object) {
    return {
      key: isSet2(object.key) ? Number(object.key) : 0,
      value: isSet2(object.value) ? ComponentData.fromJSON(object.value) : void 0
    };
  }
  CompositeComponent_DataEntry2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.key !== void 0 && (obj.key = Math.round(message.key));
    message.value !== void 0 && (obj.value = message.value ? ComponentData.toJSON(message.value) : void 0);
    return obj;
  }
  CompositeComponent_DataEntry2.toJSON = toJSON;
})(CompositeComponent_DataEntry || (CompositeComponent_DataEntry = {}));
function createBaseCompositeDefinition() {
  return { version: 0, components: [] };
}
var CompositeDefinition;
(function(CompositeDefinition2) {
  function encode(message, writer = import_minimal40.default.Writer.create()) {
    if (message.version !== 0) {
      writer.uint32(8).int32(message.version);
    }
    for (const v of message.components) {
      CompositeComponent.encode(v, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  CompositeDefinition2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal40.default.Reader ? input : import_minimal40.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseCompositeDefinition();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.version = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.components.push(CompositeComponent.decode(reader, reader.uint32()));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  CompositeDefinition2.decode = decode;
  function fromJSON(object) {
    return {
      version: isSet2(object.version) ? Number(object.version) : 0,
      components: Array.isArray(object?.components) ? object.components.map((e) => CompositeComponent.fromJSON(e)) : []
    };
  }
  CompositeDefinition2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.version !== void 0 && (obj.version = Math.round(message.version));
    if (message.components) {
      obj.components = message.components.map((e) => e ? CompositeComponent.toJSON(e) : void 0);
    } else {
      obj.components = [];
    }
    return obj;
  }
  CompositeDefinition2.toJSON = toJSON;
})(CompositeDefinition || (CompositeDefinition = {}));
var tsProtoGlobalThis3 = (() => {
  if (typeof globalThis !== "undefined") {
    return globalThis;
  }
  if (typeof self !== "undefined") {
    return self;
  }
  if (false) {
    return void 0;
  }
  if (typeof global !== "undefined") {
    return global;
  }
  throw "Unable to locate global object";
})();
function bytesFromBase64(b64) {
  if (tsProtoGlobalThis3.Buffer) {
    return Uint8Array.from(tsProtoGlobalThis3.Buffer.from(b64, "base64"));
  } else {
    const bin = tsProtoGlobalThis3.atob(b64);
    const arr = new Uint8Array(bin.length);
    for (let i = 0; i < bin.length; ++i) {
      arr[i] = bin.charCodeAt(i);
    }
    return arr;
  }
}
function base64FromBytes(arr) {
  if (tsProtoGlobalThis3.Buffer) {
    return tsProtoGlobalThis3.Buffer.from(arr).toString("base64");
  } else {
    const bin = [];
    arr.forEach((byte) => {
      bin.push(String.fromCharCode(byte));
    });
    return tsProtoGlobalThis3.btoa(bin.join(""));
  }
}
function isObject2(value) {
  return typeof value === "object" && value !== null;
}
function isSet2(value) {
  return value !== null && value !== void 0;
}

// node_modules/@dcl/ecs/dist/composite/index.js
var Composite;
(function(Composite2) {
  function fromJson(object) {
    return CompositeDefinition.fromJSON(object);
  }
  Composite2.fromJson = fromJson;
  function fromBinary(buffer) {
    return CompositeDefinition.decode(buffer);
  }
  Composite2.fromBinary = fromBinary;
  function toJson(composite) {
    return CompositeDefinition.toJSON(composite);
  }
  Composite2.toJson = toJson;
  function toBinary(composite) {
    return CompositeDefinition.encode(composite).finish();
  }
  Composite2.toBinary = toBinary;
  function instance(engine2, compositeData, compositeProvider2, options = {}) {
    instanceComposite(engine2, compositeData, compositeProvider2, options);
  }
  Composite2.instance = instance;
  function resolveAndNormalizePath(src, cwd = "/") {
    return resolveComposite(src, cwd);
  }
  Composite2.resolveAndNormalizePath = resolveAndNormalizePath;
})(Composite || (Composite = {}));

// node_modules/@dcl/ecs/dist/index.js
var Transform2 = /* @__PURE__ */ Transform(engine);
var Material3 = /* @__PURE__ */ Material2(engine);
var MeshRenderer3 = /* @__PURE__ */ MeshRenderer2(engine);
var MeshCollider3 = /* @__PURE__ */ MeshCollider2(engine);
var Name2 = Name(engine);

// node_modules/@dcl/ecs-math/dist/types.js
var ToGammaSpace = 1 / 2.2;
var ToLinearSpace = 2.2;
var Epsilon = 1e-6;
var DEG2RAD = Math.PI / 180;
var RAD2DEG = 360 / (Math.PI * 2);

// node_modules/@dcl/ecs-math/dist/Scalar.js
var Scalar;
(function(Scalar2) {
  Scalar2.TwoPi = Math.PI * 2;
  function withinEpsilon(a, b, epsilon = 1401298e-51) {
    const num = a - b;
    return -epsilon <= num && num <= epsilon;
  }
  Scalar2.withinEpsilon = withinEpsilon;
  function toHex(i) {
    const str = i.toString(16);
    if (i <= 15) {
      return ("0" + str).toUpperCase();
    }
    return str.toUpperCase();
  }
  Scalar2.toHex = toHex;
  function sign(value) {
    const _value = +value;
    if (_value === 0 || isNaN(_value)) {
      return _value;
    }
    return _value > 0 ? 1 : -1;
  }
  Scalar2.sign = sign;
  function clamp(value, min = 0, max = 1) {
    return Math.min(max, Math.max(min, value));
  }
  Scalar2.clamp = clamp;
  function log2(value) {
    return Math.log(value) * Math.LOG2E;
  }
  Scalar2.log2 = log2;
  function repeat(value, length2) {
    return value - Math.floor(value / length2) * length2;
  }
  Scalar2.repeat = repeat;
  function normalize(value, min, max) {
    return (value - min) / (max - min);
  }
  Scalar2.normalize = normalize;
  function denormalize(normalized, min, max) {
    return normalized * (max - min) + min;
  }
  Scalar2.denormalize = denormalize;
  function deltaAngle(current, target) {
    let num = repeat(target - current, 360);
    if (num > 180) {
      num -= 360;
    }
    return num;
  }
  Scalar2.deltaAngle = deltaAngle;
  function pingPong(tx, length2) {
    const t = repeat(tx, length2 * 2);
    return length2 - Math.abs(t - length2);
  }
  Scalar2.pingPong = pingPong;
  function smoothStep(from, to, tx) {
    let t = clamp(tx);
    t = -2 * t * t * t + 3 * t * t;
    return to * t + from * (1 - t);
  }
  Scalar2.smoothStep = smoothStep;
  function moveTowards(current, target, maxDelta) {
    let result = 0;
    if (Math.abs(target - current) <= maxDelta) {
      result = target;
    } else {
      result = current + sign(target - current) * maxDelta;
    }
    return result;
  }
  Scalar2.moveTowards = moveTowards;
  function moveTowardsAngle(current, target, maxDelta) {
    const num = deltaAngle(current, target);
    let result = 0;
    if (-maxDelta < num && num < maxDelta) {
      result = target;
    } else {
      result = moveTowards(current, current + num, maxDelta);
    }
    return result;
  }
  Scalar2.moveTowardsAngle = moveTowardsAngle;
  function lerp(start, end, amount) {
    return start + (end - start) * amount;
  }
  Scalar2.lerp = lerp;
  function lerpAngle(start, end, amount) {
    let num = repeat(end - start, 360);
    if (num > 180) {
      num -= 360;
    }
    return start + num * clamp(amount);
  }
  Scalar2.lerpAngle = lerpAngle;
  function inverseLerp(a, b, value) {
    let result = 0;
    if (a !== b) {
      result = clamp((value - a) / (b - a));
    } else {
      result = 0;
    }
    return result;
  }
  Scalar2.inverseLerp = inverseLerp;
  function hermite(value1, tangent1, value2, tangent2, amount) {
    const squared = amount * amount;
    const cubed = amount * squared;
    const part1 = 2 * cubed - 3 * squared + 1;
    const part2 = -2 * cubed + 3 * squared;
    const part3 = cubed - 2 * squared + amount;
    const part4 = cubed - squared;
    return value1 * part1 + value2 * part2 + tangent1 * part3 + tangent2 * part4;
  }
  Scalar2.hermite = hermite;
  function randomRange(min, max) {
    if (min === max) {
      return min;
    }
    return Math.random() * (max - min) + min;
  }
  Scalar2.randomRange = randomRange;
  function rangeToPercent(num, min, max) {
    return (num - min) / (max - min);
  }
  Scalar2.rangeToPercent = rangeToPercent;
  function percentToRange(percent, min, max) {
    return (max - min) * percent + min;
  }
  Scalar2.percentToRange = percentToRange;
  function normalizeRadians(angle) {
    return angle - Scalar2.TwoPi * Math.floor((angle + Math.PI) / Scalar2.TwoPi);
  }
  Scalar2.normalizeRadians = normalizeRadians;
})(Scalar || (Scalar = {}));

// node_modules/@dcl/ecs-math/dist/Vector3.js
var Vector32;
(function(Vector33) {
  function isNonUniform(vector) {
    const absX = Math.abs(vector.x);
    const absY = Math.abs(vector.y);
    if (absX !== absY) {
      return true;
    }
    const absZ = Math.abs(vector.z);
    if (absX !== absZ) {
      return true;
    }
    return false;
  }
  Vector33.isNonUniform = isNonUniform;
  function create(x = 0, y = 0, z = 0) {
    return { x, y, z };
  }
  Vector33.create = create;
  function add(vector1, vector2) {
    return {
      x: vector1.x + vector2.x,
      y: vector1.y + vector2.y,
      z: vector1.z + vector2.z
    };
  }
  Vector33.add = add;
  function addToRef(vector1, vector2, result) {
    result.x = vector1.x + vector2.x;
    result.y = vector1.y + vector2.y;
    result.z = vector1.z + vector2.z;
  }
  Vector33.addToRef = addToRef;
  function subtract(vector1, vector2) {
    return {
      x: vector1.x - vector2.x,
      y: vector1.y - vector2.y,
      z: vector1.z - vector2.z
    };
  }
  Vector33.subtract = subtract;
  function subtractToRef(vector1, vector2, result) {
    result.x = vector1.x - vector2.x;
    result.y = vector1.y - vector2.y;
    result.z = vector1.z - vector2.z;
  }
  Vector33.subtractToRef = subtractToRef;
  function subtractFromFloatsToRef(vector1, x, y, z, result) {
    result.x = vector1.x - x;
    result.y = vector1.y - y;
    result.z = vector1.z - z;
  }
  Vector33.subtractFromFloatsToRef = subtractFromFloatsToRef;
  function negate(value) {
    return { x: -value.x, y: -value.y, z: -value.z };
  }
  Vector33.negate = negate;
  function copyFrom(source, dest) {
    dest.x = source.x;
    dest.y = source.y;
    dest.z = source.z;
  }
  Vector33.copyFrom = copyFrom;
  function copyFromFloats(x, y, z, dest) {
    dest.x = x;
    dest.y = y;
    dest.z = z;
  }
  Vector33.copyFromFloats = copyFromFloats;
  function clone(source) {
    return create(source.x, source.y, source.z);
  }
  Vector33.clone = clone;
  function getClipFactor(vector0, vector1, axis, size) {
    const d0 = dot(vector0, axis) - size;
    const d1 = dot(vector1, axis) - size;
    const s = d0 / (d0 - d1);
    return s;
  }
  Vector33.getClipFactor = getClipFactor;
  function getAngleBetweenVectors(vector0, vector1, normal) {
    const v0 = normalize(vector0);
    const v1 = normalize(vector1);
    const v0v1dot = dot(v0, v1);
    const n = create();
    crossToRef(v0, v1, n);
    if (dot(n, normal) > 0) {
      return Math.acos(v0v1dot);
    }
    return -Math.acos(v0v1dot);
  }
  Vector33.getAngleBetweenVectors = getAngleBetweenVectors;
  function fromArray(array, offset = 0) {
    return create(array[offset], array[offset + 1], array[offset + 2]);
  }
  Vector33.fromArray = fromArray;
  function fromFloatArray(array, offset) {
    return fromArray(array, offset);
  }
  Vector33.fromFloatArray = fromFloatArray;
  function fromArrayToRef(array, offset, result) {
    result.x = array[offset];
    result.y = array[offset + 1];
    result.z = array[offset + 2];
  }
  Vector33.fromArrayToRef = fromArrayToRef;
  function fromFloatArrayToRef(array, offset, result) {
    return fromArrayToRef(array, offset, result);
  }
  Vector33.fromFloatArrayToRef = fromFloatArrayToRef;
  function length2(vector) {
    return Math.sqrt(vector.x * vector.x + vector.y * vector.y + vector.z * vector.z);
  }
  Vector33.length = length2;
  function lengthSquared(vector) {
    return vector.x * vector.x + vector.y * vector.y + vector.z * vector.z;
  }
  Vector33.lengthSquared = lengthSquared;
  function scaleToRef(vector, scale2, result) {
    result.x = vector.x * scale2;
    result.y = vector.y * scale2;
    result.z = vector.z * scale2;
  }
  Vector33.scaleToRef = scaleToRef;
  function scale(vector, scale2) {
    return create(vector.x * scale2, vector.y * scale2, vector.z * scale2);
  }
  Vector33.scale = scale;
  function normalizeFromLength(vector, len) {
    const result = create(0, 0, 0);
    normalizeFromLengthToRef(vector, len, result);
    return result;
  }
  Vector33.normalizeFromLength = normalizeFromLength;
  function normalizeFromLengthToRef(vector, len, result) {
    if (len === 0 || len === 1) {
      copyFrom(vector, result);
      return;
    }
    scaleToRef(vector, 1 / len, result);
  }
  Vector33.normalizeFromLengthToRef = normalizeFromLengthToRef;
  function normalize(vector) {
    return normalizeFromLength(vector, length2(vector));
  }
  Vector33.normalize = normalize;
  function normalizeToRef(vector, result) {
    normalizeFromLengthToRef(vector, length2(vector), result);
  }
  Vector33.normalizeToRef = normalizeToRef;
  function dot(left, right) {
    return left.x * right.x + left.y * right.y + left.z * right.z;
  }
  Vector33.dot = dot;
  function applyMatrix4(vector, matrix) {
    const result = clone(vector);
    applyMatrix4ToRef(vector, matrix, result);
    return result;
  }
  Vector33.applyMatrix4 = applyMatrix4;
  function applyMatrix4ToRef(vector, matrix, result) {
    const { x, y, z } = vector;
    const m = matrix._m;
    const w = 1 / (m[3] * x + m[7] * y + m[11] * z + m[15]);
    result.x = (m[0] * x + m[4] * y + m[8] * z + m[12]) * w;
    result.y = (m[1] * x + m[5] * y + m[9] * z + m[13]) * w;
    result.z = (m[2] * x + m[6] * y + m[10] * z + m[14]) * w;
  }
  Vector33.applyMatrix4ToRef = applyMatrix4ToRef;
  function rotate(vector, q) {
    const result = create();
    rotateToRef(vector, q, result);
    return result;
  }
  Vector33.rotate = rotate;
  function rotateToRef(vector, q, result) {
    const { x, y, z } = vector;
    const { x: qx, y: qy, z: qz, w: qw } = q;
    const ix = qw * x + qy * z - qz * y;
    const iy = qw * y + qz * x - qx * z;
    const iz = qw * z + qx * y - qy * x;
    const iw = -qx * x - qy * y - qz * z;
    result.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;
    result.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;
    result.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;
  }
  Vector33.rotateToRef = rotateToRef;
  function lerp(start, end, amount) {
    const result = create(0, 0, 0);
    lerpToRef(start, end, amount, result);
    return result;
  }
  Vector33.lerp = lerp;
  function lerpToRef(start, end, amount, result) {
    result.x = start.x + (end.x - start.x) * amount;
    result.y = start.y + (end.y - start.y) * amount;
    result.z = start.z + (end.z - start.z) * amount;
  }
  Vector33.lerpToRef = lerpToRef;
  function cross(left, right) {
    const result = Zero();
    crossToRef(left, right, result);
    return result;
  }
  Vector33.cross = cross;
  function crossToRef(left, right, result) {
    result.x = left.y * right.z - left.z * right.y;
    result.y = left.z * right.x - left.x * right.z;
    result.z = left.x * right.y - left.y * right.x;
  }
  Vector33.crossToRef = crossToRef;
  function transformCoordinates(vector, transformation) {
    const result = Zero();
    transformCoordinatesToRef(vector, transformation, result);
    return result;
  }
  Vector33.transformCoordinates = transformCoordinates;
  function transformCoordinatesToRef(vector, transformation, result) {
    return transformCoordinatesFromFloatsToRef(vector.x, vector.y, vector.z, transformation, result);
  }
  Vector33.transformCoordinatesToRef = transformCoordinatesToRef;
  function transformCoordinatesFromFloatsToRef(x, y, z, transformation, result) {
    const m = transformation._m;
    const rx = x * m[0] + y * m[4] + z * m[8] + m[12];
    const ry = x * m[1] + y * m[5] + z * m[9] + m[13];
    const rz = x * m[2] + y * m[6] + z * m[10] + m[14];
    const rw = 1 / (x * m[3] + y * m[7] + z * m[11] + m[15]);
    result.x = rx * rw;
    result.y = ry * rw;
    result.z = rz * rw;
  }
  Vector33.transformCoordinatesFromFloatsToRef = transformCoordinatesFromFloatsToRef;
  function transformNormal(vector, transformation) {
    const result = Zero();
    transformNormalToRef(vector, transformation, result);
    return result;
  }
  Vector33.transformNormal = transformNormal;
  function transformNormalToRef(vector, transformation, result) {
    transformNormalFromFloatsToRef(vector.x, vector.y, vector.z, transformation, result);
  }
  Vector33.transformNormalToRef = transformNormalToRef;
  function transformNormalFromFloatsToRef(x, y, z, transformation, result) {
    const m = transformation._m;
    result.x = x * m[0] + y * m[4] + z * m[8];
    result.y = x * m[1] + y * m[5] + z * m[9];
    result.z = x * m[2] + y * m[6] + z * m[10];
  }
  Vector33.transformNormalFromFloatsToRef = transformNormalFromFloatsToRef;
  function catmullRom(value1, value2, value3, value4, amount) {
    const squared = amount * amount;
    const cubed = amount * squared;
    const x = 0.5 * (2 * value2.x + (-value1.x + value3.x) * amount + (2 * value1.x - 5 * value2.x + 4 * value3.x - value4.x) * squared + (-value1.x + 3 * value2.x - 3 * value3.x + value4.x) * cubed);
    const y = 0.5 * (2 * value2.y + (-value1.y + value3.y) * amount + (2 * value1.y - 5 * value2.y + 4 * value3.y - value4.y) * squared + (-value1.y + 3 * value2.y - 3 * value3.y + value4.y) * cubed);
    const z = 0.5 * (2 * value2.z + (-value1.z + value3.z) * amount + (2 * value1.z - 5 * value2.z + 4 * value3.z - value4.z) * squared + (-value1.z + 3 * value2.z - 3 * value3.z + value4.z) * cubed);
    return create(x, y, z);
  }
  Vector33.catmullRom = catmullRom;
  function clamp(value, min, max) {
    const v = create();
    clampToRef(value, min, max, v);
    return v;
  }
  Vector33.clamp = clamp;
  function clampToRef(value, min, max, result) {
    let x = value.x;
    x = x > max.x ? max.x : x;
    x = x < min.x ? min.x : x;
    let y = value.y;
    y = y > max.y ? max.y : y;
    y = y < min.y ? min.y : y;
    let z = value.z;
    z = z > max.z ? max.z : z;
    z = z < min.z ? min.z : z;
    copyFromFloats(x, y, z, result);
  }
  Vector33.clampToRef = clampToRef;
  function hermite(value1, tangent1, value2, tangent2, amount) {
    const squared = amount * amount;
    const cubed = amount * squared;
    const part1 = 2 * cubed - 3 * squared + 1;
    const part2 = -2 * cubed + 3 * squared;
    const part3 = cubed - 2 * squared + amount;
    const part4 = cubed - squared;
    const x = value1.x * part1 + value2.x * part2 + tangent1.x * part3 + tangent2.x * part4;
    const y = value1.y * part1 + value2.y * part2 + tangent1.y * part3 + tangent2.y * part4;
    const z = value1.z * part1 + value2.z * part2 + tangent1.z * part3 + tangent2.z * part4;
    return create(x, y, z);
  }
  Vector33.hermite = hermite;
  function minimize(left, right) {
    const min = create();
    minimizeInPlaceFromFloatsToRef(right, left.x, left.y, left.z, min);
    return min;
  }
  Vector33.minimize = minimize;
  function maximize(left, right) {
    const max = create();
    maximizeInPlaceFromFloatsToRef(left, right.x, right.y, right.z, max);
    return max;
  }
  Vector33.maximize = maximize;
  function distance(value1, value2) {
    return Math.sqrt(distanceSquared(value1, value2));
  }
  Vector33.distance = distance;
  function distanceSquared(value1, value2) {
    const x = value1.x - value2.x;
    const y = value1.y - value2.y;
    const z = value1.z - value2.z;
    return x * x + y * y + z * z;
  }
  Vector33.distanceSquared = distanceSquared;
  function center(value1, value2) {
    const center2 = add(value1, value2);
    scaleToRef(center2, 0.5, center2);
    return center2;
  }
  Vector33.center = center;
  function rotationFromAxis(axis1, axis2, axis3) {
    const rotation = Zero();
    rotationFromAxisToRef(axis1, axis2, axis3, rotation);
    return rotation;
  }
  Vector33.rotationFromAxis = rotationFromAxis;
  function rotationFromAxisToRef(axis1, axis2, axis3, result) {
    const quat = Quaternion2.create();
    Quaternion2.fromAxisToRotationQuaternionToRef(axis1, axis2, axis3, quat);
    copyFrom(Quaternion2.toEulerAngles(quat), result);
  }
  Vector33.rotationFromAxisToRef = rotationFromAxisToRef;
  function toString(vector) {
    return `(${vector.x}, ${vector.y}, ${vector.z})`;
  }
  Vector33.toString = toString;
  function getHashCode(vector) {
    let hash = vector.x || 0;
    hash = hash * 397 ^ (vector.y || 0);
    hash = hash * 397 ^ (vector.z || 0);
    return hash;
  }
  Vector33.getHashCode = getHashCode;
  function equals(vector1, vector2) {
    return vector1.x === vector2.x && vector1.y === vector2.y && vector1.z === vector2.z;
  }
  Vector33.equals = equals;
  function equalsWithEpsilon(vector1, vector2, epsilon = Epsilon) {
    return Scalar.withinEpsilon(vector1.x, vector2.x, epsilon) && Scalar.withinEpsilon(vector1.y, vector2.y, epsilon) && Scalar.withinEpsilon(vector1.z, vector2.z, epsilon);
  }
  Vector33.equalsWithEpsilon = equalsWithEpsilon;
  function equalsToFloats(vector, x, y, z) {
    return vector.x === x && vector.y === y && vector.z === z;
  }
  Vector33.equalsToFloats = equalsToFloats;
  function multiply(vector1, vector2) {
    const result = create();
    multiplyToRef(vector1, vector2, result);
    return result;
  }
  Vector33.multiply = multiply;
  function multiplyToRef(vector1, vector2, result) {
    result.x = vector1.x * vector2.x;
    result.y = vector1.y * vector2.y;
    result.z = vector1.z * vector2.z;
  }
  Vector33.multiplyToRef = multiplyToRef;
  function multiplyByFloatsToRef(vector1, x, y, z, result) {
    result.x = vector1.x * x;
    result.y = vector1.y * y;
    result.z = vector1.z * z;
  }
  Vector33.multiplyByFloatsToRef = multiplyByFloatsToRef;
  function multiplyByFloats(vector1, x, y, z) {
    const result = create();
    multiplyByFloatsToRef(vector1, x, y, z, result);
    return result;
  }
  Vector33.multiplyByFloats = multiplyByFloats;
  function divide(vector1, vector2) {
    return {
      x: vector1.x / vector2.x,
      y: vector1.y / vector2.y,
      z: vector1.z / vector2.z
    };
  }
  Vector33.divide = divide;
  function divideToRef(vector1, vector2, result) {
    result.x = vector1.x / vector2.x;
    result.y = vector1.y / vector2.y;
    result.z = vector1.z / vector2.z;
  }
  Vector33.divideToRef = divideToRef;
  function maximizeInPlaceFromFloatsToRef(vector1, x, y, z, result) {
    if (x > vector1.x) {
      result.x = x;
    } else {
      result.x = vector1.x;
    }
    if (y > vector1.y) {
      result.y = y;
    } else {
      result.y = vector1.y;
    }
    if (z > vector1.z) {
      result.z = z;
    } else {
      result.z = vector1.z;
    }
  }
  Vector33.maximizeInPlaceFromFloatsToRef = maximizeInPlaceFromFloatsToRef;
  function minimizeInPlaceFromFloatsToRef(vector1, x, y, z, result) {
    if (x < vector1.x) {
      result.x = x;
    } else {
      result.x = vector1.x;
    }
    if (y < vector1.y) {
      result.y = y;
    } else {
      result.y = vector1.y;
    }
    if (z < vector1.z) {
      result.z = z;
    } else {
      result.z = vector1.z;
    }
  }
  Vector33.minimizeInPlaceFromFloatsToRef = minimizeInPlaceFromFloatsToRef;
  function floor(vector1) {
    return create(Math.floor(vector1.x), Math.floor(vector1.y), Math.floor(vector1.z));
  }
  Vector33.floor = floor;
  function fract(vector1) {
    return create(vector1.x - Math.floor(vector1.x), vector1.y - Math.floor(vector1.y), vector1.z - Math.floor(vector1.z));
  }
  Vector33.fract = fract;
  function Zero() {
    return create(0, 0, 0);
  }
  Vector33.Zero = Zero;
  function One() {
    return create(1, 1, 1);
  }
  Vector33.One = One;
  function Up() {
    return create(0, 1, 0);
  }
  Vector33.Up = Up;
  function Down() {
    return create(0, -1, 0);
  }
  Vector33.Down = Down;
  function Forward() {
    return create(0, 0, 1);
  }
  Vector33.Forward = Forward;
  function Backward() {
    return create(0, 0, -1);
  }
  Vector33.Backward = Backward;
  function Right() {
    return create(1, 0, 0);
  }
  Vector33.Right = Right;
  function Left() {
    return create(-1, 0, 0);
  }
  Vector33.Left = Left;
  function Random() {
    return create(Math.random(), Math.random(), Math.random());
  }
  Vector33.Random = Random;
})(Vector32 || (Vector32 = {}));

// node_modules/@dcl/ecs-math/dist/Plane.js
var Plane;
(function(Plane2) {
  function create(a, b, c, d) {
    return {
      normal: Vector32.create(a, b, c),
      d
    };
  }
  Plane2.create = create;
  function fromArray(array) {
    return create(array[0], array[1], array[2], array[3]);
  }
  Plane2.fromArray = fromArray;
  function fromPoints(_point1, _point2, _point3) {
    const result = create(0, 0, 0, 0);
    return result;
  }
  Plane2.fromPoints = fromPoints;
  function romPositionAndNormal(origin, normal) {
    const result = create(0, 0, 0, 0);
    result.normal = Vector32.normalize(normal);
    result.d = -(normal.x * origin.x + normal.y * origin.y + normal.z * origin.z);
    return result;
  }
  Plane2.romPositionAndNormal = romPositionAndNormal;
  function signedDistanceToPlaneFromPositionAndNormal(origin, normal, point) {
    const d = -(normal.x * origin.x + normal.y * origin.y + normal.z * origin.z);
    return Vector32.dot(point, normal) + d;
  }
  Plane2.signedDistanceToPlaneFromPositionAndNormal = signedDistanceToPlaneFromPositionAndNormal;
  function asArray(plane) {
    return [plane.normal.x, plane.normal.y, plane.normal.z, plane.d];
  }
  Plane2.asArray = asArray;
  function clone(plane) {
    return create(plane.normal.x, plane.normal.y, plane.normal.z, plane.d);
  }
  Plane2.clone = clone;
  function getHashCode(_plane) {
    return 0;
  }
  Plane2.getHashCode = getHashCode;
  function normalize(plane) {
    const result = create(0, 0, 0, 0);
    const norm = Math.sqrt(plane.normal.x * plane.normal.x + plane.normal.y * plane.normal.y + plane.normal.z * plane.normal.z);
    let magnitude = 0;
    if (norm !== 0) {
      magnitude = 1 / norm;
    }
    result.normal.x = plane.normal.x * magnitude;
    result.normal.y = plane.normal.y * magnitude;
    result.normal.z = plane.normal.z * magnitude;
    result.d *= magnitude;
    return plane;
  }
  Plane2.normalize = normalize;
  function transform(plane, transformation) {
    const transposedMatrix = Matrix.create();
    Matrix.transposeToRef(transformation, transposedMatrix);
    const m = transposedMatrix._m;
    const x = plane.normal.x;
    const y = plane.normal.y;
    const z = plane.normal.z;
    const d = plane.d;
    const normalX = x * m[0] + y * m[1] + z * m[2] + d * m[3];
    const normalY = x * m[4] + y * m[5] + z * m[6] + d * m[7];
    const normalZ = x * m[8] + y * m[9] + z * m[10] + d * m[11];
    const finalD = x * m[12] + y * m[13] + z * m[14] + d * m[15];
    return create(normalX, normalY, normalZ, finalD);
  }
  Plane2.transform = transform;
  function dotCoordinate(plane, point) {
    return plane.normal.x * point.x + plane.normal.y * point.y + plane.normal.z * point.z + plane.d;
  }
  Plane2.dotCoordinate = dotCoordinate;
  function copyFromPoints(point1, point2, point3) {
    const x1 = point2.x - point1.x;
    const y1 = point2.y - point1.y;
    const z1 = point2.z - point1.z;
    const x2 = point3.x - point1.x;
    const y2 = point3.y - point1.y;
    const z2 = point3.z - point1.z;
    const yz = y1 * z2 - z1 * y2;
    const xz = z1 * x2 - x1 * z2;
    const xy = x1 * y2 - y1 * x2;
    const pyth = Math.sqrt(yz * yz + xz * xz + xy * xy);
    let invPyth;
    if (pyth !== 0) {
      invPyth = 1 / pyth;
    } else {
      invPyth = 0;
    }
    const normal = Vector32.create(yz * invPyth, xz * invPyth, xy * invPyth);
    return {
      normal,
      d: -(normal.x * point1.x + normal.y * point1.y + normal.z * point1.z)
    };
  }
  Plane2.copyFromPoints = copyFromPoints;
  function isFrontFacingTo(plane, direction, epsilon) {
    const dot = Vector32.dot(plane.normal, direction);
    return dot <= epsilon;
  }
  Plane2.isFrontFacingTo = isFrontFacingTo;
  function signedDistanceTo(plane, point) {
    return Vector32.dot(point, plane.normal) + plane.d;
  }
  Plane2.signedDistanceTo = signedDistanceTo;
})(Plane || (Plane = {}));

// node_modules/@dcl/ecs-math/dist/Matrix.js
var Matrix;
(function(Matrix2) {
  function m(self2) {
    return self2._m;
  }
  Matrix2.m = m;
  let _updateFlagSeed = 0;
  const _identityReadonly = {};
  function IdentityReadonly() {
    return _identityReadonly;
  }
  Matrix2.IdentityReadonly = IdentityReadonly;
  function create() {
    const newMatrix = {
      updateFlag: 0,
      isIdentity: false,
      isIdentity3x2: true,
      _isIdentityDirty: true,
      _isIdentity3x2Dirty: true,
      _m: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    };
    _updateIdentityStatus(newMatrix, false);
    return newMatrix;
  }
  Matrix2.create = create;
  function fromArray(array, offset = 0) {
    const result = create();
    fromArrayToRef(array, offset, result);
    return result;
  }
  Matrix2.fromArray = fromArray;
  function fromArrayToRef(array, offset, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = array[index + offset];
    }
    _markAsUpdated(result);
  }
  Matrix2.fromArrayToRef = fromArrayToRef;
  function fromFloatArrayToRefScaled(array, offset, scale2, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = array[index + offset] * scale2;
    }
    _markAsUpdated(result);
  }
  Matrix2.fromFloatArrayToRefScaled = fromFloatArrayToRefScaled;
  function fromValuesToRef(initialM11, initialM12, initialM13, initialM14, initialM21, initialM22, initialM23, initialM24, initialM31, initialM32, initialM33, initialM34, initialM41, initialM42, initialM43, initialM44, result) {
    const m2 = result._m;
    m2[0] = initialM11;
    m2[1] = initialM12;
    m2[2] = initialM13;
    m2[3] = initialM14;
    m2[4] = initialM21;
    m2[5] = initialM22;
    m2[6] = initialM23;
    m2[7] = initialM24;
    m2[8] = initialM31;
    m2[9] = initialM32;
    m2[10] = initialM33;
    m2[11] = initialM34;
    m2[12] = initialM41;
    m2[13] = initialM42;
    m2[14] = initialM43;
    m2[15] = initialM44;
    _markAsUpdated(result);
  }
  Matrix2.fromValuesToRef = fromValuesToRef;
  function fromValues(initialM11, initialM12, initialM13, initialM14, initialM21, initialM22, initialM23, initialM24, initialM31, initialM32, initialM33, initialM34, initialM41, initialM42, initialM43, initialM44) {
    const result = create();
    const m2 = result._m;
    m2[0] = initialM11;
    m2[1] = initialM12;
    m2[2] = initialM13;
    m2[3] = initialM14;
    m2[4] = initialM21;
    m2[5] = initialM22;
    m2[6] = initialM23;
    m2[7] = initialM24;
    m2[8] = initialM31;
    m2[9] = initialM32;
    m2[10] = initialM33;
    m2[11] = initialM34;
    m2[12] = initialM41;
    m2[13] = initialM42;
    m2[14] = initialM43;
    m2[15] = initialM44;
    _markAsUpdated(result);
    return result;
  }
  Matrix2.fromValues = fromValues;
  function compose(scale2, rotation, translation2) {
    const result = create();
    composeToRef(scale2, rotation, translation2, result);
    return result;
  }
  Matrix2.compose = compose;
  function composeToRef(scale2, rotation, translation2, result) {
    const tmpMatrix = [create(), create(), create()];
    scalingToRef(scale2.x, scale2.y, scale2.z, tmpMatrix[1]);
    fromQuaternionToRef(rotation, tmpMatrix[0]);
    multiplyToRef(tmpMatrix[1], tmpMatrix[0], result);
    setTranslation(result, translation2);
  }
  Matrix2.composeToRef = composeToRef;
  function Identity() {
    const identity = fromValues(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    _updateIdentityStatus(identity, true);
    return identity;
  }
  Matrix2.Identity = Identity;
  function IdentityToRef(result) {
    fromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, true);
  }
  Matrix2.IdentityToRef = IdentityToRef;
  function Zero() {
    const zero = fromValues(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
    _updateIdentityStatus(zero, false);
    return zero;
  }
  Matrix2.Zero = Zero;
  function RotationX(angle) {
    const result = create();
    rotationXToRef(angle, result);
    return result;
  }
  Matrix2.RotationX = RotationX;
  function rotationXToRef(angle, result) {
    const s = Math.sin(angle);
    const c = Math.cos(angle);
    fromValuesToRef(1, 0, 0, 0, 0, c, s, 0, 0, -s, c, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, c === 1 && s === 0);
  }
  Matrix2.rotationXToRef = rotationXToRef;
  function rotationY(angle) {
    const result = create();
    rotationYToRef(angle, result);
    return result;
  }
  Matrix2.rotationY = rotationY;
  function rotationYToRef(angle, result) {
    const s = Math.sin(angle);
    const c = Math.cos(angle);
    fromValuesToRef(c, 0, -s, 0, 0, 1, 0, 0, s, 0, c, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, c === 1 && s === 0);
  }
  Matrix2.rotationYToRef = rotationYToRef;
  function rotationZ(angle) {
    const result = create();
    rotationZToRef(angle, result);
    return result;
  }
  Matrix2.rotationZ = rotationZ;
  function rotationZToRef(angle, result) {
    const s = Math.sin(angle);
    const c = Math.cos(angle);
    fromValuesToRef(c, s, 0, 0, -s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, c === 1 && s === 0);
  }
  Matrix2.rotationZToRef = rotationZToRef;
  function rotationAxis(axis, angle) {
    const result = create();
    rotationAxisToRef(axis, angle, result);
    return result;
  }
  Matrix2.rotationAxis = rotationAxis;
  function rotationAxisToRef(_axis, angle, result) {
    const s = Math.sin(-angle);
    const c = Math.cos(-angle);
    const c1 = 1 - c;
    const axis = Vector32.normalize(_axis);
    const m2 = result._m;
    m2[0] = axis.x * axis.x * c1 + c;
    m2[1] = axis.x * axis.y * c1 - axis.z * s;
    m2[2] = axis.x * axis.z * c1 + axis.y * s;
    m2[3] = 0;
    m2[4] = axis.y * axis.x * c1 + axis.z * s;
    m2[5] = axis.y * axis.y * c1 + c;
    m2[6] = axis.y * axis.z * c1 - axis.x * s;
    m2[7] = 0;
    m2[8] = axis.z * axis.x * c1 - axis.y * s;
    m2[9] = axis.z * axis.y * c1 + axis.x * s;
    m2[10] = axis.z * axis.z * c1 + c;
    m2[11] = 0;
    m2[12] = 0;
    m2[13] = 0;
    m2[14] = 0;
    m2[15] = 1;
    _markAsUpdated(result);
  }
  Matrix2.rotationAxisToRef = rotationAxisToRef;
  function rotationYawPitchRoll(yaw, pitch, roll) {
    const result = create();
    rotationYawPitchRollToRef(yaw, pitch, roll, result);
    return result;
  }
  Matrix2.rotationYawPitchRoll = rotationYawPitchRoll;
  function rotationYawPitchRollToRef(yaw, pitch, roll, result) {
    const quaternionResult = Quaternion2.Zero();
    Quaternion2.fromRotationYawPitchRollToRef(yaw, pitch, roll, quaternionResult);
    fromQuaternionToRef(quaternionResult, result);
  }
  Matrix2.rotationYawPitchRollToRef = rotationYawPitchRollToRef;
  function scaling(x, y, z) {
    const result = create();
    scalingToRef(x, y, z, result);
    return result;
  }
  Matrix2.scaling = scaling;
  function scalingToRef(x, y, z, result) {
    fromValuesToRef(x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, x === 1 && y === 1 && z === 1);
  }
  Matrix2.scalingToRef = scalingToRef;
  function translation(x, y, z) {
    const result = create();
    translationToRef(x, y, z, result);
    return result;
  }
  Matrix2.translation = translation;
  function translationToRef(x, y, z, result) {
    fromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, z, 1, result);
    _updateIdentityStatus(result, x === 0 && y === 0 && z === 0);
  }
  Matrix2.translationToRef = translationToRef;
  function lerp(startValue, endValue, gradient) {
    const result = create();
    lerpToRef(startValue, endValue, gradient, result);
    return result;
  }
  Matrix2.lerp = lerp;
  function lerpToRef(startValue, endValue, gradient, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = startValue._m[index] * (1 - gradient) + endValue._m[index] * gradient;
    }
    _markAsUpdated(result);
  }
  Matrix2.lerpToRef = lerpToRef;
  function decomposeLerp(startValue, endValue, gradient) {
    const result = create();
    decomposeLerpToRef(startValue, endValue, gradient, result);
    return result;
  }
  Matrix2.decomposeLerp = decomposeLerp;
  function decomposeLerpToRef(startValue, endValue, gradient, result) {
    const startScale = Vector32.Zero();
    const startRotation = Quaternion2.Zero();
    const startTranslation = Vector32.Zero();
    decompose(startValue, startScale, startRotation, startTranslation);
    const endScale = Vector32.Zero();
    const endRotation = Quaternion2.Zero();
    const endTranslation = Vector32.Zero();
    decompose(endValue, endScale, endRotation, endTranslation);
    const resultScale = Vector32.Zero();
    Vector32.lerpToRef(startScale, endScale, gradient, resultScale);
    const resultRotation = Quaternion2.Zero();
    Quaternion2.slerpToRef(startRotation, endRotation, gradient, resultRotation);
    const resultTranslation = Vector32.Zero();
    Vector32.lerpToRef(startTranslation, endTranslation, gradient, resultTranslation);
    composeToRef(resultScale, resultRotation, resultTranslation, result);
  }
  Matrix2.decomposeLerpToRef = decomposeLerpToRef;
  function LookAtLH(eye, target, up) {
    const result = create();
    lookAtLHToRef(eye, target, up, result);
    return result;
  }
  Matrix2.LookAtLH = LookAtLH;
  function lookAtLHToRef(eye, target, up, result) {
    const xAxis = Vector32.Zero();
    const yAxis = Vector32.Zero();
    const zAxis = Vector32.Zero();
    Vector32.subtractToRef(target, eye, zAxis);
    Vector32.normalizeToRef(zAxis, zAxis);
    Vector32.crossToRef(up, zAxis, xAxis);
    const xSquareLength = Vector32.lengthSquared(xAxis);
    if (xSquareLength === 0) {
      xAxis.x = 1;
    } else {
      Vector32.normalizeFromLengthToRef(xAxis, Math.sqrt(xSquareLength), xAxis);
    }
    Vector32.crossToRef(zAxis, xAxis, yAxis);
    Vector32.normalizeToRef(yAxis, yAxis);
    const ex = -Vector32.dot(xAxis, eye);
    const ey = -Vector32.dot(yAxis, eye);
    const ez = -Vector32.dot(zAxis, eye);
    fromValuesToRef(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, ex, ey, ez, 1, result);
  }
  Matrix2.lookAtLHToRef = lookAtLHToRef;
  function lookAtRH(eye, target, up) {
    const result = create();
    lookAtRHToRef(eye, target, up, result);
    return result;
  }
  Matrix2.lookAtRH = lookAtRH;
  function lookAtRHToRef(eye, target, up, result) {
    const xAxis = Vector32.Zero();
    const yAxis = Vector32.Zero();
    const zAxis = Vector32.Zero();
    Vector32.subtractToRef(eye, target, zAxis);
    Vector32.normalizeToRef(zAxis, zAxis);
    Vector32.crossToRef(up, zAxis, xAxis);
    const xSquareLength = Vector32.lengthSquared(xAxis);
    if (xSquareLength === 0) {
      xAxis.x = 1;
    } else {
      Vector32.normalizeFromLengthToRef(xAxis, Math.sqrt(xSquareLength), xAxis);
    }
    Vector32.crossToRef(zAxis, xAxis, yAxis);
    Vector32.normalizeToRef(yAxis, yAxis);
    const ex = -Vector32.dot(xAxis, eye);
    const ey = -Vector32.dot(yAxis, eye);
    const ez = -Vector32.dot(zAxis, eye);
    fromValuesToRef(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, ex, ey, ez, 1, result);
  }
  Matrix2.lookAtRHToRef = lookAtRHToRef;
  function orthoLH(width, height, znear, zfar) {
    const matrix = create();
    orthoLHToRef(width, height, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.orthoLH = orthoLH;
  function orthoLHToRef(width, height, znear, zfar, result) {
    const n = znear;
    const f = zfar;
    const a = 2 / width;
    const b = 2 / height;
    const c = 2 / (f - n);
    const d = -(f + n) / (f - n);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 0, 0, 0, d, 1, result);
    _updateIdentityStatus(result, a === 1 && b === 1 && c === 1 && d === 0);
  }
  Matrix2.orthoLHToRef = orthoLHToRef;
  function OrthoOffCenterLH(left, right, bottom, top, znear, zfar) {
    const matrix = create();
    orthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.OrthoOffCenterLH = OrthoOffCenterLH;
  function orthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, result) {
    const n = znear;
    const f = zfar;
    const a = 2 / (right - left);
    const b = 2 / (top - bottom);
    const c = 2 / (f - n);
    const d = -(f + n) / (f - n);
    const i0 = (left + right) / (left - right);
    const i1 = (top + bottom) / (bottom - top);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 0, i0, i1, d, 1, result);
    _markAsUpdated(result);
  }
  Matrix2.orthoOffCenterLHToRef = orthoOffCenterLHToRef;
  function orthoOffCenterRH(left, right, bottom, top, znear, zfar) {
    const matrix = create();
    orthoOffCenterRHToRef(left, right, bottom, top, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.orthoOffCenterRH = orthoOffCenterRH;
  function orthoOffCenterRHToRef(left, right, bottom, top, znear, zfar, result) {
    orthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, result);
    result._m[10] *= -1;
  }
  Matrix2.orthoOffCenterRHToRef = orthoOffCenterRHToRef;
  function perspectiveLH(width, height, znear, zfar) {
    const matrix = create();
    const n = znear;
    const f = zfar;
    const a = 2 * n / width;
    const b = 2 * n / height;
    const c = (f + n) / (f - n);
    const d = -2 * f * n / (f - n);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 1, 0, 0, d, 0, matrix);
    _updateIdentityStatus(matrix, false);
    return matrix;
  }
  Matrix2.perspectiveLH = perspectiveLH;
  function perspectiveFovLH(fov, aspect, znear, zfar) {
    const matrix = create();
    perspectiveFovLHToRef(fov, aspect, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.perspectiveFovLH = perspectiveFovLH;
  function perspectiveFovLHToRef(fov, aspect, znear, zfar, result, isVerticalFovFixed = true) {
    const n = znear;
    const f = zfar;
    const t = 1 / Math.tan(fov * 0.5);
    const a = isVerticalFovFixed ? t / aspect : t;
    const b = isVerticalFovFixed ? t : t * aspect;
    const c = (f + n) / (f - n);
    const d = -2 * f * n / (f - n);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 1, 0, 0, d, 0, result);
    _updateIdentityStatus(result, false);
  }
  Matrix2.perspectiveFovLHToRef = perspectiveFovLHToRef;
  function PerspectiveFovRH(fov, aspect, znear, zfar) {
    const matrix = create();
    perspectiveFovRHToRef(fov, aspect, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.PerspectiveFovRH = PerspectiveFovRH;
  function perspectiveFovRHToRef(fov, aspect, znear, zfar, result, isVerticalFovFixed = true) {
    const n = znear;
    const f = zfar;
    const t = 1 / Math.tan(fov * 0.5);
    const a = isVerticalFovFixed ? t / aspect : t;
    const b = isVerticalFovFixed ? t : t * aspect;
    const c = -(f + n) / (f - n);
    const d = -2 * f * n / (f - n);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, -1, 0, 0, d, 0, result);
    _updateIdentityStatus(result, false);
  }
  Matrix2.perspectiveFovRHToRef = perspectiveFovRHToRef;
  function perspectiveFovWebVRToRef(fov, znear, zfar, result, rightHanded = false) {
    const rightHandedFactor = rightHanded ? -1 : 1;
    const upTan = Math.tan(fov.upDegrees * Math.PI / 180);
    const downTan = Math.tan(fov.downDegrees * Math.PI / 180);
    const leftTan = Math.tan(fov.leftDegrees * Math.PI / 180);
    const rightTan = Math.tan(fov.rightDegrees * Math.PI / 180);
    const xScale = 2 / (leftTan + rightTan);
    const yScale = 2 / (upTan + downTan);
    const m2 = result._m;
    m2[0] = xScale;
    m2[1] = m2[2] = m2[3] = m2[4] = 0;
    m2[5] = yScale;
    m2[6] = m2[7] = 0;
    m2[8] = (leftTan - rightTan) * xScale * 0.5;
    m2[9] = -((upTan - downTan) * yScale * 0.5);
    m2[10] = -zfar / (znear - zfar);
    m2[11] = 1 * rightHandedFactor;
    m2[12] = m2[13] = m2[15] = 0;
    m2[14] = -(2 * zfar * znear) / (zfar - znear);
    _markAsUpdated(result);
  }
  Matrix2.perspectiveFovWebVRToRef = perspectiveFovWebVRToRef;
  function GetAsMatrix2x2(matrix) {
    return [matrix._m[0], matrix._m[1], matrix._m[4], matrix._m[5]];
  }
  Matrix2.GetAsMatrix2x2 = GetAsMatrix2x2;
  function GetAsMatrix3x3(matrix) {
    return [
      matrix._m[0],
      matrix._m[1],
      matrix._m[2],
      matrix._m[4],
      matrix._m[5],
      matrix._m[6],
      matrix._m[8],
      matrix._m[9],
      matrix._m[10]
    ];
  }
  Matrix2.GetAsMatrix3x3 = GetAsMatrix3x3;
  function transpose(matrix) {
    const result = create();
    transposeToRef(matrix, result);
    return result;
  }
  Matrix2.transpose = transpose;
  function transposeToRef(matrix, result) {
    const rm = result._m;
    const mm = matrix._m;
    rm[0] = mm[0];
    rm[1] = mm[4];
    rm[2] = mm[8];
    rm[3] = mm[12];
    rm[4] = mm[1];
    rm[5] = mm[5];
    rm[6] = mm[9];
    rm[7] = mm[13];
    rm[8] = mm[2];
    rm[9] = mm[6];
    rm[10] = mm[10];
    rm[11] = mm[14];
    rm[12] = mm[3];
    rm[13] = mm[7];
    rm[14] = mm[11];
    rm[15] = mm[15];
    _updateIdentityStatus(result, matrix.isIdentity, matrix._isIdentityDirty);
  }
  Matrix2.transposeToRef = transposeToRef;
  function reflection(plane) {
    const matrix = create();
    reflectionToRef(plane, matrix);
    return matrix;
  }
  Matrix2.reflection = reflection;
  function reflectionToRef(_plane, result) {
    const plane = Plane.normalize(_plane);
    const x = plane.normal.x;
    const y = plane.normal.y;
    const z = plane.normal.z;
    const temp = -2 * x;
    const temp2 = -2 * y;
    const temp3 = -2 * z;
    fromValuesToRef(temp * x + 1, temp2 * x, temp3 * x, 0, temp * y, temp2 * y + 1, temp3 * y, 0, temp * z, temp2 * z, temp3 * z + 1, 0, temp * plane.d, temp2 * plane.d, temp3 * plane.d, 1, result);
  }
  Matrix2.reflectionToRef = reflectionToRef;
  function fromXYZAxesToRef(xaxis, yaxis, zaxis, result) {
    fromValuesToRef(xaxis.x, xaxis.y, xaxis.z, 0, yaxis.x, yaxis.y, yaxis.z, 0, zaxis.x, zaxis.y, zaxis.z, 0, 0, 0, 0, 1, result);
  }
  Matrix2.fromXYZAxesToRef = fromXYZAxesToRef;
  function fromQuaternionToRef(quat, result) {
    const xx = quat.x * quat.x;
    const yy = quat.y * quat.y;
    const zz = quat.z * quat.z;
    const xy = quat.x * quat.y;
    const zw = quat.z * quat.w;
    const zx = quat.z * quat.x;
    const yw = quat.y * quat.w;
    const yz = quat.y * quat.z;
    const xw = quat.x * quat.w;
    result._m[0] = 1 - 2 * (yy + zz);
    result._m[1] = 2 * (xy + zw);
    result._m[2] = 2 * (zx - yw);
    result._m[3] = 0;
    result._m[4] = 2 * (xy - zw);
    result._m[5] = 1 - 2 * (zz + xx);
    result._m[6] = 2 * (yz + xw);
    result._m[7] = 0;
    result._m[8] = 2 * (zx + yw);
    result._m[9] = 2 * (yz - xw);
    result._m[10] = 1 - 2 * (yy + xx);
    result._m[11] = 0;
    result._m[12] = 0;
    result._m[13] = 0;
    result._m[14] = 0;
    result._m[15] = 1;
    _markAsUpdated(result);
  }
  Matrix2.fromQuaternionToRef = fromQuaternionToRef;
  function _markAsUpdated(self2) {
    self2.updateFlag = _updateFlagSeed++;
    self2.isIdentity = false;
    self2.isIdentity3x2 = false;
    self2._isIdentityDirty = true;
    self2._isIdentity3x2Dirty = true;
  }
  function isIdentityUpdate(self2) {
    if (self2._isIdentityDirty) {
      self2._isIdentityDirty = false;
      const m2 = self2._m;
      self2.isIdentity = m2[0] === 1 && m2[1] === 0 && m2[2] === 0 && m2[3] === 0 && m2[4] === 0 && m2[5] === 1 && m2[6] === 0 && m2[7] === 0 && m2[8] === 0 && m2[9] === 0 && m2[10] === 1 && m2[11] === 0 && m2[12] === 0 && m2[13] === 0 && m2[14] === 0 && m2[15] === 1;
    }
    return self2.isIdentity;
  }
  Matrix2.isIdentityUpdate = isIdentityUpdate;
  function isIdentityAs3x2Update(self2) {
    if (self2._isIdentity3x2Dirty) {
      self2._isIdentity3x2Dirty = false;
      if (self2._m[0] !== 1 || self2._m[5] !== 1 || self2._m[15] !== 1) {
        self2.isIdentity3x2 = false;
      } else if (self2._m[1] !== 0 || self2._m[2] !== 0 || self2._m[3] !== 0 || self2._m[4] !== 0 || self2._m[6] !== 0 || self2._m[7] !== 0 || self2._m[8] !== 0 || self2._m[9] !== 0 || self2._m[10] !== 0 || self2._m[11] !== 0 || self2._m[12] !== 0 || self2._m[13] !== 0 || self2._m[14] !== 0) {
        self2.isIdentity3x2 = false;
      } else {
        self2.isIdentity3x2 = true;
      }
    }
    return self2.isIdentity3x2;
  }
  Matrix2.isIdentityAs3x2Update = isIdentityAs3x2Update;
  function determinant(self2) {
    if (self2.isIdentity === true) {
      return 1;
    }
    const m2 = self2._m;
    const m00 = m2[0], m01 = m2[1], m02 = m2[2], m03 = m2[3];
    const m10 = m2[4], m11 = m2[5], m12 = m2[6], m13 = m2[7];
    const m20 = m2[8], m21 = m2[9], m22 = m2[10], m23 = m2[11];
    const m30 = m2[12], m31 = m2[13], m32 = m2[14], m33 = m2[15];
    const det_22_33 = m22 * m33 - m32 * m23;
    const det_21_33 = m21 * m33 - m31 * m23;
    const det_21_32 = m21 * m32 - m31 * m22;
    const det_20_33 = m20 * m33 - m30 * m23;
    const det_20_32 = m20 * m32 - m22 * m30;
    const det_20_31 = m20 * m31 - m30 * m21;
    const cofact_00 = +(m11 * det_22_33 - m12 * det_21_33 + m13 * det_21_32);
    const cofact_01 = -(m10 * det_22_33 - m12 * det_20_33 + m13 * det_20_32);
    const cofact_02 = +(m10 * det_21_33 - m11 * det_20_33 + m13 * det_20_31);
    const cofact_03 = -(m10 * det_21_32 - m11 * det_20_32 + m12 * det_20_31);
    return m00 * cofact_00 + m01 * cofact_01 + m02 * cofact_02 + m03 * cofact_03;
  }
  Matrix2.determinant = determinant;
  function toArray(self2) {
    return self2._m;
  }
  Matrix2.toArray = toArray;
  function asArray(self2) {
    return self2._m;
  }
  Matrix2.asArray = asArray;
  function reset(self2) {
    fromValuesToRef(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, self2);
    _updateIdentityStatus(self2, false);
  }
  Matrix2.reset = reset;
  function add(self2, other) {
    const result = create();
    addToRef(self2, other, result);
    return result;
  }
  Matrix2.add = add;
  function addToRef(self2, other, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = self2._m[index] + other._m[index];
    }
    _markAsUpdated(result);
  }
  Matrix2.addToRef = addToRef;
  function addToSelf(self2, other) {
    for (let index = 0; index < 16; index++) {
      self2._m[index] += other._m[index];
    }
    _markAsUpdated(self2);
  }
  Matrix2.addToSelf = addToSelf;
  function invert(source) {
    const result = create();
    invertToRef(source, result);
    return result;
  }
  Matrix2.invert = invert;
  function invertToRef(source, result) {
    if (source.isIdentity === true) {
      copy(source, result);
      return;
    }
    const m2 = source._m;
    const m00 = m2[0], m01 = m2[1], m02 = m2[2], m03 = m2[3];
    const m10 = m2[4], m11 = m2[5], m12 = m2[6], m13 = m2[7];
    const m20 = m2[8], m21 = m2[9], m22 = m2[10], m23 = m2[11];
    const m30 = m2[12], m31 = m2[13], m32 = m2[14], m33 = m2[15];
    const det_22_33 = m22 * m33 - m32 * m23;
    const det_21_33 = m21 * m33 - m31 * m23;
    const det_21_32 = m21 * m32 - m31 * m22;
    const det_20_33 = m20 * m33 - m30 * m23;
    const det_20_32 = m20 * m32 - m22 * m30;
    const det_20_31 = m20 * m31 - m30 * m21;
    const cofact_00 = +(m11 * det_22_33 - m12 * det_21_33 + m13 * det_21_32);
    const cofact_01 = -(m10 * det_22_33 - m12 * det_20_33 + m13 * det_20_32);
    const cofact_02 = +(m10 * det_21_33 - m11 * det_20_33 + m13 * det_20_31);
    const cofact_03 = -(m10 * det_21_32 - m11 * det_20_32 + m12 * det_20_31);
    const det = m00 * cofact_00 + m01 * cofact_01 + m02 * cofact_02 + m03 * cofact_03;
    if (det === 0) {
      copy(source, result);
      return;
    }
    const detInv = 1 / det;
    const det_12_33 = m12 * m33 - m32 * m13;
    const det_11_33 = m11 * m33 - m31 * m13;
    const det_11_32 = m11 * m32 - m31 * m12;
    const det_10_33 = m10 * m33 - m30 * m13;
    const det_10_32 = m10 * m32 - m30 * m12;
    const det_10_31 = m10 * m31 - m30 * m11;
    const det_12_23 = m12 * m23 - m22 * m13;
    const det_11_23 = m11 * m23 - m21 * m13;
    const det_11_22 = m11 * m22 - m21 * m12;
    const det_10_23 = m10 * m23 - m20 * m13;
    const det_10_22 = m10 * m22 - m20 * m12;
    const det_10_21 = m10 * m21 - m20 * m11;
    const cofact_10 = -(m01 * det_22_33 - m02 * det_21_33 + m03 * det_21_32);
    const cofact_11 = +(m00 * det_22_33 - m02 * det_20_33 + m03 * det_20_32);
    const cofact_12 = -(m00 * det_21_33 - m01 * det_20_33 + m03 * det_20_31);
    const cofact_13 = +(m00 * det_21_32 - m01 * det_20_32 + m02 * det_20_31);
    const cofact_20 = +(m01 * det_12_33 - m02 * det_11_33 + m03 * det_11_32);
    const cofact_21 = -(m00 * det_12_33 - m02 * det_10_33 + m03 * det_10_32);
    const cofact_22 = +(m00 * det_11_33 - m01 * det_10_33 + m03 * det_10_31);
    const cofact_23 = -(m00 * det_11_32 - m01 * det_10_32 + m02 * det_10_31);
    const cofact_30 = -(m01 * det_12_23 - m02 * det_11_23 + m03 * det_11_22);
    const cofact_31 = +(m00 * det_12_23 - m02 * det_10_23 + m03 * det_10_22);
    const cofact_32 = -(m00 * det_11_23 - m01 * det_10_23 + m03 * det_10_21);
    const cofact_33 = +(m00 * det_11_22 - m01 * det_10_22 + m02 * det_10_21);
    fromValuesToRef(cofact_00 * detInv, cofact_10 * detInv, cofact_20 * detInv, cofact_30 * detInv, cofact_01 * detInv, cofact_11 * detInv, cofact_21 * detInv, cofact_31 * detInv, cofact_02 * detInv, cofact_12 * detInv, cofact_22 * detInv, cofact_32 * detInv, cofact_03 * detInv, cofact_13 * detInv, cofact_23 * detInv, cofact_33 * detInv, result);
  }
  Matrix2.invertToRef = invertToRef;
  function addAtIndex(self2, index, value) {
    self2._m[index] += value;
    _markAsUpdated(self2);
  }
  Matrix2.addAtIndex = addAtIndex;
  function multiplyAtIndex(self2, index, value) {
    self2._m[index] *= value;
    _markAsUpdated(self2);
    return self2;
  }
  Matrix2.multiplyAtIndex = multiplyAtIndex;
  function setTranslationFromFloats(self2, x, y, z) {
    self2._m[12] = x;
    self2._m[13] = y;
    self2._m[14] = z;
    _markAsUpdated(self2);
  }
  Matrix2.setTranslationFromFloats = setTranslationFromFloats;
  function setTranslation(self2, vector3) {
    setTranslationFromFloats(self2, vector3.x, vector3.y, vector3.z);
  }
  Matrix2.setTranslation = setTranslation;
  function getTranslation(self2) {
    return Vector32.create(self2._m[12], self2._m[13], self2._m[14]);
  }
  Matrix2.getTranslation = getTranslation;
  function getTranslationToRef(self2, result) {
    result.x = self2._m[12];
    result.y = self2._m[13];
    result.z = self2._m[14];
  }
  Matrix2.getTranslationToRef = getTranslationToRef;
  function removeRotationAndScaling(self2) {
    const m2 = self2._m;
    fromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, m2[12], m2[13], m2[14], m2[15], self2);
    _updateIdentityStatus(self2, m2[12] === 0 && m2[13] === 0 && m2[14] === 0 && m2[15] === 1);
    return self2;
  }
  Matrix2.removeRotationAndScaling = removeRotationAndScaling;
  function multiply(self2, other) {
    const result = create();
    multiplyToRef(self2, other, result);
    return result;
  }
  Matrix2.multiply = multiply;
  function copy(from, dest) {
    copyToArray(from, dest._m);
    _updateIdentityStatus(dest, from.isIdentity, from._isIdentityDirty, from.isIdentity3x2, from._isIdentity3x2Dirty);
  }
  Matrix2.copy = copy;
  function copyToArray(self2, arrayDest, offsetDest = 0) {
    for (let index = 0; index < 16; index++) {
      arrayDest[offsetDest + index] = self2._m[index];
    }
  }
  Matrix2.copyToArray = copyToArray;
  function multiplyToRef(self2, other, result) {
    if (self2.isIdentity) {
      copy(other, result);
      return;
    }
    if (other.isIdentity) {
      copy(self2, result);
      return;
    }
    multiplyToArray(self2, other, result._m, 0);
    _markAsUpdated(result);
  }
  Matrix2.multiplyToRef = multiplyToRef;
  function multiplyToArray(self2, other, result, offset) {
    const m2 = self2._m;
    const otherM = other._m;
    const tm0 = m2[0], tm1 = m2[1], tm2 = m2[2], tm3 = m2[3];
    const tm4 = m2[4], tm5 = m2[5], tm6 = m2[6], tm7 = m2[7];
    const tm8 = m2[8], tm9 = m2[9], tm10 = m2[10], tm11 = m2[11];
    const tm12 = m2[12], tm13 = m2[13], tm14 = m2[14], tm15 = m2[15];
    const om0 = otherM[0], om1 = otherM[1], om2 = otherM[2], om3 = otherM[3];
    const om4 = otherM[4], om5 = otherM[5], om6 = otherM[6], om7 = otherM[7];
    const om8 = otherM[8], om9 = otherM[9], om10 = otherM[10], om11 = otherM[11];
    const om12 = otherM[12], om13 = otherM[13], om14 = otherM[14], om15 = otherM[15];
    result[offset] = tm0 * om0 + tm1 * om4 + tm2 * om8 + tm3 * om12;
    result[offset + 1] = tm0 * om1 + tm1 * om5 + tm2 * om9 + tm3 * om13;
    result[offset + 2] = tm0 * om2 + tm1 * om6 + tm2 * om10 + tm3 * om14;
    result[offset + 3] = tm0 * om3 + tm1 * om7 + tm2 * om11 + tm3 * om15;
    result[offset + 4] = tm4 * om0 + tm5 * om4 + tm6 * om8 + tm7 * om12;
    result[offset + 5] = tm4 * om1 + tm5 * om5 + tm6 * om9 + tm7 * om13;
    result[offset + 6] = tm4 * om2 + tm5 * om6 + tm6 * om10 + tm7 * om14;
    result[offset + 7] = tm4 * om3 + tm5 * om7 + tm6 * om11 + tm7 * om15;
    result[offset + 8] = tm8 * om0 + tm9 * om4 + tm10 * om8 + tm11 * om12;
    result[offset + 9] = tm8 * om1 + tm9 * om5 + tm10 * om9 + tm11 * om13;
    result[offset + 10] = tm8 * om2 + tm9 * om6 + tm10 * om10 + tm11 * om14;
    result[offset + 11] = tm8 * om3 + tm9 * om7 + tm10 * om11 + tm11 * om15;
    result[offset + 12] = tm12 * om0 + tm13 * om4 + tm14 * om8 + tm15 * om12;
    result[offset + 13] = tm12 * om1 + tm13 * om5 + tm14 * om9 + tm15 * om13;
    result[offset + 14] = tm12 * om2 + tm13 * om6 + tm14 * om10 + tm15 * om14;
    result[offset + 15] = tm12 * om3 + tm13 * om7 + tm14 * om11 + tm15 * om15;
  }
  Matrix2.multiplyToArray = multiplyToArray;
  function equals(self2, value) {
    const other = value;
    if (!other) {
      return false;
    }
    if (self2.isIdentity || other.isIdentity) {
      if (!self2._isIdentityDirty && !other._isIdentityDirty) {
        return self2.isIdentity && other.isIdentity;
      }
    }
    const m2 = self2._m;
    const om = other._m;
    return m2[0] === om[0] && m2[1] === om[1] && m2[2] === om[2] && m2[3] === om[3] && m2[4] === om[4] && m2[5] === om[5] && m2[6] === om[6] && m2[7] === om[7] && m2[8] === om[8] && m2[9] === om[9] && m2[10] === om[10] && m2[11] === om[11] && m2[12] === om[12] && m2[13] === om[13] && m2[14] === om[14] && m2[15] === om[15];
  }
  Matrix2.equals = equals;
  function clone(self2) {
    const result = create();
    copy(self2, result);
    return result;
  }
  Matrix2.clone = clone;
  function getHashCode(self2) {
    let hash = self2._m[0] || 0;
    for (let i = 1; i < 16; i++) {
      hash = hash * 397 ^ (self2._m[i] || 0);
    }
    return hash;
  }
  Matrix2.getHashCode = getHashCode;
  function decompose(self2, scale2, rotation, translation2) {
    if (self2.isIdentity) {
      if (translation2) {
        translation2.x = 0;
        translation2.y = 0;
        translation2.z = 0;
      }
      if (scale2) {
        scale2.x = 1;
        scale2.y = 1;
        scale2.z = 1;
      }
      if (rotation) {
        rotation.w = 1;
        rotation.x = 0;
        rotation.y = 0;
        rotation.z = 0;
      }
      return true;
    }
    const m2 = self2._m;
    if (translation2) {
      translation2.x = m2[12];
      translation2.y = m2[13];
      translation2.z = m2[14];
    }
    const usedScale = scale2 || Vector32.Zero();
    usedScale.x = Math.sqrt(m2[0] * m2[0] + m2[1] * m2[1] + m2[2] * m2[2]);
    usedScale.y = Math.sqrt(m2[4] * m2[4] + m2[5] * m2[5] + m2[6] * m2[6]);
    usedScale.z = Math.sqrt(m2[8] * m2[8] + m2[9] * m2[9] + m2[10] * m2[10]);
    if (determinant(self2) <= 0) {
      usedScale.y *= -1;
    }
    if (usedScale.x === 0 || usedScale.y === 0 || usedScale.z === 0) {
      if (rotation) {
        rotation.w = 1;
        rotation.x = 0;
        rotation.y = 0;
        rotation.z = 0;
      }
      return false;
    }
    if (rotation) {
      const sx = 1 / usedScale.x, sy = 1 / usedScale.y, sz = 1 / usedScale.z;
      const tmpMatrix = create();
      fromValuesToRef(m2[0] * sx, m2[1] * sx, m2[2] * sx, 0, m2[4] * sy, m2[5] * sy, m2[6] * sy, 0, m2[8] * sz, m2[9] * sz, m2[10] * sz, 0, 0, 0, 0, 1, tmpMatrix);
      Quaternion2.fromRotationMatrixToRef(tmpMatrix, rotation);
    }
    return true;
  }
  Matrix2.decompose = decompose;
  function setRowFromFloats(self2, index, x, y, z, w) {
    if (index < 0 || index > 3) {
      return;
    }
    const i = index * 4;
    self2._m[i + 0] = x;
    self2._m[i + 1] = y;
    self2._m[i + 2] = z;
    self2._m[i + 3] = w;
    _markAsUpdated(self2);
  }
  Matrix2.setRowFromFloats = setRowFromFloats;
  function scale(self2, scale2) {
    const result = create();
    scaleToRef(self2, scale2, result);
    return result;
  }
  Matrix2.scale = scale;
  function scaleToRef(self2, scale2, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = self2._m[index] * scale2;
    }
    _markAsUpdated(result);
  }
  Matrix2.scaleToRef = scaleToRef;
  function scaleAndAddToRef(self2, scale2, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] += self2._m[index] * scale2;
    }
    _markAsUpdated(result);
  }
  Matrix2.scaleAndAddToRef = scaleAndAddToRef;
  function normalMatrixToRef(self2, ref) {
    const tmp = create();
    invertToRef(self2, tmp);
    transposeToRef(tmp, ref);
    const m2 = ref._m;
    fromValuesToRef(m2[0], m2[1], m2[2], 0, m2[4], m2[5], m2[6], 0, m2[8], m2[9], m2[10], 0, 0, 0, 0, 1, ref);
  }
  Matrix2.normalMatrixToRef = normalMatrixToRef;
  function getRotationMatrix(self2) {
    const result = create();
    getRotationMatrixToRef(self2, result);
    return result;
  }
  Matrix2.getRotationMatrix = getRotationMatrix;
  function getRotationMatrixToRef(self2, result) {
    const scale2 = Vector32.Zero();
    if (!decompose(self2, scale2)) {
      result = Identity();
      return;
    }
    const m2 = self2._m;
    const sx = 1 / scale2.x, sy = 1 / scale2.y, sz = 1 / scale2.z;
    fromValuesToRef(m2[0] * sx, m2[1] * sx, m2[2] * sx, 0, m2[4] * sy, m2[5] * sy, m2[6] * sy, 0, m2[8] * sz, m2[9] * sz, m2[10] * sz, 0, 0, 0, 0, 1, result);
  }
  Matrix2.getRotationMatrixToRef = getRotationMatrixToRef;
  function toggleModelMatrixHandInPlace(self2) {
    self2._m[2] *= -1;
    self2._m[6] *= -1;
    self2._m[8] *= -1;
    self2._m[9] *= -1;
    self2._m[14] *= -1;
    _markAsUpdated(self2);
  }
  Matrix2.toggleModelMatrixHandInPlace = toggleModelMatrixHandInPlace;
  function toggleProjectionMatrixHandInPlace(self2) {
    self2._m[8] *= -1;
    self2._m[9] *= -1;
    self2._m[10] *= -1;
    self2._m[11] *= -1;
    _markAsUpdated(self2);
  }
  Matrix2.toggleProjectionMatrixHandInPlace = toggleProjectionMatrixHandInPlace;
  function _updateIdentityStatus(self2, isIdentity, isIdentityDirty = false, isIdentity3x2 = false, isIdentity3x2Dirty = true) {
    self2.updateFlag = _updateFlagSeed++;
    self2.isIdentity = isIdentity;
    self2.isIdentity3x2 = isIdentity || isIdentity3x2;
    self2._isIdentityDirty = self2.isIdentity ? false : isIdentityDirty;
    self2._isIdentity3x2Dirty = self2.isIdentity3x2 ? false : isIdentity3x2Dirty;
  }
})(Matrix || (Matrix = {}));

// node_modules/@dcl/ecs-math/dist/Quaternion.js
var Quaternion2;
(function(Quaternion3) {
  function create(x = 0, y = 0, z = 0, w = 1) {
    return { x, y, z, w };
  }
  Quaternion3.create = create;
  function add(q1, q2) {
    return { x: q1.x + q2.x, y: q1.y + q2.y, z: q1.z + q2.z, w: q1.w + q2.w };
  }
  Quaternion3.add = add;
  function fromRotationYawPitchRoll(yaw, pitch, roll) {
    const halfPitch = pitch * 0.5;
    const halfYaw = yaw * 0.5;
    const halfRoll = roll * 0.5;
    const c1 = Math.cos(halfPitch);
    const c2 = Math.cos(halfYaw);
    const c3 = Math.cos(halfRoll);
    const s1 = Math.sin(halfPitch);
    const s2 = Math.sin(halfYaw);
    const s3 = Math.sin(halfRoll);
    return create(c2 * s1 * c3 + s2 * c1 * s3, s2 * c1 * c3 - c2 * s1 * s3, c2 * c1 * s3 - s2 * s1 * c3, c2 * c1 * c3 + s2 * s1 * s3);
  }
  Quaternion3.fromRotationYawPitchRoll = fromRotationYawPitchRoll;
  function fromEulerDegrees(x, y, z) {
    return fromRotationYawPitchRoll(y * DEG2RAD, x * DEG2RAD, z * DEG2RAD);
  }
  Quaternion3.fromEulerDegrees = fromEulerDegrees;
  function length2(q) {
    return Math.sqrt(lengthSquared(q));
  }
  Quaternion3.length = length2;
  function lengthSquared(q) {
    return q.x * q.x + q.y * q.y + q.z * q.z + q.w * q.w;
  }
  Quaternion3.lengthSquared = lengthSquared;
  function dot(left, right) {
    return left.x * right.x + left.y * right.y + left.z * right.z + left.w * right.w;
  }
  Quaternion3.dot = dot;
  function angle(quat1, quat2) {
    const dotVal = dot(quat1, quat2);
    return Math.acos(Math.min(Math.abs(dotVal), 1)) * 2 * RAD2DEG;
  }
  Quaternion3.angle = angle;
  function rotateTowards(from, to, maxDegreesDelta) {
    const num = angle(from, to);
    if (num === 0) {
      return to;
    }
    const t = Math.min(1, maxDegreesDelta / num);
    return slerp(from, to, t);
  }
  Quaternion3.rotateTowards = rotateTowards;
  function lookRotation(forward, up = { x: 0, y: 1, z: 0 }) {
    const forwardNew = Vector32.normalize(forward);
    const right = Vector32.normalize(Vector32.cross(up, forwardNew));
    const upNew = Vector32.cross(forwardNew, right);
    const m00 = right.x;
    const m01 = right.y;
    const m02 = right.z;
    const m10 = upNew.x;
    const m11 = upNew.y;
    const m12 = upNew.z;
    const m20 = forwardNew.x;
    const m21 = forwardNew.y;
    const m22 = forwardNew.z;
    const num8 = m00 + m11 + m22;
    const quaternion = create();
    if (num8 > 0) {
      let num = Math.sqrt(num8 + 1);
      quaternion.w = num * 0.5;
      num = 0.5 / num;
      quaternion.x = (m12 - m21) * num;
      quaternion.y = (m20 - m02) * num;
      quaternion.z = (m01 - m10) * num;
      return quaternion;
    }
    if (m00 >= m11 && m00 >= m22) {
      const num7 = Math.sqrt(1 + m00 - m11 - m22);
      const num4 = 0.5 / num7;
      quaternion.x = 0.5 * num7;
      quaternion.y = (m01 + m10) * num4;
      quaternion.z = (m02 + m20) * num4;
      quaternion.w = (m12 - m21) * num4;
      return quaternion;
    }
    if (m11 > m22) {
      const num6 = Math.sqrt(1 + m11 - m00 - m22);
      const num3 = 0.5 / num6;
      quaternion.x = (m10 + m01) * num3;
      quaternion.y = 0.5 * num6;
      quaternion.z = (m21 + m12) * num3;
      quaternion.w = (m20 - m02) * num3;
      return quaternion;
    }
    const num5 = Math.sqrt(1 + m22 - m00 - m11);
    const num2 = 0.5 / num5;
    quaternion.x = (m20 + m02) * num2;
    quaternion.y = (m21 + m12) * num2;
    quaternion.z = 0.5 * num5;
    quaternion.w = (m01 - m10) * num2;
    return quaternion;
  }
  Quaternion3.lookRotation = lookRotation;
  function normalize(q) {
    const qLength = 1 / length2(q);
    return create(q.x * qLength, q.y * qLength, q.z * qLength, q.w * qLength);
  }
  Quaternion3.normalize = normalize;
  function fromToRotation(from, to, up = Vector32.Up()) {
    const v0 = Vector32.normalize(from);
    const v1 = Vector32.normalize(to);
    const a = Vector32.cross(v0, v1);
    const w = Math.sqrt(Vector32.lengthSquared(v0) * Vector32.lengthSquared(v1)) + Vector32.dot(v0, v1);
    if (Vector32.lengthSquared(a) < 1e-4) {
      return Math.abs(w) < 1e-4 ? normalize(create(up.x, up.y, up.z, 0)) : Identity();
    } else {
      return normalize(create(a.x, a.y, a.z, w));
    }
  }
  Quaternion3.fromToRotation = fromToRotation;
  function Identity() {
    return create(0, 0, 0, 1);
  }
  Quaternion3.Identity = Identity;
  function toEulerAngles(q) {
    const out = Vector32.create();
    const unit = q.x * q.x + q.y * q.y + q.z * q.z + q.w * q.w;
    const test = q.x * q.w - q.y * q.z;
    if (test > 0.4995 * unit) {
      out.x = Math.PI / 2;
      out.y = 2 * Math.atan2(q.y, q.x);
      out.z = 0;
    } else if (test < -0.4995 * unit) {
      out.x = -Math.PI / 2;
      out.y = -2 * Math.atan2(q.y, q.x);
      out.z = 0;
    } else {
      out.x = Math.asin(2 * (q.w * q.x - q.y * q.z));
      out.y = Math.atan2(2 * q.w * q.y + 2 * q.z * q.x, 1 - 2 * (q.x * q.x + q.y * q.y));
      out.z = Math.atan2(2 * q.w * q.z + 2 * q.x * q.y, 1 - 2 * (q.z * q.z + q.x * q.x));
    }
    out.x *= RAD2DEG;
    out.y *= RAD2DEG;
    out.z *= RAD2DEG;
    out.x = Scalar.repeat(out.x, 360);
    out.y = Scalar.repeat(out.y, 360);
    out.z = Scalar.repeat(out.z, 360);
    return out;
  }
  Quaternion3.toEulerAngles = toEulerAngles;
  function fromRotationYawPitchRollToRef(yaw, pitch, roll, result) {
    const halfPitch = pitch * 0.5;
    const halfYaw = yaw * 0.5;
    const halfRoll = roll * 0.5;
    const c1 = Math.cos(halfPitch);
    const c2 = Math.cos(halfYaw);
    const c3 = Math.cos(halfRoll);
    const s1 = Math.sin(halfPitch);
    const s2 = Math.sin(halfYaw);
    const s3 = Math.sin(halfRoll);
    result.x = c2 * s1 * c3 + s2 * c1 * s3;
    result.y = s2 * c1 * c3 - c2 * s1 * s3;
    result.z = c2 * c1 * s3 - s2 * s1 * c3;
    result.w = c2 * c1 * c3 + s2 * s1 * s3;
  }
  Quaternion3.fromRotationYawPitchRollToRef = fromRotationYawPitchRollToRef;
  function fromRotationMatrixToRef(matrix, result) {
    const data = matrix._m;
    const m11 = data[0], m12 = data[4], m13 = data[8];
    const m21 = data[1], m22 = data[5], m23 = data[9];
    const m31 = data[2], m32 = data[6], m33 = data[10];
    const trace = m11 + m22 + m33;
    let s;
    if (trace > 0) {
      s = 0.5 / Math.sqrt(trace + 1);
      result.w = 0.25 / s;
      result.x = (m32 - m23) * s;
      result.y = (m13 - m31) * s;
      result.z = (m21 - m12) * s;
    } else if (m11 > m22 && m11 > m33) {
      s = 2 * Math.sqrt(1 + m11 - m22 - m33);
      result.w = (m32 - m23) / s;
      result.x = 0.25 * s;
      result.y = (m12 + m21) / s;
      result.z = (m13 + m31) / s;
    } else if (m22 > m33) {
      s = 2 * Math.sqrt(1 + m22 - m11 - m33);
      result.w = (m13 - m31) / s;
      result.x = (m12 + m21) / s;
      result.y = 0.25 * s;
      result.z = (m23 + m32) / s;
    } else {
      s = 2 * Math.sqrt(1 + m33 - m11 - m22);
      result.w = (m21 - m12) / s;
      result.x = (m13 + m31) / s;
      result.y = (m23 + m32) / s;
      result.z = 0.25 * s;
    }
  }
  Quaternion3.fromRotationMatrixToRef = fromRotationMatrixToRef;
  function slerp(left, right, amount) {
    const result = Quaternion3.Identity();
    Quaternion3.slerpToRef(left, right, amount, result);
    return result;
  }
  Quaternion3.slerp = slerp;
  function slerpToRef(left, right, amount, result) {
    let num2;
    let num3;
    let num4 = left.x * right.x + left.y * right.y + left.z * right.z + left.w * right.w;
    let flag = false;
    if (num4 < 0) {
      flag = true;
      num4 = -num4;
    }
    if (num4 > 0.999999) {
      num3 = 1 - amount;
      num2 = flag ? -amount : amount;
    } else {
      const num5 = Math.acos(num4);
      const num6 = 1 / Math.sin(num5);
      num3 = Math.sin((1 - amount) * num5) * num6;
      num2 = flag ? -Math.sin(amount * num5) * num6 : Math.sin(amount * num5) * num6;
    }
    result.x = num3 * left.x + num2 * right.x;
    result.y = num3 * left.y + num2 * right.y;
    result.z = num3 * left.z + num2 * right.z;
    result.w = num3 * left.w + num2 * right.w;
  }
  Quaternion3.slerpToRef = slerpToRef;
  function multiply(self2, q1) {
    const result = create(0, 0, 0, 1);
    multiplyToRef(self2, q1, result);
    return result;
  }
  Quaternion3.multiply = multiply;
  function multiplyToRef(self2, q1, result) {
    result.x = self2.x * q1.w + self2.y * q1.z - self2.z * q1.y + self2.w * q1.x;
    result.y = -self2.x * q1.z + self2.y * q1.w + self2.z * q1.x + self2.w * q1.y;
    result.z = self2.x * q1.y - self2.y * q1.x + self2.z * q1.w + self2.w * q1.z;
    result.w = -self2.x * q1.x - self2.y * q1.y - self2.z * q1.z + self2.w * q1.w;
  }
  Quaternion3.multiplyToRef = multiplyToRef;
  function fromAngleAxis(degrees, axis) {
    if (Vector32.lengthSquared(axis) === 0) {
      return Quaternion3.Identity();
    }
    const result = Identity();
    let radians = degrees * DEG2RAD;
    radians *= 0.5;
    const a2 = Vector32.normalize(axis);
    Vector32.scaleToRef(a2, Math.sin(radians), a2);
    result.x = a2.x;
    result.y = a2.y;
    result.z = a2.z;
    result.w = Math.cos(radians);
    return normalize(result);
  }
  Quaternion3.fromAngleAxis = fromAngleAxis;
  function fromAxisToRotationQuaternion(axis1, axis2, axis3) {
    const quat = Quaternion3.create(0, 0, 0, 0);
    fromAxisToRotationQuaternionToRef(axis1, axis2, axis3, quat);
    return quat;
  }
  Quaternion3.fromAxisToRotationQuaternion = fromAxisToRotationQuaternion;
  function fromAxisToRotationQuaternionToRef(axis1, axis2, axis3, ref) {
    const rotMat = Matrix.create();
    Matrix.fromXYZAxesToRef(Vector32.normalize(axis1), Vector32.normalize(axis2), Vector32.normalize(axis3), rotMat);
    Quaternion3.fromRotationMatrixToRef(rotMat, ref);
  }
  Quaternion3.fromAxisToRotationQuaternionToRef = fromAxisToRotationQuaternionToRef;
  function Zero() {
    return create(0, 0, 0, 0);
  }
  Quaternion3.Zero = Zero;
  function fromLookAt(position, target, worldUp = Vector32.Up()) {
    const result = Quaternion3.Identity();
    fromLookAtToRef(position, target, worldUp, result);
    return result;
  }
  Quaternion3.fromLookAt = fromLookAt;
  function fromLookAtToRef(position, target, worldUp = Vector32.Up(), result) {
    const m = Matrix.Identity();
    Matrix.lookAtLHToRef(position, target, worldUp, m);
    Matrix.invertToRef(m, m);
    Quaternion3.fromRotationMatrixToRef(m, result);
  }
  Quaternion3.fromLookAtToRef = fromLookAtToRef;
})(Quaternion2 || (Quaternion2 = {}));

// node_modules/@dcl/ecs-math/dist/Color4.js
var Color42;
(function(Color43) {
  function create(r = 0, g = 0, b = 0, a = 1) {
    return { r, g, b, a };
  }
  Color43.create = create;
  function fromHexString(hex) {
    if (hex.substring(0, 1) !== "#" || hex.length !== 7 && hex.length !== 9) {
      return create(0, 0, 0, 1);
    }
    const r = parseInt(hex.substring(1, 3), 16);
    const g = parseInt(hex.substring(3, 5), 16);
    const b = parseInt(hex.substring(5, 7), 16);
    const aStr = hex.substring(7, 9);
    const a = aStr ? parseInt(aStr, 16) : 255;
    return Color43.fromInts(r, g, b, a);
  }
  Color43.fromHexString = fromHexString;
  function lerp(left, right, amount) {
    const result = create(0, 0, 0, 0);
    Color43.lerpToRef(left, right, amount, result);
    return result;
  }
  Color43.lerp = lerp;
  function lerpToRef(left, right, amount, result) {
    result.r = left.r + (right.r - left.r) * amount;
    result.g = left.g + (right.g - left.g) * amount;
    result.b = left.b + (right.b - left.b) * amount;
    result.a = left.a + (right.a - left.a) * amount;
  }
  Color43.lerpToRef = lerpToRef;
  function Red() {
    return create(1, 0, 0, 1);
  }
  Color43.Red = Red;
  function Green() {
    return create(0, 1, 0, 1);
  }
  Color43.Green = Green;
  function Blue() {
    return create(0, 0, 1, 1);
  }
  Color43.Blue = Blue;
  function Black() {
    return create(0, 0, 0, 1);
  }
  Color43.Black = Black;
  function White() {
    return create(1, 1, 1, 1);
  }
  Color43.White = White;
  function Purple() {
    return create(0.5, 0, 0.5, 1);
  }
  Color43.Purple = Purple;
  function Magenta() {
    return create(1, 0, 1, 1);
  }
  Color43.Magenta = Magenta;
  function Yellow() {
    return create(1, 1, 0, 1);
  }
  Color43.Yellow = Yellow;
  function Gray() {
    return create(0.5, 0.5, 0.5, 1);
  }
  Color43.Gray = Gray;
  function Teal() {
    return create(0, 1, 1, 1);
  }
  Color43.Teal = Teal;
  function Clear() {
    return create(0, 0, 0, 0);
  }
  Color43.Clear = Clear;
  function fromColor3(color3, alpha = 1) {
    return create(color3.r, color3.g, color3.b, alpha);
  }
  Color43.fromColor3 = fromColor3;
  function fromArray(array, offset = 0) {
    return create(array[offset], array[offset + 1], array[offset + 2], array[offset + 3]);
  }
  Color43.fromArray = fromArray;
  function fromInts(r, g, b, a) {
    return create(r / 255, g / 255, b / 255, a / 255);
  }
  Color43.fromInts = fromInts;
  function checkColors4(colors, count) {
    if (colors.length === count * 3) {
      const colors4 = [];
      for (let index = 0; index < colors.length; index += 3) {
        const newIndex = index / 3 * 4;
        colors4[newIndex] = colors[index];
        colors4[newIndex + 1] = colors[index + 1];
        colors4[newIndex + 2] = colors[index + 2];
        colors4[newIndex + 3] = 1;
      }
      return colors4;
    }
    return colors;
  }
  Color43.checkColors4 = checkColors4;
  function addToRef(a, b, ref) {
    ref.r = a.r + b.r;
    ref.g = a.g + b.g;
    ref.b = a.b + b.b;
    ref.a = a.a + b.a;
  }
  Color43.addToRef = addToRef;
  function toArray(value, array, index = 0) {
    array[index] = value.r;
    array[index + 1] = value.g;
    array[index + 2] = value.b;
    array[index + 3] = value.a;
  }
  Color43.toArray = toArray;
  function add(value, right) {
    const ret = Clear();
    addToRef(value, right, ret);
    return ret;
  }
  Color43.add = add;
  function subtract(value, right) {
    const ret = Clear();
    subtractToRef(value, right, ret);
    return ret;
  }
  Color43.subtract = subtract;
  function subtractToRef(a, b, result) {
    result.r = a.r - b.r;
    result.g = a.g - b.g;
    result.b = a.b - b.b;
    result.a = a.a - b.a;
  }
  Color43.subtractToRef = subtractToRef;
  function scale(value, scale2) {
    return create(value.r * scale2, value.g * scale2, value.b * scale2, value.a * scale2);
  }
  Color43.scale = scale;
  function scaleToRef(value, scale2, result) {
    result.r = value.r * scale2;
    result.g = value.g * scale2;
    result.b = value.b * scale2;
    result.a = value.a * scale2;
  }
  Color43.scaleToRef = scaleToRef;
  function scaleAndAddToRef(value, scale2, result) {
    result.r += value.r * scale2;
    result.g += value.g * scale2;
    result.b += value.b * scale2;
    result.a += value.a * scale2;
  }
  Color43.scaleAndAddToRef = scaleAndAddToRef;
  function clampToRef(value, min = 0, max = 1, result) {
    result.r = Scalar.clamp(value.r, min, max);
    result.g = Scalar.clamp(value.g, min, max);
    result.b = Scalar.clamp(value.b, min, max);
    result.a = Scalar.clamp(value.a, min, max);
  }
  Color43.clampToRef = clampToRef;
  function multiply(value, color) {
    return create(value.r * color.r, value.g * color.g, value.b * color.b, value.a * color.a);
  }
  Color43.multiply = multiply;
  function multiplyToRef(value, color, result) {
    result.r = value.r * color.r;
    result.g = value.g * color.g;
    result.b = value.b * color.b;
    result.a = value.a * color.a;
  }
  Color43.multiplyToRef = multiplyToRef;
  function toString(value) {
    return "{R: " + value.r + " G:" + value.g + " B:" + value.b + " A:" + value.a + "}";
  }
  Color43.toString = toString;
  function getHashCode(value) {
    let hash = value.r || 0;
    hash = hash * 397 ^ (value.g || 0);
    hash = hash * 397 ^ (value.b || 0);
    hash = hash * 397 ^ (value.a || 0);
    return hash;
  }
  Color43.getHashCode = getHashCode;
  function clone(value) {
    return create(value.r, value.g, value.b, value.a);
  }
  Color43.clone = clone;
  function copyFrom(source, dest) {
    dest.r = source.r;
    dest.g = source.g;
    dest.b = source.b;
    dest.a = source.a;
  }
  Color43.copyFrom = copyFrom;
  function copyFromFloats(r, g, b, a, dest) {
    dest.r = r;
    dest.g = g;
    dest.b = b;
    dest.a = a;
  }
  Color43.copyFromFloats = copyFromFloats;
  function set(r, g, b, a, dest) {
    dest.r = r;
    dest.g = g;
    dest.b = b;
    dest.a = a;
  }
  Color43.set = set;
  function toHexString(value) {
    const intR = value.r * 255 | 0;
    const intG = value.g * 255 | 0;
    const intB = value.b * 255 | 0;
    const intA = value.a * 255 | 0;
    return "#" + Scalar.toHex(intR) + Scalar.toHex(intG) + Scalar.toHex(intB) + Scalar.toHex(intA);
  }
  Color43.toHexString = toHexString;
  function toLinearSpace(value) {
    const convertedColor = create();
    toLinearSpaceToRef(value, convertedColor);
    return convertedColor;
  }
  Color43.toLinearSpace = toLinearSpace;
  function toLinearSpaceToRef(value, ref) {
    ref.r = Math.pow(value.r, ToLinearSpace);
    ref.g = Math.pow(value.g, ToLinearSpace);
    ref.b = Math.pow(value.b, ToLinearSpace);
    ref.a = value.a;
  }
  Color43.toLinearSpaceToRef = toLinearSpaceToRef;
  function toGammaSpace(value) {
    const convertedColor = create();
    toGammaSpaceToRef(value, convertedColor);
    return convertedColor;
  }
  Color43.toGammaSpace = toGammaSpace;
  function toGammaSpaceToRef(value, convertedColor) {
    convertedColor.r = Math.pow(value.r, ToGammaSpace);
    convertedColor.g = Math.pow(value.g, ToGammaSpace);
    convertedColor.b = Math.pow(value.b, ToGammaSpace);
    convertedColor.a = value.a;
  }
  Color43.toGammaSpaceToRef = toGammaSpaceToRef;
})(Color42 || (Color42 = {}));

// node_modules/@dcl/ecs-math/dist/Color3.js
var Color32;
(function(Color33) {
  function create(r = 0, g = 0, b = 0) {
    return { r, g, b };
  }
  Color33.create = create;
  function fromHexString(hex) {
    if (hex.substring(0, 1) !== "#" || hex.length !== 7) {
      return create(0, 0, 0);
    }
    const r = parseInt(hex.substring(1, 3), 16);
    const g = parseInt(hex.substring(3, 5), 16);
    const b = parseInt(hex.substring(5, 7), 16);
    return fromInts(r, g, b);
  }
  Color33.fromHexString = fromHexString;
  function fromArray(array, offset = 0) {
    return create(array[offset], array[offset + 1], array[offset + 2]);
  }
  Color33.fromArray = fromArray;
  function fromInts(r, g, b) {
    return create(r / 255, g / 255, b / 255);
  }
  Color33.fromInts = fromInts;
  function lerp(start, end, amount) {
    const result = create(0, 0, 0);
    Color33.lerpToRef(start, end, amount, result);
    return result;
  }
  Color33.lerp = lerp;
  function lerpToRef(left, right, amount, result) {
    result.r = left.r + (right.r - left.r) * amount;
    result.g = left.g + (right.g - left.g) * amount;
    result.b = left.b + (right.b - left.b) * amount;
  }
  Color33.lerpToRef = lerpToRef;
  function Red() {
    return create(1, 0, 0);
  }
  Color33.Red = Red;
  function Green() {
    return create(0, 1, 0);
  }
  Color33.Green = Green;
  function Blue() {
    return create(0, 0, 1);
  }
  Color33.Blue = Blue;
  function Black() {
    return create(0, 0, 0);
  }
  Color33.Black = Black;
  function White() {
    return create(1, 1, 1);
  }
  Color33.White = White;
  function Purple() {
    return create(0.5, 0, 0.5);
  }
  Color33.Purple = Purple;
  function Magenta() {
    return create(1, 0, 1);
  }
  Color33.Magenta = Magenta;
  function Yellow() {
    return create(1, 1, 0);
  }
  Color33.Yellow = Yellow;
  function Gray() {
    return create(0.5, 0.5, 0.5);
  }
  Color33.Gray = Gray;
  function Teal() {
    return create(0, 1, 1);
  }
  Color33.Teal = Teal;
  function Random() {
    return create(Math.random(), Math.random(), Math.random());
  }
  Color33.Random = Random;
  function toString(value) {
    return "{R: " + value.r + " G:" + value.g + " B:" + value.b + "}";
  }
  Color33.toString = toString;
  function getHashCode(value) {
    let hash = value.r || 0;
    hash = hash * 397 ^ (value.g || 0);
    hash = hash * 397 ^ (value.b || 0);
    return hash;
  }
  Color33.getHashCode = getHashCode;
  function toArray(value, array, index = 0) {
    array[index] = value.r;
    array[index + 1] = value.g;
    array[index + 2] = value.b;
  }
  Color33.toArray = toArray;
  function toColor4(value, alpha = 1) {
    return Color42.create(value.r, value.g, value.b, alpha);
  }
  Color33.toColor4 = toColor4;
  function asArray(value) {
    const result = new Array();
    toArray(value, result, 0);
    return result;
  }
  Color33.asArray = asArray;
  function toLuminance(value) {
    return value.r * 0.3 + value.g * 0.59 + value.b * 0.11;
  }
  Color33.toLuminance = toLuminance;
  function multiply(value, otherColor) {
    return create(value.r * otherColor.r, value.g * otherColor.g, value.b * otherColor.b);
  }
  Color33.multiply = multiply;
  function multiplyToRef(value, otherColor, result) {
    result.r = value.r * otherColor.r;
    result.g = value.g * otherColor.g;
    result.b = value.b * otherColor.b;
  }
  Color33.multiplyToRef = multiplyToRef;
  function equals(value, otherColor) {
    return otherColor && value.r === otherColor.r && value.g === otherColor.g && value.b === otherColor.b;
  }
  Color33.equals = equals;
  function equalsFloats(value, r, g, b) {
    return value.r === r && value.g === g && value.b === b;
  }
  Color33.equalsFloats = equalsFloats;
  function scale(value, scale2) {
    return create(value.r * scale2, value.g * scale2, value.b * scale2);
  }
  Color33.scale = scale;
  function scaleToRef(value, scale2, result) {
    result.r = value.r * scale2;
    result.g = value.g * scale2;
    result.b = value.b * scale2;
  }
  Color33.scaleToRef = scaleToRef;
  function scaleAndAddToRef(value, scale2, result) {
    result.r += value.r * scale2;
    result.g += value.g * scale2;
    result.b += value.b * scale2;
  }
  Color33.scaleAndAddToRef = scaleAndAddToRef;
  function clampToRef(value, min = 0, max = 1, result) {
    result.r = Scalar.clamp(value.r, min, max);
    result.g = Scalar.clamp(value.g, min, max);
    result.b = Scalar.clamp(value.b, min, max);
  }
  Color33.clampToRef = clampToRef;
  function clamp(value, min = 0, max = 1) {
    const result = Color33.Black();
    clampToRef(value, min, max, result);
    return result;
  }
  Color33.clamp = clamp;
  function add(value, otherColor) {
    return create(value.r + otherColor.r, value.g + otherColor.g, value.b + otherColor.b);
  }
  Color33.add = add;
  function addToRef(value, otherColor, result) {
    result.r = value.r + otherColor.r;
    result.g = value.g + otherColor.g;
    result.b = value.b + otherColor.b;
  }
  Color33.addToRef = addToRef;
  function subtract(value, otherColor) {
    return create(value.r - otherColor.r, value.g - otherColor.g, value.b - otherColor.b);
  }
  Color33.subtract = subtract;
  function subtractToRef(value, otherColor, result) {
    result.r = value.r - otherColor.r;
    result.g = value.g - otherColor.g;
    result.b = value.b - otherColor.b;
  }
  Color33.subtractToRef = subtractToRef;
  function clone(value) {
    return create(value.r, value.g, value.b);
  }
  Color33.clone = clone;
  function copyFrom(source, dest) {
    dest.r = source.r;
    dest.g = source.g;
    dest.b = source.b;
  }
  Color33.copyFrom = copyFrom;
  function set(dest, r, g, b) {
    dest.r = r;
    dest.g = g;
    dest.b = b;
  }
  Color33.set = set;
  function toHexString(value) {
    const intR = value.r * 255 | 0;
    const intG = value.g * 255 | 0;
    const intB = value.b * 255 | 0;
    return "#" + Scalar.toHex(intR) + Scalar.toHex(intG) + Scalar.toHex(intB);
  }
  Color33.toHexString = toHexString;
  function toLinearSpace(value) {
    const convertedColor = create();
    toLinearSpaceToRef(value, convertedColor);
    return convertedColor;
  }
  Color33.toLinearSpace = toLinearSpace;
  function toLinearSpaceToRef(value, convertedColor) {
    convertedColor.r = Math.pow(value.r, ToLinearSpace);
    convertedColor.g = Math.pow(value.g, ToLinearSpace);
    convertedColor.b = Math.pow(value.b, ToLinearSpace);
  }
  Color33.toLinearSpaceToRef = toLinearSpaceToRef;
  function toGammaSpace(value) {
    const convertedColor = create();
    toGammaSpaceToRef(value, convertedColor);
    return convertedColor;
  }
  Color33.toGammaSpace = toGammaSpace;
  function toGammaSpaceToRef(value, convertedColor) {
    convertedColor.r = Math.pow(value.r, ToGammaSpace);
    convertedColor.g = Math.pow(value.g, ToGammaSpace);
    convertedColor.b = Math.pow(value.b, ToGammaSpace);
  }
  Color33.toGammaSpaceToRef = toGammaSpaceToRef;
})(Color32 || (Color32 = {}));

// src/components.ts
var Cube = engine.defineComponent("cube-id", {});
var Spinner = engine.defineComponent("spinner", { speed: Schemas.Number });

// src/systems.ts
var BounceScaling = engine.defineComponent("BounceScaling", { t: Schemas.Number });
function circularSystem(dt) {
  const entitiesWithSpinner = engine.getEntitiesWith(Spinner, Transform2);
  for (const [entity, _spinner, _transform] of entitiesWithSpinner) {
    const mutableTransform = Transform2.getMutable(entity);
    const spinnerData = Spinner.get(entity);
    mutableTransform.rotation = Quaternion2.multiply(
      mutableTransform.rotation,
      Quaternion2.fromAngleAxis(dt * spinnerData.speed, Vector32.Up())
    );
  }
}

// src/utils.ts
function getRandomHexColor() {
  const letters = "0123456789ABCDEF";
  let color = "#";
  for (let i = 0; i < 6; i++) {
    color += letters[Math.floor(Math.random() * 16)];
  }
  return color;
}

// src/factory.ts
function createCube(x, y, z, spawner = true) {
  const entity = engine.addEntity();
  Cube.create(entity);
  Transform2.create(entity, { position: { x, y, z } });
  MeshRenderer3.setBox(entity);
  MeshCollider3.setBox(entity);
  Material3.setPbrMaterial(entity, { albedoColor: Color42.fromHexString(getRandomHexColor()) });
  Spinner.create(entity, { speed: 10 * Math.random() });
  if (spawner) {
    PointerEvents2.create(entity, {
      pointerEvents: [
        {
          eventType: PointerEventType.PET_DOWN,
          eventInfo: {
            button: InputAction.IA_PRIMARY,
            hoverText: "Press E to spawn",
            maxDistance: 100,
            showFeedback: true
          }
        }
      ]
    });
  }
  return entity;
}

// src/index.ts
var import_PortableExperiences = require("~system/PortableExperiences");
engine.addSystem(circularSystem);
var pxId;
function main() {
  const cube = createCube(1, 1, 1);
  PointerEvents2.createOrReplace(cube, {
    pointerEvents: [
      {
        eventType: PointerEventType.PET_DOWN,
        eventInfo: {
          button: InputAction.IA_PRIMARY,
          hoverText: "Spawn PX"
        }
      },
      {
        eventType: PointerEventType.PET_DOWN,
        eventInfo: {
          button: InputAction.IA_SECONDARY,
          hoverText: "Kill PX"
        }
      }
    ]
  });
  pointerEventsSystem.onPointerDown(
    { entity: cube, opts: { button: InputAction.IA_ANY } },
    (event) => {
      createCube(1 + Math.random() * 8, Math.random() * 8, 1 + Math.random() * 8, false);
      if (event.button === InputAction.IA_PRIMARY) {
        (0, import_PortableExperiences.spawn)({ ens: "boedo.dcl.eth" }).then((e) => {
          pxId = e;
          console.log(e);
        });
      }
      if (event.button === InputAction.IA_SECONDARY && !!pxId?.pid) {
        (0, import_PortableExperiences.kill)({ pid: pxId.pid }).then(console.log).catch(console.error);
      }
    }
  );
}

// node_modules/@dcl/sdk/index.js
var import_EngineApi2 = require("~system/EngineApi");

// node_modules/@dcl/sdk/internal/transports/rendererTransport.js
function createRendererTransport(engineApi) {
  async function sendToRenderer(message) {
    const response = await engineApi.crdtSendToRenderer({
      data: new Uint8Array(message)
    });
    if (response && response.data && response.data.length) {
      if (rendererTransport2.onmessage) {
        for (const byteArray of response.data) {
          rendererTransport2.onmessage(byteArray);
        }
      }
    }
  }
  const rendererTransport2 = {
    async send(message) {
      try {
        await sendToRenderer(message);
      } catch (error) {
        console.error(error);
        debugger;
      }
    },
    filter(message) {
      if (message.componentId > MAX_STATIC_COMPONENT) {
        return false;
      }
      return !!message;
    }
  };
  return rendererTransport2;
}

// node_modules/@dcl/sdk/internal/Observable.js
var ObserverEventState = class {
  constructor(mask, skipNextObservers = false, target, currentTarget) {
    this.initalize(mask, skipNextObservers, target, currentTarget);
  }
  initalize(mask, skipNextObservers = false, target, currentTarget) {
    this.mask = mask;
    this.skipNextObservers = skipNextObservers;
    this.target = target;
    this.currentTarget = currentTarget;
    return this;
  }
};
var Observer = class {
  constructor(callback, mask, scope = null) {
    this.callback = callback;
    this.mask = mask;
    this.scope = scope;
    this.unregisterOnNextCall = false;
    this._willBeUnregistered = false;
  }
};
var Observable = class {
  constructor(onObserverAdded) {
    this._observers = new Array();
    this._onObserverAdded = null;
    this._eventState = new ObserverEventState(0);
    if (onObserverAdded) {
      this._onObserverAdded = onObserverAdded;
    }
  }
  add(callback, mask = -1, insertFirst = false, scope = null, unregisterOnFirstCall = false) {
    if (!callback) {
      return null;
    }
    const observer = new Observer(callback, mask, scope);
    observer.unregisterOnNextCall = unregisterOnFirstCall;
    if (insertFirst) {
      this._observers.unshift(observer);
    } else {
      this._observers.push(observer);
    }
    if (this._onObserverAdded) {
      this._onObserverAdded(observer);
    }
    return observer;
  }
  addOnce(callback) {
    return this.add(callback, void 0, void 0, void 0, true);
  }
  remove(observer) {
    if (!observer) {
      return false;
    }
    const index = this._observers.indexOf(observer);
    if (index !== -1) {
      this._deferUnregister(observer);
      return true;
    }
    return false;
  }
  removeCallback(callback, scope) {
    for (let index = 0; index < this._observers.length; index++) {
      if (this._observers[index].callback === callback && (!scope || scope === this._observers[index].scope)) {
        this._deferUnregister(this._observers[index]);
        return true;
      }
    }
    return false;
  }
  notifyObservers(eventData, mask = -1, target, currentTarget) {
    if (!this._observers.length) {
      return true;
    }
    const state = this._eventState;
    state.mask = mask;
    state.target = target;
    state.currentTarget = currentTarget;
    state.skipNextObservers = false;
    state.lastReturnValue = eventData;
    for (const obs of this._observers) {
      if (obs._willBeUnregistered) {
        continue;
      }
      if (obs.mask & mask) {
        if (obs.scope) {
          state.lastReturnValue = obs.callback.apply(obs.scope, [eventData, state]);
        } else {
          state.lastReturnValue = obs.callback(eventData, state);
        }
        if (obs.unregisterOnNextCall) {
          this._deferUnregister(obs);
        }
      }
      if (state.skipNextObservers) {
        return false;
      }
    }
    return true;
  }
  notifyObserversWithPromise(eventData, mask = -1, target, currentTarget) {
    let p = Promise.resolve(eventData);
    if (!this._observers.length) {
      return p;
    }
    const state = this._eventState;
    state.mask = mask;
    state.target = target;
    state.currentTarget = currentTarget;
    state.skipNextObservers = false;
    this._observers.forEach((obs) => {
      if (state.skipNextObservers) {
        return;
      }
      if (obs._willBeUnregistered) {
        return;
      }
      if (obs.mask & mask) {
        if (obs.scope) {
          p = p.then((lastReturnedValue) => {
            state.lastReturnValue = lastReturnedValue;
            return obs.callback.apply(obs.scope, [eventData, state]);
          });
        } else {
          p = p.then((lastReturnedValue) => {
            state.lastReturnValue = lastReturnedValue;
            return obs.callback(eventData, state);
          });
        }
        if (obs.unregisterOnNextCall) {
          this._deferUnregister(obs);
        }
      }
    });
    return p.then(() => {
      return eventData;
    });
  }
  notifyObserver(observer, eventData, mask = -1) {
    const state = this._eventState;
    state.mask = mask;
    state.skipNextObservers = false;
    observer.callback(eventData, state);
  }
  hasObservers() {
    return this._observers.length > 0;
  }
  clear() {
    this._observers = new Array();
    this._onObserverAdded = null;
  }
  clone() {
    const result = new Observable();
    result._observers = this._observers.slice(0);
    return result;
  }
  hasSpecificMask(mask = -1) {
    for (const obs of this._observers) {
      if (obs.mask & mask || obs.mask === mask) {
        return true;
      }
    }
    return false;
  }
  _deferUnregister(observer) {
    observer.unregisterOnNextCall = false;
    observer._willBeUnregistered = true;
    Promise.resolve().then.bind(Promise.resolve())(async () => this._remove(observer)).catch(console.error);
  }
  _remove(observer) {
    if (!observer) {
      return false;
    }
    const index = this._observers.indexOf(observer);
    if (index !== -1) {
      this._observers.splice(index, 1);
      return true;
    }
    return false;
  }
};

// node_modules/@dcl/sdk/observables.js
var import_EngineApi = require("~system/EngineApi");
var subscribeFunction = import_EngineApi.subscribe;
function createSubscriber(eventName) {
  return () => {
    subscribeFunction({ eventId: eventName }).catch(console.error);
  };
}
var onEnterSceneObservable = new Observable(createSubscriber("onEnterScene"));
var onLeaveSceneObservable = new Observable(createSubscriber("onLeaveScene"));
var onSceneReadyObservable = new Observable(createSubscriber("sceneStart"));
var onPlayerExpressionObservable = new Observable(createSubscriber("playerExpression"));
var onVideoEvent = new Observable(createSubscriber("videoEvent"));
var onProfileChanged = new Observable(createSubscriber("profileChanged"));
var onPlayerConnectedObservable = new Observable(createSubscriber("playerConnected"));
var onPlayerDisconnectedObservable = new Observable(createSubscriber("playerDisconnected"));
var onRealmChangedObservable = new Observable(createSubscriber("onRealmChanged"));
var onPlayerClickedObservable = new Observable(createSubscriber("playerClicked"));
var onCommsMessage = new Observable(createSubscriber("comms"));
async function pollEvents(sendBatch2) {
  const { events } = await sendBatch2({ actions: [] });
  for (const e of events) {
    if (e.generic) {
      const data = JSON.parse(e.generic.eventData);
      switch (e.generic.eventId) {
        case "onEnterScene": {
          onEnterSceneObservable.notifyObservers(data);
          break;
        }
        case "onLeaveScene": {
          onLeaveSceneObservable.notifyObservers(data);
          break;
        }
        case "sceneStart": {
          onSceneReadyObservable.notifyObservers(data);
          break;
        }
        case "playerExpression": {
          onPlayerExpressionObservable.notifyObservers(data);
          break;
        }
        case "videoEvent": {
          const videoData = data;
          onVideoEvent.notifyObservers(videoData);
          break;
        }
        case "profileChanged": {
          onProfileChanged.notifyObservers(data);
          break;
        }
        case "playerConnected": {
          onPlayerConnectedObservable.notifyObservers(data);
          break;
        }
        case "playerDisconnected": {
          onPlayerDisconnectedObservable.notifyObservers(data);
          break;
        }
        case "onRealmChanged": {
          onRealmChangedObservable.notifyObservers(data);
          break;
        }
        case "playerClicked": {
          onPlayerClickedObservable.notifyObservers(data);
          break;
        }
        case "comms": {
          onCommsMessage.notifyObservers(data);
          break;
        }
      }
    }
  }
}

// sdk-composite:all-composites
var compositeFromLoader = {};

// node_modules/@dcl/sdk/composite-provider.js
var composites = [];
var compositeProvider = {
  getCompositeOrNull(src, _currentPath) {
    const fromLoader = compositeFromLoader[src];
    if (fromLoader) {
      try {
        if (fromLoader instanceof Uint8Array) {
          const composite = Composite.fromBinary(fromLoader);
          composites.push({ src, composite });
        } else if (typeof fromLoader === "string") {
          const composite = Composite.fromJson(JSON.parse(fromLoader));
          composites.push({ src, composite });
        } else if (typeof fromLoader === "object") {
          const composite = Composite.fromJson(fromLoader);
          composites.push({ src, composite });
        }
      } catch (err) {
        console.error(err);
      }
      delete compositeFromLoader[src];
    }
    return composites.find((item) => item.src === src) || null;
  }
};

// node_modules/@dcl/sdk/index.js
var rendererTransport = createRendererTransport({ crdtSendToRenderer: import_EngineApi2.crdtSendToRenderer });
engine.addTransport(rendererTransport);
async function onUpdate(deltaTime) {
  engine.seal();
  await engine.update(deltaTime);
  await pollEvents(import_EngineApi2.sendBatch);
}
async function onStart() {
  const response = await (0, import_EngineApi2.crdtGetState)({ data: new Uint8Array() });
  if (!response.hasEntities) {
    const mainComposite = compositeProvider.getCompositeOrNull("main.composite");
    if (mainComposite) {
      try {
        Composite.instance(engine, mainComposite, compositeProvider);
      } catch (err) {
        console.log(`Warning: main.composite couldn't be instanced.`);
        console.error(err);
      }
    }
  }
  if (!!rendererTransport.onmessage) {
    if (response && response.data && response.data.length) {
      for (const byteArray of response.data) {
        rendererTransport.onmessage(byteArray);
      }
    }
  }
}

// src/index.ts.entry-point.ts
if (main !== void 0) {
  let _INTERNAL_startup_system = function() {
    const maybePromise = main();
    if (maybePromise && typeof maybePromise === "object" && typeof maybePromise.then === "function") {
      maybePromise.catch(console.error);
    }
    engine.removeSystem(_INTERNAL_startup_system);
  };
  engine.addSystem(_INTERNAL_startup_system, Infinity);
}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1ZmpzL2FzcHJvbWlzZS9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHByb3RvYnVmanMvYmFzZTY0L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9ldmVudGVtaXR0ZXIvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1ZmpzL2Zsb2F0L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9pbnF1aXJlL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy91dGY4L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9wb29sL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy91dGlsL2xvbmdiaXRzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy91dGlsL21pbmltYWwuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL3dyaXRlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvd3JpdGVyX2J1ZmZlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcmVhZGVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9yZWFkZXJfYnVmZmVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9ycGMvc2VydmljZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcnBjLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9yb290cy5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvaW5kZXgtbWluaW1hbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9taW5pbWFsLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9sb25nL3NyYy9sb25nLmpzIiwgIi4uL3NyYy9pbmRleC50cy5lbnRyeS1wb2ludC50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYW5pbWF0b3IuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0FuaW1hdG9yLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXVkaW9fc291cmNlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9BdWRpb1NvdXJjZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F1ZGlvX3N0cmVhbS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvQXVkaW9TdHJlYW0uZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfYXR0YWNoLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9BdmF0YXJBdHRhY2guZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfbW9kaWZpZXJfYXJlYS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL2NvbW1vbi92ZWN0b3JzLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9BdmF0YXJNb2RpZmllckFyZWEuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfc2hhcGUuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9jb21tb24vY29sb3JzLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9BdmF0YXJTaGFwZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2JpbGxib2FyZC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvQmlsbGJvYXJkLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY2FtZXJhX21vZGUuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0NhbWVyYU1vZGUuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jYW1lcmFfbW9kZV9hcmVhLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9DYW1lcmFNb2RlQXJlYS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2VuZ2luZV9pbmZvLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9FbmdpbmVJbmZvLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvZ2x0Zl9jb250YWluZXIuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0dsdGZDb250YWluZXIuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9nbHRmX2NvbnRhaW5lcl9sb2FkaW5nX3N0YXRlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9HbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWF0ZXJpYWwuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9jb21tb24vdGV4dHVyZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvTWF0ZXJpYWwuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9tZXNoX2NvbGxpZGVyLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9NZXNoQ29sbGlkZXIuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9tZXNoX3JlbmRlcmVyLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9NZXNoUmVuZGVyZXIuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9uZnRfc2hhcGUuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL05mdFNoYXBlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcG9pbnRlcl9ldmVudHMuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1BvaW50ZXJFdmVudHMuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9wb2ludGVyX2V2ZW50c19yZXN1bHQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jb21tb24vcmF5Y2FzdF9oaXQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1BvaW50ZXJFdmVudHNSZXN1bHQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9wb2ludGVyX2xvY2suZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1BvaW50ZXJMb2NrLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcmF5Y2FzdC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvUmF5Y2FzdC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3JheWNhc3RfcmVzdWx0Lmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9SYXljYXN0UmVzdWx0Lmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdGV4dF9zaGFwZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVGV4dFNoYXBlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfYmFja2dyb3VuZC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL2NvbW1vbi9ib3JkZXJfcmVjdC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVWlCYWNrZ3JvdW5kLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfY2FudmFzX2luZm9ybWF0aW9uLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9VaUNhbnZhc0luZm9ybWF0aW9uLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfZHJvcGRvd24uZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1VpRHJvcGRvd24uZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9kcm9wZG93bl9yZXN1bHQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1VpRHJvcGRvd25SZXN1bHQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9pbnB1dC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVWlJbnB1dC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2lucHV0X3Jlc3VsdC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVWlJbnB1dFJlc3VsdC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX3RleHQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1VpVGV4dC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX3RyYW5zZm9ybS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVWlUcmFuc2Zvcm0uZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy92aWRlb19ldmVudC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVmlkZW9FdmVudC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3ZpZGVvX3BsYXllci5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVmlkZW9QbGF5ZXIuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy92aXNpYmlsaXR5X2NvbXBvbmVudC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVmlzaWJpbGl0eUNvbXBvbmVudC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvaW5kZXguZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZXh0ZW5kZWQvTWF0ZXJpYWwuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9leHRlbmRlZC9NZXNoQ29sbGlkZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9leHRlbmRlZC9NZXNoUmVuZGVyZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9BcnJheS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL2Jhc2ljL0Jvb2xlYW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9iYXNpYy9JbnRlZ2VyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvYmFzaWMvU3RyaW5nLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvYmFzaWMvRW51bS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL2Jhc2ljL0Zsb2F0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvY3VzdG9tL0NvbG9yMy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL2N1c3RvbS9Db2xvcjQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9jdXN0b20vRW50aXR5LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvY3VzdG9tL1F1YXRlcm5pb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9jdXN0b20vVmVjdG9yMy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL01hcC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL09wdGlvbmFsLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvT25lT2YuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9idWlsZFNjaGVtYS91dGlscy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL2J1aWxkU2NoZW1hL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9tYW51YWwvTmFtZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL21hbnVhbC9UcmFuc2Zvcm0uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9jb21wb25lbnQtbmFtZXMuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvY29tcG9uZW50LW51bWJlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9ydW50aW1lL2NyYy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9ydW50aW1lL2ludmFyaWFudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zeXN0ZW1zL2NyZHQvZ3NldC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9lbmdpbmUvZW50aXR5LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NlcmlhbGl6YXRpb24vQnl0ZUJ1ZmZlci9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zZXJpYWxpemF0aW9uL2NyZHQvdHlwZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2VyaWFsaXphdGlvbi9jcmR0L2NyZHRNZXNzYWdlUHJvdG9jb2wuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2VyaWFsaXphdGlvbi9jcmR0L2RlbGV0ZUNvbXBvbmVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zZXJpYWxpemF0aW9uL2NyZHQvYXBwZW5kVmFsdWUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2VyaWFsaXphdGlvbi9jcmR0L2RlbGV0ZUVudGl0eS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zZXJpYWxpemF0aW9uL2NyZHQvcHV0Q29tcG9uZW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3N5c3RlbXMvY3JkdC9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zeXN0ZW1zL2NyZHQvdXRpbHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvZW5naW5lL3JlYWRvbmx5LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2VuZ2luZS9sd3ctZWxlbWVudC1zZXQtY29tcG9uZW50LWRlZmluaXRpb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvZW5naW5lL3N5c3RlbXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvZW5naW5lL2dyb3ctb25seS12YWx1ZS1zZXQtY29tcG9uZW50LWRlZmluaXRpb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvZW5naW5lL2lucHV0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2VuZ2luZS9jb21wb25lbnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvZW5naW5lL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3N5c3RlbXMvZXZlbnRzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3J1bnRpbWUvaW5pdGlhbGl6YXRpb24vaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvZ2xvYmFsLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY29tbW9uL2NhbWVyYV90eXBlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY29tbW9uL2lucHV0X2FjdGlvbi5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2NvbW1vbi9sb2FkaW5nX3N0YXRlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY29tbW9uL3RleHRzLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb3NpdGUvY29tcG9uZW50cy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb3NpdGUvcGF0aC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb3NpdGUvaW5zdGFuY2UuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9zaXRlL3Byb3RvL2dlbi9jb21wb3NpdGUuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvc2l0ZS9wcm90by9nZW4vZ29vZ2xlL3Byb3RvYnVmL3N0cnVjdC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9zaXRlL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL2Rpc3QvdHlwZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvZGlzdC9TY2FsYXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvZGlzdC9WZWN0b3IzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL2Rpc3QvUGxhbmUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvZGlzdC9NYXRyaXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvZGlzdC9RdWF0ZXJuaW9uLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL2Rpc3QvQ29sb3I0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL2Rpc3QvQ29sb3IzLmpzIiwgIi4uL3NyYy9jb21wb25lbnRzLnRzIiwgIi4uL3NyYy9zeXN0ZW1zLnRzIiwgIi4uL3NyYy91dGlscy50cyIsICIuLi9zcmMvZmFjdG9yeS50cyIsICIuLi9zcmMvaW5kZXgudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvc2RrL3NyYy9pbmRleC50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9zZGsvc3JjL2ludGVybmFsL3RyYW5zcG9ydHMvcmVuZGVyZXJUcmFuc3BvcnQudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvc2RrL3NyYy9pbnRlcm5hbC9PYnNlcnZhYmxlLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3Nkay9zcmMvb2JzZXJ2YWJsZXMudHMiLCAic2RrLWNvbXBvc2l0ZTphbGwtY29tcG9zaXRlcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9zZGsvc3JjL2NvbXBvc2l0ZS1wcm92aWRlci50cyJdLAogICJzb3VyY2VSb290IjogImZpbGU6Ly8vVXNlcnMvZ29uemFsb3BvbWJvL0RvY3VtZW50cy9EZWNlbnRyYWxhbmQvc2RrLXRlc3Qtc2NlbmVzL3Rlc3Qtc2NlbmVzLzguOC5wb3J0YWJsZS1leHBlcmllbmNlL2JpbiIsCiAgInNvdXJjZXNDb250ZW50IjogWyJcInVzZSBzdHJpY3RcIjtcclxubW9kdWxlLmV4cG9ydHMgPSBhc1Byb21pc2U7XHJcblxyXG4vKipcclxuICogQ2FsbGJhY2sgYXMgdXNlZCBieSB7QGxpbmsgdXRpbC5hc1Byb21pc2V9LlxyXG4gKiBAdHlwZWRlZiBhc1Byb21pc2VDYWxsYmFja1xyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XHJcbiAqIEBwYXJhbSB7RXJyb3J8bnVsbH0gZXJyb3IgRXJyb3IsIGlmIGFueVxyXG4gKiBAcGFyYW0gey4uLip9IHBhcmFtcyBBZGRpdGlvbmFsIGFyZ3VtZW50c1xyXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBmcm9tIGEgbm9kZS1zdHlsZSBjYWxsYmFjayBmdW5jdGlvbi5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQHBhcmFtIHthc1Byb21pc2VDYWxsYmFja30gZm4gRnVuY3Rpb24gdG8gY2FsbFxyXG4gKiBAcGFyYW0geyp9IGN0eCBGdW5jdGlvbiBjb250ZXh0XHJcbiAqIEBwYXJhbSB7Li4uKn0gcGFyYW1zIEZ1bmN0aW9uIGFyZ3VtZW50c1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTwqPn0gUHJvbWlzaWZpZWQgZnVuY3Rpb25cclxuICovXHJcbmZ1bmN0aW9uIGFzUHJvbWlzZShmbiwgY3R4LyosIHZhcmFyZ3MgKi8pIHtcclxuICAgIHZhciBwYXJhbXMgID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKSxcclxuICAgICAgICBvZmZzZXQgID0gMCxcclxuICAgICAgICBpbmRleCAgID0gMixcclxuICAgICAgICBwZW5kaW5nID0gdHJ1ZTtcclxuICAgIHdoaWxlIChpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGgpXHJcbiAgICAgICAgcGFyYW1zW29mZnNldCsrXSA9IGFyZ3VtZW50c1tpbmRleCsrXTtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBwYXJhbXNbb2Zmc2V0XSA9IGZ1bmN0aW9uIGNhbGxiYWNrKGVyci8qLCB2YXJhcmdzICovKSB7XHJcbiAgICAgICAgICAgIGlmIChwZW5kaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG9mZnNldCA8IHBhcmFtcy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1tvZmZzZXQrK10gPSBhcmd1bWVudHNbb2Zmc2V0XTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlLmFwcGx5KG51bGwsIHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZuLmFwcGx5KGN0eCB8fCBudWxsLCBwYXJhbXMpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBpZiAocGVuZGluZykge1xyXG4gICAgICAgICAgICAgICAgcGVuZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuICogQSBtaW5pbWFsIGJhc2U2NCBpbXBsZW1lbnRhdGlvbiBmb3IgbnVtYmVyIGFycmF5cy5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQG5hbWVzcGFjZVxyXG4gKi9cclxudmFyIGJhc2U2NCA9IGV4cG9ydHM7XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgYnl0ZSBsZW5ndGggb2YgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgQmFzZTY0IGVuY29kZWQgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IEJ5dGUgbGVuZ3RoXHJcbiAqL1xyXG5iYXNlNjQubGVuZ3RoID0gZnVuY3Rpb24gbGVuZ3RoKHN0cmluZykge1xyXG4gICAgdmFyIHAgPSBzdHJpbmcubGVuZ3RoO1xyXG4gICAgaWYgKCFwKVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgdmFyIG4gPSAwO1xyXG4gICAgd2hpbGUgKC0tcCAlIDQgPiAxICYmIHN0cmluZy5jaGFyQXQocCkgPT09IFwiPVwiKVxyXG4gICAgICAgICsrbjtcclxuICAgIHJldHVybiBNYXRoLmNlaWwoc3RyaW5nLmxlbmd0aCAqIDMpIC8gNCAtIG47XHJcbn07XHJcblxyXG4vLyBCYXNlNjQgZW5jb2RpbmcgdGFibGVcclxudmFyIGI2NCA9IG5ldyBBcnJheSg2NCk7XHJcblxyXG4vLyBCYXNlNjQgZGVjb2RpbmcgdGFibGVcclxudmFyIHM2NCA9IG5ldyBBcnJheSgxMjMpO1xyXG5cclxuLy8gNjUuLjkwLCA5Ny4uMTIyLCA0OC4uNTcsIDQzLCA0N1xyXG5mb3IgKHZhciBpID0gMDsgaSA8IDY0OylcclxuICAgIHM2NFtiNjRbaV0gPSBpIDwgMjYgPyBpICsgNjUgOiBpIDwgNTIgPyBpICsgNzEgOiBpIDwgNjIgPyBpIC0gNCA6IGkgLSA1OSB8IDQzXSA9IGkrKztcclxuXHJcbi8qKlxyXG4gKiBFbmNvZGVzIGEgYnVmZmVyIHRvIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nLlxyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZmZlciBTb3VyY2UgYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBTb3VyY2Ugc3RhcnRcclxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBTb3VyY2UgZW5kXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEJhc2U2NCBlbmNvZGVkIHN0cmluZ1xyXG4gKi9cclxuYmFzZTY0LmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShidWZmZXIsIHN0YXJ0LCBlbmQpIHtcclxuICAgIHZhciBwYXJ0cyA9IG51bGwsXHJcbiAgICAgICAgY2h1bmsgPSBbXTtcclxuICAgIHZhciBpID0gMCwgLy8gb3V0cHV0IGluZGV4XHJcbiAgICAgICAgaiA9IDAsIC8vIGdvdG8gaW5kZXhcclxuICAgICAgICB0OyAgICAgLy8gdGVtcG9yYXJ5XHJcbiAgICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcclxuICAgICAgICB2YXIgYiA9IGJ1ZmZlcltzdGFydCsrXTtcclxuICAgICAgICBzd2l0Y2ggKGopIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgY2h1bmtbaSsrXSA9IGI2NFtiID4+IDJdO1xyXG4gICAgICAgICAgICAgICAgdCA9IChiICYgMykgPDwgNDtcclxuICAgICAgICAgICAgICAgIGogPSAxO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIGNodW5rW2krK10gPSBiNjRbdCB8IGIgPj4gNF07XHJcbiAgICAgICAgICAgICAgICB0ID0gKGIgJiAxNSkgPDwgMjtcclxuICAgICAgICAgICAgICAgIGogPSAyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIGNodW5rW2krK10gPSBiNjRbdCB8IGIgPj4gNl07XHJcbiAgICAgICAgICAgICAgICBjaHVua1tpKytdID0gYjY0W2IgJiA2M107XHJcbiAgICAgICAgICAgICAgICBqID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaSA+IDgxOTEpIHtcclxuICAgICAgICAgICAgKHBhcnRzIHx8IChwYXJ0cyA9IFtdKSkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmspKTtcclxuICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGopIHtcclxuICAgICAgICBjaHVua1tpKytdID0gYjY0W3RdO1xyXG4gICAgICAgIGNodW5rW2krK10gPSA2MTtcclxuICAgICAgICBpZiAoaiA9PT0gMSlcclxuICAgICAgICAgICAgY2h1bmtbaSsrXSA9IDYxO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhcnRzKSB7XHJcbiAgICAgICAgaWYgKGkpXHJcbiAgICAgICAgICAgIHBhcnRzLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNodW5rLnNsaWNlKDAsIGkpKSk7XHJcbiAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oXCJcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNodW5rLnNsaWNlKDAsIGkpKTtcclxufTtcclxuXHJcbnZhciBpbnZhbGlkRW5jb2RpbmcgPSBcImludmFsaWQgZW5jb2RpbmdcIjtcclxuXHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIHRvIGEgYnVmZmVyLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFNvdXJjZSBzdHJpbmdcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZmZXIgRGVzdGluYXRpb24gYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgRGVzdGluYXRpb24gb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IE51bWJlciBvZiBieXRlcyB3cml0dGVuXHJcbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiBlbmNvZGluZyBpcyBpbnZhbGlkXHJcbiAqL1xyXG5iYXNlNjQuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHN0cmluZywgYnVmZmVyLCBvZmZzZXQpIHtcclxuICAgIHZhciBzdGFydCA9IG9mZnNldDtcclxuICAgIHZhciBqID0gMCwgLy8gZ290byBpbmRleFxyXG4gICAgICAgIHQ7ICAgICAvLyB0ZW1wb3JhcnlcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDspIHtcclxuICAgICAgICB2YXIgYyA9IHN0cmluZy5jaGFyQ29kZUF0KGkrKyk7XHJcbiAgICAgICAgaWYgKGMgPT09IDYxICYmIGogPiAxKVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBpZiAoKGMgPSBzNjRbY10pID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGludmFsaWRFbmNvZGluZyk7XHJcbiAgICAgICAgc3dpdGNoIChqKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHQgPSBjO1xyXG4gICAgICAgICAgICAgICAgaiA9IDE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IHQgPDwgMiB8IChjICYgNDgpID4+IDQ7XHJcbiAgICAgICAgICAgICAgICB0ID0gYztcclxuICAgICAgICAgICAgICAgIGogPSAyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSAodCAmIDE1KSA8PCA0IHwgKGMgJiA2MCkgPj4gMjtcclxuICAgICAgICAgICAgICAgIHQgPSBjO1xyXG4gICAgICAgICAgICAgICAgaiA9IDM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9ICh0ICYgMykgPDwgNiB8IGM7XHJcbiAgICAgICAgICAgICAgICBqID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChqID09PSAxKVxyXG4gICAgICAgIHRocm93IEVycm9yKGludmFsaWRFbmNvZGluZyk7XHJcbiAgICByZXR1cm4gb2Zmc2V0IC0gc3RhcnQ7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCBzdHJpbmcgYXBwZWFycyB0byBiZSBiYXNlNjQgZW5jb2RlZC5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTdHJpbmcgdG8gdGVzdFxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHByb2JhYmx5IGJhc2U2NCBlbmNvZGVkLCBvdGhlcndpc2UgZmFsc2VcclxuICovXHJcbmJhc2U2NC50ZXN0ID0gZnVuY3Rpb24gdGVzdChzdHJpbmcpIHtcclxuICAgIHJldHVybiAvXig/OltBLVphLXowLTkrL117NH0pKig/OltBLVphLXowLTkrL117Mn09PXxbQS1aYS16MC05Ky9dezN9PSk/JC8udGVzdChzdHJpbmcpO1xyXG59O1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xyXG5cclxuLyoqXHJcbiAqIENvbnN0cnVjdHMgYSBuZXcgZXZlbnQgZW1pdHRlciBpbnN0YW5jZS5cclxuICogQGNsYXNzZGVzYyBBIG1pbmltYWwgZXZlbnQgZW1pdHRlci5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlcmVkIGxpc3RlbmVycy5cclxuICAgICAqIEB0eXBlIHtPYmplY3QuPHN0cmluZywqPn1cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xyXG59XHJcblxyXG4vKipcclxuICogUmVnaXN0ZXJzIGFuIGV2ZW50IGxpc3RlbmVyLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZ0IEV2ZW50IG5hbWVcclxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gTGlzdGVuZXJcclxuICogQHBhcmFtIHsqfSBbY3R4XSBMaXN0ZW5lciBjb250ZXh0XHJcbiAqIEByZXR1cm5zIHt1dGlsLkV2ZW50RW1pdHRlcn0gYHRoaXNgXHJcbiAqL1xyXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZ0LCBmbiwgY3R4KSB7XHJcbiAgICAodGhpcy5fbGlzdGVuZXJzW2V2dF0gfHwgKHRoaXMuX2xpc3RlbmVyc1tldnRdID0gW10pKS5wdXNoKHtcclxuICAgICAgICBmbiAgOiBmbixcclxuICAgICAgICBjdHggOiBjdHggfHwgdGhpc1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZW1vdmVzIGFuIGV2ZW50IGxpc3RlbmVyIG9yIGFueSBtYXRjaGluZyBsaXN0ZW5lcnMgaWYgYXJndW1lbnRzIGFyZSBvbWl0dGVkLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gW2V2dF0gRXZlbnQgbmFtZS4gUmVtb3ZlcyBhbGwgbGlzdGVuZXJzIGlmIG9taXR0ZWQuXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtmbl0gTGlzdGVuZXIgdG8gcmVtb3ZlLiBSZW1vdmVzIGFsbCBsaXN0ZW5lcnMgb2YgYGV2dGAgaWYgb21pdHRlZC5cclxuICogQHJldHVybnMge3V0aWwuRXZlbnRFbWl0dGVyfSBgdGhpc2BcclxuICovXHJcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gb2ZmKGV2dCwgZm4pIHtcclxuICAgIGlmIChldnQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChmbiA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnNbZXZ0XSA9IFtdO1xyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzW2V2dF07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDspXHJcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXJzW2ldLmZuID09PSBmbilcclxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICsraTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBFbWl0cyBhbiBldmVudCBieSBjYWxsaW5nIGl0cyBsaXN0ZW5lcnMgd2l0aCB0aGUgc3BlY2lmaWVkIGFyZ3VtZW50cy5cclxuICogQHBhcmFtIHtzdHJpbmd9IGV2dCBFdmVudCBuYW1lXHJcbiAqIEBwYXJhbSB7Li4uKn0gYXJncyBBcmd1bWVudHNcclxuICogQHJldHVybnMge3V0aWwuRXZlbnRFbWl0dGVyfSBgdGhpc2BcclxuICovXHJcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZ0KSB7XHJcbiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzW2V2dF07XHJcbiAgICBpZiAobGlzdGVuZXJzKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSxcclxuICAgICAgICAgICAgaSA9IDE7XHJcbiAgICAgICAgZm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOylcclxuICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDspXHJcbiAgICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaSsrXS5jdHgsIGFyZ3MpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn07XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShmYWN0b3J5KTtcclxuXHJcbi8qKlxyXG4gKiBSZWFkcyAvIHdyaXRlcyBmbG9hdHMgLyBkb3VibGVzIGZyb20gLyB0byBidWZmZXJzLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0XHJcbiAqIEBuYW1lc3BhY2VcclxuICovXHJcblxyXG4vKipcclxuICogV3JpdGVzIGEgMzIgYml0IGZsb2F0IHRvIGEgYnVmZmVyIHVzaW5nIGxpdHRsZSBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC53cml0ZUZsb2F0TEVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgVGFyZ2V0IGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFRhcmdldCBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIDMyIGJpdCBmbG9hdCB0byBhIGJ1ZmZlciB1c2luZyBiaWcgZW5kaWFuIGJ5dGUgb3JkZXIuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXQud3JpdGVGbG9hdEJFXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIFZhbHVlIHRvIHdyaXRlXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFRhcmdldCBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBUYXJnZXQgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBSZWFkcyBhIDMyIGJpdCBmbG9hdCBmcm9tIGEgYnVmZmVyIHVzaW5nIGxpdHRsZSBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC5yZWFkRmxvYXRMRVxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgU291cmNlIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFNvdXJjZSBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcclxuICovXHJcblxyXG4vKipcclxuICogUmVhZHMgYSAzMiBiaXQgZmxvYXQgZnJvbSBhIGJ1ZmZlciB1c2luZyBiaWcgZW5kaWFuIGJ5dGUgb3JkZXIuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXQucmVhZEZsb2F0QkVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBTb3VyY2UgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIDY0IGJpdCBkb3VibGUgdG8gYSBidWZmZXIgdXNpbmcgbGl0dGxlIGVuZGlhbiBieXRlIG9yZGVyLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0LndyaXRlRG91YmxlTEVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgVGFyZ2V0IGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFRhcmdldCBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIDY0IGJpdCBkb3VibGUgdG8gYSBidWZmZXIgdXNpbmcgYmlnIGVuZGlhbiBieXRlIG9yZGVyLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0LndyaXRlRG91YmxlQkVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgVGFyZ2V0IGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFRhcmdldCBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFJlYWRzIGEgNjQgYml0IGRvdWJsZSBmcm9tIGEgYnVmZmVyIHVzaW5nIGxpdHRsZSBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC5yZWFkRG91YmxlTEVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBTb3VyY2UgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFJlYWRzIGEgNjQgYml0IGRvdWJsZSBmcm9tIGEgYnVmZmVyIHVzaW5nIGJpZyBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC5yZWFkRG91YmxlQkVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBTb3VyY2UgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXHJcbiAqL1xyXG5cclxuLy8gRmFjdG9yeSBmdW5jdGlvbiBmb3IgdGhlIHB1cnBvc2Ugb2Ygbm9kZS1iYXNlZCB0ZXN0aW5nIGluIG1vZGlmaWVkIGdsb2JhbCBlbnZpcm9ubWVudHNcclxuZnVuY3Rpb24gZmFjdG9yeShleHBvcnRzKSB7XHJcblxyXG4gICAgLy8gZmxvYXQ6IHR5cGVkIGFycmF5XHJcbiAgICBpZiAodHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gXCJ1bmRlZmluZWRcIikgKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgZjMyID0gbmV3IEZsb2F0MzJBcnJheShbIC0wIF0pLFxyXG4gICAgICAgICAgICBmOGIgPSBuZXcgVWludDhBcnJheShmMzIuYnVmZmVyKSxcclxuICAgICAgICAgICAgbGUgID0gZjhiWzNdID09PSAxMjg7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHdyaXRlRmxvYXRfZjMyX2NweSh2YWwsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIGYzMlswXSA9IHZhbDtcclxuICAgICAgICAgICAgYnVmW3BvcyAgICBdID0gZjhiWzBdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgMV0gPSBmOGJbMV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAyXSA9IGY4YlsyXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDNdID0gZjhiWzNdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVGbG9hdF9mMzJfcmV2KHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgZjMyWzBdID0gdmFsO1xyXG4gICAgICAgICAgICBidWZbcG9zICAgIF0gPSBmOGJbM107XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAxXSA9IGY4YlsyXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDJdID0gZjhiWzFdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgM10gPSBmOGJbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMud3JpdGVGbG9hdExFID0gbGUgPyB3cml0ZUZsb2F0X2YzMl9jcHkgOiB3cml0ZUZsb2F0X2YzMl9yZXY7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICBleHBvcnRzLndyaXRlRmxvYXRCRSA9IGxlID8gd3JpdGVGbG9hdF9mMzJfcmV2IDogd3JpdGVGbG9hdF9mMzJfY3B5O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFkRmxvYXRfZjMyX2NweShidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbMF0gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4YlsxXSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzJdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbM10gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIHJldHVybiBmMzJbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFkRmxvYXRfZjMyX3JldihidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbM10gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4YlsyXSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzFdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbMF0gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIHJldHVybiBmMzJbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMucmVhZEZsb2F0TEUgPSBsZSA/IHJlYWRGbG9hdF9mMzJfY3B5IDogcmVhZEZsb2F0X2YzMl9yZXY7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICBleHBvcnRzLnJlYWRGbG9hdEJFID0gbGUgPyByZWFkRmxvYXRfZjMyX3JldiA6IHJlYWRGbG9hdF9mMzJfY3B5O1xyXG5cclxuICAgIC8vIGZsb2F0OiBpZWVlNzU0XHJcbiAgICB9KSgpOyBlbHNlIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVGbG9hdF9pZWVlNzU0KHdyaXRlVWludCwgdmFsLCBidWYsIHBvcykge1xyXG4gICAgICAgICAgICB2YXIgc2lnbiA9IHZhbCA8IDAgPyAxIDogMDtcclxuICAgICAgICAgICAgaWYgKHNpZ24pXHJcbiAgICAgICAgICAgICAgICB2YWwgPSAtdmFsO1xyXG4gICAgICAgICAgICBpZiAodmFsID09PSAwKVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDEgLyB2YWwgPiAwID8gLyogcG9zaXRpdmUgKi8gMCA6IC8qIG5lZ2F0aXZlIDAgKi8gMjE0NzQ4MzY0OCwgYnVmLCBwb3MpO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChpc05hTih2YWwpKVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDIxNDMyODkzNDQsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAodmFsID4gMy40MDI4MjM0NjYzODUyODg2ZSszOCkgLy8gKy1JbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KChzaWduIDw8IDMxIHwgMjEzOTA5NTA0MCkgPj4+IDAsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAodmFsIDwgMS4xNzU0OTQzNTA4MjIyODc1ZS0zOCkgLy8gZGVub3JtYWxcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgoc2lnbiA8PCAzMSB8IE1hdGgucm91bmQodmFsIC8gMS40MDEyOTg0NjQzMjQ4MTdlLTQ1KSkgPj4+IDAsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXhwb25lbnQgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbCkgLyBNYXRoLkxOMiksXHJcbiAgICAgICAgICAgICAgICAgICAgbWFudGlzc2EgPSBNYXRoLnJvdW5kKHZhbCAqIE1hdGgucG93KDIsIC1leHBvbmVudCkgKiA4Mzg4NjA4KSAmIDgzODg2MDc7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCBleHBvbmVudCArIDEyNyA8PCAyMyB8IG1hbnRpc3NhKSA+Pj4gMCwgYnVmLCBwb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBleHBvcnRzLndyaXRlRmxvYXRMRSA9IHdyaXRlRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHdyaXRlVWludExFKTtcclxuICAgICAgICBleHBvcnRzLndyaXRlRmxvYXRCRSA9IHdyaXRlRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHdyaXRlVWludEJFKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZEZsb2F0X2llZWU3NTQocmVhZFVpbnQsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIHZhciB1aW50ID0gcmVhZFVpbnQoYnVmLCBwb3MpLFxyXG4gICAgICAgICAgICAgICAgc2lnbiA9ICh1aW50ID4+IDMxKSAqIDIgKyAxLFxyXG4gICAgICAgICAgICAgICAgZXhwb25lbnQgPSB1aW50ID4+PiAyMyAmIDI1NSxcclxuICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gdWludCAmIDgzODg2MDc7XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvbmVudCA9PT0gMjU1XHJcbiAgICAgICAgICAgICAgICA/IG1hbnRpc3NhXHJcbiAgICAgICAgICAgICAgICA/IE5hTlxyXG4gICAgICAgICAgICAgICAgOiBzaWduICogSW5maW5pdHlcclxuICAgICAgICAgICAgICAgIDogZXhwb25lbnQgPT09IDAgLy8gZGVub3JtYWxcclxuICAgICAgICAgICAgICAgID8gc2lnbiAqIDEuNDAxMjk4NDY0MzI0ODE3ZS00NSAqIG1hbnRpc3NhXHJcbiAgICAgICAgICAgICAgICA6IHNpZ24gKiBNYXRoLnBvdygyLCBleHBvbmVudCAtIDE1MCkgKiAobWFudGlzc2EgKyA4Mzg4NjA4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV4cG9ydHMucmVhZEZsb2F0TEUgPSByZWFkRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHJlYWRVaW50TEUpO1xyXG4gICAgICAgIGV4cG9ydHMucmVhZEZsb2F0QkUgPSByZWFkRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHJlYWRVaW50QkUpO1xyXG5cclxuICAgIH0pKCk7XHJcblxyXG4gICAgLy8gZG91YmxlOiB0eXBlZCBhcnJheVxyXG4gICAgaWYgKHR5cGVvZiBGbG9hdDY0QXJyYXkgIT09IFwidW5kZWZpbmVkXCIpIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIGY2NCA9IG5ldyBGbG9hdDY0QXJyYXkoWy0wXSksXHJcbiAgICAgICAgICAgIGY4YiA9IG5ldyBVaW50OEFycmF5KGY2NC5idWZmZXIpLFxyXG4gICAgICAgICAgICBsZSAgPSBmOGJbN10gPT09IDEyODtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVEb3VibGVfZjY0X2NweSh2YWwsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIGY2NFswXSA9IHZhbDtcclxuICAgICAgICAgICAgYnVmW3BvcyAgICBdID0gZjhiWzBdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgMV0gPSBmOGJbMV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAyXSA9IGY4YlsyXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDNdID0gZjhiWzNdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgNF0gPSBmOGJbNF07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA1XSA9IGY4Yls1XTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDZdID0gZjhiWzZdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgN10gPSBmOGJbN107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB3cml0ZURvdWJsZV9mNjRfcmV2KHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgZjY0WzBdID0gdmFsO1xyXG4gICAgICAgICAgICBidWZbcG9zICAgIF0gPSBmOGJbN107XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAxXSA9IGY4Yls2XTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDJdID0gZjhiWzVdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgM10gPSBmOGJbNF07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA0XSA9IGY4YlszXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDVdID0gZjhiWzJdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgNl0gPSBmOGJbMV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA3XSA9IGY4YlswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgZXhwb3J0cy53cml0ZURvdWJsZUxFID0gbGUgPyB3cml0ZURvdWJsZV9mNjRfY3B5IDogd3JpdGVEb3VibGVfZjY0X3JldjtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMud3JpdGVEb3VibGVCRSA9IGxlID8gd3JpdGVEb3VibGVfZjY0X3JldiA6IHdyaXRlRG91YmxlX2Y2NF9jcHk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlYWREb3VibGVfZjY0X2NweShidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbMF0gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4YlsxXSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzJdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbM10gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIGY4Yls0XSA9IGJ1Zltwb3MgKyA0XTtcclxuICAgICAgICAgICAgZjhiWzVdID0gYnVmW3BvcyArIDVdO1xyXG4gICAgICAgICAgICBmOGJbNl0gPSBidWZbcG9zICsgNl07XHJcbiAgICAgICAgICAgIGY4Yls3XSA9IGJ1Zltwb3MgKyA3XTtcclxuICAgICAgICAgICAgcmV0dXJuIGY2NFswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlYWREb3VibGVfZjY0X3JldihidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbN10gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4Yls2XSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzVdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbNF0gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIGY4YlszXSA9IGJ1Zltwb3MgKyA0XTtcclxuICAgICAgICAgICAgZjhiWzJdID0gYnVmW3BvcyArIDVdO1xyXG4gICAgICAgICAgICBmOGJbMV0gPSBidWZbcG9zICsgNl07XHJcbiAgICAgICAgICAgIGY4YlswXSA9IGJ1Zltwb3MgKyA3XTtcclxuICAgICAgICAgICAgcmV0dXJuIGY2NFswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgZXhwb3J0cy5yZWFkRG91YmxlTEUgPSBsZSA/IHJlYWREb3VibGVfZjY0X2NweSA6IHJlYWREb3VibGVfZjY0X3JldjtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMucmVhZERvdWJsZUJFID0gbGUgPyByZWFkRG91YmxlX2Y2NF9yZXYgOiByZWFkRG91YmxlX2Y2NF9jcHk7XHJcblxyXG4gICAgLy8gZG91YmxlOiBpZWVlNzU0XHJcbiAgICB9KSgpOyBlbHNlIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVEb3VibGVfaWVlZTc1NCh3cml0ZVVpbnQsIG9mZjAsIG9mZjEsIHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgdmFyIHNpZ24gPSB2YWwgPCAwID8gMSA6IDA7XHJcbiAgICAgICAgICAgIGlmIChzaWduKVxyXG4gICAgICAgICAgICAgICAgdmFsID0gLXZhbDtcclxuICAgICAgICAgICAgaWYgKHZhbCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoMSAvIHZhbCA+IDAgPyAvKiBwb3NpdGl2ZSAqLyAwIDogLyogbmVnYXRpdmUgMCAqLyAyMTQ3NDgzNjQ4LCBidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTmFOKHZhbCkpIHtcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgwLCBidWYsIHBvcyArIG9mZjApO1xyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDIxNDY5NTkzNjAsIGJ1ZiwgcG9zICsgb2ZmMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsID4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgpIHsgLy8gKy1JbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCAyMTQ2NDM1MDcyKSA+Pj4gMCwgYnVmLCBwb3MgKyBvZmYxKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYW50aXNzYTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPCAyLjIyNTA3Mzg1ODUwNzIwMTRlLTMwOCkgeyAvLyBkZW5vcm1hbFxyXG4gICAgICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gdmFsIC8gNWUtMzI0O1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlVWludChtYW50aXNzYSA+Pj4gMCwgYnVmLCBwb3MgKyBvZmYwKTtcclxuICAgICAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCBtYW50aXNzYSAvIDQyOTQ5NjcyOTYpID4+PiAwLCBidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXhwb25lbnQgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbCkgLyBNYXRoLkxOMik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cG9uZW50ID09PSAxMDI0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBvbmVudCA9IDEwMjM7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFudGlzc2EgPSB2YWwgKiBNYXRoLnBvdygyLCAtZXhwb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlVWludChtYW50aXNzYSAqIDQ1MDM1OTk2MjczNzA0OTYgPj4+IDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVVaW50KChzaWduIDw8IDMxIHwgZXhwb25lbnQgKyAxMDIzIDw8IDIwIHwgbWFudGlzc2EgKiAxMDQ4NTc2ICYgMTA0ODU3NSkgPj4+IDAsIGJ1ZiwgcG9zICsgb2ZmMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV4cG9ydHMud3JpdGVEb3VibGVMRSA9IHdyaXRlRG91YmxlX2llZWU3NTQuYmluZChudWxsLCB3cml0ZVVpbnRMRSwgMCwgNCk7XHJcbiAgICAgICAgZXhwb3J0cy53cml0ZURvdWJsZUJFID0gd3JpdGVEb3VibGVfaWVlZTc1NC5iaW5kKG51bGwsIHdyaXRlVWludEJFLCA0LCAwKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZERvdWJsZV9pZWVlNzU0KHJlYWRVaW50LCBvZmYwLCBvZmYxLCBidWYsIHBvcykge1xyXG4gICAgICAgICAgICB2YXIgbG8gPSByZWFkVWludChidWYsIHBvcyArIG9mZjApLFxyXG4gICAgICAgICAgICAgICAgaGkgPSByZWFkVWludChidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICB2YXIgc2lnbiA9IChoaSA+PiAzMSkgKiAyICsgMSxcclxuICAgICAgICAgICAgICAgIGV4cG9uZW50ID0gaGkgPj4+IDIwICYgMjA0NyxcclxuICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gNDI5NDk2NzI5NiAqIChoaSAmIDEwNDg1NzUpICsgbG87XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvbmVudCA9PT0gMjA0N1xyXG4gICAgICAgICAgICAgICAgPyBtYW50aXNzYVxyXG4gICAgICAgICAgICAgICAgPyBOYU5cclxuICAgICAgICAgICAgICAgIDogc2lnbiAqIEluZmluaXR5XHJcbiAgICAgICAgICAgICAgICA6IGV4cG9uZW50ID09PSAwIC8vIGRlbm9ybWFsXHJcbiAgICAgICAgICAgICAgICA/IHNpZ24gKiA1ZS0zMjQgKiBtYW50aXNzYVxyXG4gICAgICAgICAgICAgICAgOiBzaWduICogTWF0aC5wb3coMiwgZXhwb25lbnQgLSAxMDc1KSAqIChtYW50aXNzYSArIDQ1MDM1OTk2MjczNzA0OTYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXhwb3J0cy5yZWFkRG91YmxlTEUgPSByZWFkRG91YmxlX2llZWU3NTQuYmluZChudWxsLCByZWFkVWludExFLCAwLCA0KTtcclxuICAgICAgICBleHBvcnRzLnJlYWREb3VibGVCRSA9IHJlYWREb3VibGVfaWVlZTc1NC5iaW5kKG51bGwsIHJlYWRVaW50QkUsIDQsIDApO1xyXG5cclxuICAgIH0pKCk7XHJcblxyXG4gICAgcmV0dXJuIGV4cG9ydHM7XHJcbn1cclxuXHJcbi8vIHVpbnQgaGVscGVyc1xyXG5cclxuZnVuY3Rpb24gd3JpdGVVaW50TEUodmFsLCBidWYsIHBvcykge1xyXG4gICAgYnVmW3BvcyAgICBdID0gIHZhbCAgICAgICAgJiAyNTU7XHJcbiAgICBidWZbcG9zICsgMV0gPSAgdmFsID4+PiA4ICAmIDI1NTtcclxuICAgIGJ1Zltwb3MgKyAyXSA9ICB2YWwgPj4+IDE2ICYgMjU1O1xyXG4gICAgYnVmW3BvcyArIDNdID0gIHZhbCA+Pj4gMjQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdyaXRlVWludEJFKHZhbCwgYnVmLCBwb3MpIHtcclxuICAgIGJ1Zltwb3MgICAgXSA9ICB2YWwgPj4+IDI0O1xyXG4gICAgYnVmW3BvcyArIDFdID0gIHZhbCA+Pj4gMTYgJiAyNTU7XHJcbiAgICBidWZbcG9zICsgMl0gPSAgdmFsID4+PiA4ICAmIDI1NTtcclxuICAgIGJ1Zltwb3MgKyAzXSA9ICB2YWwgICAgICAgICYgMjU1O1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWFkVWludExFKGJ1ZiwgcG9zKSB7XHJcbiAgICByZXR1cm4gKGJ1Zltwb3MgICAgXVxyXG4gICAgICAgICAgfCBidWZbcG9zICsgMV0gPDwgOFxyXG4gICAgICAgICAgfCBidWZbcG9zICsgMl0gPDwgMTZcclxuICAgICAgICAgIHwgYnVmW3BvcyArIDNdIDw8IDI0KSA+Pj4gMDtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVhZFVpbnRCRShidWYsIHBvcykge1xyXG4gICAgcmV0dXJuIChidWZbcG9zICAgIF0gPDwgMjRcclxuICAgICAgICAgIHwgYnVmW3BvcyArIDFdIDw8IDE2XHJcbiAgICAgICAgICB8IGJ1Zltwb3MgKyAyXSA8PCA4XHJcbiAgICAgICAgICB8IGJ1Zltwb3MgKyAzXSkgPj4+IDA7XHJcbn1cclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5tb2R1bGUuZXhwb3J0cyA9IGlucXVpcmU7XHJcblxyXG4vKipcclxuICogUmVxdWlyZXMgYSBtb2R1bGUgb25seSBpZiBhdmFpbGFibGUuXHJcbiAqIEBtZW1iZXJvZiB1dGlsXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGVOYW1lIE1vZHVsZSB0byByZXF1aXJlXHJcbiAqIEByZXR1cm5zIHs/T2JqZWN0fSBSZXF1aXJlZCBtb2R1bGUgaWYgYXZhaWxhYmxlIGFuZCBub3QgZW1wdHksIG90aGVyd2lzZSBgbnVsbGBcclxuICovXHJcbmZ1bmN0aW9uIGlucXVpcmUobW9kdWxlTmFtZSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgbW9kID0gZXZhbChcInF1aXJlXCIucmVwbGFjZSgvXi8sXCJyZVwiKSkobW9kdWxlTmFtZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXZhbFxyXG4gICAgICAgIGlmIChtb2QgJiYgKG1vZC5sZW5ndGggfHwgT2JqZWN0LmtleXMobW9kKS5sZW5ndGgpKVxyXG4gICAgICAgICAgICByZXR1cm4gbW9kO1xyXG4gICAgfSBjYXRjaCAoZSkge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5cclxuLyoqXHJcbiAqIEEgbWluaW1hbCBVVEY4IGltcGxlbWVudGF0aW9uIGZvciBudW1iZXIgYXJyYXlzLlxyXG4gKiBAbWVtYmVyb2YgdXRpbFxyXG4gKiBAbmFtZXNwYWNlXHJcbiAqL1xyXG52YXIgdXRmOCA9IGV4cG9ydHM7XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgVVRGOCBieXRlIGxlbmd0aCBvZiBhIHN0cmluZy5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTdHJpbmdcclxuICogQHJldHVybnMge251bWJlcn0gQnl0ZSBsZW5ndGhcclxuICovXHJcbnV0ZjgubGVuZ3RoID0gZnVuY3Rpb24gdXRmOF9sZW5ndGgoc3RyaW5nKSB7XHJcbiAgICB2YXIgbGVuID0gMCxcclxuICAgICAgICBjID0gMDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgYyA9IHN0cmluZy5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIGlmIChjIDwgMTI4KVxyXG4gICAgICAgICAgICBsZW4gKz0gMTtcclxuICAgICAgICBlbHNlIGlmIChjIDwgMjA0OClcclxuICAgICAgICAgICAgbGVuICs9IDI7XHJcbiAgICAgICAgZWxzZSBpZiAoKGMgJiAweEZDMDApID09PSAweEQ4MDAgJiYgKHN0cmluZy5jaGFyQ29kZUF0KGkgKyAxKSAmIDB4RkMwMCkgPT09IDB4REMwMCkge1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIGxlbiArPSA0O1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICBsZW4gKz0gMztcclxuICAgIH1cclxuICAgIHJldHVybiBsZW47XHJcbn07XHJcblxyXG4vKipcclxuICogUmVhZHMgVVRGOCBieXRlcyBhcyBhIHN0cmluZy5cclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZmZXIgU291cmNlIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgU291cmNlIHN0YXJ0XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgU291cmNlIGVuZFxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBTdHJpbmcgcmVhZFxyXG4gKi9cclxudXRmOC5yZWFkID0gZnVuY3Rpb24gdXRmOF9yZWFkKGJ1ZmZlciwgc3RhcnQsIGVuZCkge1xyXG4gICAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0O1xyXG4gICAgaWYgKGxlbiA8IDEpXHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB2YXIgcGFydHMgPSBudWxsLFxyXG4gICAgICAgIGNodW5rID0gW10sXHJcbiAgICAgICAgaSA9IDAsIC8vIGNoYXIgb2Zmc2V0XHJcbiAgICAgICAgdDsgICAgIC8vIHRlbXBvcmFyeVxyXG4gICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XHJcbiAgICAgICAgdCA9IGJ1ZmZlcltzdGFydCsrXTtcclxuICAgICAgICBpZiAodCA8IDEyOClcclxuICAgICAgICAgICAgY2h1bmtbaSsrXSA9IHQ7XHJcbiAgICAgICAgZWxzZSBpZiAodCA+IDE5MSAmJiB0IDwgMjI0KVxyXG4gICAgICAgICAgICBjaHVua1tpKytdID0gKHQgJiAzMSkgPDwgNiB8IGJ1ZmZlcltzdGFydCsrXSAmIDYzO1xyXG4gICAgICAgIGVsc2UgaWYgKHQgPiAyMzkgJiYgdCA8IDM2NSkge1xyXG4gICAgICAgICAgICB0ID0gKCh0ICYgNykgPDwgMTggfCAoYnVmZmVyW3N0YXJ0KytdICYgNjMpIDw8IDEyIHwgKGJ1ZmZlcltzdGFydCsrXSAmIDYzKSA8PCA2IHwgYnVmZmVyW3N0YXJ0KytdICYgNjMpIC0gMHgxMDAwMDtcclxuICAgICAgICAgICAgY2h1bmtbaSsrXSA9IDB4RDgwMCArICh0ID4+IDEwKTtcclxuICAgICAgICAgICAgY2h1bmtbaSsrXSA9IDB4REMwMCArICh0ICYgMTAyMyk7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgIGNodW5rW2krK10gPSAodCAmIDE1KSA8PCAxMiB8IChidWZmZXJbc3RhcnQrK10gJiA2MykgPDwgNiB8IGJ1ZmZlcltzdGFydCsrXSAmIDYzO1xyXG4gICAgICAgIGlmIChpID4gODE5MSkge1xyXG4gICAgICAgICAgICAocGFydHMgfHwgKHBhcnRzID0gW10pKS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjaHVuaykpO1xyXG4gICAgICAgICAgICBpID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocGFydHMpIHtcclxuICAgICAgICBpZiAoaSlcclxuICAgICAgICAgICAgcGFydHMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmsuc2xpY2UoMCwgaSkpKTtcclxuICAgICAgICByZXR1cm4gcGFydHMuam9pbihcIlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmsuc2xpY2UoMCwgaSkpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIHN0cmluZyBhcyBVVEY4IGJ5dGVzLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFNvdXJjZSBzdHJpbmdcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZmZXIgRGVzdGluYXRpb24gYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgRGVzdGluYXRpb24gb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IEJ5dGVzIHdyaXR0ZW5cclxuICovXHJcbnV0Zjgud3JpdGUgPSBmdW5jdGlvbiB1dGY4X3dyaXRlKHN0cmluZywgYnVmZmVyLCBvZmZzZXQpIHtcclxuICAgIHZhciBzdGFydCA9IG9mZnNldCxcclxuICAgICAgICBjMSwgLy8gY2hhcmFjdGVyIDFcclxuICAgICAgICBjMjsgLy8gY2hhcmFjdGVyIDJcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgYzEgPSBzdHJpbmcuY2hhckNvZGVBdChpKTtcclxuICAgICAgICBpZiAoYzEgPCAxMjgpIHtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYzEgPCAyMDQ4KSB7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSA+PiA2ICAgICAgIHwgMTkyO1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgICAgICAgJiA2MyB8IDEyODtcclxuICAgICAgICB9IGVsc2UgaWYgKChjMSAmIDB4RkMwMCkgPT09IDB4RDgwMCAmJiAoKGMyID0gc3RyaW5nLmNoYXJDb2RlQXQoaSArIDEpKSAmIDB4RkMwMCkgPT09IDB4REMwMCkge1xyXG4gICAgICAgICAgICBjMSA9IDB4MTAwMDAgKyAoKGMxICYgMHgwM0ZGKSA8PCAxMCkgKyAoYzIgJiAweDAzRkYpO1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSA+PiAxOCAgICAgIHwgMjQwO1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgPj4gMTIgJiA2MyB8IDEyODtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxID4+IDYgICYgNjMgfCAxMjg7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSAgICAgICAmIDYzIHwgMTI4O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSA+PiAxMiAgICAgIHwgMjI0O1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgPj4gNiAgJiA2MyB8IDEyODtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxICAgICAgICYgNjMgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9mZnNldCAtIHN0YXJ0O1xyXG59O1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbm1vZHVsZS5leHBvcnRzID0gcG9vbDtcclxuXHJcbi8qKlxyXG4gKiBBbiBhbGxvY2F0b3IgYXMgdXNlZCBieSB7QGxpbmsgdXRpbC5wb29sfS5cclxuICogQHR5cGVkZWYgUG9vbEFsbG9jYXRvclxyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIEJ1ZmZlciBzaXplXHJcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBCdWZmZXJcclxuICovXHJcblxyXG4vKipcclxuICogQSBzbGljZXIgYXMgdXNlZCBieSB7QGxpbmsgdXRpbC5wb29sfS5cclxuICogQHR5cGVkZWYgUG9vbFNsaWNlclxyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBTdGFydCBvZmZzZXRcclxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBCdWZmZXIgc2xpY2VcclxuICogQHRoaXMge1VpbnQ4QXJyYXl9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEEgZ2VuZXJhbCBwdXJwb3NlIGJ1ZmZlciBwb29sLlxyXG4gKiBAbWVtYmVyb2YgdXRpbFxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtQb29sQWxsb2NhdG9yfSBhbGxvYyBBbGxvY2F0b3JcclxuICogQHBhcmFtIHtQb29sU2xpY2VyfSBzbGljZSBTbGljZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTgxOTJdIFNsYWIgc2l6ZVxyXG4gKiBAcmV0dXJucyB7UG9vbEFsbG9jYXRvcn0gUG9vbGVkIGFsbG9jYXRvclxyXG4gKi9cclxuZnVuY3Rpb24gcG9vbChhbGxvYywgc2xpY2UsIHNpemUpIHtcclxuICAgIHZhciBTSVpFICAgPSBzaXplIHx8IDgxOTI7XHJcbiAgICB2YXIgTUFYICAgID0gU0laRSA+Pj4gMTtcclxuICAgIHZhciBzbGFiICAgPSBudWxsO1xyXG4gICAgdmFyIG9mZnNldCA9IFNJWkU7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gcG9vbF9hbGxvYyhzaXplKSB7XHJcbiAgICAgICAgaWYgKHNpemUgPCAxIHx8IHNpemUgPiBNQVgpXHJcbiAgICAgICAgICAgIHJldHVybiBhbGxvYyhzaXplKTtcclxuICAgICAgICBpZiAob2Zmc2V0ICsgc2l6ZSA+IFNJWkUpIHtcclxuICAgICAgICAgICAgc2xhYiA9IGFsbG9jKFNJWkUpO1xyXG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYnVmID0gc2xpY2UuY2FsbChzbGFiLCBvZmZzZXQsIG9mZnNldCArPSBzaXplKTtcclxuICAgICAgICBpZiAob2Zmc2V0ICYgNykgLy8gYWxpZ24gdG8gMzIgYml0XHJcbiAgICAgICAgICAgIG9mZnNldCA9IChvZmZzZXQgfCA3KSArIDE7XHJcbiAgICAgICAgcmV0dXJuIGJ1ZjtcclxuICAgIH07XHJcbn1cclxuIiwgIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBMb25nQml0cztcblxudmFyIHV0aWwgPSByZXF1aXJlKFwiLi4vdXRpbC9taW5pbWFsXCIpO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgbmV3IGxvbmcgYml0cy5cbiAqIEBjbGFzc2Rlc2MgSGVscGVyIGNsYXNzIGZvciB3b3JraW5nIHdpdGggdGhlIGxvdyBhbmQgaGlnaCBiaXRzIG9mIGEgNjQgYml0IHZhbHVlLlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtudW1iZXJ9IGxvIExvdyAzMiBiaXRzLCB1bnNpZ25lZFxuICogQHBhcmFtIHtudW1iZXJ9IGhpIEhpZ2ggMzIgYml0cywgdW5zaWduZWRcbiAqL1xuZnVuY3Rpb24gTG9uZ0JpdHMobG8sIGhpKSB7XG5cbiAgICAvLyBub3RlIHRoYXQgdGhlIGNhc3RzIGJlbG93IGFyZSB0aGVvcmV0aWNhbGx5IHVubmVjZXNzYXJ5IGFzIG9mIHRvZGF5LCBidXQgb2xkZXIgc3RhdGljYWxseVxuICAgIC8vIGdlbmVyYXRlZCBjb252ZXJ0ZXIgY29kZSBtaWdodCBzdGlsbCBjYWxsIHRoZSBjdG9yIHdpdGggc2lnbmVkIDMyYml0cy4ga2VwdCBmb3IgY29tcGF0LlxuXG4gICAgLyoqXG4gICAgICogTG93IGJpdHMuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxvID0gbG8gPj4+IDA7XG5cbiAgICAvKipcbiAgICAgKiBIaWdoIGJpdHMuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmhpID0gaGkgPj4+IDA7XG59XG5cbi8qKlxuICogWmVybyBiaXRzLlxuICogQG1lbWJlcm9mIHV0aWwuTG9uZ0JpdHNcbiAqIEB0eXBlIHt1dGlsLkxvbmdCaXRzfVxuICovXG52YXIgemVybyA9IExvbmdCaXRzLnplcm8gPSBuZXcgTG9uZ0JpdHMoMCwgMCk7XG5cbnplcm8udG9OdW1iZXIgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG56ZXJvLnp6RW5jb2RlID0gemVyby56ekRlY29kZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfTtcbnplcm8ubGVuZ3RoID0gZnVuY3Rpb24oKSB7IHJldHVybiAxOyB9O1xuXG4vKipcbiAqIFplcm8gaGFzaC5cbiAqIEBtZW1iZXJvZiB1dGlsLkxvbmdCaXRzXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG52YXIgemVyb0hhc2ggPSBMb25nQml0cy56ZXJvSGFzaCA9IFwiXFwwXFwwXFwwXFwwXFwwXFwwXFwwXFwwXCI7XG5cbi8qKlxuICogQ29uc3RydWN0cyBuZXcgbG9uZyBiaXRzIGZyb20gdGhlIHNwZWNpZmllZCBudW1iZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWVcbiAqIEByZXR1cm5zIHt1dGlsLkxvbmdCaXRzfSBJbnN0YW5jZVxuICovXG5Mb25nQml0cy5mcm9tTnVtYmVyID0gZnVuY3Rpb24gZnJvbU51bWJlcih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gMClcbiAgICAgICAgcmV0dXJuIHplcm87XG4gICAgdmFyIHNpZ24gPSB2YWx1ZSA8IDA7XG4gICAgaWYgKHNpZ24pXG4gICAgICAgIHZhbHVlID0gLXZhbHVlO1xuICAgIHZhciBsbyA9IHZhbHVlID4+PiAwLFxuICAgICAgICBoaSA9ICh2YWx1ZSAtIGxvKSAvIDQyOTQ5NjcyOTYgPj4+IDA7XG4gICAgaWYgKHNpZ24pIHtcbiAgICAgICAgaGkgPSB+aGkgPj4+IDA7XG4gICAgICAgIGxvID0gfmxvID4+PiAwO1xuICAgICAgICBpZiAoKytsbyA+IDQyOTQ5NjcyOTUpIHtcbiAgICAgICAgICAgIGxvID0gMDtcbiAgICAgICAgICAgIGlmICgrK2hpID4gNDI5NDk2NzI5NSlcbiAgICAgICAgICAgICAgICBoaSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBMb25nQml0cyhsbywgaGkpO1xufTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIG5ldyBsb25nIGJpdHMgZnJvbSBhIG51bWJlciwgbG9uZyBvciBzdHJpbmcuXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWVcbiAqIEByZXR1cm5zIHt1dGlsLkxvbmdCaXRzfSBJbnN0YW5jZVxuICovXG5Mb25nQml0cy5mcm9tID0gZnVuY3Rpb24gZnJvbSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgIHJldHVybiBMb25nQml0cy5mcm9tTnVtYmVyKHZhbHVlKTtcbiAgICBpZiAodXRpbC5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKHV0aWwuTG9uZylcbiAgICAgICAgICAgIHZhbHVlID0gdXRpbC5Mb25nLmZyb21TdHJpbmcodmFsdWUpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gTG9uZ0JpdHMuZnJvbU51bWJlcihwYXJzZUludCh2YWx1ZSwgMTApKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLmxvdyB8fCB2YWx1ZS5oaWdoID8gbmV3IExvbmdCaXRzKHZhbHVlLmxvdyA+Pj4gMCwgdmFsdWUuaGlnaCA+Pj4gMCkgOiB6ZXJvO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIGxvbmcgYml0cyB0byBhIHBvc3NpYmx5IHVuc2FmZSBKYXZhU2NyaXB0IG51bWJlci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vuc2lnbmVkPWZhbHNlXSBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdFxuICogQHJldHVybnMge251bWJlcn0gUG9zc2libHkgdW5zYWZlIG51bWJlclxuICovXG5Mb25nQml0cy5wcm90b3R5cGUudG9OdW1iZXIgPSBmdW5jdGlvbiB0b051bWJlcih1bnNpZ25lZCkge1xuICAgIGlmICghdW5zaWduZWQgJiYgdGhpcy5oaSA+Pj4gMzEpIHtcbiAgICAgICAgdmFyIGxvID0gfnRoaXMubG8gKyAxID4+PiAwLFxuICAgICAgICAgICAgaGkgPSB+dGhpcy5oaSAgICAgPj4+IDA7XG4gICAgICAgIGlmICghbG8pXG4gICAgICAgICAgICBoaSA9IGhpICsgMSA+Pj4gMDtcbiAgICAgICAgcmV0dXJuIC0obG8gKyBoaSAqIDQyOTQ5NjcyOTYpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5sbyArIHRoaXMuaGkgKiA0Mjk0OTY3Mjk2O1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIGxvbmcgYml0cyB0byBhIGxvbmcuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bnNpZ25lZD1mYWxzZV0gV2hldGhlciB1bnNpZ25lZCBvciBub3RcbiAqIEByZXR1cm5zIHtMb25nfSBMb25nXG4gKi9cbkxvbmdCaXRzLnByb3RvdHlwZS50b0xvbmcgPSBmdW5jdGlvbiB0b0xvbmcodW5zaWduZWQpIHtcbiAgICByZXR1cm4gdXRpbC5Mb25nXG4gICAgICAgID8gbmV3IHV0aWwuTG9uZyh0aGlzLmxvIHwgMCwgdGhpcy5oaSB8IDAsIEJvb2xlYW4odW5zaWduZWQpKVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICA6IHsgbG93OiB0aGlzLmxvIHwgMCwgaGlnaDogdGhpcy5oaSB8IDAsIHVuc2lnbmVkOiBCb29sZWFuKHVuc2lnbmVkKSB9O1xufTtcblxudmFyIGNoYXJDb2RlQXQgPSBTdHJpbmcucHJvdG90eXBlLmNoYXJDb2RlQXQ7XG5cbi8qKlxuICogQ29uc3RydWN0cyBuZXcgbG9uZyBiaXRzIGZyb20gdGhlIHNwZWNpZmllZCA4IGNoYXJhY3RlcnMgbG9uZyBoYXNoLlxuICogQHBhcmFtIHtzdHJpbmd9IGhhc2ggSGFzaFxuICogQHJldHVybnMge3V0aWwuTG9uZ0JpdHN9IEJpdHNcbiAqL1xuTG9uZ0JpdHMuZnJvbUhhc2ggPSBmdW5jdGlvbiBmcm9tSGFzaChoYXNoKSB7XG4gICAgaWYgKGhhc2ggPT09IHplcm9IYXNoKVxuICAgICAgICByZXR1cm4gemVybztcbiAgICByZXR1cm4gbmV3IExvbmdCaXRzKFxuICAgICAgICAoIGNoYXJDb2RlQXQuY2FsbChoYXNoLCAwKVxuICAgICAgICB8IGNoYXJDb2RlQXQuY2FsbChoYXNoLCAxKSA8PCA4XG4gICAgICAgIHwgY2hhckNvZGVBdC5jYWxsKGhhc2gsIDIpIDw8IDE2XG4gICAgICAgIHwgY2hhckNvZGVBdC5jYWxsKGhhc2gsIDMpIDw8IDI0KSA+Pj4gMFxuICAgICxcbiAgICAgICAgKCBjaGFyQ29kZUF0LmNhbGwoaGFzaCwgNClcbiAgICAgICAgfCBjaGFyQ29kZUF0LmNhbGwoaGFzaCwgNSkgPDwgOFxuICAgICAgICB8IGNoYXJDb2RlQXQuY2FsbChoYXNoLCA2KSA8PCAxNlxuICAgICAgICB8IGNoYXJDb2RlQXQuY2FsbChoYXNoLCA3KSA8PCAyNCkgPj4+IDBcbiAgICApO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIGxvbmcgYml0cyB0byBhIDggY2hhcmFjdGVycyBsb25nIGhhc2guXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBIYXNoXG4gKi9cbkxvbmdCaXRzLnByb3RvdHlwZS50b0hhc2ggPSBmdW5jdGlvbiB0b0hhc2goKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgICAgIHRoaXMubG8gICAgICAgICYgMjU1LFxuICAgICAgICB0aGlzLmxvID4+PiA4ICAmIDI1NSxcbiAgICAgICAgdGhpcy5sbyA+Pj4gMTYgJiAyNTUsXG4gICAgICAgIHRoaXMubG8gPj4+IDI0ICAgICAgLFxuICAgICAgICB0aGlzLmhpICAgICAgICAmIDI1NSxcbiAgICAgICAgdGhpcy5oaSA+Pj4gOCAgJiAyNTUsXG4gICAgICAgIHRoaXMuaGkgPj4+IDE2ICYgMjU1LFxuICAgICAgICB0aGlzLmhpID4+PiAyNFxuICAgICk7XG59O1xuXG4vKipcbiAqIFppZy16YWcgZW5jb2RlcyB0aGlzIGxvbmcgYml0cy5cbiAqIEByZXR1cm5zIHt1dGlsLkxvbmdCaXRzfSBgdGhpc2BcbiAqL1xuTG9uZ0JpdHMucHJvdG90eXBlLnp6RW5jb2RlID0gZnVuY3Rpb24genpFbmNvZGUoKSB7XG4gICAgdmFyIG1hc2sgPSAgIHRoaXMuaGkgPj4gMzE7XG4gICAgdGhpcy5oaSAgPSAoKHRoaXMuaGkgPDwgMSB8IHRoaXMubG8gPj4+IDMxKSBeIG1hc2spID4+PiAwO1xuICAgIHRoaXMubG8gID0gKCB0aGlzLmxvIDw8IDEgICAgICAgICAgICAgICAgICAgXiBtYXNrKSA+Pj4gMDtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogWmlnLXphZyBkZWNvZGVzIHRoaXMgbG9uZyBiaXRzLlxuICogQHJldHVybnMge3V0aWwuTG9uZ0JpdHN9IGB0aGlzYFxuICovXG5Mb25nQml0cy5wcm90b3R5cGUuenpEZWNvZGUgPSBmdW5jdGlvbiB6ekRlY29kZSgpIHtcbiAgICB2YXIgbWFzayA9IC0odGhpcy5sbyAmIDEpO1xuICAgIHRoaXMubG8gID0gKCh0aGlzLmxvID4+PiAxIHwgdGhpcy5oaSA8PCAzMSkgXiBtYXNrKSA+Pj4gMDtcbiAgICB0aGlzLmhpICA9ICggdGhpcy5oaSA+Pj4gMSAgICAgICAgICAgICAgICAgIF4gbWFzaykgPj4+IDA7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiB0aGlzIGxvbmdiaXRzIHdoZW4gZW5jb2RlZCBhcyBhIHZhcmludC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IExlbmd0aFxuICovXG5Mb25nQml0cy5wcm90b3R5cGUubGVuZ3RoID0gZnVuY3Rpb24gbGVuZ3RoKCkge1xuICAgIHZhciBwYXJ0MCA9ICB0aGlzLmxvLFxuICAgICAgICBwYXJ0MSA9ICh0aGlzLmxvID4+PiAyOCB8IHRoaXMuaGkgPDwgNCkgPj4+IDAsXG4gICAgICAgIHBhcnQyID0gIHRoaXMuaGkgPj4+IDI0O1xuICAgIHJldHVybiBwYXJ0MiA9PT0gMFxuICAgICAgICAgPyBwYXJ0MSA9PT0gMFxuICAgICAgICAgICA/IHBhcnQwIDwgMTYzODRcbiAgICAgICAgICAgICA/IHBhcnQwIDwgMTI4ID8gMSA6IDJcbiAgICAgICAgICAgICA6IHBhcnQwIDwgMjA5NzE1MiA/IDMgOiA0XG4gICAgICAgICAgIDogcGFydDEgPCAxNjM4NFxuICAgICAgICAgICAgID8gcGFydDEgPCAxMjggPyA1IDogNlxuICAgICAgICAgICAgIDogcGFydDEgPCAyMDk3MTUyID8gNyA6IDhcbiAgICAgICAgIDogcGFydDIgPCAxMjggPyA5IDogMTA7XG59O1xuIiwgIlwidXNlIHN0cmljdFwiO1xudmFyIHV0aWwgPSBleHBvcnRzO1xuXG4vLyB1c2VkIHRvIHJldHVybiBhIFByb21pc2Ugd2hlcmUgY2FsbGJhY2sgaXMgb21pdHRlZFxudXRpbC5hc1Byb21pc2UgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvYXNwcm9taXNlXCIpO1xuXG4vLyBjb252ZXJ0cyB0byAvIGZyb20gYmFzZTY0IGVuY29kZWQgc3RyaW5nc1xudXRpbC5iYXNlNjQgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvYmFzZTY0XCIpO1xuXG4vLyBiYXNlIGNsYXNzIG9mIHJwYy5TZXJ2aWNlXG51dGlsLkV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJAcHJvdG9idWZqcy9ldmVudGVtaXR0ZXJcIik7XG5cbi8vIGZsb2F0IGhhbmRsaW5nIGFjY3Jvc3MgYnJvd3NlcnNcbnV0aWwuZmxvYXQgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvZmxvYXRcIik7XG5cbi8vIHJlcXVpcmVzIG1vZHVsZXMgb3B0aW9uYWxseSBhbmQgaGlkZXMgdGhlIGNhbGwgZnJvbSBidW5kbGVyc1xudXRpbC5pbnF1aXJlID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL2lucXVpcmVcIik7XG5cbi8vIGNvbnZlcnRzIHRvIC8gZnJvbSB1dGY4IGVuY29kZWQgc3RyaW5nc1xudXRpbC51dGY4ID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL3V0ZjhcIik7XG5cbi8vIHByb3ZpZGVzIGEgbm9kZS1saWtlIGJ1ZmZlciBwb29sIGluIHRoZSBicm93c2VyXG51dGlsLnBvb2wgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvcG9vbFwiKTtcblxuLy8gdXRpbGl0eSB0byB3b3JrIHdpdGggdGhlIGxvdyBhbmQgaGlnaCBiaXRzIG9mIGEgNjQgYml0IHZhbHVlXG51dGlsLkxvbmdCaXRzID0gcmVxdWlyZShcIi4vbG9uZ2JpdHNcIik7XG5cbi8qKlxuICogV2hldGhlciBydW5uaW5nIHdpdGhpbiBub2RlIG9yIG5vdC5cbiAqIEBtZW1iZXJvZiB1dGlsXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xudXRpbC5pc05vZGUgPSBCb29sZWFuKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAmJiBnbG9iYWxcbiAgICAgICAgICAgICAgICAgICAmJiBnbG9iYWwucHJvY2Vzc1xuICAgICAgICAgICAgICAgICAgICYmIGdsb2JhbC5wcm9jZXNzLnZlcnNpb25zXG4gICAgICAgICAgICAgICAgICAgJiYgZ2xvYmFsLnByb2Nlc3MudmVyc2lvbnMubm9kZSk7XG5cbi8qKlxuICogR2xvYmFsIG9iamVjdCByZWZlcmVuY2UuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHR5cGUge09iamVjdH1cbiAqL1xudXRpbC5nbG9iYWwgPSB1dGlsLmlzTm9kZSAmJiBnbG9iYWxcbiAgICAgICAgICAgfHwgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3dcbiAgICAgICAgICAgfHwgdHlwZW9mIHNlbGYgICAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmXG4gICAgICAgICAgIHx8IHRoaXM7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8taW52YWxpZC10aGlzXG5cbi8qKlxuICogQW4gaW1tdWFibGUgZW1wdHkgYXJyYXkuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHR5cGUge0FycmF5LjwqPn1cbiAqIEBjb25zdFxuICovXG51dGlsLmVtcHR5QXJyYXkgPSBPYmplY3QuZnJlZXplID8gT2JqZWN0LmZyZWV6ZShbXSkgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBbXTsgLy8gdXNlZCBvbiBwcm90b3R5cGVzXG5cbi8qKlxuICogQW4gaW1tdXRhYmxlIGVtcHR5IG9iamVjdC5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAY29uc3RcbiAqL1xudXRpbC5lbXB0eU9iamVjdCA9IE9iamVjdC5mcmVlemUgPyBPYmplY3QuZnJlZXplKHt9KSA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHt9OyAvLyB1c2VkIG9uIHByb3RvdHlwZXNcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGFuIGludGVnZXIuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmFsdWUgaXMgYW4gaW50ZWdlclxuICovXG51dGlsLmlzSW50ZWdlciA9IE51bWJlci5pc0ludGVnZXIgfHwgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiAmJiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGEgc3RyaW5nLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2YWx1ZSBpcyBhIHN0cmluZ1xuICovXG51dGlsLmlzU3RyaW5nID0gZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiIHx8IHZhbHVlIGluc3RhbmNlb2YgU3RyaW5nO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGEgbm9uLW51bGwgb2JqZWN0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2YWx1ZSBpcyBhIG5vbi1udWxsIG9iamVjdFxuICovXG51dGlsLmlzT2JqZWN0ID0gZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBwcm9wZXJ0eSBvbiBhIG1lc3NhZ2UgaXMgY29uc2lkZXJlZCB0byBiZSBwcmVzZW50LlxuICogVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgdXRpbC5pc1NldH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogUGxhaW4gb2JqZWN0IG9yIG1lc3NhZ2UgaW5zdGFuY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IG5hbWVcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgY29uc2lkZXJlZCB0byBiZSBwcmVzZW50LCBvdGhlcndpc2UgYGZhbHNlYFxuICovXG51dGlsLmlzc2V0ID1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBwcm9wZXJ0eSBvbiBhIG1lc3NhZ2UgaXMgY29uc2lkZXJlZCB0byBiZSBwcmVzZW50LlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBQbGFpbiBvYmplY3Qgb3IgbWVzc2FnZSBpbnN0YW5jZVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgbmFtZVxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiBjb25zaWRlcmVkIHRvIGJlIHByZXNlbnQsIG90aGVyd2lzZSBgZmFsc2VgXG4gKi9cbnV0aWwuaXNTZXQgPSBmdW5jdGlvbiBpc1NldChvYmosIHByb3ApIHtcbiAgICB2YXIgdmFsdWUgPSBvYmpbcHJvcF07XG4gICAgaWYgKHZhbHVlICE9IG51bGwgJiYgb2JqLmhhc093blByb3BlcnR5KHByb3ApKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcSwgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgKEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUubGVuZ3RoIDogT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCkgPiAwO1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogQW55IGNvbXBhdGlibGUgQnVmZmVyIGluc3RhbmNlLlxuICogVGhpcyBpcyBhIG1pbmltYWwgc3RhbmQtYWxvbmUgZGVmaW5pdGlvbiBvZiBhIEJ1ZmZlciBpbnN0YW5jZS4gVGhlIGFjdHVhbCB0eXBlIGlzIHRoYXQgZXhwb3J0ZWQgYnkgbm9kZSdzIHR5cGluZ3MuXG4gKiBAaW50ZXJmYWNlIEJ1ZmZlclxuICogQGV4dGVuZHMgVWludDhBcnJheVxuICovXG5cbi8qKlxuICogTm9kZSdzIEJ1ZmZlciBjbGFzcyBpZiBhdmFpbGFibGUuXG4gKiBAdHlwZSB7Q29uc3RydWN0b3I8QnVmZmVyPn1cbiAqL1xudXRpbC5CdWZmZXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIEJ1ZmZlciA9IHV0aWwuaW5xdWlyZShcImJ1ZmZlclwiKS5CdWZmZXI7XG4gICAgICAgIC8vIHJlZnVzZSB0byB1c2Ugbm9uLW5vZGUgYnVmZmVycyBpZiBub3QgZXhwbGljaXRseSBhc3NpZ25lZCAocGVyZiByZWFzb25zKTpcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5wcm90b3R5cGUudXRmOFdyaXRlID8gQnVmZmVyIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gbnVsbDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn0pKCk7XG5cbi8vIEludGVybmFsIGFsaWFzIG9mIG9yIHBvbHlmdWxsIGZvciBCdWZmZXIuZnJvbS5cbnV0aWwuX0J1ZmZlcl9mcm9tID0gbnVsbDtcblxuLy8gSW50ZXJuYWwgYWxpYXMgb2Ygb3IgcG9seWZpbGwgZm9yIEJ1ZmZlci5hbGxvY1Vuc2FmZS5cbnV0aWwuX0J1ZmZlcl9hbGxvY1Vuc2FmZSA9IG51bGw7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBidWZmZXIgb2Ygd2hhdGV2ZXIgdHlwZSBzdXBwb3J0ZWQgYnkgdGhlIGVudmlyb25tZW50LlxuICogQHBhcmFtIHtudW1iZXJ8bnVtYmVyW119IFtzaXplT3JBcnJheT0wXSBCdWZmZXIgc2l6ZSBvciBudW1iZXIgYXJyYXlcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fEJ1ZmZlcn0gQnVmZmVyXG4gKi9cbnV0aWwubmV3QnVmZmVyID0gZnVuY3Rpb24gbmV3QnVmZmVyKHNpemVPckFycmF5KSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gdHlwZW9mIHNpemVPckFycmF5ID09PSBcIm51bWJlclwiXG4gICAgICAgID8gdXRpbC5CdWZmZXJcbiAgICAgICAgICAgID8gdXRpbC5fQnVmZmVyX2FsbG9jVW5zYWZlKHNpemVPckFycmF5KVxuICAgICAgICAgICAgOiBuZXcgdXRpbC5BcnJheShzaXplT3JBcnJheSlcbiAgICAgICAgOiB1dGlsLkJ1ZmZlclxuICAgICAgICAgICAgPyB1dGlsLl9CdWZmZXJfZnJvbShzaXplT3JBcnJheSlcbiAgICAgICAgICAgIDogdHlwZW9mIFVpbnQ4QXJyYXkgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICA/IHNpemVPckFycmF5XG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheShzaXplT3JBcnJheSk7XG59O1xuXG4vKipcbiAqIEFycmF5IGltcGxlbWVudGF0aW9uIHVzZWQgaW4gdGhlIGJyb3dzZXIuIGBVaW50OEFycmF5YCBpZiBzdXBwb3J0ZWQsIG90aGVyd2lzZSBgQXJyYXlgLlxuICogQHR5cGUge0NvbnN0cnVjdG9yPFVpbnQ4QXJyYXk+fVxuICovXG51dGlsLkFycmF5ID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09IFwidW5kZWZpbmVkXCIgPyBVaW50OEFycmF5IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIDogQXJyYXk7XG5cbi8qKlxuICogQW55IGNvbXBhdGlibGUgTG9uZyBpbnN0YW5jZS5cbiAqIFRoaXMgaXMgYSBtaW5pbWFsIHN0YW5kLWFsb25lIGRlZmluaXRpb24gb2YgYSBMb25nIGluc3RhbmNlLiBUaGUgYWN0dWFsIHR5cGUgaXMgdGhhdCBleHBvcnRlZCBieSBsb25nLmpzLlxuICogQGludGVyZmFjZSBMb25nXG4gKiBAcHJvcGVydHkge251bWJlcn0gbG93IExvdyBiaXRzXG4gKiBAcHJvcGVydHkge251bWJlcn0gaGlnaCBIaWdoIGJpdHNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3RcbiAqL1xuXG4vKipcbiAqIExvbmcuanMncyBMb25nIGNsYXNzIGlmIGF2YWlsYWJsZS5cbiAqIEB0eXBlIHtDb25zdHJ1Y3RvcjxMb25nPn1cbiAqL1xudXRpbC5Mb25nID0gLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gdXRpbC5nbG9iYWwuZGNvZGVJTyAmJiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB1dGlsLmdsb2JhbC5kY29kZUlPLkxvbmdcbiAgICAgICAgIHx8IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHV0aWwuZ2xvYmFsLkxvbmdcbiAgICAgICAgIHx8IHV0aWwuaW5xdWlyZShcImxvbmdcIik7XG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHVzZWQgdG8gdmVyaWZ5IDIgYml0IChgYm9vbGApIG1hcCBrZXlzLlxuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBjb25zdFxuICovXG51dGlsLmtleTJSZSA9IC9edHJ1ZXxmYWxzZXwwfDEkLztcblxuLyoqXG4gKiBSZWd1bGFyIGV4cHJlc3Npb24gdXNlZCB0byB2ZXJpZnkgMzIgYml0IChgaW50MzJgIGV0Yy4pIG1hcCBrZXlzLlxuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBjb25zdFxuICovXG51dGlsLmtleTMyUmUgPSAvXi0/KD86MHxbMS05XVswLTldKikkLztcblxuLyoqXG4gKiBSZWd1bGFyIGV4cHJlc3Npb24gdXNlZCB0byB2ZXJpZnkgNjQgYml0IChgaW50NjRgIGV0Yy4pIG1hcCBrZXlzLlxuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBjb25zdFxuICovXG51dGlsLmtleTY0UmUgPSAvXig/OltcXFxceDAwLVxcXFx4ZmZdezh9fC0/KD86MHxbMS05XVswLTldKikpJC87XG5cbi8qKlxuICogQ29udmVydHMgYSBudW1iZXIgb3IgbG9uZyB0byBhbiA4IGNoYXJhY3RlcnMgbG9uZyBoYXNoIHN0cmluZy5cbiAqIEBwYXJhbSB7TG9uZ3xudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEhhc2hcbiAqL1xudXRpbC5sb25nVG9IYXNoID0gZnVuY3Rpb24gbG9uZ1RvSGFzaCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZVxuICAgICAgICA/IHV0aWwuTG9uZ0JpdHMuZnJvbSh2YWx1ZSkudG9IYXNoKClcbiAgICAgICAgOiB1dGlsLkxvbmdCaXRzLnplcm9IYXNoO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhbiA4IGNoYXJhY3RlcnMgbG9uZyBoYXNoIHN0cmluZyB0byBhIGxvbmcgb3IgbnVtYmVyLlxuICogQHBhcmFtIHtzdHJpbmd9IGhhc2ggSGFzaFxuICogQHBhcmFtIHtib29sZWFufSBbdW5zaWduZWQ9ZmFsc2VdIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90XG4gKiBAcmV0dXJucyB7TG9uZ3xudW1iZXJ9IE9yaWdpbmFsIHZhbHVlXG4gKi9cbnV0aWwubG9uZ0Zyb21IYXNoID0gZnVuY3Rpb24gbG9uZ0Zyb21IYXNoKGhhc2gsIHVuc2lnbmVkKSB7XG4gICAgdmFyIGJpdHMgPSB1dGlsLkxvbmdCaXRzLmZyb21IYXNoKGhhc2gpO1xuICAgIGlmICh1dGlsLkxvbmcpXG4gICAgICAgIHJldHVybiB1dGlsLkxvbmcuZnJvbUJpdHMoYml0cy5sbywgYml0cy5oaSwgdW5zaWduZWQpO1xuICAgIHJldHVybiBiaXRzLnRvTnVtYmVyKEJvb2xlYW4odW5zaWduZWQpKTtcbn07XG5cbi8qKlxuICogTWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBzb3VyY2Ugb2JqZWN0IGludG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBtZW1iZXJvZiB1dGlsXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBkc3QgRGVzdGluYXRpb24gb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBzcmMgU291cmNlIG9iamVjdFxuICogQHBhcmFtIHtib29sZWFufSBbaWZOb3RTZXQ9ZmFsc2VdIE1lcmdlcyBvbmx5IGlmIHRoZSBrZXkgaXMgbm90IGFscmVhZHkgc2V0XG4gKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IERlc3RpbmF0aW9uIG9iamVjdFxuICovXG5mdW5jdGlvbiBtZXJnZShkc3QsIHNyYywgaWZOb3RTZXQpIHsgLy8gdXNlZCBieSBjb252ZXJ0ZXJzXG4gICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNyYyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgaWYgKGRzdFtrZXlzW2ldXSA9PT0gdW5kZWZpbmVkIHx8ICFpZk5vdFNldClcbiAgICAgICAgICAgIGRzdFtrZXlzW2ldXSA9IHNyY1trZXlzW2ldXTtcbiAgICByZXR1cm4gZHN0O1xufVxuXG51dGlsLm1lcmdlID0gbWVyZ2U7XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBhIHN0cmluZyB0byBsb3dlciBjYXNlLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBTdHJpbmcgdG8gY29udmVydFxuICogQHJldHVybnMge3N0cmluZ30gQ29udmVydGVkIHN0cmluZ1xuICovXG51dGlsLmxjRmlyc3QgPSBmdW5jdGlvbiBsY0ZpcnN0KHN0cikge1xuICAgIHJldHVybiBzdHIuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzdHIuc3Vic3RyaW5nKDEpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY3VzdG9tIGVycm9yIGNvbnN0cnVjdG9yLlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEVycm9yIG5hbWVcbiAqIEByZXR1cm5zIHtDb25zdHJ1Y3RvcjxFcnJvcj59IEN1c3RvbSBlcnJvciBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBuZXdFcnJvcihuYW1lKSB7XG5cbiAgICBmdW5jdGlvbiBDdXN0b21FcnJvcihtZXNzYWdlLCBwcm9wZXJ0aWVzKSB7XG5cbiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEN1c3RvbUVycm9yKSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ3VzdG9tRXJyb3IobWVzc2FnZSwgcHJvcGVydGllcyk7XG5cbiAgICAgICAgLy8gRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgLy8gXiBqdXN0IHJldHVybnMgYSBuZXcgZXJyb3IgaW5zdGFuY2UgYmVjYXVzZSB0aGUgY3RvciBjYW4gYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb25cblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXNzYWdlXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1lc3NhZ2U7IH0gfSk7XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSAvLyBub2RlXG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBDdXN0b21FcnJvcik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YWNrXCIsIHsgdmFsdWU6IG5ldyBFcnJvcigpLnN0YWNrIHx8IFwiXCIgfSk7XG5cbiAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICBtZXJnZSh0aGlzLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICAoQ3VzdG9tRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpKS5jb25zdHJ1Y3RvciA9IEN1c3RvbUVycm9yO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEN1c3RvbUVycm9yLnByb3RvdHlwZSwgXCJuYW1lXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG5hbWU7IH0gfSk7XG5cbiAgICBDdXN0b21FcnJvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZSArIFwiOiBcIiArIHRoaXMubWVzc2FnZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEN1c3RvbUVycm9yO1xufVxuXG51dGlsLm5ld0Vycm9yID0gbmV3RXJyb3I7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyBwcm90b2NvbCBlcnJvci5cbiAqIEBjbGFzc2Rlc2MgRXJyb3Igc3ViY2xhc3MgaW5kaWNhdGluZyBhIHByb3RvY29sIHNwZWNpZmMgZXJyb3IuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQGV4dGVuZHMgRXJyb3JcbiAqIEB0ZW1wbGF0ZSBUIGV4dGVuZHMgTWVzc2FnZTxUPlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBFcnJvciBtZXNzYWdlXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBbcHJvcGVydGllc10gQWRkaXRpb25hbCBwcm9wZXJ0aWVzXG4gKiBAZXhhbXBsZVxuICogdHJ5IHtcbiAqICAgICBNeU1lc3NhZ2UuZGVjb2RlKHNvbWVCdWZmZXIpOyAvLyB0aHJvd3MgaWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gKiB9IGNhdGNoIChlKSB7XG4gKiAgICAgaWYgKGUgaW5zdGFuY2VvZiBQcm90b2NvbEVycm9yICYmIGUuaW5zdGFuY2UpXG4gKiAgICAgICAgIGNvbnNvbGUubG9nKFwiZGVjb2RlZCBzbyBmYXI6IFwiICsgSlNPTi5zdHJpbmdpZnkoZS5pbnN0YW5jZSkpO1xuICogfVxuICovXG51dGlsLlByb3RvY29sRXJyb3IgPSBuZXdFcnJvcihcIlByb3RvY29sRXJyb3JcIik7XG5cbi8qKlxuICogU28gZmFyIGRlY29kZWQgbWVzc2FnZSBpbnN0YW5jZS5cbiAqIEBuYW1lIHV0aWwuUHJvdG9jb2xFcnJvciNpbnN0YW5jZVxuICogQHR5cGUge01lc3NhZ2U8VD59XG4gKi9cblxuLyoqXG4gKiBBIE9uZU9mIGdldHRlciBhcyByZXR1cm5lZCBieSB7QGxpbmsgdXRpbC5vbmVPZkdldHRlcn0uXG4gKiBAdHlwZWRlZiBPbmVPZkdldHRlclxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFNldCBmaWVsZCBuYW1lLCBpZiBhbnlcbiAqL1xuXG4vKipcbiAqIEJ1aWxkcyBhIGdldHRlciBmb3IgYSBvbmVvZidzIHByZXNlbnQgZmllbGQgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nW119IGZpZWxkTmFtZXMgRmllbGQgbmFtZXNcbiAqIEByZXR1cm5zIHtPbmVPZkdldHRlcn0gVW5ib3VuZCBnZXR0ZXJcbiAqL1xudXRpbC5vbmVPZkdldHRlciA9IGZ1bmN0aW9uIGdldE9uZU9mKGZpZWxkTmFtZXMpIHtcbiAgICB2YXIgZmllbGRNYXAgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkTmFtZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIGZpZWxkTWFwW2ZpZWxkTmFtZXNbaV1dID0gMTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBTZXQgZmllbGQgbmFtZSwgaWYgYW55XG4gICAgICogQHRoaXMgT2JqZWN0XG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbigpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXModGhpcyksIGkgPSBrZXlzLmxlbmd0aCAtIDE7IGkgPiAtMTsgLS1pKVxuICAgICAgICAgICAgaWYgKGZpZWxkTWFwW2tleXNbaV1dID09PSAxICYmIHRoaXNba2V5c1tpXV0gIT09IHVuZGVmaW5lZCAmJiB0aGlzW2tleXNbaV1dICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBrZXlzW2ldO1xuICAgIH07XG59O1xuXG4vKipcbiAqIEEgT25lT2Ygc2V0dGVyIGFzIHJldHVybmVkIGJ5IHtAbGluayB1dGlsLm9uZU9mU2V0dGVyfS5cbiAqIEB0eXBlZGVmIE9uZU9mU2V0dGVyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IHZhbHVlIEZpZWxkIG5hbWVcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKi9cblxuLyoqXG4gKiBCdWlsZHMgYSBzZXR0ZXIgZm9yIGEgb25lb2YncyBwcmVzZW50IGZpZWxkIG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBmaWVsZE5hbWVzIEZpZWxkIG5hbWVzXG4gKiBAcmV0dXJucyB7T25lT2ZTZXR0ZXJ9IFVuYm91bmQgc2V0dGVyXG4gKi9cbnV0aWwub25lT2ZTZXR0ZXIgPSBmdW5jdGlvbiBzZXRPbmVPZihmaWVsZE5hbWVzKSB7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBGaWVsZCBuYW1lXG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgKiBAdGhpcyBPYmplY3RcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZE5hbWVzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgaWYgKGZpZWxkTmFtZXNbaV0gIT09IG5hbWUpXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXNbZmllbGROYW1lc1tpXV07XG4gICAgfTtcbn07XG5cbi8qKlxuICogRGVmYXVsdCBjb252ZXJzaW9uIG9wdGlvbnMgdXNlZCBmb3Ige0BsaW5rIE1lc3NhZ2UjdG9KU09OfSBpbXBsZW1lbnRhdGlvbnMuXG4gKlxuICogVGhlc2Ugb3B0aW9ucyBhcmUgY2xvc2UgdG8gcHJvdG8zJ3MgSlNPTiBtYXBwaW5nIHdpdGggdGhlIGV4Y2VwdGlvbiB0aGF0IGludGVybmFsIHR5cGVzIGxpa2UgQW55IGFyZSBoYW5kbGVkIGp1c3QgbGlrZSBtZXNzYWdlcy4gTW9yZSBwcmVjaXNlbHk6XG4gKlxuICogLSBMb25ncyBiZWNvbWUgc3RyaW5nc1xuICogLSBFbnVtcyBiZWNvbWUgc3RyaW5nIGtleXNcbiAqIC0gQnl0ZXMgYmVjb21lIGJhc2U2NCBlbmNvZGVkIHN0cmluZ3NcbiAqIC0gKFN1Yi0pTWVzc2FnZXMgYmVjb21lIHBsYWluIG9iamVjdHNcbiAqIC0gTWFwcyBiZWNvbWUgcGxhaW4gb2JqZWN0cyB3aXRoIGFsbCBzdHJpbmcga2V5c1xuICogLSBSZXBlYXRlZCBmaWVsZHMgYmVjb21lIGFycmF5c1xuICogLSBOYU4gYW5kIEluZmluaXR5IGZvciBmbG9hdCBhbmQgZG91YmxlIGZpZWxkcyBiZWNvbWUgc3RyaW5nc1xuICpcbiAqIEB0eXBlIHtJQ29udmVyc2lvbk9wdGlvbnN9XG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3Byb3RvY29sLWJ1ZmZlcnMvZG9jcy9wcm90bzM/aGw9ZW4janNvblxuICovXG51dGlsLnRvSlNPTk9wdGlvbnMgPSB7XG4gICAgbG9uZ3M6IFN0cmluZyxcbiAgICBlbnVtczogU3RyaW5nLFxuICAgIGJ5dGVzOiBTdHJpbmcsXG4gICAganNvbjogdHJ1ZVxufTtcblxuLy8gU2V0cyB1cCBidWZmZXIgdXRpbGl0eSBhY2NvcmRpbmcgdG8gdGhlIGVudmlyb25tZW50IChjYWxsZWQgaW4gaW5kZXgtbWluaW1hbClcbnV0aWwuX2NvbmZpZ3VyZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBCdWZmZXIgPSB1dGlsLkJ1ZmZlcjtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIUJ1ZmZlcikge1xuICAgICAgICB1dGlsLl9CdWZmZXJfZnJvbSA9IHV0aWwuX0J1ZmZlcl9hbGxvY1Vuc2FmZSA9IG51bGw7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gYmVjYXVzZSBub2RlIDQueCBidWZmZXJzIGFyZSBpbmNvbXBhdGlibGUgJiBpbW11dGFibGVcbiAgICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kY29kZUlPL3Byb3RvYnVmLmpzL3B1bGwvNjY1XG4gICAgdXRpbC5fQnVmZmVyX2Zyb20gPSBCdWZmZXIuZnJvbSAhPT0gVWludDhBcnJheS5mcm9tICYmIEJ1ZmZlci5mcm9tIHx8XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGZ1bmN0aW9uIEJ1ZmZlcl9mcm9tKHZhbHVlLCBlbmNvZGluZykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXIodmFsdWUsIGVuY29kaW5nKTtcbiAgICAgICAgfTtcbiAgICB1dGlsLl9CdWZmZXJfYWxsb2NVbnNhZmUgPSBCdWZmZXIuYWxsb2NVbnNhZmUgfHxcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgZnVuY3Rpb24gQnVmZmVyX2FsbG9jVW5zYWZlKHNpemUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVyKHNpemUpO1xuICAgICAgICB9O1xufTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gV3JpdGVyO1xuXG52YXIgdXRpbCAgICAgID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xuXG52YXIgQnVmZmVyV3JpdGVyOyAvLyBjeWNsaWNcblxudmFyIExvbmdCaXRzICA9IHV0aWwuTG9uZ0JpdHMsXG4gICAgYmFzZTY0ICAgID0gdXRpbC5iYXNlNjQsXG4gICAgdXRmOCAgICAgID0gdXRpbC51dGY4O1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgd3JpdGVyIG9wZXJhdGlvbiBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgU2NoZWR1bGVkIHdyaXRlciBvcGVyYXRpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKiwgVWludDhBcnJheSwgbnVtYmVyKX0gZm4gRnVuY3Rpb24gdG8gY2FsbFxuICogQHBhcmFtIHtudW1iZXJ9IGxlbiBWYWx1ZSBieXRlIGxlbmd0aFxuICogQHBhcmFtIHsqfSB2YWwgVmFsdWUgdG8gd3JpdGVcbiAqIEBpZ25vcmVcbiAqL1xuZnVuY3Rpb24gT3AoZm4sIGxlbiwgdmFsKSB7XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB0byBjYWxsLlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbihVaW50OEFycmF5LCBudW1iZXIsICopfVxuICAgICAqL1xuICAgIHRoaXMuZm4gPSBmbjtcblxuICAgIC8qKlxuICAgICAqIFZhbHVlIGJ5dGUgbGVuZ3RoLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sZW4gPSBsZW47XG5cbiAgICAvKipcbiAgICAgKiBOZXh0IG9wZXJhdGlvbi5cbiAgICAgKiBAdHlwZSB7V3JpdGVyLk9wfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLm5leHQgPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBWYWx1ZSB0byB3cml0ZS5cbiAgICAgKiBAdHlwZSB7Kn1cbiAgICAgKi9cbiAgICB0aGlzLnZhbCA9IHZhbDsgLy8gdHlwZSB2YXJpZXNcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIG5vb3AoKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5LWZ1bmN0aW9uXG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyB3cml0ZXIgc3RhdGUgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIENvcGllZCB3cml0ZXIgc3RhdGUuXG4gKiBAbWVtYmVyb2YgV3JpdGVyXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7V3JpdGVyfSB3cml0ZXIgV3JpdGVyIHRvIGNvcHkgc3RhdGUgZnJvbVxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBTdGF0ZSh3cml0ZXIpIHtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgaGVhZC5cbiAgICAgKiBAdHlwZSB7V3JpdGVyLk9wfVxuICAgICAqL1xuICAgIHRoaXMuaGVhZCA9IHdyaXRlci5oZWFkO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCB0YWlsLlxuICAgICAqIEB0eXBlIHtXcml0ZXIuT3B9XG4gICAgICovXG4gICAgdGhpcy50YWlsID0gd3JpdGVyLnRhaWw7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGJ1ZmZlciBsZW5ndGguXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxlbiA9IHdyaXRlci5sZW47XG5cbiAgICAvKipcbiAgICAgKiBOZXh0IHN0YXRlLlxuICAgICAqIEB0eXBlIHtTdGF0ZXxudWxsfVxuICAgICAqL1xuICAgIHRoaXMubmV4dCA9IHdyaXRlci5zdGF0ZXM7XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyB3cml0ZXIgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIFdpcmUgZm9ybWF0IHdyaXRlciB1c2luZyBgVWludDhBcnJheWAgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgYEFycmF5YC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBXcml0ZXIoKSB7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGxlbmd0aC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGVuID0gMDtcblxuICAgIC8qKlxuICAgICAqIE9wZXJhdGlvbnMgaGVhZC5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuaGVhZCA9IG5ldyBPcChub29wLCAwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIE9wZXJhdGlvbnMgdGFpbFxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy50YWlsID0gdGhpcy5oZWFkO1xuXG4gICAgLyoqXG4gICAgICogTGlua2VkIGZvcmtlZCBzdGF0ZXMuXG4gICAgICogQHR5cGUge09iamVjdHxudWxsfVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGVzID0gbnVsbDtcblxuICAgIC8vIFdoZW4gYSB2YWx1ZSBpcyB3cml0dGVuLCB0aGUgd3JpdGVyIGNhbGN1bGF0ZXMgaXRzIGJ5dGUgbGVuZ3RoIGFuZCBwdXRzIGl0IGludG8gYSBsaW5rZWRcbiAgICAvLyBsaXN0IG9mIG9wZXJhdGlvbnMgdG8gcGVyZm9ybSB3aGVuIGZpbmlzaCgpIGlzIGNhbGxlZC4gVGhpcyBib3RoIGFsbG93cyB1cyB0byBhbGxvY2F0ZVxuICAgIC8vIGJ1ZmZlcnMgb2YgdGhlIGV4YWN0IHJlcXVpcmVkIHNpemUgYW5kIHJlZHVjZXMgdGhlIGFtb3VudCBvZiB3b3JrIHdlIGhhdmUgdG8gZG8gY29tcGFyZWRcbiAgICAvLyB0byBmaXJzdCBjYWxjdWxhdGluZyBvdmVyIG9iamVjdHMgYW5kIHRoZW4gZW5jb2Rpbmcgb3ZlciBvYmplY3RzLiBJbiBvdXIgY2FzZSwgdGhlIGVuY29kaW5nXG4gICAgLy8gcGFydCBpcyBqdXN0IGEgbGlua2VkIGxpc3Qgd2FsayBjYWxsaW5nIG9wZXJhdGlvbnMgd2l0aCBhbHJlYWR5IHByZXBhcmVkIHZhbHVlcy5cbn1cblxudmFyIGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4gdXRpbC5CdWZmZXJcbiAgICAgICAgPyBmdW5jdGlvbiBjcmVhdGVfYnVmZmVyX3NldHVwKCkge1xuICAgICAgICAgICAgcmV0dXJuIChXcml0ZXIuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlX2J1ZmZlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcldyaXRlcigpO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICA6IGZ1bmN0aW9uIGNyZWF0ZV9hcnJheSgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgV3JpdGVyKCk7XG4gICAgICAgIH07XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgd3JpdGVyLlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7QnVmZmVyV3JpdGVyfFdyaXRlcn0gQSB7QGxpbmsgQnVmZmVyV3JpdGVyfSB3aGVuIEJ1ZmZlcnMgYXJlIHN1cHBvcnRlZCwgb3RoZXJ3aXNlIGEge0BsaW5rIFdyaXRlcn1cbiAqL1xuV3JpdGVyLmNyZWF0ZSA9IGNyZWF0ZSgpO1xuXG4vKipcbiAqIEFsbG9jYXRlcyBhIGJ1ZmZlciBvZiB0aGUgc3BlY2lmaWVkIHNpemUuXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBCdWZmZXIgc2l6ZVxuICogQHJldHVybnMge1VpbnQ4QXJyYXl9IEJ1ZmZlclxuICovXG5Xcml0ZXIuYWxsb2MgPSBmdW5jdGlvbiBhbGxvYyhzaXplKSB7XG4gICAgcmV0dXJuIG5ldyB1dGlsLkFycmF5KHNpemUpO1xufTtcblxuLy8gVXNlIFVpbnQ4QXJyYXkgYnVmZmVyIHBvb2wgaW4gdGhlIGJyb3dzZXIsIGp1c3QgbGlrZSBub2RlIGRvZXMgd2l0aCBidWZmZXJzXG4vKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuaWYgKHV0aWwuQXJyYXkgIT09IEFycmF5KVxuICAgIFdyaXRlci5hbGxvYyA9IHV0aWwucG9vbChXcml0ZXIuYWxsb2MsIHV0aWwuQXJyYXkucHJvdG90eXBlLnN1YmFycmF5KTtcblxuLyoqXG4gKiBQdXNoZXMgYSBuZXcgb3BlcmF0aW9uIHRvIHRoZSBxdWV1ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oVWludDhBcnJheSwgbnVtYmVyLCAqKX0gZm4gRnVuY3Rpb24gdG8gY2FsbFxuICogQHBhcmFtIHtudW1iZXJ9IGxlbiBWYWx1ZSBieXRlIGxlbmd0aFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKiBAcHJpdmF0ZVxuICovXG5Xcml0ZXIucHJvdG90eXBlLl9wdXNoID0gZnVuY3Rpb24gcHVzaChmbiwgbGVuLCB2YWwpIHtcbiAgICB0aGlzLnRhaWwgPSB0aGlzLnRhaWwubmV4dCA9IG5ldyBPcChmbiwgbGVuLCB2YWwpO1xuICAgIHRoaXMubGVuICs9IGxlbjtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIHdyaXRlQnl0ZSh2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgYnVmW3Bvc10gPSB2YWwgJiAyNTU7XG59XG5cbmZ1bmN0aW9uIHdyaXRlVmFyaW50MzIodmFsLCBidWYsIHBvcykge1xuICAgIHdoaWxlICh2YWwgPiAxMjcpIHtcbiAgICAgICAgYnVmW3BvcysrXSA9IHZhbCAmIDEyNyB8IDEyODtcbiAgICAgICAgdmFsID4+Pj0gNztcbiAgICB9XG4gICAgYnVmW3Bvc10gPSB2YWw7XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyB2YXJpbnQgd3JpdGVyIG9wZXJhdGlvbiBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgU2NoZWR1bGVkIHZhcmludCB3cml0ZXIgb3BlcmF0aW9uLlxuICogQGV4dGVuZHMgT3BcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtudW1iZXJ9IGxlbiBWYWx1ZSBieXRlIGxlbmd0aFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCBWYWx1ZSB0byB3cml0ZVxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBWYXJpbnRPcChsZW4sIHZhbCkge1xuICAgIHRoaXMubGVuID0gbGVuO1xuICAgIHRoaXMubmV4dCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnZhbCA9IHZhbDtcbn1cblxuVmFyaW50T3AucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShPcC5wcm90b3R5cGUpO1xuVmFyaW50T3AucHJvdG90eXBlLmZuID0gd3JpdGVWYXJpbnQzMjtcblxuLyoqXG4gKiBXcml0ZXMgYW4gdW5zaWduZWQgMzIgYml0IHZhbHVlIGFzIGEgdmFyaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS51aW50MzIgPSBmdW5jdGlvbiB3cml0ZV91aW50MzIodmFsdWUpIHtcbiAgICAvLyBoZXJlLCB0aGUgY2FsbCB0byB0aGlzLnB1c2ggaGFzIGJlZW4gaW5saW5lZCBhbmQgYSB2YXJpbnQgc3BlY2lmaWMgT3Agc3ViY2xhc3MgaXMgdXNlZC5cbiAgICAvLyB1aW50MzIgaXMgYnkgZmFyIHRoZSBtb3N0IGZyZXF1ZW50bHkgdXNlZCBvcGVyYXRpb24gYW5kIGJlbmVmaXRzIHNpZ25pZmljYW50bHkgZnJvbSB0aGlzLlxuICAgIHRoaXMubGVuICs9ICh0aGlzLnRhaWwgPSB0aGlzLnRhaWwubmV4dCA9IG5ldyBWYXJpbnRPcChcbiAgICAgICAgKHZhbHVlID0gdmFsdWUgPj4+IDApXG4gICAgICAgICAgICAgICAgPCAxMjggICAgICAgPyAxXG4gICAgICAgIDogdmFsdWUgPCAxNjM4NCAgICAgPyAyXG4gICAgICAgIDogdmFsdWUgPCAyMDk3MTUyICAgPyAzXG4gICAgICAgIDogdmFsdWUgPCAyNjg0MzU0NTYgPyA0XG4gICAgICAgIDogICAgICAgICAgICAgICAgICAgICA1LFxuICAgIHZhbHVlKSkubGVuO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgMzIgYml0IHZhbHVlIGFzIGEgdmFyaW50LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmludDMyID0gZnVuY3Rpb24gd3JpdGVfaW50MzIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPCAwXG4gICAgICAgID8gdGhpcy5fcHVzaCh3cml0ZVZhcmludDY0LCAxMCwgTG9uZ0JpdHMuZnJvbU51bWJlcih2YWx1ZSkpIC8vIDEwIGJ5dGVzIHBlciBzcGVjXG4gICAgICAgIDogdGhpcy51aW50MzIodmFsdWUpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSAzMiBiaXQgdmFsdWUgYXMgYSB2YXJpbnQsIHppZy16YWcgZW5jb2RlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc2ludDMyID0gZnVuY3Rpb24gd3JpdGVfc2ludDMyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMudWludDMyKCh2YWx1ZSA8PCAxIF4gdmFsdWUgPj4gMzEpID4+PiAwKTtcbn07XG5cbmZ1bmN0aW9uIHdyaXRlVmFyaW50NjQodmFsLCBidWYsIHBvcykge1xuICAgIHdoaWxlICh2YWwuaGkpIHtcbiAgICAgICAgYnVmW3BvcysrXSA9IHZhbC5sbyAmIDEyNyB8IDEyODtcbiAgICAgICAgdmFsLmxvID0gKHZhbC5sbyA+Pj4gNyB8IHZhbC5oaSA8PCAyNSkgPj4+IDA7XG4gICAgICAgIHZhbC5oaSA+Pj49IDc7XG4gICAgfVxuICAgIHdoaWxlICh2YWwubG8gPiAxMjcpIHtcbiAgICAgICAgYnVmW3BvcysrXSA9IHZhbC5sbyAmIDEyNyB8IDEyODtcbiAgICAgICAgdmFsLmxvID0gdmFsLmxvID4+PiA3O1xuICAgIH1cbiAgICBidWZbcG9zKytdID0gdmFsLmxvO1xufVxuXG4vKipcbiAqIFdyaXRlcyBhbiB1bnNpZ25lZCA2NCBiaXQgdmFsdWUgYXMgYSB2YXJpbnQuXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS51aW50NjQgPSBmdW5jdGlvbiB3cml0ZV91aW50NjQodmFsdWUpIHtcbiAgICB2YXIgYml0cyA9IExvbmdCaXRzLmZyb20odmFsdWUpO1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlVmFyaW50NjQsIGJpdHMubGVuZ3RoKCksIGJpdHMpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgNjQgYml0IHZhbHVlIGFzIGEgdmFyaW50LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5pbnQ2NCA9IFdyaXRlci5wcm90b3R5cGUudWludDY0O1xuXG4vKipcbiAqIFdyaXRlcyBhIHNpZ25lZCA2NCBiaXQgdmFsdWUgYXMgYSB2YXJpbnQsIHppZy16YWcgZW5jb2RlZC5cbiAqIEBwYXJhbSB7TG9uZ3xudW1iZXJ8c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIGB2YWx1ZWAgaXMgYSBzdHJpbmcgYW5kIG5vIGxvbmcgbGlicmFyeSBpcyBwcmVzZW50LlxuICovXG5Xcml0ZXIucHJvdG90eXBlLnNpbnQ2NCA9IGZ1bmN0aW9uIHdyaXRlX3NpbnQ2NCh2YWx1ZSkge1xuICAgIHZhciBiaXRzID0gTG9uZ0JpdHMuZnJvbSh2YWx1ZSkuenpFbmNvZGUoKTtcbiAgICByZXR1cm4gdGhpcy5fcHVzaCh3cml0ZVZhcmludDY0LCBiaXRzLmxlbmd0aCgpLCBiaXRzKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgYm9vbGlzaCB2YWx1ZSBhcyBhIHZhcmludC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmJvb2wgPSBmdW5jdGlvbiB3cml0ZV9ib29sKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2god3JpdGVCeXRlLCAxLCB2YWx1ZSA/IDEgOiAwKTtcbn07XG5cbmZ1bmN0aW9uIHdyaXRlRml4ZWQzMih2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgYnVmW3BvcyAgICBdID0gIHZhbCAgICAgICAgICYgMjU1O1xuICAgIGJ1Zltwb3MgKyAxXSA9ICB2YWwgPj4+IDggICAmIDI1NTtcbiAgICBidWZbcG9zICsgMl0gPSAgdmFsID4+PiAxNiAgJiAyNTU7XG4gICAgYnVmW3BvcyArIDNdID0gIHZhbCA+Pj4gMjQ7XG59XG5cbi8qKlxuICogV3JpdGVzIGFuIHVuc2lnbmVkIDMyIGJpdCB2YWx1ZSBhcyBmaXhlZCAzMiBiaXRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5maXhlZDMyID0gZnVuY3Rpb24gd3JpdGVfZml4ZWQzMih2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlRml4ZWQzMiwgNCwgdmFsdWUgPj4+IDApO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgMzIgYml0IHZhbHVlIGFzIGZpeGVkIDMyIGJpdHMuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc2ZpeGVkMzIgPSBXcml0ZXIucHJvdG90eXBlLmZpeGVkMzI7XG5cbi8qKlxuICogV3JpdGVzIGFuIHVuc2lnbmVkIDY0IGJpdCB2YWx1ZSBhcyBmaXhlZCA2NCBiaXRzLlxuICogQHBhcmFtIHtMb25nfG51bWJlcnxzdHJpbmd9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gSWYgYHZhbHVlYCBpcyBhIHN0cmluZyBhbmQgbm8gbG9uZyBsaWJyYXJ5IGlzIHByZXNlbnQuXG4gKi9cbldyaXRlci5wcm90b3R5cGUuZml4ZWQ2NCA9IGZ1bmN0aW9uIHdyaXRlX2ZpeGVkNjQodmFsdWUpIHtcbiAgICB2YXIgYml0cyA9IExvbmdCaXRzLmZyb20odmFsdWUpO1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlRml4ZWQzMiwgNCwgYml0cy5sbykuX3B1c2god3JpdGVGaXhlZDMyLCA0LCBiaXRzLmhpKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgc2lnbmVkIDY0IGJpdCB2YWx1ZSBhcyBmaXhlZCA2NCBiaXRzLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5zZml4ZWQ2NCA9IFdyaXRlci5wcm90b3R5cGUuZml4ZWQ2NDtcblxuLyoqXG4gKiBXcml0ZXMgYSBmbG9hdCAoMzIgYml0KS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5mbG9hdCA9IGZ1bmN0aW9uIHdyaXRlX2Zsb2F0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2godXRpbC5mbG9hdC53cml0ZUZsb2F0TEUsIDQsIHZhbHVlKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgZG91YmxlICg2NCBiaXQgZmxvYXQpLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmRvdWJsZSA9IGZ1bmN0aW9uIHdyaXRlX2RvdWJsZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHV0aWwuZmxvYXQud3JpdGVEb3VibGVMRSwgOCwgdmFsdWUpO1xufTtcblxudmFyIHdyaXRlQnl0ZXMgPSB1dGlsLkFycmF5LnByb3RvdHlwZS5zZXRcbiAgICA/IGZ1bmN0aW9uIHdyaXRlQnl0ZXNfc2V0KHZhbCwgYnVmLCBwb3MpIHtcbiAgICAgICAgYnVmLnNldCh2YWwsIHBvcyk7IC8vIGFsc28gd29ya3MgZm9yIHBsYWluIGFycmF5IHZhbHVlc1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIDogZnVuY3Rpb24gd3JpdGVCeXRlc19mb3IodmFsLCBidWYsIHBvcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIGJ1Zltwb3MgKyBpXSA9IHZhbFtpXTtcbiAgICB9O1xuXG4vKipcbiAqIFdyaXRlcyBhIHNlcXVlbmNlIG9mIGJ5dGVzLlxuICogQHBhcmFtIHtVaW50OEFycmF5fHN0cmluZ30gdmFsdWUgQnVmZmVyIG9yIGJhc2U2NCBlbmNvZGVkIHN0cmluZyB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuYnl0ZXMgPSBmdW5jdGlvbiB3cml0ZV9ieXRlcyh2YWx1ZSkge1xuICAgIHZhciBsZW4gPSB2YWx1ZS5sZW5ndGggPj4+IDA7XG4gICAgaWYgKCFsZW4pXG4gICAgICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlQnl0ZSwgMSwgMCk7XG4gICAgaWYgKHV0aWwuaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHZhciBidWYgPSBXcml0ZXIuYWxsb2MobGVuID0gYmFzZTY0Lmxlbmd0aCh2YWx1ZSkpO1xuICAgICAgICBiYXNlNjQuZGVjb2RlKHZhbHVlLCBidWYsIDApO1xuICAgICAgICB2YWx1ZSA9IGJ1ZjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudWludDMyKGxlbikuX3B1c2god3JpdGVCeXRlcywgbGVuLCB2YWx1ZSk7XG59O1xuXG4vKipcbiAqIFdyaXRlcyBhIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc3RyaW5nID0gZnVuY3Rpb24gd3JpdGVfc3RyaW5nKHZhbHVlKSB7XG4gICAgdmFyIGxlbiA9IHV0ZjgubGVuZ3RoKHZhbHVlKTtcbiAgICByZXR1cm4gbGVuXG4gICAgICAgID8gdGhpcy51aW50MzIobGVuKS5fcHVzaCh1dGY4LndyaXRlLCBsZW4sIHZhbHVlKVxuICAgICAgICA6IHRoaXMuX3B1c2god3JpdGVCeXRlLCAxLCAwKTtcbn07XG5cbi8qKlxuICogRm9ya3MgdGhpcyB3cml0ZXIncyBzdGF0ZSBieSBwdXNoaW5nIGl0IHRvIGEgc3RhY2suXG4gKiBDYWxsaW5nIHtAbGluayBXcml0ZXIjcmVzZXR8cmVzZXR9IG9yIHtAbGluayBXcml0ZXIjbGRlbGltfGxkZWxpbX0gcmVzZXRzIHRoZSB3cml0ZXIgdG8gdGhlIHByZXZpb3VzIHN0YXRlLlxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuZm9yayA9IGZ1bmN0aW9uIGZvcmsoKSB7XG4gICAgdGhpcy5zdGF0ZXMgPSBuZXcgU3RhdGUodGhpcyk7XG4gICAgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbmV3IE9wKG5vb3AsIDAsIDApO1xuICAgIHRoaXMubGVuID0gMDtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVzZXRzIHRoaXMgaW5zdGFuY2UgdG8gdGhlIGxhc3Qgc3RhdGUuXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIGlmICh0aGlzLnN0YXRlcykge1xuICAgICAgICB0aGlzLmhlYWQgICA9IHRoaXMuc3RhdGVzLmhlYWQ7XG4gICAgICAgIHRoaXMudGFpbCAgID0gdGhpcy5zdGF0ZXMudGFpbDtcbiAgICAgICAgdGhpcy5sZW4gICAgPSB0aGlzLnN0YXRlcy5sZW47XG4gICAgICAgIHRoaXMuc3RhdGVzID0gdGhpcy5zdGF0ZXMubmV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSBuZXcgT3Aobm9vcCwgMCwgMCk7XG4gICAgICAgIHRoaXMubGVuICA9IDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZXNldHMgdG8gdGhlIGxhc3Qgc3RhdGUgYW5kIGFwcGVuZHMgdGhlIGZvcmsgc3RhdGUncyBjdXJyZW50IHdyaXRlIGxlbmd0aCBhcyBhIHZhcmludCBmb2xsb3dlZCBieSBpdHMgb3BlcmF0aW9ucy5cbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmxkZWxpbSA9IGZ1bmN0aW9uIGxkZWxpbSgpIHtcbiAgICB2YXIgaGVhZCA9IHRoaXMuaGVhZCxcbiAgICAgICAgdGFpbCA9IHRoaXMudGFpbCxcbiAgICAgICAgbGVuICA9IHRoaXMubGVuO1xuICAgIHRoaXMucmVzZXQoKS51aW50MzIobGVuKTtcbiAgICBpZiAobGVuKSB7XG4gICAgICAgIHRoaXMudGFpbC5uZXh0ID0gaGVhZC5uZXh0OyAvLyBza2lwIG5vb3BcbiAgICAgICAgdGhpcy50YWlsID0gdGFpbDtcbiAgICAgICAgdGhpcy5sZW4gKz0gbGVuO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRmluaXNoZXMgdGhlIHdyaXRlIG9wZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBGaW5pc2hlZCBidWZmZXJcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiBmaW5pc2goKSB7XG4gICAgdmFyIGhlYWQgPSB0aGlzLmhlYWQubmV4dCwgLy8gc2tpcCBub29wXG4gICAgICAgIGJ1ZiAgPSB0aGlzLmNvbnN0cnVjdG9yLmFsbG9jKHRoaXMubGVuKSxcbiAgICAgICAgcG9zICA9IDA7XG4gICAgd2hpbGUgKGhlYWQpIHtcbiAgICAgICAgaGVhZC5mbihoZWFkLnZhbCwgYnVmLCBwb3MpO1xuICAgICAgICBwb3MgKz0gaGVhZC5sZW47XG4gICAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgfVxuICAgIC8vIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gICAgcmV0dXJuIGJ1Zjtcbn07XG5cbldyaXRlci5fY29uZmlndXJlID0gZnVuY3Rpb24oQnVmZmVyV3JpdGVyXykge1xuICAgIEJ1ZmZlcldyaXRlciA9IEJ1ZmZlcldyaXRlcl87XG4gICAgV3JpdGVyLmNyZWF0ZSA9IGNyZWF0ZSgpO1xuICAgIEJ1ZmZlcldyaXRlci5fY29uZmlndXJlKCk7XG59O1xuIiwgIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBCdWZmZXJXcml0ZXI7XG5cbi8vIGV4dGVuZHMgV3JpdGVyXG52YXIgV3JpdGVyID0gcmVxdWlyZShcIi4vd3JpdGVyXCIpO1xuKEJ1ZmZlcldyaXRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFdyaXRlci5wcm90b3R5cGUpKS5jb25zdHJ1Y3RvciA9IEJ1ZmZlcldyaXRlcjtcblxudmFyIHV0aWwgPSByZXF1aXJlKFwiLi91dGlsL21pbmltYWxcIik7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyBidWZmZXIgd3JpdGVyIGluc3RhbmNlLlxuICogQGNsYXNzZGVzYyBXaXJlIGZvcm1hdCB3cml0ZXIgdXNpbmcgbm9kZSBidWZmZXJzLlxuICogQGV4dGVuZHMgV3JpdGVyXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gQnVmZmVyV3JpdGVyKCkge1xuICAgIFdyaXRlci5jYWxsKHRoaXMpO1xufVxuXG5CdWZmZXJXcml0ZXIuX2NvbmZpZ3VyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBBbGxvY2F0ZXMgYSBidWZmZXIgb2YgdGhlIHNwZWNpZmllZCBzaXplLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIEJ1ZmZlciBzaXplXG4gICAgICogQHJldHVybnMge0J1ZmZlcn0gQnVmZmVyXG4gICAgICovXG4gICAgQnVmZmVyV3JpdGVyLmFsbG9jID0gdXRpbC5fQnVmZmVyX2FsbG9jVW5zYWZlO1xuXG4gICAgQnVmZmVyV3JpdGVyLndyaXRlQnl0ZXNCdWZmZXIgPSB1dGlsLkJ1ZmZlciAmJiB1dGlsLkJ1ZmZlci5wcm90b3R5cGUgaW5zdGFuY2VvZiBVaW50OEFycmF5ICYmIHV0aWwuQnVmZmVyLnByb3RvdHlwZS5zZXQubmFtZSA9PT0gXCJzZXRcIlxuICAgICAgICA/IGZ1bmN0aW9uIHdyaXRlQnl0ZXNCdWZmZXJfc2V0KHZhbCwgYnVmLCBwb3MpIHtcbiAgICAgICAgICBidWYuc2V0KHZhbCwgcG9zKTsgLy8gZmFzdGVyIHRoYW4gY29weSAocmVxdWlyZXMgbm9kZSA+PSA0IHdoZXJlIEJ1ZmZlcnMgZXh0ZW5kIFVpbnQ4QXJyYXkgYW5kIHNldCBpcyBwcm9wZXJseSBpbmhlcml0ZWQpXG4gICAgICAgICAgLy8gYWxzbyB3b3JrcyBmb3IgcGxhaW4gYXJyYXkgdmFsdWVzXG4gICAgICAgIH1cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgOiBmdW5jdGlvbiB3cml0ZUJ5dGVzQnVmZmVyX2NvcHkodmFsLCBidWYsIHBvcykge1xuICAgICAgICAgIGlmICh2YWwuY29weSkgLy8gQnVmZmVyIHZhbHVlc1xuICAgICAgICAgICAgdmFsLmNvcHkoYnVmLCBwb3MsIDAsIHZhbC5sZW5ndGgpO1xuICAgICAgICAgIGVsc2UgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOykgLy8gcGxhaW4gYXJyYXkgdmFsdWVzXG4gICAgICAgICAgICBidWZbcG9zKytdID0gdmFsW2krK107XG4gICAgICAgIH07XG59O1xuXG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKi9cbkJ1ZmZlcldyaXRlci5wcm90b3R5cGUuYnl0ZXMgPSBmdW5jdGlvbiB3cml0ZV9ieXRlc19idWZmZXIodmFsdWUpIHtcbiAgICBpZiAodXRpbC5pc1N0cmluZyh2YWx1ZSkpXG4gICAgICAgIHZhbHVlID0gdXRpbC5fQnVmZmVyX2Zyb20odmFsdWUsIFwiYmFzZTY0XCIpO1xuICAgIHZhciBsZW4gPSB2YWx1ZS5sZW5ndGggPj4+IDA7XG4gICAgdGhpcy51aW50MzIobGVuKTtcbiAgICBpZiAobGVuKVxuICAgICAgICB0aGlzLl9wdXNoKEJ1ZmZlcldyaXRlci53cml0ZUJ5dGVzQnVmZmVyLCBsZW4sIHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIHdyaXRlU3RyaW5nQnVmZmVyKHZhbCwgYnVmLCBwb3MpIHtcbiAgICBpZiAodmFsLmxlbmd0aCA8IDQwKSAvLyBwbGFpbiBqcyBpcyBmYXN0ZXIgZm9yIHNob3J0IHN0cmluZ3MgKHByb2JhYmx5IGR1ZSB0byByZWR1bmRhbnQgYXNzZXJ0aW9ucylcbiAgICAgICAgdXRpbC51dGY4LndyaXRlKHZhbCwgYnVmLCBwb3MpO1xuICAgIGVsc2UgaWYgKGJ1Zi51dGY4V3JpdGUpXG4gICAgICAgIGJ1Zi51dGY4V3JpdGUodmFsLCBwb3MpO1xuICAgIGVsc2VcbiAgICAgICAgYnVmLndyaXRlKHZhbCwgcG9zKTtcbn1cblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqL1xuQnVmZmVyV3JpdGVyLnByb3RvdHlwZS5zdHJpbmcgPSBmdW5jdGlvbiB3cml0ZV9zdHJpbmdfYnVmZmVyKHZhbHVlKSB7XG4gICAgdmFyIGxlbiA9IHV0aWwuQnVmZmVyLmJ5dGVMZW5ndGgodmFsdWUpO1xuICAgIHRoaXMudWludDMyKGxlbik7XG4gICAgaWYgKGxlbilcbiAgICAgICAgdGhpcy5fcHVzaCh3cml0ZVN0cmluZ0J1ZmZlciwgbGVuLCB2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbi8qKlxuICogRmluaXNoZXMgdGhlIHdyaXRlIG9wZXJhdGlvbi5cbiAqIEBuYW1lIEJ1ZmZlcldyaXRlciNmaW5pc2hcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0J1ZmZlcn0gRmluaXNoZWQgYnVmZmVyXG4gKi9cblxuQnVmZmVyV3JpdGVyLl9jb25maWd1cmUoKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gUmVhZGVyO1xuXG52YXIgdXRpbCAgICAgID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xuXG52YXIgQnVmZmVyUmVhZGVyOyAvLyBjeWNsaWNcblxudmFyIExvbmdCaXRzICA9IHV0aWwuTG9uZ0JpdHMsXG4gICAgdXRmOCAgICAgID0gdXRpbC51dGY4O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gaW5kZXhPdXRPZlJhbmdlKHJlYWRlciwgd3JpdGVMZW5ndGgpIHtcbiAgICByZXR1cm4gUmFuZ2VFcnJvcihcImluZGV4IG91dCBvZiByYW5nZTogXCIgKyByZWFkZXIucG9zICsgXCIgKyBcIiArICh3cml0ZUxlbmd0aCB8fCAxKSArIFwiID4gXCIgKyByZWFkZXIubGVuKTtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IHJlYWRlciBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIGJ1ZmZlci5cbiAqIEBjbGFzc2Rlc2MgV2lyZSBmb3JtYXQgcmVhZGVyIHVzaW5nIGBVaW50OEFycmF5YCBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBgQXJyYXlgLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZmZlciBCdWZmZXIgdG8gcmVhZCBmcm9tXG4gKi9cbmZ1bmN0aW9uIFJlYWRlcihidWZmZXIpIHtcblxuICAgIC8qKlxuICAgICAqIFJlYWQgYnVmZmVyLlxuICAgICAqIEB0eXBlIHtVaW50OEFycmF5fVxuICAgICAqL1xuICAgIHRoaXMuYnVmID0gYnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogUmVhZCBidWZmZXIgcG9zaXRpb24uXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBvcyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBSZWFkIGJ1ZmZlciBsZW5ndGguXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxlbiA9IGJ1ZmZlci5sZW5ndGg7XG59XG5cbnZhciBjcmVhdGVfYXJyYXkgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gXCJ1bmRlZmluZWRcIlxuICAgID8gZnVuY3Rpb24gY3JlYXRlX3R5cGVkX2FycmF5KGJ1ZmZlcikge1xuICAgICAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBBcnJheS5pc0FycmF5KGJ1ZmZlcikpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlYWRlcihidWZmZXIpO1xuICAgICAgICB0aHJvdyBFcnJvcihcImlsbGVnYWwgYnVmZmVyXCIpO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIDogZnVuY3Rpb24gY3JlYXRlX2FycmF5KGJ1ZmZlcikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShidWZmZXIpKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWFkZXIoYnVmZmVyKTtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGJ1ZmZlclwiKTtcbiAgICB9O1xuXG52YXIgY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHJldHVybiB1dGlsLkJ1ZmZlclxuICAgICAgICA/IGZ1bmN0aW9uIGNyZWF0ZV9idWZmZXJfc2V0dXAoYnVmZmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gKFJlYWRlci5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGVfYnVmZmVyKGJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB1dGlsLkJ1ZmZlci5pc0J1ZmZlcihidWZmZXIpXG4gICAgICAgICAgICAgICAgICAgID8gbmV3IEJ1ZmZlclJlYWRlcihidWZmZXIpXG4gICAgICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICAgICAgICAgIDogY3JlYXRlX2FycmF5KGJ1ZmZlcik7XG4gICAgICAgICAgICB9KShidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIDogY3JlYXRlX2FycmF5O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHJlYWRlciB1c2luZyB0aGUgc3BlY2lmaWVkIGJ1ZmZlci5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtVaW50OEFycmF5fEJ1ZmZlcn0gYnVmZmVyIEJ1ZmZlciB0byByZWFkIGZyb21cbiAqIEByZXR1cm5zIHtSZWFkZXJ8QnVmZmVyUmVhZGVyfSBBIHtAbGluayBCdWZmZXJSZWFkZXJ9IGlmIGBidWZmZXJgIGlzIGEgQnVmZmVyLCBvdGhlcndpc2UgYSB7QGxpbmsgUmVhZGVyfVxuICogQHRocm93cyB7RXJyb3J9IElmIGBidWZmZXJgIGlzIG5vdCBhIHZhbGlkIGJ1ZmZlclxuICovXG5SZWFkZXIuY3JlYXRlID0gY3JlYXRlKCk7XG5cblJlYWRlci5wcm90b3R5cGUuX3NsaWNlID0gdXRpbC5BcnJheS5wcm90b3R5cGUuc3ViYXJyYXkgfHwgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gdXRpbC5BcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbi8qKlxuICogUmVhZHMgYSB2YXJpbnQgYXMgYW4gdW5zaWduZWQgMzIgYml0IHZhbHVlLlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUudWludDMyID0gKGZ1bmN0aW9uIHJlYWRfdWludDMyX3NldHVwKCkge1xuICAgIHZhciB2YWx1ZSA9IDQyOTQ5NjcyOTU7IC8vIG9wdGltaXplciB0eXBlLWhpbnQsIHRlbmRzIHRvIGRlb3B0IG90aGVyd2lzZSAoPyEpXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlYWRfdWludDMyKCkge1xuICAgICAgICB2YWx1ZSA9ICggICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcgICAgICAgKSA+Pj4gMDsgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KSByZXR1cm4gdmFsdWU7XG4gICAgICAgIHZhbHVlID0gKHZhbHVlIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgIDcpID4+PiAwOyBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSAodmFsdWUgfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA8PCAxNCkgPj4+IDA7IGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOCkgcmV0dXJuIHZhbHVlO1xuICAgICAgICB2YWx1ZSA9ICh2YWx1ZSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IDIxKSA+Pj4gMDsgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KSByZXR1cm4gdmFsdWU7XG4gICAgICAgIHZhbHVlID0gKHZhbHVlIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmICAxNSkgPDwgMjgpID4+PiAwOyBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpIHJldHVybiB2YWx1ZTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKCh0aGlzLnBvcyArPSA1KSA+IHRoaXMubGVuKSB7XG4gICAgICAgICAgICB0aGlzLnBvcyA9IHRoaXMubGVuO1xuICAgICAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMsIDEwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbn0pKCk7XG5cbi8qKlxuICogUmVhZHMgYSB2YXJpbnQgYXMgYSBzaWduZWQgMzIgYml0IHZhbHVlLlxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLmludDMyID0gZnVuY3Rpb24gcmVhZF9pbnQzMigpIHtcbiAgICByZXR1cm4gdGhpcy51aW50MzIoKSB8IDA7XG59O1xuXG4vKipcbiAqIFJlYWRzIGEgemlnLXphZyBlbmNvZGVkIHZhcmludCBhcyBhIHNpZ25lZCAzMiBiaXQgdmFsdWUuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuc2ludDMyID0gZnVuY3Rpb24gcmVhZF9zaW50MzIoKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy51aW50MzIoKTtcbiAgICByZXR1cm4gdmFsdWUgPj4+IDEgXiAtKHZhbHVlICYgMSkgfCAwO1xufTtcblxuLyogZXNsaW50LWRpc2FibGUgbm8taW52YWxpZC10aGlzICovXG5cbmZ1bmN0aW9uIHJlYWRMb25nVmFyaW50KCkge1xuICAgIC8vIHRlbmRzIHRvIGRlb3B0IHdpdGggbG9jYWwgdmFycyBmb3Igb2N0ZXQgZXRjLlxuICAgIHZhciBiaXRzID0gbmV3IExvbmdCaXRzKDAsIDApO1xuICAgIHZhciBpID0gMDtcbiAgICBpZiAodGhpcy5sZW4gLSB0aGlzLnBvcyA+IDQpIHsgLy8gZmFzdCByb3V0ZSAobG8pXG4gICAgICAgIGZvciAoOyBpIDwgNDsgKytpKSB7XG4gICAgICAgICAgICAvLyAxc3QuLjR0aFxuICAgICAgICAgICAgYml0cy5sbyA9IChiaXRzLmxvIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgaSAqIDcpID4+PiAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KVxuICAgICAgICAgICAgICAgIHJldHVybiBiaXRzO1xuICAgICAgICB9XG4gICAgICAgIC8vIDV0aFxuICAgICAgICBiaXRzLmxvID0gKGJpdHMubG8gfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA8PCAyOCkgPj4+IDA7XG4gICAgICAgIGJpdHMuaGkgPSAoYml0cy5oaSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpID4+ICA0KSA+Pj4gMDtcbiAgICAgICAgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KVxuICAgICAgICAgICAgcmV0dXJuIGJpdHM7XG4gICAgICAgIGkgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoOyBpIDwgMzsgKytpKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLnBvcyA+PSB0aGlzLmxlbilcbiAgICAgICAgICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcyk7XG4gICAgICAgICAgICAvLyAxc3QuLjN0aFxuICAgICAgICAgICAgYml0cy5sbyA9IChiaXRzLmxvIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgaSAqIDcpID4+PiAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KVxuICAgICAgICAgICAgICAgIHJldHVybiBiaXRzO1xuICAgICAgICB9XG4gICAgICAgIC8vIDR0aFxuICAgICAgICBiaXRzLmxvID0gKGJpdHMubG8gfCAodGhpcy5idWZbdGhpcy5wb3MrK10gJiAxMjcpIDw8IGkgKiA3KSA+Pj4gMDtcbiAgICAgICAgcmV0dXJuIGJpdHM7XG4gICAgfVxuICAgIGlmICh0aGlzLmxlbiAtIHRoaXMucG9zID4gNCkgeyAvLyBmYXN0IHJvdXRlIChoaSlcbiAgICAgICAgZm9yICg7IGkgPCA1OyArK2kpIHtcbiAgICAgICAgICAgIC8vIDZ0aC4uMTB0aFxuICAgICAgICAgICAgYml0cy5oaSA9IChiaXRzLmhpIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgaSAqIDcgKyAzKSA+Pj4gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOClcbiAgICAgICAgICAgICAgICByZXR1cm4gYml0cztcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoOyBpIDwgNTsgKytpKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLnBvcyA+PSB0aGlzLmxlbilcbiAgICAgICAgICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcyk7XG4gICAgICAgICAgICAvLyA2dGguLjEwdGhcbiAgICAgICAgICAgIGJpdHMuaGkgPSAoYml0cy5oaSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IGkgKiA3ICsgMykgPj4+IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpdHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICB0aHJvdyBFcnJvcihcImludmFsaWQgdmFyaW50IGVuY29kaW5nXCIpO1xufVxuXG4vKiBlc2xpbnQtZW5hYmxlIG5vLWludmFsaWQtdGhpcyAqL1xuXG4vKipcbiAqIFJlYWRzIGEgdmFyaW50IGFzIGEgc2lnbmVkIDY0IGJpdCB2YWx1ZS5cbiAqIEBuYW1lIFJlYWRlciNpbnQ2NFxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7TG9uZ30gVmFsdWUgcmVhZFxuICovXG5cbi8qKlxuICogUmVhZHMgYSB2YXJpbnQgYXMgYW4gdW5zaWduZWQgNjQgYml0IHZhbHVlLlxuICogQG5hbWUgUmVhZGVyI3VpbnQ2NFxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7TG9uZ30gVmFsdWUgcmVhZFxuICovXG5cbi8qKlxuICogUmVhZHMgYSB6aWctemFnIGVuY29kZWQgdmFyaW50IGFzIGEgc2lnbmVkIDY0IGJpdCB2YWx1ZS5cbiAqIEBuYW1lIFJlYWRlciNzaW50NjRcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0xvbmd9IFZhbHVlIHJlYWRcbiAqL1xuXG4vKipcbiAqIFJlYWRzIGEgdmFyaW50IGFzIGEgYm9vbGVhbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuYm9vbCA9IGZ1bmN0aW9uIHJlYWRfYm9vbCgpIHtcbiAgICByZXR1cm4gdGhpcy51aW50MzIoKSAhPT0gMDtcbn07XG5cbmZ1bmN0aW9uIHJlYWRGaXhlZDMyX2VuZChidWYsIGVuZCkgeyAvLyBub3RlIHRoYXQgdGhpcyB1c2VzIGBlbmRgLCBub3QgYHBvc2BcbiAgICByZXR1cm4gKGJ1ZltlbmQgLSA0XVxuICAgICAgICAgIHwgYnVmW2VuZCAtIDNdIDw8IDhcbiAgICAgICAgICB8IGJ1ZltlbmQgLSAyXSA8PCAxNlxuICAgICAgICAgIHwgYnVmW2VuZCAtIDFdIDw8IDI0KSA+Pj4gMDtcbn1cblxuLyoqXG4gKiBSZWFkcyBmaXhlZCAzMiBiaXRzIGFzIGFuIHVuc2lnbmVkIDMyIGJpdCBpbnRlZ2VyLlxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLmZpeGVkMzIgPSBmdW5jdGlvbiByZWFkX2ZpeGVkMzIoKSB7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodGhpcy5wb3MgKyA0ID4gdGhpcy5sZW4pXG4gICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCA0KTtcblxuICAgIHJldHVybiByZWFkRml4ZWQzMl9lbmQodGhpcy5idWYsIHRoaXMucG9zICs9IDQpO1xufTtcblxuLyoqXG4gKiBSZWFkcyBmaXhlZCAzMiBiaXRzIGFzIGEgc2lnbmVkIDMyIGJpdCBpbnRlZ2VyLlxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLnNmaXhlZDMyID0gZnVuY3Rpb24gcmVhZF9zZml4ZWQzMigpIHtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0aGlzLnBvcyArIDQgPiB0aGlzLmxlbilcbiAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMsIDQpO1xuXG4gICAgcmV0dXJuIHJlYWRGaXhlZDMyX2VuZCh0aGlzLmJ1ZiwgdGhpcy5wb3MgKz0gNCkgfCAwO1xufTtcblxuLyogZXNsaW50LWRpc2FibGUgbm8taW52YWxpZC10aGlzICovXG5cbmZ1bmN0aW9uIHJlYWRGaXhlZDY0KC8qIHRoaXM6IFJlYWRlciAqLykge1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHRoaXMucG9zICsgOCA+IHRoaXMubGVuKVxuICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgOCk7XG5cbiAgICByZXR1cm4gbmV3IExvbmdCaXRzKHJlYWRGaXhlZDMyX2VuZCh0aGlzLmJ1ZiwgdGhpcy5wb3MgKz0gNCksIHJlYWRGaXhlZDMyX2VuZCh0aGlzLmJ1ZiwgdGhpcy5wb3MgKz0gNCkpO1xufVxuXG4vKiBlc2xpbnQtZW5hYmxlIG5vLWludmFsaWQtdGhpcyAqL1xuXG4vKipcbiAqIFJlYWRzIGZpeGVkIDY0IGJpdHMuXG4gKiBAbmFtZSBSZWFkZXIjZml4ZWQ2NFxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7TG9uZ30gVmFsdWUgcmVhZFxuICovXG5cbi8qKlxuICogUmVhZHMgemlnLXphZyBlbmNvZGVkIGZpeGVkIDY0IGJpdHMuXG4gKiBAbmFtZSBSZWFkZXIjc2ZpeGVkNjRcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0xvbmd9IFZhbHVlIHJlYWRcbiAqL1xuXG4vKipcbiAqIFJlYWRzIGEgZmxvYXQgKDMyIGJpdCkgYXMgYSBudW1iZXIuXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5mbG9hdCA9IGZ1bmN0aW9uIHJlYWRfZmxvYXQoKSB7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodGhpcy5wb3MgKyA0ID4gdGhpcy5sZW4pXG4gICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCA0KTtcblxuICAgIHZhciB2YWx1ZSA9IHV0aWwuZmxvYXQucmVhZEZsb2F0TEUodGhpcy5idWYsIHRoaXMucG9zKTtcbiAgICB0aGlzLnBvcyArPSA0O1xuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbi8qKlxuICogUmVhZHMgYSBkb3VibGUgKDY0IGJpdCBmbG9hdCkgYXMgYSBudW1iZXIuXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5kb3VibGUgPSBmdW5jdGlvbiByZWFkX2RvdWJsZSgpIHtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0aGlzLnBvcyArIDggPiB0aGlzLmxlbilcbiAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMsIDQpO1xuXG4gICAgdmFyIHZhbHVlID0gdXRpbC5mbG9hdC5yZWFkRG91YmxlTEUodGhpcy5idWYsIHRoaXMucG9zKTtcbiAgICB0aGlzLnBvcyArPSA4O1xuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbi8qKlxuICogUmVhZHMgYSBzZXF1ZW5jZSBvZiBieXRlcyBwcmVjZWVkZWQgYnkgaXRzIGxlbmd0aCBhcyBhIHZhcmludC5cbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuYnl0ZXMgPSBmdW5jdGlvbiByZWFkX2J5dGVzKCkge1xuICAgIHZhciBsZW5ndGggPSB0aGlzLnVpbnQzMigpLFxuICAgICAgICBzdGFydCAgPSB0aGlzLnBvcyxcbiAgICAgICAgZW5kICAgID0gdGhpcy5wb3MgKyBsZW5ndGg7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZW5kID4gdGhpcy5sZW4pXG4gICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCBsZW5ndGgpO1xuXG4gICAgdGhpcy5wb3MgKz0gbGVuZ3RoO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuYnVmKSkgLy8gcGxhaW4gYXJyYXlcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIHJldHVybiBzdGFydCA9PT0gZW5kIC8vIGZpeCBmb3IgSUUgMTAvV2luOCBhbmQgb3RoZXJzJyBzdWJhcnJheSByZXR1cm5pbmcgYXJyYXkgb2Ygc2l6ZSAxXG4gICAgICAgID8gbmV3IHRoaXMuYnVmLmNvbnN0cnVjdG9yKDApXG4gICAgICAgIDogdGhpcy5fc2xpY2UuY2FsbCh0aGlzLmJ1Ziwgc3RhcnQsIGVuZCk7XG59O1xuXG4vKipcbiAqIFJlYWRzIGEgc3RyaW5nIHByZWNlZWRlZCBieSBpdHMgYnl0ZSBsZW5ndGggYXMgYSB2YXJpbnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuc3RyaW5nID0gZnVuY3Rpb24gcmVhZF9zdHJpbmcoKSB7XG4gICAgdmFyIGJ5dGVzID0gdGhpcy5ieXRlcygpO1xuICAgIHJldHVybiB1dGY4LnJlYWQoYnl0ZXMsIDAsIGJ5dGVzLmxlbmd0aCk7XG59O1xuXG4vKipcbiAqIFNraXBzIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIGJ5dGVzIGlmIHNwZWNpZmllZCwgb3RoZXJ3aXNlIHNraXBzIGEgdmFyaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIExlbmd0aCBpZiBrbm93biwgb3RoZXJ3aXNlIGEgdmFyaW50IGlzIGFzc3VtZWRcbiAqIEByZXR1cm5zIHtSZWFkZXJ9IGB0aGlzYFxuICovXG5SZWFkZXIucHJvdG90eXBlLnNraXAgPSBmdW5jdGlvbiBza2lwKGxlbmd0aCkge1xuICAgIGlmICh0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAodGhpcy5wb3MgKyBsZW5ndGggPiB0aGlzLmxlbilcbiAgICAgICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCBsZW5ndGgpO1xuICAgICAgICB0aGlzLnBvcyArPSBsZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPj0gdGhpcy5sZW4pXG4gICAgICAgICAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMpO1xuICAgICAgICB9IHdoaWxlICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSAmIDEyOCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTa2lwcyB0aGUgbmV4dCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgd2lyZSB0eXBlLlxuICogQHBhcmFtIHtudW1iZXJ9IHdpcmVUeXBlIFdpcmUgdHlwZSByZWNlaXZlZFxuICogQHJldHVybnMge1JlYWRlcn0gYHRoaXNgXG4gKi9cblJlYWRlci5wcm90b3R5cGUuc2tpcFR5cGUgPSBmdW5jdGlvbih3aXJlVHlwZSkge1xuICAgIHN3aXRjaCAod2lyZVR5cGUpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgdGhpcy5za2lwKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgdGhpcy5za2lwKDgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHRoaXMuc2tpcCh0aGlzLnVpbnQzMigpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICB3aGlsZSAoKHdpcmVUeXBlID0gdGhpcy51aW50MzIoKSAmIDcpICE9PSA0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwVHlwZSh3aXJlVHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgdGhpcy5za2lwKDQpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiaW52YWxpZCB3aXJlIHR5cGUgXCIgKyB3aXJlVHlwZSArIFwiIGF0IG9mZnNldCBcIiArIHRoaXMucG9zKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZWFkZXIuX2NvbmZpZ3VyZSA9IGZ1bmN0aW9uKEJ1ZmZlclJlYWRlcl8pIHtcbiAgICBCdWZmZXJSZWFkZXIgPSBCdWZmZXJSZWFkZXJfO1xuICAgIFJlYWRlci5jcmVhdGUgPSBjcmVhdGUoKTtcbiAgICBCdWZmZXJSZWFkZXIuX2NvbmZpZ3VyZSgpO1xuXG4gICAgdmFyIGZuID0gdXRpbC5Mb25nID8gXCJ0b0xvbmdcIiA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIFwidG9OdW1iZXJcIjtcbiAgICB1dGlsLm1lcmdlKFJlYWRlci5wcm90b3R5cGUsIHtcblxuICAgICAgICBpbnQ2NDogZnVuY3Rpb24gcmVhZF9pbnQ2NCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkTG9uZ1ZhcmludC5jYWxsKHRoaXMpW2ZuXShmYWxzZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdWludDY0OiBmdW5jdGlvbiByZWFkX3VpbnQ2NCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkTG9uZ1ZhcmludC5jYWxsKHRoaXMpW2ZuXSh0cnVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzaW50NjQ6IGZ1bmN0aW9uIHJlYWRfc2ludDY0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRMb25nVmFyaW50LmNhbGwodGhpcykuenpEZWNvZGUoKVtmbl0oZmFsc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpeGVkNjQ6IGZ1bmN0aW9uIHJlYWRfZml4ZWQ2NCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkRml4ZWQ2NC5jYWxsKHRoaXMpW2ZuXSh0cnVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZml4ZWQ2NDogZnVuY3Rpb24gcmVhZF9zZml4ZWQ2NCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkRml4ZWQ2NC5jYWxsKHRoaXMpW2ZuXShmYWxzZSk7XG4gICAgICAgIH1cblxuICAgIH0pO1xufTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gQnVmZmVyUmVhZGVyO1xuXG4vLyBleHRlbmRzIFJlYWRlclxudmFyIFJlYWRlciA9IHJlcXVpcmUoXCIuL3JlYWRlclwiKTtcbihCdWZmZXJSZWFkZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShSZWFkZXIucHJvdG90eXBlKSkuY29uc3RydWN0b3IgPSBCdWZmZXJSZWFkZXI7XG5cbnZhciB1dGlsID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgYnVmZmVyIHJlYWRlciBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgV2lyZSBmb3JtYXQgcmVhZGVyIHVzaW5nIG5vZGUgYnVmZmVycy5cbiAqIEBleHRlbmRzIFJlYWRlclxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIEJ1ZmZlciB0byByZWFkIGZyb21cbiAqL1xuZnVuY3Rpb24gQnVmZmVyUmVhZGVyKGJ1ZmZlcikge1xuICAgIFJlYWRlci5jYWxsKHRoaXMsIGJ1ZmZlcik7XG5cbiAgICAvKipcbiAgICAgKiBSZWFkIGJ1ZmZlci5cbiAgICAgKiBAbmFtZSBCdWZmZXJSZWFkZXIjYnVmXG4gICAgICogQHR5cGUge0J1ZmZlcn1cbiAgICAgKi9cbn1cblxuQnVmZmVyUmVhZGVyLl9jb25maWd1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAodXRpbC5CdWZmZXIpXG4gICAgICAgIEJ1ZmZlclJlYWRlci5wcm90b3R5cGUuX3NsaWNlID0gdXRpbC5CdWZmZXIucHJvdG90eXBlLnNsaWNlO1xufTtcblxuXG4vKipcbiAqIEBvdmVycmlkZVxuICovXG5CdWZmZXJSZWFkZXIucHJvdG90eXBlLnN0cmluZyA9IGZ1bmN0aW9uIHJlYWRfc3RyaW5nX2J1ZmZlcigpIHtcbiAgICB2YXIgbGVuID0gdGhpcy51aW50MzIoKTsgLy8gbW9kaWZpZXMgcG9zXG4gICAgcmV0dXJuIHRoaXMuYnVmLnV0ZjhTbGljZVxuICAgICAgICA/IHRoaXMuYnVmLnV0ZjhTbGljZSh0aGlzLnBvcywgdGhpcy5wb3MgPSBNYXRoLm1pbih0aGlzLnBvcyArIGxlbiwgdGhpcy5sZW4pKVxuICAgICAgICA6IHRoaXMuYnVmLnRvU3RyaW5nKFwidXRmLThcIiwgdGhpcy5wb3MsIHRoaXMucG9zID0gTWF0aC5taW4odGhpcy5wb3MgKyBsZW4sIHRoaXMubGVuKSk7XG59O1xuXG4vKipcbiAqIFJlYWRzIGEgc2VxdWVuY2Ugb2YgYnl0ZXMgcHJlY2VlZGVkIGJ5IGl0cyBsZW5ndGggYXMgYSB2YXJpbnQuXG4gKiBAbmFtZSBCdWZmZXJSZWFkZXIjYnl0ZXNcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0J1ZmZlcn0gVmFsdWUgcmVhZFxuICovXG5cbkJ1ZmZlclJlYWRlci5fY29uZmlndXJlKCk7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IFNlcnZpY2U7XG5cbnZhciB1dGlsID0gcmVxdWlyZShcIi4uL3V0aWwvbWluaW1hbFwiKTtcblxuLy8gRXh0ZW5kcyBFdmVudEVtaXR0ZXJcbihTZXJ2aWNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUodXRpbC5FdmVudEVtaXR0ZXIucHJvdG90eXBlKSkuY29uc3RydWN0b3IgPSBTZXJ2aWNlO1xuXG4vKipcbiAqIEEgc2VydmljZSBtZXRob2QgY2FsbGJhY2sgYXMgdXNlZCBieSB7QGxpbmsgcnBjLlNlcnZpY2VNZXRob2R8U2VydmljZU1ldGhvZH0uXG4gKlxuICogRGlmZmVycyBmcm9tIHtAbGluayBSUENJbXBsQ2FsbGJhY2t9IGluIHRoYXQgaXQgaXMgYW4gYWN0dWFsIGNhbGxiYWNrIG9mIGEgc2VydmljZSBtZXRob2Qgd2hpY2ggbWF5IG5vdCByZXR1cm4gYHJlc3BvbnNlID0gbnVsbGAuXG4gKiBAdHlwZWRlZiBycGMuU2VydmljZU1ldGhvZENhbGxiYWNrXG4gKiBAdGVtcGxhdGUgVFJlcyBleHRlbmRzIE1lc3NhZ2U8VFJlcz5cbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSB7RXJyb3J8bnVsbH0gZXJyb3IgRXJyb3IsIGlmIGFueVxuICogQHBhcmFtIHtUUmVzfSBbcmVzcG9uc2VdIFJlc3BvbnNlIG1lc3NhZ2VcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKi9cblxuLyoqXG4gKiBBIHNlcnZpY2UgbWV0aG9kIHBhcnQgb2YgYSB7QGxpbmsgcnBjLlNlcnZpY2V9IGFzIGNyZWF0ZWQgYnkge0BsaW5rIFNlcnZpY2UuY3JlYXRlfS5cbiAqIEB0eXBlZGVmIHJwYy5TZXJ2aWNlTWV0aG9kXG4gKiBAdGVtcGxhdGUgVFJlcSBleHRlbmRzIE1lc3NhZ2U8VFJlcT5cbiAqIEB0ZW1wbGF0ZSBUUmVzIGV4dGVuZHMgTWVzc2FnZTxUUmVzPlxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHBhcmFtIHtUUmVxfFByb3BlcnRpZXM8VFJlcT59IHJlcXVlc3QgUmVxdWVzdCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdFxuICogQHBhcmFtIHtycGMuU2VydmljZU1ldGhvZENhbGxiYWNrPFRSZXM+fSBbY2FsbGJhY2tdIE5vZGUtc3R5bGUgY2FsbGJhY2sgY2FsbGVkIHdpdGggdGhlIGVycm9yLCBpZiBhbnksIGFuZCB0aGUgcmVzcG9uc2UgbWVzc2FnZVxuICogQHJldHVybnMge1Byb21pc2U8TWVzc2FnZTxUUmVzPj59IFByb21pc2UgaWYgYGNhbGxiYWNrYCBoYXMgYmVlbiBvbWl0dGVkLCBvdGhlcndpc2UgYHVuZGVmaW5lZGBcbiAqL1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgUlBDIHNlcnZpY2UgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIEFuIFJQQyBzZXJ2aWNlIGFzIHJldHVybmVkIGJ5IHtAbGluayBTZXJ2aWNlI2NyZWF0ZX0uXG4gKiBAZXhwb3J0cyBycGMuU2VydmljZVxuICogQGV4dGVuZHMgdXRpbC5FdmVudEVtaXR0ZXJcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtSUENJbXBsfSBycGNJbXBsIFJQQyBpbXBsZW1lbnRhdGlvblxuICogQHBhcmFtIHtib29sZWFufSBbcmVxdWVzdERlbGltaXRlZD1mYWxzZV0gV2hldGhlciByZXF1ZXN0cyBhcmUgbGVuZ3RoLWRlbGltaXRlZFxuICogQHBhcmFtIHtib29sZWFufSBbcmVzcG9uc2VEZWxpbWl0ZWQ9ZmFsc2VdIFdoZXRoZXIgcmVzcG9uc2VzIGFyZSBsZW5ndGgtZGVsaW1pdGVkXG4gKi9cbmZ1bmN0aW9uIFNlcnZpY2UocnBjSW1wbCwgcmVxdWVzdERlbGltaXRlZCwgcmVzcG9uc2VEZWxpbWl0ZWQpIHtcblxuICAgIGlmICh0eXBlb2YgcnBjSW1wbCAhPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJycGNJbXBsIG11c3QgYmUgYSBmdW5jdGlvblwiKTtcblxuICAgIHV0aWwuRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBSUEMgaW1wbGVtZW50YXRpb24uIEJlY29tZXMgYG51bGxgIG9uY2UgdGhlIHNlcnZpY2UgaXMgZW5kZWQuXG4gICAgICogQHR5cGUge1JQQ0ltcGx8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnJwY0ltcGwgPSBycGNJbXBsO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciByZXF1ZXN0cyBhcmUgbGVuZ3RoLWRlbGltaXRlZC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJlcXVlc3REZWxpbWl0ZWQgPSBCb29sZWFuKHJlcXVlc3REZWxpbWl0ZWQpO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciByZXNwb25zZXMgYXJlIGxlbmd0aC1kZWxpbWl0ZWQuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yZXNwb25zZURlbGltaXRlZCA9IEJvb2xlYW4ocmVzcG9uc2VEZWxpbWl0ZWQpO1xufVxuXG4vKipcbiAqIENhbGxzIGEgc2VydmljZSBtZXRob2QgdGhyb3VnaCB7QGxpbmsgcnBjLlNlcnZpY2UjcnBjSW1wbHxycGNJbXBsfS5cbiAqIEBwYXJhbSB7TWV0aG9kfHJwYy5TZXJ2aWNlTWV0aG9kPFRSZXEsVFJlcz59IG1ldGhvZCBSZWZsZWN0ZWQgb3Igc3RhdGljIG1ldGhvZFxuICogQHBhcmFtIHtDb25zdHJ1Y3RvcjxUUmVxPn0gcmVxdWVzdEN0b3IgUmVxdWVzdCBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtDb25zdHJ1Y3RvcjxUUmVzPn0gcmVzcG9uc2VDdG9yIFJlc3BvbnNlIGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1RSZXF8UHJvcGVydGllczxUUmVxPn0gcmVxdWVzdCBSZXF1ZXN0IG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0XG4gKiBAcGFyYW0ge3JwYy5TZXJ2aWNlTWV0aG9kQ2FsbGJhY2s8VFJlcz59IGNhbGxiYWNrIFNlcnZpY2UgY2FsbGJhY2tcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKiBAdGVtcGxhdGUgVFJlcSBleHRlbmRzIE1lc3NhZ2U8VFJlcT5cbiAqIEB0ZW1wbGF0ZSBUUmVzIGV4dGVuZHMgTWVzc2FnZTxUUmVzPlxuICovXG5TZXJ2aWNlLnByb3RvdHlwZS5ycGNDYWxsID0gZnVuY3Rpb24gcnBjQ2FsbChtZXRob2QsIHJlcXVlc3RDdG9yLCByZXNwb25zZUN0b3IsIHJlcXVlc3QsIGNhbGxiYWNrKSB7XG5cbiAgICBpZiAoIXJlcXVlc3QpXG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcInJlcXVlc3QgbXVzdCBiZSBzcGVjaWZpZWRcIik7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFjYWxsYmFjaylcbiAgICAgICAgcmV0dXJuIHV0aWwuYXNQcm9taXNlKHJwY0NhbGwsIHNlbGYsIG1ldGhvZCwgcmVxdWVzdEN0b3IsIHJlc3BvbnNlQ3RvciwgcmVxdWVzdCk7XG5cbiAgICBpZiAoIXNlbGYucnBjSW1wbCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBjYWxsYmFjayhFcnJvcihcImFscmVhZHkgZW5kZWRcIikpOyB9LCAwKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gc2VsZi5ycGNJbXBsKFxuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgcmVxdWVzdEN0b3Jbc2VsZi5yZXF1ZXN0RGVsaW1pdGVkID8gXCJlbmNvZGVEZWxpbWl0ZWRcIiA6IFwiZW5jb2RlXCJdKHJlcXVlc3QpLmZpbmlzaCgpLFxuICAgICAgICAgICAgZnVuY3Rpb24gcnBjQ2FsbGJhY2soZXJyLCByZXNwb25zZSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCBlcnIsIG1ldGhvZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmVuZCgvKiBlbmRlZEJ5UlBDICovIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlIGluc3RhbmNlb2YgcmVzcG9uc2VDdG9yKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSByZXNwb25zZUN0b3Jbc2VsZi5yZXNwb25zZURlbGltaXRlZCA/IFwiZGVjb2RlRGVsaW1pdGVkXCIgOiBcImRlY29kZVwiXShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lbWl0KFwiZXJyb3JcIiwgZXJyLCBtZXRob2QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzZWxmLmVtaXQoXCJkYXRhXCIsIHJlc3BvbnNlLCBtZXRob2QpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCByZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNlbGYuZW1pdChcImVycm9yXCIsIGVyciwgbWV0aG9kKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgY2FsbGJhY2soZXJyKTsgfSwgMCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufTtcblxuLyoqXG4gKiBFbmRzIHRoaXMgc2VydmljZSBhbmQgZW1pdHMgdGhlIGBlbmRgIGV2ZW50LlxuICogQHBhcmFtIHtib29sZWFufSBbZW5kZWRCeVJQQz1mYWxzZV0gV2hldGhlciB0aGUgc2VydmljZSBoYXMgYmVlbiBlbmRlZCBieSB0aGUgUlBDIGltcGxlbWVudGF0aW9uLlxuICogQHJldHVybnMge3JwYy5TZXJ2aWNlfSBgdGhpc2BcbiAqL1xuU2VydmljZS5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gZW5kKGVuZGVkQnlSUEMpIHtcbiAgICBpZiAodGhpcy5ycGNJbXBsKSB7XG4gICAgICAgIGlmICghZW5kZWRCeVJQQykgLy8gc2lnbmFsIGVuZCB0byBycGNJbXBsXG4gICAgICAgICAgICB0aGlzLnJwY0ltcGwobnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgICAgIHRoaXMucnBjSW1wbCA9IG51bGw7XG4gICAgICAgIHRoaXMuZW1pdChcImVuZFwiKS5vZmYoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuIiwgIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIFN0cmVhbWluZyBSUEMgaGVscGVycy5cbiAqIEBuYW1lc3BhY2VcbiAqL1xudmFyIHJwYyA9IGV4cG9ydHM7XG5cbi8qKlxuICogUlBDIGltcGxlbWVudGF0aW9uIHBhc3NlZCB0byB7QGxpbmsgU2VydmljZSNjcmVhdGV9IHBlcmZvcm1pbmcgYSBzZXJ2aWNlIHJlcXVlc3Qgb24gbmV0d29yayBsZXZlbCwgaS5lLiBieSB1dGlsaXppbmcgaHR0cCByZXF1ZXN0cyBvciB3ZWJzb2NrZXRzLlxuICogQHR5cGVkZWYgUlBDSW1wbFxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHBhcmFtIHtNZXRob2R8cnBjLlNlcnZpY2VNZXRob2Q8TWVzc2FnZTx7fT4sTWVzc2FnZTx7fT4+fSBtZXRob2QgUmVmbGVjdGVkIG9yIHN0YXRpYyBtZXRob2QgYmVpbmcgY2FsbGVkXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHJlcXVlc3REYXRhIFJlcXVlc3QgZGF0YVxuICogQHBhcmFtIHtSUENJbXBsQ2FsbGJhY2t9IGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICogQGV4YW1wbGVcbiAqIGZ1bmN0aW9uIHJwY0ltcGwobWV0aG9kLCByZXF1ZXN0RGF0YSwgY2FsbGJhY2spIHtcbiAqICAgICBpZiAocHJvdG9idWYudXRpbC5sY0ZpcnN0KG1ldGhvZC5uYW1lKSAhPT0gXCJteU1ldGhvZFwiKSAvLyBjb21wYXRpYmxlIHdpdGggc3RhdGljIGNvZGVcbiAqICAgICAgICAgdGhyb3cgRXJyb3IoXCJubyBzdWNoIG1ldGhvZFwiKTtcbiAqICAgICBhc3luY2hyb25vdXNseU9idGFpbkFSZXNwb25zZShyZXF1ZXN0RGF0YSwgZnVuY3Rpb24oZXJyLCByZXNwb25zZURhdGEpIHtcbiAqICAgICAgICAgY2FsbGJhY2soZXJyLCByZXNwb25zZURhdGEpO1xuICogICAgIH0pO1xuICogfVxuICovXG5cbi8qKlxuICogTm9kZS1zdHlsZSBjYWxsYmFjayBhcyB1c2VkIGJ5IHtAbGluayBSUENJbXBsfS5cbiAqIEB0eXBlZGVmIFJQQ0ltcGxDYWxsYmFja1xuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHBhcmFtIHtFcnJvcnxudWxsfSBlcnJvciBFcnJvciwgaWYgYW55LCBvdGhlcndpc2UgYG51bGxgXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl8bnVsbH0gW3Jlc3BvbnNlXSBSZXNwb25zZSBkYXRhIG9yIGBudWxsYCB0byBzaWduYWwgZW5kIG9mIHN0cmVhbSwgaWYgdGhlcmUgaGFzbid0IGJlZW4gYW4gZXJyb3JcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKi9cblxucnBjLlNlcnZpY2UgPSByZXF1aXJlKFwiLi9ycGMvc2VydmljZVwiKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0ge307XG5cbi8qKlxuICogTmFtZWQgcm9vdHMuXG4gKiBUaGlzIGlzIHdoZXJlIHBianMgc3RvcmVzIGdlbmVyYXRlZCBzdHJ1Y3R1cmVzICh0aGUgb3B0aW9uIGAtciwgLS1yb290YCBzcGVjaWZpZXMgYSBuYW1lKS5cbiAqIENhbiBhbHNvIGJlIHVzZWQgbWFudWFsbHkgdG8gbWFrZSByb290cyBhdmFpbGFibGUgYWNjcm9zcyBtb2R1bGVzLlxuICogQG5hbWUgcm9vdHNcbiAqIEB0eXBlIHtPYmplY3QuPHN0cmluZyxSb290Pn1cbiAqIEBleGFtcGxlXG4gKiAvLyBwYmpzIC1yIG15cm9vdCAtbyBjb21waWxlZC5qcyAuLi5cbiAqXG4gKiAvLyBpbiBhbm90aGVyIG1vZHVsZTpcbiAqIHJlcXVpcmUoXCIuL2NvbXBpbGVkLmpzXCIpO1xuICpcbiAqIC8vIGluIGFueSBzdWJzZXF1ZW50IG1vZHVsZTpcbiAqIHZhciByb290ID0gcHJvdG9idWYucm9vdHNbXCJteXJvb3RcIl07XG4gKi9cbiIsICJcInVzZSBzdHJpY3RcIjtcbnZhciBwcm90b2J1ZiA9IGV4cG9ydHM7XG5cbi8qKlxuICogQnVpbGQgdHlwZSwgb25lIG9mIGBcImZ1bGxcImAsIGBcImxpZ2h0XCJgIG9yIGBcIm1pbmltYWxcImAuXG4gKiBAbmFtZSBidWlsZFxuICogQHR5cGUge3N0cmluZ31cbiAqIEBjb25zdFxuICovXG5wcm90b2J1Zi5idWlsZCA9IFwibWluaW1hbFwiO1xuXG4vLyBTZXJpYWxpemF0aW9uXG5wcm90b2J1Zi5Xcml0ZXIgICAgICAgPSByZXF1aXJlKFwiLi93cml0ZXJcIik7XG5wcm90b2J1Zi5CdWZmZXJXcml0ZXIgPSByZXF1aXJlKFwiLi93cml0ZXJfYnVmZmVyXCIpO1xucHJvdG9idWYuUmVhZGVyICAgICAgID0gcmVxdWlyZShcIi4vcmVhZGVyXCIpO1xucHJvdG9idWYuQnVmZmVyUmVhZGVyID0gcmVxdWlyZShcIi4vcmVhZGVyX2J1ZmZlclwiKTtcblxuLy8gVXRpbGl0eVxucHJvdG9idWYudXRpbCAgICAgICAgID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xucHJvdG9idWYucnBjICAgICAgICAgID0gcmVxdWlyZShcIi4vcnBjXCIpO1xucHJvdG9idWYucm9vdHMgICAgICAgID0gcmVxdWlyZShcIi4vcm9vdHNcIik7XG5wcm90b2J1Zi5jb25maWd1cmUgICAgPSBjb25maWd1cmU7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4vKipcbiAqIFJlY29uZmlndXJlcyB0aGUgbGlicmFyeSBhY2NvcmRpbmcgdG8gdGhlIGVudmlyb25tZW50LlxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuZnVuY3Rpb24gY29uZmlndXJlKCkge1xuICAgIHByb3RvYnVmLnV0aWwuX2NvbmZpZ3VyZSgpO1xuICAgIHByb3RvYnVmLldyaXRlci5fY29uZmlndXJlKHByb3RvYnVmLkJ1ZmZlcldyaXRlcik7XG4gICAgcHJvdG9idWYuUmVhZGVyLl9jb25maWd1cmUocHJvdG9idWYuQnVmZmVyUmVhZGVyKTtcbn1cblxuLy8gU2V0IHVwIGJ1ZmZlciB1dGlsaXR5IGFjY29yZGluZyB0byB0aGUgZW52aXJvbm1lbnRcbmNvbmZpZ3VyZSgpO1xuIiwgIi8vIG1pbmltYWwgbGlicmFyeSBlbnRyeSBwb2ludC5cblxuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3NyYy9pbmRleC1taW5pbWFsXCIpO1xuIiwgIm1vZHVsZS5leHBvcnRzID0gTG9uZztcclxuXHJcbi8qKlxyXG4gKiB3YXNtIG9wdGltaXphdGlvbnMsIHRvIGRvIG5hdGl2ZSBpNjQgbXVsdGlwbGljYXRpb24gYW5kIGRpdmlkZVxyXG4gKi9cclxudmFyIHdhc20gPSBudWxsO1xyXG5cclxudHJ5IHtcclxuICB3YXNtID0gbmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKG5ldyBXZWJBc3NlbWJseS5Nb2R1bGUobmV3IFVpbnQ4QXJyYXkoW1xyXG4gICAgMCwgOTcsIDExNSwgMTA5LCAxLCAwLCAwLCAwLCAxLCAxMywgMiwgOTYsIDAsIDEsIDEyNywgOTYsIDQsIDEyNywgMTI3LCAxMjcsIDEyNywgMSwgMTI3LCAzLCA3LCA2LCAwLCAxLCAxLCAxLCAxLCAxLCA2LCA2LCAxLCAxMjcsIDEsIDY1LCAwLCAxMSwgNywgNTAsIDYsIDMsIDEwOSwgMTE3LCAxMDgsIDAsIDEsIDUsIDEwMCwgMTA1LCAxMTgsIDk1LCAxMTUsIDAsIDIsIDUsIDEwMCwgMTA1LCAxMTgsIDk1LCAxMTcsIDAsIDMsIDUsIDExNCwgMTAxLCAxMDksIDk1LCAxMTUsIDAsIDQsIDUsIDExNCwgMTAxLCAxMDksIDk1LCAxMTcsIDAsIDUsIDgsIDEwMywgMTAxLCAxMTYsIDk1LCAxMDQsIDEwNSwgMTAzLCAxMDQsIDAsIDAsIDEwLCAxOTEsIDEsIDYsIDQsIDAsIDM1LCAwLCAxMSwgMzYsIDEsIDEsIDEyNiwgMzIsIDAsIDE3MywgMzIsIDEsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMzIsIDIsIDE3MywgMzIsIDMsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMTI2LCAzNCwgNCwgNjYsIDMyLCAxMzUsIDE2NywgMzYsIDAsIDMyLCA0LCAxNjcsIDExLCAzNiwgMSwgMSwgMTI2LCAzMiwgMCwgMTczLCAzMiwgMSwgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAzMiwgMiwgMTczLCAzMiwgMywgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAxMjcsIDM0LCA0LCA2NiwgMzIsIDEzNSwgMTY3LCAzNiwgMCwgMzIsIDQsIDE2NywgMTEsIDM2LCAxLCAxLCAxMjYsIDMyLCAwLCAxNzMsIDMyLCAxLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDMyLCAyLCAxNzMsIDMyLCAzLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDEyOCwgMzQsIDQsIDY2LCAzMiwgMTM1LCAxNjcsIDM2LCAwLCAzMiwgNCwgMTY3LCAxMSwgMzYsIDEsIDEsIDEyNiwgMzIsIDAsIDE3MywgMzIsIDEsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMzIsIDIsIDE3MywgMzIsIDMsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMTI5LCAzNCwgNCwgNjYsIDMyLCAxMzUsIDE2NywgMzYsIDAsIDMyLCA0LCAxNjcsIDExLCAzNiwgMSwgMSwgMTI2LCAzMiwgMCwgMTczLCAzMiwgMSwgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAzMiwgMiwgMTczLCAzMiwgMywgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAxMzAsIDM0LCA0LCA2NiwgMzIsIDEzNSwgMTY3LCAzNiwgMCwgMzIsIDQsIDE2NywgMTFcclxuICBdKSksIHt9KS5leHBvcnRzO1xyXG59IGNhdGNoIChlKSB7XHJcbiAgLy8gbm8gd2FzbSBzdXBwb3J0IDooXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb25zdHJ1Y3RzIGEgNjQgYml0IHR3bydzLWNvbXBsZW1lbnQgaW50ZWdlciwgZ2l2ZW4gaXRzIGxvdyBhbmQgaGlnaCAzMiBiaXQgdmFsdWVzIGFzICpzaWduZWQqIGludGVnZXJzLlxyXG4gKiAgU2VlIHRoZSBmcm9tKiBmdW5jdGlvbnMgYmVsb3cgZm9yIG1vcmUgY29udmVuaWVudCB3YXlzIG9mIGNvbnN0cnVjdGluZyBMb25ncy5cclxuICogQGV4cG9ydHMgTG9uZ1xyXG4gKiBAY2xhc3MgQSBMb25nIGNsYXNzIGZvciByZXByZXNlbnRpbmcgYSA2NCBiaXQgdHdvJ3MtY29tcGxlbWVudCBpbnRlZ2VyIHZhbHVlLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbG93IFRoZSBsb3cgKHNpZ25lZCkgMzIgYml0cyBvZiB0aGUgbG9uZ1xyXG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaCBUaGUgaGlnaCAoc2lnbmVkKSAzMiBiaXRzIG9mIHRoZSBsb25nXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5mdW5jdGlvbiBMb25nKGxvdywgaGlnaCwgdW5zaWduZWQpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBsb3cgMzIgYml0cyBhcyBhIHNpZ25lZCB2YWx1ZS5cclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHRoaXMubG93ID0gbG93IHwgMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBoaWdoIDMyIGJpdHMgYXMgYSBzaWduZWQgdmFsdWUuXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICB0aGlzLmhpZ2ggPSBoaWdoIHwgMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LlxyXG4gICAgICogQHR5cGUge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHRoaXMudW5zaWduZWQgPSAhIXVuc2lnbmVkO1xyXG59XHJcblxyXG4vLyBUaGUgaW50ZXJuYWwgcmVwcmVzZW50YXRpb24gb2YgYSBsb25nIGlzIHRoZSB0d28gZ2l2ZW4gc2lnbmVkLCAzMi1iaXQgdmFsdWVzLlxyXG4vLyBXZSB1c2UgMzItYml0IHBpZWNlcyBiZWNhdXNlIHRoZXNlIGFyZSB0aGUgc2l6ZSBvZiBpbnRlZ2VycyBvbiB3aGljaFxyXG4vLyBKYXZhc2NyaXB0IHBlcmZvcm1zIGJpdC1vcGVyYXRpb25zLiAgRm9yIG9wZXJhdGlvbnMgbGlrZSBhZGRpdGlvbiBhbmRcclxuLy8gbXVsdGlwbGljYXRpb24sIHdlIHNwbGl0IGVhY2ggbnVtYmVyIGludG8gMTYgYml0IHBpZWNlcywgd2hpY2ggY2FuIGVhc2lseSBiZVxyXG4vLyBtdWx0aXBsaWVkIHdpdGhpbiBKYXZhc2NyaXB0J3MgZmxvYXRpbmctcG9pbnQgcmVwcmVzZW50YXRpb24gd2l0aG91dCBvdmVyZmxvd1xyXG4vLyBvciBjaGFuZ2UgaW4gc2lnbi5cclxuLy9cclxuLy8gSW4gdGhlIGFsZ29yaXRobXMgYmVsb3csIHdlIGZyZXF1ZW50bHkgcmVkdWNlIHRoZSBuZWdhdGl2ZSBjYXNlIHRvIHRoZVxyXG4vLyBwb3NpdGl2ZSBjYXNlIGJ5IG5lZ2F0aW5nIHRoZSBpbnB1dChzKSBhbmQgdGhlbiBwb3N0LXByb2Nlc3NpbmcgdGhlIHJlc3VsdC5cclxuLy8gTm90ZSB0aGF0IHdlIG11c3QgQUxXQVlTIGNoZWNrIHNwZWNpYWxseSB3aGV0aGVyIHRob3NlIHZhbHVlcyBhcmUgTUlOX1ZBTFVFXHJcbi8vICgtMl42MykgYmVjYXVzZSAtTUlOX1ZBTFVFID09IE1JTl9WQUxVRSAoc2luY2UgMl42MyBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgYXNcclxuLy8gYSBwb3NpdGl2ZSBudW1iZXIsIGl0IG92ZXJmbG93cyBiYWNrIGludG8gYSBuZWdhdGl2ZSkuICBOb3QgaGFuZGxpbmcgdGhpc1xyXG4vLyBjYXNlIHdvdWxkIG9mdGVuIHJlc3VsdCBpbiBpbmZpbml0ZSByZWN1cnNpb24uXHJcbi8vXHJcbi8vIENvbW1vbiBjb25zdGFudCB2YWx1ZXMgWkVSTywgT05FLCBORUdfT05FLCBldGMuIGFyZSBkZWZpbmVkIGJlbG93IHRoZSBmcm9tKlxyXG4vLyBtZXRob2RzIG9uIHdoaWNoIHRoZXkgZGVwZW5kLlxyXG5cclxuLyoqXHJcbiAqIEFuIGluZGljYXRvciB1c2VkIHRvIHJlbGlhYmx5IGRldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYSBMb25nIG9yIG5vdC5cclxuICogQHR5cGUge2Jvb2xlYW59XHJcbiAqIEBjb25zdFxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuTG9uZy5wcm90b3R5cGUuX19pc0xvbmdfXztcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb25nLnByb3RvdHlwZSwgXCJfX2lzTG9uZ19fXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7Kn0gb2JqIE9iamVjdFxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICogQGlubmVyXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0xvbmcob2JqKSB7XHJcbiAgICByZXR1cm4gKG9iaiAmJiBvYmpbXCJfX2lzTG9uZ19fXCJdKSA9PT0gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoZSBzcGVjaWZpZWQgb2JqZWN0IGlzIGEgTG9uZy5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7Kn0gb2JqIE9iamVjdFxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmcuaXNMb25nID0gaXNMb25nO1xyXG5cclxuLyoqXHJcbiAqIEEgY2FjaGUgb2YgdGhlIExvbmcgcmVwcmVzZW50YXRpb25zIG9mIHNtYWxsIGludGVnZXIgdmFsdWVzLlxyXG4gKiBAdHlwZSB7IU9iamVjdH1cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgSU5UX0NBQ0hFID0ge307XHJcblxyXG4vKipcclxuICogQSBjYWNoZSBvZiB0aGUgTG9uZyByZXByZXNlbnRhdGlvbnMgb2Ygc21hbGwgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuXHJcbiAqIEB0eXBlIHshT2JqZWN0fVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBVSU5UX0NBQ0hFID0ge307XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkXHJcbiAqIEByZXR1cm5zIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tSW50KHZhbHVlLCB1bnNpZ25lZCkge1xyXG4gICAgdmFyIG9iaiwgY2FjaGVkT2JqLCBjYWNoZTtcclxuICAgIGlmICh1bnNpZ25lZCkge1xyXG4gICAgICAgIHZhbHVlID4+Pj0gMDtcclxuICAgICAgICBpZiAoY2FjaGUgPSAoMCA8PSB2YWx1ZSAmJiB2YWx1ZSA8IDI1NikpIHtcclxuICAgICAgICAgICAgY2FjaGVkT2JqID0gVUlOVF9DQUNIRVt2YWx1ZV07XHJcbiAgICAgICAgICAgIGlmIChjYWNoZWRPYmopXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkT2JqO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvYmogPSBmcm9tQml0cyh2YWx1ZSwgKHZhbHVlIHwgMCkgPCAwID8gLTEgOiAwLCB0cnVlKTtcclxuICAgICAgICBpZiAoY2FjaGUpXHJcbiAgICAgICAgICAgIFVJTlRfQ0FDSEVbdmFsdWVdID0gb2JqO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhbHVlIHw9IDA7XHJcbiAgICAgICAgaWYgKGNhY2hlID0gKC0xMjggPD0gdmFsdWUgJiYgdmFsdWUgPCAxMjgpKSB7XHJcbiAgICAgICAgICAgIGNhY2hlZE9iaiA9IElOVF9DQUNIRVt2YWx1ZV07XHJcbiAgICAgICAgICAgIGlmIChjYWNoZWRPYmopXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkT2JqO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvYmogPSBmcm9tQml0cyh2YWx1ZSwgdmFsdWUgPCAwID8gLTEgOiAwLCBmYWxzZSk7XHJcbiAgICAgICAgaWYgKGNhY2hlKVxyXG4gICAgICAgICAgICBJTlRfQ0FDSEVbdmFsdWVdID0gb2JqO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgTG9uZyByZXByZXNlbnRpbmcgdGhlIGdpdmVuIDMyIGJpdCBpbnRlZ2VyIHZhbHVlLlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSAzMiBiaXQgaW50ZWdlciBpbiBxdWVzdGlvblxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxyXG4gKi9cclxuTG9uZy5mcm9tSW50ID0gZnJvbUludDtcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcclxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWRcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbmZ1bmN0aW9uIGZyb21OdW1iZXIodmFsdWUsIHVuc2lnbmVkKSB7XHJcbiAgICBpZiAoaXNOYU4odmFsdWUpKVxyXG4gICAgICAgIHJldHVybiB1bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcclxuICAgIGlmICh1bnNpZ25lZCkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IDApXHJcbiAgICAgICAgICAgIHJldHVybiBVWkVSTztcclxuICAgICAgICBpZiAodmFsdWUgPj0gVFdPX1BXUl82NF9EQkwpXHJcbiAgICAgICAgICAgIHJldHVybiBNQVhfVU5TSUdORURfVkFMVUU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICh2YWx1ZSA8PSAtVFdPX1BXUl82M19EQkwpXHJcbiAgICAgICAgICAgIHJldHVybiBNSU5fVkFMVUU7XHJcbiAgICAgICAgaWYgKHZhbHVlICsgMSA+PSBUV09fUFdSXzYzX0RCTClcclxuICAgICAgICAgICAgcmV0dXJuIE1BWF9WQUxVRTtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZSA8IDApXHJcbiAgICAgICAgcmV0dXJuIGZyb21OdW1iZXIoLXZhbHVlLCB1bnNpZ25lZCkubmVnKCk7XHJcbiAgICByZXR1cm4gZnJvbUJpdHMoKHZhbHVlICUgVFdPX1BXUl8zMl9EQkwpIHwgMCwgKHZhbHVlIC8gVFdPX1BXUl8zMl9EQkwpIHwgMCwgdW5zaWduZWQpO1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIExvbmcgcmVwcmVzZW50aW5nIHRoZSBnaXZlbiB2YWx1ZSwgcHJvdmlkZWQgdGhhdCBpdCBpcyBhIGZpbml0ZSBudW1iZXIuIE90aGVyd2lzZSwgemVybyBpcyByZXR1cm5lZC5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgbnVtYmVyIGluIHF1ZXN0aW9uXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQHJldHVybnMgeyFMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXHJcbiAqL1xyXG5Mb25nLmZyb21OdW1iZXIgPSBmcm9tTnVtYmVyO1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3dCaXRzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBoaWdoQml0c1xyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxuZnVuY3Rpb24gZnJvbUJpdHMobG93Qml0cywgaGlnaEJpdHMsIHVuc2lnbmVkKSB7XHJcbiAgICByZXR1cm4gbmV3IExvbmcobG93Qml0cywgaGlnaEJpdHMsIHVuc2lnbmVkKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgYSBMb25nIHJlcHJlc2VudGluZyB0aGUgNjQgYml0IGludGVnZXIgdGhhdCBjb21lcyBieSBjb25jYXRlbmF0aW5nIHRoZSBnaXZlbiBsb3cgYW5kIGhpZ2ggYml0cy4gRWFjaCBpc1xyXG4gKiAgYXNzdW1lZCB0byB1c2UgMzIgYml0cy5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3dCaXRzIFRoZSBsb3cgMzIgYml0c1xyXG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaEJpdHMgVGhlIGhpZ2ggMzIgYml0c1xyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxyXG4gKi9cclxuTG9uZy5mcm9tQml0cyA9IGZyb21CaXRzO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcn0gYmFzZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZXhwb25lbnRcclxuICogQHJldHVybnMge251bWJlcn1cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgcG93X2RibCA9IE1hdGgucG93OyAvLyBVc2VkIDQgdGltZXMgKDQqOCB0byAxNSs0KVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICogQHBhcmFtIHsoYm9vbGVhbnxudW1iZXIpPX0gdW5zaWduZWRcclxuICogQHBhcmFtIHtudW1iZXI9fSByYWRpeFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxuZnVuY3Rpb24gZnJvbVN0cmluZyhzdHIsIHVuc2lnbmVkLCByYWRpeCkge1xyXG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDApXHJcbiAgICAgICAgdGhyb3cgRXJyb3IoJ2VtcHR5IHN0cmluZycpO1xyXG4gICAgaWYgKHN0ciA9PT0gXCJOYU5cIiB8fCBzdHIgPT09IFwiSW5maW5pdHlcIiB8fCBzdHIgPT09IFwiK0luZmluaXR5XCIgfHwgc3RyID09PSBcIi1JbmZpbml0eVwiKVxyXG4gICAgICAgIHJldHVybiBaRVJPO1xyXG4gICAgaWYgKHR5cGVvZiB1bnNpZ25lZCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAvLyBGb3IgZ29vZy5tYXRoLmxvbmcgY29tcGF0aWJpbGl0eVxyXG4gICAgICAgIHJhZGl4ID0gdW5zaWduZWQsXHJcbiAgICAgICAgdW5zaWduZWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdW5zaWduZWQgPSAhISB1bnNpZ25lZDtcclxuICAgIH1cclxuICAgIHJhZGl4ID0gcmFkaXggfHwgMTA7XHJcbiAgICBpZiAocmFkaXggPCAyIHx8IDM2IDwgcmFkaXgpXHJcbiAgICAgICAgdGhyb3cgUmFuZ2VFcnJvcigncmFkaXgnKTtcclxuXHJcbiAgICB2YXIgcDtcclxuICAgIGlmICgocCA9IHN0ci5pbmRleE9mKCctJykpID4gMClcclxuICAgICAgICB0aHJvdyBFcnJvcignaW50ZXJpb3IgaHlwaGVuJyk7XHJcbiAgICBlbHNlIGlmIChwID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGZyb21TdHJpbmcoc3RyLnN1YnN0cmluZygxKSwgdW5zaWduZWQsIHJhZGl4KS5uZWcoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEbyBzZXZlcmFsICg4KSBkaWdpdHMgZWFjaCB0aW1lIHRocm91Z2ggdGhlIGxvb3AsIHNvIGFzIHRvXHJcbiAgICAvLyBtaW5pbWl6ZSB0aGUgY2FsbHMgdG8gdGhlIHZlcnkgZXhwZW5zaXZlIGVtdWxhdGVkIGRpdi5cclxuICAgIHZhciByYWRpeFRvUG93ZXIgPSBmcm9tTnVtYmVyKHBvd19kYmwocmFkaXgsIDgpKTtcclxuXHJcbiAgICB2YXIgcmVzdWx0ID0gWkVSTztcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSArPSA4KSB7XHJcbiAgICAgICAgdmFyIHNpemUgPSBNYXRoLm1pbig4LCBzdHIubGVuZ3RoIC0gaSksXHJcbiAgICAgICAgICAgIHZhbHVlID0gcGFyc2VJbnQoc3RyLnN1YnN0cmluZyhpLCBpICsgc2l6ZSksIHJhZGl4KTtcclxuICAgICAgICBpZiAoc2l6ZSA8IDgpIHtcclxuICAgICAgICAgICAgdmFyIHBvd2VyID0gZnJvbU51bWJlcihwb3dfZGJsKHJhZGl4LCBzaXplKSk7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5tdWwocG93ZXIpLmFkZChmcm9tTnVtYmVyKHZhbHVlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0Lm11bChyYWRpeFRvUG93ZXIpO1xyXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuYWRkKGZyb21OdW1iZXIodmFsdWUpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXN1bHQudW5zaWduZWQgPSB1bnNpZ25lZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgTG9uZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gc3RyaW5nLCB3cml0dGVuIHVzaW5nIHRoZSBzcGVjaWZpZWQgcmFkaXguXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIFRoZSB0ZXh0dWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBMb25nXHJcbiAqIEBwYXJhbSB7KGJvb2xlYW58bnVtYmVyKT19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQHBhcmFtIHtudW1iZXI9fSByYWRpeCBUaGUgcmFkaXggaW4gd2hpY2ggdGhlIHRleHQgaXMgd3JpdHRlbiAoMi0zNiksIGRlZmF1bHRzIHRvIDEwXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxyXG4gKi9cclxuTG9uZy5mcm9tU3RyaW5nID0gZnJvbVN0cmluZztcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfCF7bG93OiBudW1iZXIsIGhpZ2g6IG51bWJlciwgdW5zaWduZWQ6IGJvb2xlYW59fSB2YWxcclxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWRcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbmZ1bmN0aW9uIGZyb21WYWx1ZSh2YWwsIHVuc2lnbmVkKSB7XHJcbiAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpXHJcbiAgICAgICAgcmV0dXJuIGZyb21OdW1iZXIodmFsLCB1bnNpZ25lZCk7XHJcbiAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpXHJcbiAgICAgICAgcmV0dXJuIGZyb21TdHJpbmcodmFsLCB1bnNpZ25lZCk7XHJcbiAgICAvLyBUaHJvd3MgZm9yIG5vbi1vYmplY3RzLCBjb252ZXJ0cyBub24taW5zdGFuY2VvZiBMb25nOlxyXG4gICAgcmV0dXJuIGZyb21CaXRzKHZhbC5sb3csIHZhbC5oaWdoLCB0eXBlb2YgdW5zaWduZWQgPT09ICdib29sZWFuJyA/IHVuc2lnbmVkIDogdmFsLnVuc2lnbmVkKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIHRoZSBzcGVjaWZpZWQgdmFsdWUgdG8gYSBMb25nIHVzaW5nIHRoZSBhcHByb3ByaWF0ZSBmcm9tKiBmdW5jdGlvbiBmb3IgaXRzIHR5cGUuXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd8IXtsb3c6IG51bWJlciwgaGlnaDogbnVtYmVyLCB1bnNpZ25lZDogYm9vbGVhbn19IHZhbCBWYWx1ZVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEByZXR1cm5zIHshTG9uZ31cclxuICovXHJcbkxvbmcuZnJvbVZhbHVlID0gZnJvbVZhbHVlO1xyXG5cclxuLy8gTk9URTogdGhlIGNvbXBpbGVyIHNob3VsZCBpbmxpbmUgdGhlc2UgY29uc3RhbnQgdmFsdWVzIGJlbG93IGFuZCB0aGVuIHJlbW92ZSB0aGVzZSB2YXJpYWJsZXMsIHNvIHRoZXJlIHNob3VsZCBiZVxyXG4vLyBubyBydW50aW1lIHBlbmFsdHkgZm9yIHRoZXNlLlxyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHtudW1iZXJ9XHJcbiAqIEBjb25zdFxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBUV09fUFdSXzE2X0RCTCA9IDEgPDwgMTY7XHJcblxyXG4vKipcclxuICogQHR5cGUge251bWJlcn1cclxuICogQGNvbnN0XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFRXT19QV1JfMjRfREJMID0gMSA8PCAyNDtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7bnVtYmVyfVxyXG4gKiBAY29uc3RcclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgVFdPX1BXUl8zMl9EQkwgPSBUV09fUFdSXzE2X0RCTCAqIFRXT19QV1JfMTZfREJMO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHtudW1iZXJ9XHJcbiAqIEBjb25zdFxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBUV09fUFdSXzY0X0RCTCA9IFRXT19QV1JfMzJfREJMICogVFdPX1BXUl8zMl9EQkw7XHJcblxyXG4vKipcclxuICogQHR5cGUge251bWJlcn1cclxuICogQGNvbnN0XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFRXT19QV1JfNjNfREJMID0gVFdPX1BXUl82NF9EQkwgLyAyO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGNvbnN0XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFRXT19QV1JfMjQgPSBmcm9tSW50KFRXT19QV1JfMjRfREJMKTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFpFUk8gPSBmcm9tSW50KDApO1xyXG5cclxuLyoqXHJcbiAqIFNpZ25lZCB6ZXJvLlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nLlpFUk8gPSBaRVJPO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgVVpFUk8gPSBmcm9tSW50KDAsIHRydWUpO1xyXG5cclxuLyoqXHJcbiAqIFVuc2lnbmVkIHplcm8uXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuVVpFUk8gPSBVWkVSTztcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIE9ORSA9IGZyb21JbnQoMSk7XHJcblxyXG4vKipcclxuICogU2lnbmVkIG9uZS5cclxuICogQHR5cGUgeyFMb25nfVxyXG4gKi9cclxuTG9uZy5PTkUgPSBPTkU7XHJcblxyXG4vKipcclxuICogQHR5cGUgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBVT05FID0gZnJvbUludCgxLCB0cnVlKTtcclxuXHJcbi8qKlxyXG4gKiBVbnNpZ25lZCBvbmUuXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuVU9ORSA9IFVPTkU7XHJcblxyXG4vKipcclxuICogQHR5cGUgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBORUdfT05FID0gZnJvbUludCgtMSk7XHJcblxyXG4vKipcclxuICogU2lnbmVkIG5lZ2F0aXZlIG9uZS5cclxuICogQHR5cGUgeyFMb25nfVxyXG4gKi9cclxuTG9uZy5ORUdfT05FID0gTkVHX09ORTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIE1BWF9WQUxVRSA9IGZyb21CaXRzKDB4RkZGRkZGRkZ8MCwgMHg3RkZGRkZGRnwwLCBmYWxzZSk7XHJcblxyXG4vKipcclxuICogTWF4aW11bSBzaWduZWQgdmFsdWUuXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuTUFYX1ZBTFVFID0gTUFYX1ZBTFVFO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgTUFYX1VOU0lHTkVEX1ZBTFVFID0gZnJvbUJpdHMoMHhGRkZGRkZGRnwwLCAweEZGRkZGRkZGfDAsIHRydWUpO1xyXG5cclxuLyoqXHJcbiAqIE1heGltdW0gdW5zaWduZWQgdmFsdWUuXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuTUFYX1VOU0lHTkVEX1ZBTFVFID0gTUFYX1VOU0lHTkVEX1ZBTFVFO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgTUlOX1ZBTFVFID0gZnJvbUJpdHMoMCwgMHg4MDAwMDAwMHwwLCBmYWxzZSk7XHJcblxyXG4vKipcclxuICogTWluaW11bSBzaWduZWQgdmFsdWUuXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuTUlOX1ZBTFVFID0gTUlOX1ZBTFVFO1xyXG5cclxuLyoqXHJcbiAqIEBhbGlhcyBMb25nLnByb3RvdHlwZVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBMb25nUHJvdG90eXBlID0gTG9uZy5wcm90b3R5cGU7XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhlIExvbmcgdG8gYSAzMiBiaXQgaW50ZWdlciwgYXNzdW1pbmcgaXQgaXMgYSAzMiBiaXQgaW50ZWdlci5cclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9JbnQgPSBmdW5jdGlvbiB0b0ludCgpIHtcclxuICAgIHJldHVybiB0aGlzLnVuc2lnbmVkID8gdGhpcy5sb3cgPj4+IDAgOiB0aGlzLmxvdztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGUgTG9uZyB0byBhIHRoZSBuZWFyZXN0IGZsb2F0aW5nLXBvaW50IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgdmFsdWUgKGRvdWJsZSwgNTMgYml0IG1hbnRpc3NhKS5cclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9OdW1iZXIgPSBmdW5jdGlvbiB0b051bWJlcigpIHtcclxuICAgIGlmICh0aGlzLnVuc2lnbmVkKVxyXG4gICAgICAgIHJldHVybiAoKHRoaXMuaGlnaCA+Pj4gMCkgKiBUV09fUFdSXzMyX0RCTCkgKyAodGhpcy5sb3cgPj4+IDApO1xyXG4gICAgcmV0dXJuIHRoaXMuaGlnaCAqIFRXT19QV1JfMzJfREJMICsgKHRoaXMubG93ID4+PiAwKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGUgTG9uZyB0byBhIHN0cmluZyB3cml0dGVuIGluIHRoZSBzcGVjaWZpZWQgcmFkaXguXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0gcmFkaXggUmFkaXggKDItMzYpLCBkZWZhdWx0cyB0byAxMFxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKiBAb3ZlcnJpZGVcclxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gSWYgYHJhZGl4YCBpcyBvdXQgb2YgcmFuZ2VcclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhyYWRpeCkge1xyXG4gICAgcmFkaXggPSByYWRpeCB8fCAxMDtcclxuICAgIGlmIChyYWRpeCA8IDIgfHwgMzYgPCByYWRpeClcclxuICAgICAgICB0aHJvdyBSYW5nZUVycm9yKCdyYWRpeCcpO1xyXG4gICAgaWYgKHRoaXMuaXNaZXJvKCkpXHJcbiAgICAgICAgcmV0dXJuICcwJztcclxuICAgIGlmICh0aGlzLmlzTmVnYXRpdmUoKSkgeyAvLyBVbnNpZ25lZCBMb25ncyBhcmUgbmV2ZXIgbmVnYXRpdmVcclxuICAgICAgICBpZiAodGhpcy5lcShNSU5fVkFMVUUpKSB7XHJcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gY2hhbmdlIHRoZSBMb25nIHZhbHVlIGJlZm9yZSBpdCBjYW4gYmUgbmVnYXRlZCwgc28gd2UgcmVtb3ZlXHJcbiAgICAgICAgICAgIC8vIHRoZSBib3R0b20tbW9zdCBkaWdpdCBpbiB0aGlzIGJhc2UgYW5kIHRoZW4gcmVjdXJzZSB0byBkbyB0aGUgcmVzdC5cclxuICAgICAgICAgICAgdmFyIHJhZGl4TG9uZyA9IGZyb21OdW1iZXIocmFkaXgpLFxyXG4gICAgICAgICAgICAgICAgZGl2ID0gdGhpcy5kaXYocmFkaXhMb25nKSxcclxuICAgICAgICAgICAgICAgIHJlbTEgPSBkaXYubXVsKHJhZGl4TG9uZykuc3ViKHRoaXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGl2LnRvU3RyaW5nKHJhZGl4KSArIHJlbTEudG9JbnQoKS50b1N0cmluZyhyYWRpeCk7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiAnLScgKyB0aGlzLm5lZygpLnRvU3RyaW5nKHJhZGl4KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEbyBzZXZlcmFsICg2KSBkaWdpdHMgZWFjaCB0aW1lIHRocm91Z2ggdGhlIGxvb3AsIHNvIGFzIHRvXHJcbiAgICAvLyBtaW5pbWl6ZSB0aGUgY2FsbHMgdG8gdGhlIHZlcnkgZXhwZW5zaXZlIGVtdWxhdGVkIGRpdi5cclxuICAgIHZhciByYWRpeFRvUG93ZXIgPSBmcm9tTnVtYmVyKHBvd19kYmwocmFkaXgsIDYpLCB0aGlzLnVuc2lnbmVkKSxcclxuICAgICAgICByZW0gPSB0aGlzO1xyXG4gICAgdmFyIHJlc3VsdCA9ICcnO1xyXG4gICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICB2YXIgcmVtRGl2ID0gcmVtLmRpdihyYWRpeFRvUG93ZXIpLFxyXG4gICAgICAgICAgICBpbnR2YWwgPSByZW0uc3ViKHJlbURpdi5tdWwocmFkaXhUb1Bvd2VyKSkudG9JbnQoKSA+Pj4gMCxcclxuICAgICAgICAgICAgZGlnaXRzID0gaW50dmFsLnRvU3RyaW5nKHJhZGl4KTtcclxuICAgICAgICByZW0gPSByZW1EaXY7XHJcbiAgICAgICAgaWYgKHJlbS5pc1plcm8oKSlcclxuICAgICAgICAgICAgcmV0dXJuIGRpZ2l0cyArIHJlc3VsdDtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgd2hpbGUgKGRpZ2l0cy5sZW5ndGggPCA2KVxyXG4gICAgICAgICAgICAgICAgZGlnaXRzID0gJzAnICsgZGlnaXRzO1xyXG4gICAgICAgICAgICByZXN1bHQgPSAnJyArIGRpZ2l0cyArIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgaGlnaCAzMiBiaXRzIGFzIGEgc2lnbmVkIGludGVnZXIuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFNpZ25lZCBoaWdoIGJpdHNcclxuICovXHJcbkxvbmdQcm90b3R5cGUuZ2V0SGlnaEJpdHMgPSBmdW5jdGlvbiBnZXRIaWdoQml0cygpIHtcclxuICAgIHJldHVybiB0aGlzLmhpZ2g7XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgaGlnaCAzMiBiaXRzIGFzIGFuIHVuc2lnbmVkIGludGVnZXIuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFVuc2lnbmVkIGhpZ2ggYml0c1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5nZXRIaWdoQml0c1Vuc2lnbmVkID0gZnVuY3Rpb24gZ2V0SGlnaEJpdHNVbnNpZ25lZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmhpZ2ggPj4+IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgbG93IDMyIGJpdHMgYXMgYSBzaWduZWQgaW50ZWdlci5cclxuICogQHJldHVybnMge251bWJlcn0gU2lnbmVkIGxvdyBiaXRzXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmdldExvd0JpdHMgPSBmdW5jdGlvbiBnZXRMb3dCaXRzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubG93O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIGxvdyAzMiBiaXRzIGFzIGFuIHVuc2lnbmVkIGludGVnZXIuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFVuc2lnbmVkIGxvdyBiaXRzXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmdldExvd0JpdHNVbnNpZ25lZCA9IGZ1bmN0aW9uIGdldExvd0JpdHNVbnNpZ25lZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmxvdyA+Pj4gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBHZXRzIHRoZSBudW1iZXIgb2YgYml0cyBuZWVkZWQgdG8gcmVwcmVzZW50IHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiB0aGlzIExvbmcuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmdldE51bUJpdHNBYnMgPSBmdW5jdGlvbiBnZXROdW1CaXRzQWJzKCkge1xyXG4gICAgaWYgKHRoaXMuaXNOZWdhdGl2ZSgpKSAvLyBVbnNpZ25lZCBMb25ncyBhcmUgbmV2ZXIgbmVnYXRpdmVcclxuICAgICAgICByZXR1cm4gdGhpcy5lcShNSU5fVkFMVUUpID8gNjQgOiB0aGlzLm5lZygpLmdldE51bUJpdHNBYnMoKTtcclxuICAgIHZhciB2YWwgPSB0aGlzLmhpZ2ggIT0gMCA/IHRoaXMuaGlnaCA6IHRoaXMubG93O1xyXG4gICAgZm9yICh2YXIgYml0ID0gMzE7IGJpdCA+IDA7IGJpdC0tKVxyXG4gICAgICAgIGlmICgodmFsICYgKDEgPDwgYml0KSkgIT0gMClcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICByZXR1cm4gdGhpcy5oaWdoICE9IDAgPyBiaXQgKyAzMyA6IGJpdCArIDE7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZXF1YWxzIHplcm8uXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5pc1plcm8gPSBmdW5jdGlvbiBpc1plcm8oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5oaWdoID09PSAwICYmIHRoaXMubG93ID09PSAwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGVxdWFscyB6ZXJvLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2lzWmVyb30uXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5lcXogPSBMb25nUHJvdG90eXBlLmlzWmVybztcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBuZWdhdGl2ZS5cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmlzTmVnYXRpdmUgPSBmdW5jdGlvbiBpc05lZ2F0aXZlKCkge1xyXG4gICAgcmV0dXJuICF0aGlzLnVuc2lnbmVkICYmIHRoaXMuaGlnaCA8IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgcG9zaXRpdmUuXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5pc1Bvc2l0aXZlID0gZnVuY3Rpb24gaXNQb3NpdGl2ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnVuc2lnbmVkIHx8IHRoaXMuaGlnaCA+PSAwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIG9kZC5cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmlzT2RkID0gZnVuY3Rpb24gaXNPZGQoKSB7XHJcbiAgICByZXR1cm4gKHRoaXMubG93ICYgMSkgPT09IDE7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZXZlbi5cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmlzRXZlbiA9IGZ1bmN0aW9uIGlzRXZlbigpIHtcclxuICAgIHJldHVybiAodGhpcy5sb3cgJiAxKSA9PT0gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBlcXVhbHMgdGhlIHNwZWNpZmllZCdzLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcclxuICAgIGlmICghaXNMb25nKG90aGVyKSlcclxuICAgICAgICBvdGhlciA9IGZyb21WYWx1ZShvdGhlcik7XHJcbiAgICBpZiAodGhpcy51bnNpZ25lZCAhPT0gb3RoZXIudW5zaWduZWQgJiYgKHRoaXMuaGlnaCA+Pj4gMzEpID09PSAxICYmIChvdGhlci5oaWdoID4+PiAzMSkgPT09IDEpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgcmV0dXJuIHRoaXMuaGlnaCA9PT0gb3RoZXIuaGlnaCAmJiB0aGlzLmxvdyA9PT0gb3RoZXIubG93O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGVxdWFscyB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjZXF1YWxzfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmVxID0gTG9uZ1Byb3RvdHlwZS5lcXVhbHM7XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZGlmZmVycyBmcm9tIHRoZSBzcGVjaWZpZWQncy5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUubm90RXF1YWxzID0gZnVuY3Rpb24gbm90RXF1YWxzKG90aGVyKSB7XHJcbiAgICByZXR1cm4gIXRoaXMuZXEoLyogdmFsaWRhdGVzICovIG90aGVyKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBkaWZmZXJzIGZyb20gdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI25vdEVxdWFsc30uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5uZXEgPSBMb25nUHJvdG90eXBlLm5vdEVxdWFscztcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBkaWZmZXJzIGZyb20gdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI25vdEVxdWFsc30uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5uZSA9IExvbmdQcm90b3R5cGUubm90RXF1YWxzO1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGxlc3MgdGhhbiB0aGUgc3BlY2lmaWVkJ3MuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmxlc3NUaGFuID0gZnVuY3Rpb24gbGVzc1RoYW4ob3RoZXIpIHtcclxuICAgIHJldHVybiB0aGlzLmNvbXAoLyogdmFsaWRhdGVzICovIG90aGVyKSA8IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbGVzcyB0aGFuIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNsZXNzVGhhbn0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5sdCA9IExvbmdQcm90b3R5cGUubGVzc1RoYW47XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRoZSBzcGVjaWZpZWQncy5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUubGVzc1RoYW5PckVxdWFsID0gZnVuY3Rpb24gbGVzc1RoYW5PckVxdWFsKG90aGVyKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb21wKC8qIHZhbGlkYXRlcyAqLyBvdGhlcikgPD0gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2xlc3NUaGFuT3JFcXVhbH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5sdGUgPSBMb25nUHJvdG90eXBlLmxlc3NUaGFuT3JFcXVhbDtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2xlc3NUaGFuT3JFcXVhbH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5sZSA9IExvbmdQcm90b3R5cGUubGVzc1RoYW5PckVxdWFsO1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgc3BlY2lmaWVkJ3MuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuID0gZnVuY3Rpb24gZ3JlYXRlclRoYW4ob3RoZXIpIHtcclxuICAgIHJldHVybiB0aGlzLmNvbXAoLyogdmFsaWRhdGVzICovIG90aGVyKSA+IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNncmVhdGVyVGhhbn0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5ndCA9IExvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW47XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRoZSBzcGVjaWZpZWQncy5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW5PckVxdWFsID0gZnVuY3Rpb24gZ3JlYXRlclRoYW5PckVxdWFsKG90aGVyKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb21wKC8qIHZhbGlkYXRlcyAqLyBvdGhlcikgPj0gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2dyZWF0ZXJUaGFuT3JFcXVhbH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5ndGUgPSBMb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuT3JFcXVhbDtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2dyZWF0ZXJUaGFuT3JFcXVhbH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5nZSA9IExvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW5PckVxdWFsO1xyXG5cclxuLyoqXHJcbiAqIENvbXBhcmVzIHRoaXMgTG9uZydzIHZhbHVlIHdpdGggdGhlIHNwZWNpZmllZCdzLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IDAgaWYgdGhleSBhcmUgdGhlIHNhbWUsIDEgaWYgdGhlIHRoaXMgaXMgZ3JlYXRlciBhbmQgLTFcclxuICogIGlmIHRoZSBnaXZlbiBvbmUgaXMgZ3JlYXRlclxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZShvdGhlcikge1xyXG4gICAgaWYgKCFpc0xvbmcob3RoZXIpKVxyXG4gICAgICAgIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcclxuICAgIGlmICh0aGlzLmVxKG90aGVyKSlcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIHZhciB0aGlzTmVnID0gdGhpcy5pc05lZ2F0aXZlKCksXHJcbiAgICAgICAgb3RoZXJOZWcgPSBvdGhlci5pc05lZ2F0aXZlKCk7XHJcbiAgICBpZiAodGhpc05lZyAmJiAhb3RoZXJOZWcpXHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgaWYgKCF0aGlzTmVnICYmIG90aGVyTmVnKVxyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgLy8gQXQgdGhpcyBwb2ludCB0aGUgc2lnbiBiaXRzIGFyZSB0aGUgc2FtZVxyXG4gICAgaWYgKCF0aGlzLnVuc2lnbmVkKVxyXG4gICAgICAgIHJldHVybiB0aGlzLnN1YihvdGhlcikuaXNOZWdhdGl2ZSgpID8gLTEgOiAxO1xyXG4gICAgLy8gQm90aCBhcmUgcG9zaXRpdmUgaWYgYXQgbGVhc3Qgb25lIGlzIHVuc2lnbmVkXHJcbiAgICByZXR1cm4gKG90aGVyLmhpZ2ggPj4+IDApID4gKHRoaXMuaGlnaCA+Pj4gMCkgfHwgKG90aGVyLmhpZ2ggPT09IHRoaXMuaGlnaCAmJiAob3RoZXIubG93ID4+PiAwKSA+ICh0aGlzLmxvdyA+Pj4gMCkpID8gLTEgOiAxO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENvbXBhcmVzIHRoaXMgTG9uZydzIHZhbHVlIHdpdGggdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2NvbXBhcmV9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAwIGlmIHRoZXkgYXJlIHRoZSBzYW1lLCAxIGlmIHRoZSB0aGlzIGlzIGdyZWF0ZXIgYW5kIC0xXHJcbiAqICBpZiB0aGUgZ2l2ZW4gb25lIGlzIGdyZWF0ZXJcclxuICovXHJcbkxvbmdQcm90b3R5cGUuY29tcCA9IExvbmdQcm90b3R5cGUuY29tcGFyZTtcclxuXHJcbi8qKlxyXG4gKiBOZWdhdGVzIHRoaXMgTG9uZydzIHZhbHVlLlxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IE5lZ2F0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5uZWdhdGUgPSBmdW5jdGlvbiBuZWdhdGUoKSB7XHJcbiAgICBpZiAoIXRoaXMudW5zaWduZWQgJiYgdGhpcy5lcShNSU5fVkFMVUUpKVxyXG4gICAgICAgIHJldHVybiBNSU5fVkFMVUU7XHJcbiAgICByZXR1cm4gdGhpcy5ub3QoKS5hZGQoT05FKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBOZWdhdGVzIHRoaXMgTG9uZydzIHZhbHVlLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI25lZ2F0ZX0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IE5lZ2F0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5uZWcgPSBMb25nUHJvdG90eXBlLm5lZ2F0ZTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBzdW0gb2YgdGhpcyBhbmQgdGhlIHNwZWNpZmllZCBMb25nLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IGFkZGVuZCBBZGRlbmRcclxuICogQHJldHVybnMgeyFMb25nfSBTdW1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKGFkZGVuZCkge1xyXG4gICAgaWYgKCFpc0xvbmcoYWRkZW5kKSlcclxuICAgICAgICBhZGRlbmQgPSBmcm9tVmFsdWUoYWRkZW5kKTtcclxuXHJcbiAgICAvLyBEaXZpZGUgZWFjaCBudW1iZXIgaW50byA0IGNodW5rcyBvZiAxNiBiaXRzLCBhbmQgdGhlbiBzdW0gdGhlIGNodW5rcy5cclxuXHJcbiAgICB2YXIgYTQ4ID0gdGhpcy5oaWdoID4+PiAxNjtcclxuICAgIHZhciBhMzIgPSB0aGlzLmhpZ2ggJiAweEZGRkY7XHJcbiAgICB2YXIgYTE2ID0gdGhpcy5sb3cgPj4+IDE2O1xyXG4gICAgdmFyIGEwMCA9IHRoaXMubG93ICYgMHhGRkZGO1xyXG5cclxuICAgIHZhciBiNDggPSBhZGRlbmQuaGlnaCA+Pj4gMTY7XHJcbiAgICB2YXIgYjMyID0gYWRkZW5kLmhpZ2ggJiAweEZGRkY7XHJcbiAgICB2YXIgYjE2ID0gYWRkZW5kLmxvdyA+Pj4gMTY7XHJcbiAgICB2YXIgYjAwID0gYWRkZW5kLmxvdyAmIDB4RkZGRjtcclxuXHJcbiAgICB2YXIgYzQ4ID0gMCwgYzMyID0gMCwgYzE2ID0gMCwgYzAwID0gMDtcclxuICAgIGMwMCArPSBhMDAgKyBiMDA7XHJcbiAgICBjMTYgKz0gYzAwID4+PiAxNjtcclxuICAgIGMwMCAmPSAweEZGRkY7XHJcbiAgICBjMTYgKz0gYTE2ICsgYjE2O1xyXG4gICAgYzMyICs9IGMxNiA+Pj4gMTY7XHJcbiAgICBjMTYgJj0gMHhGRkZGO1xyXG4gICAgYzMyICs9IGEzMiArIGIzMjtcclxuICAgIGM0OCArPSBjMzIgPj4+IDE2O1xyXG4gICAgYzMyICY9IDB4RkZGRjtcclxuICAgIGM0OCArPSBhNDggKyBiNDg7XHJcbiAgICBjNDggJj0gMHhGRkZGO1xyXG4gICAgcmV0dXJuIGZyb21CaXRzKChjMTYgPDwgMTYpIHwgYzAwLCAoYzQ4IDw8IDE2KSB8IGMzMiwgdGhpcy51bnNpZ25lZCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgZGlmZmVyZW5jZSBvZiB0aGlzIGFuZCB0aGUgc3BlY2lmaWVkIExvbmcuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gc3VidHJhaGVuZCBTdWJ0cmFoZW5kXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gRGlmZmVyZW5jZVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zdWJ0cmFjdCA9IGZ1bmN0aW9uIHN1YnRyYWN0KHN1YnRyYWhlbmQpIHtcclxuICAgIGlmICghaXNMb25nKHN1YnRyYWhlbmQpKVxyXG4gICAgICAgIHN1YnRyYWhlbmQgPSBmcm9tVmFsdWUoc3VidHJhaGVuZCk7XHJcbiAgICByZXR1cm4gdGhpcy5hZGQoc3VidHJhaGVuZC5uZWcoKSk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgZGlmZmVyZW5jZSBvZiB0aGlzIGFuZCB0aGUgc3BlY2lmaWVkIExvbmcuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjc3VidHJhY3R9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBzdWJ0cmFoZW5kIFN1YnRyYWhlbmRcclxuICogQHJldHVybnMgeyFMb25nfSBEaWZmZXJlbmNlXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnN1YiA9IExvbmdQcm90b3R5cGUuc3VidHJhY3Q7XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgcHJvZHVjdCBvZiB0aGlzIGFuZCB0aGUgc3BlY2lmaWVkIExvbmcuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gbXVsdGlwbGllciBNdWx0aXBsaWVyXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gUHJvZHVjdFxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5tdWx0aXBseSA9IGZ1bmN0aW9uIG11bHRpcGx5KG11bHRpcGxpZXIpIHtcclxuICAgIGlmICh0aGlzLmlzWmVybygpKVxyXG4gICAgICAgIHJldHVybiBaRVJPO1xyXG4gICAgaWYgKCFpc0xvbmcobXVsdGlwbGllcikpXHJcbiAgICAgICAgbXVsdGlwbGllciA9IGZyb21WYWx1ZShtdWx0aXBsaWVyKTtcclxuXHJcbiAgICAvLyB1c2Ugd2FzbSBzdXBwb3J0IGlmIHByZXNlbnRcclxuICAgIGlmICh3YXNtKSB7XHJcbiAgICAgICAgdmFyIGxvdyA9IHdhc20ubXVsKHRoaXMubG93LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZ2gsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxpZXIubG93LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsaWVyLmhpZ2gpO1xyXG4gICAgICAgIHJldHVybiBmcm9tQml0cyhsb3csIHdhc20uZ2V0X2hpZ2goKSwgdGhpcy51bnNpZ25lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG11bHRpcGxpZXIuaXNaZXJvKCkpXHJcbiAgICAgICAgcmV0dXJuIFpFUk87XHJcbiAgICBpZiAodGhpcy5lcShNSU5fVkFMVUUpKVxyXG4gICAgICAgIHJldHVybiBtdWx0aXBsaWVyLmlzT2RkKCkgPyBNSU5fVkFMVUUgOiBaRVJPO1xyXG4gICAgaWYgKG11bHRpcGxpZXIuZXEoTUlOX1ZBTFVFKSlcclxuICAgICAgICByZXR1cm4gdGhpcy5pc09kZCgpID8gTUlOX1ZBTFVFIDogWkVSTztcclxuXHJcbiAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHtcclxuICAgICAgICBpZiAobXVsdGlwbGllci5pc05lZ2F0aXZlKCkpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5lZygpLm11bChtdWx0aXBsaWVyLm5lZygpKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5lZygpLm11bChtdWx0aXBsaWVyKS5uZWcoKTtcclxuICAgIH0gZWxzZSBpZiAobXVsdGlwbGllci5pc05lZ2F0aXZlKCkpXHJcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsKG11bHRpcGxpZXIubmVnKCkpLm5lZygpO1xyXG5cclxuICAgIC8vIElmIGJvdGggbG9uZ3MgYXJlIHNtYWxsLCB1c2UgZmxvYXQgbXVsdGlwbGljYXRpb25cclxuICAgIGlmICh0aGlzLmx0KFRXT19QV1JfMjQpICYmIG11bHRpcGxpZXIubHQoVFdPX1BXUl8yNCkpXHJcbiAgICAgICAgcmV0dXJuIGZyb21OdW1iZXIodGhpcy50b051bWJlcigpICogbXVsdGlwbGllci50b051bWJlcigpLCB0aGlzLnVuc2lnbmVkKTtcclxuXHJcbiAgICAvLyBEaXZpZGUgZWFjaCBsb25nIGludG8gNCBjaHVua3Mgb2YgMTYgYml0cywgYW5kIHRoZW4gYWRkIHVwIDR4NCBwcm9kdWN0cy5cclxuICAgIC8vIFdlIGNhbiBza2lwIHByb2R1Y3RzIHRoYXQgd291bGQgb3ZlcmZsb3cuXHJcblxyXG4gICAgdmFyIGE0OCA9IHRoaXMuaGlnaCA+Pj4gMTY7XHJcbiAgICB2YXIgYTMyID0gdGhpcy5oaWdoICYgMHhGRkZGO1xyXG4gICAgdmFyIGExNiA9IHRoaXMubG93ID4+PiAxNjtcclxuICAgIHZhciBhMDAgPSB0aGlzLmxvdyAmIDB4RkZGRjtcclxuXHJcbiAgICB2YXIgYjQ4ID0gbXVsdGlwbGllci5oaWdoID4+PiAxNjtcclxuICAgIHZhciBiMzIgPSBtdWx0aXBsaWVyLmhpZ2ggJiAweEZGRkY7XHJcbiAgICB2YXIgYjE2ID0gbXVsdGlwbGllci5sb3cgPj4+IDE2O1xyXG4gICAgdmFyIGIwMCA9IG11bHRpcGxpZXIubG93ICYgMHhGRkZGO1xyXG5cclxuICAgIHZhciBjNDggPSAwLCBjMzIgPSAwLCBjMTYgPSAwLCBjMDAgPSAwO1xyXG4gICAgYzAwICs9IGEwMCAqIGIwMDtcclxuICAgIGMxNiArPSBjMDAgPj4+IDE2O1xyXG4gICAgYzAwICY9IDB4RkZGRjtcclxuICAgIGMxNiArPSBhMTYgKiBiMDA7XHJcbiAgICBjMzIgKz0gYzE2ID4+PiAxNjtcclxuICAgIGMxNiAmPSAweEZGRkY7XHJcbiAgICBjMTYgKz0gYTAwICogYjE2O1xyXG4gICAgYzMyICs9IGMxNiA+Pj4gMTY7XHJcbiAgICBjMTYgJj0gMHhGRkZGO1xyXG4gICAgYzMyICs9IGEzMiAqIGIwMDtcclxuICAgIGM0OCArPSBjMzIgPj4+IDE2O1xyXG4gICAgYzMyICY9IDB4RkZGRjtcclxuICAgIGMzMiArPSBhMTYgKiBiMTY7XHJcbiAgICBjNDggKz0gYzMyID4+PiAxNjtcclxuICAgIGMzMiAmPSAweEZGRkY7XHJcbiAgICBjMzIgKz0gYTAwICogYjMyO1xyXG4gICAgYzQ4ICs9IGMzMiA+Pj4gMTY7XHJcbiAgICBjMzIgJj0gMHhGRkZGO1xyXG4gICAgYzQ4ICs9IGE0OCAqIGIwMCArIGEzMiAqIGIxNiArIGExNiAqIGIzMiArIGEwMCAqIGI0ODtcclxuICAgIGM0OCAmPSAweEZGRkY7XHJcbiAgICByZXR1cm4gZnJvbUJpdHMoKGMxNiA8PCAxNikgfCBjMDAsIChjNDggPDwgMTYpIHwgYzMyLCB0aGlzLnVuc2lnbmVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBwcm9kdWN0IG9mIHRoaXMgYW5kIHRoZSBzcGVjaWZpZWQgTG9uZy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNtdWx0aXBseX0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG11bHRpcGxpZXIgTXVsdGlwbGllclxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFByb2R1Y3RcclxuICovXHJcbkxvbmdQcm90b3R5cGUubXVsID0gTG9uZ1Byb3RvdHlwZS5tdWx0aXBseTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyBkaXZpZGVkIGJ5IHRoZSBzcGVjaWZpZWQuIFRoZSByZXN1bHQgaXMgc2lnbmVkIGlmIHRoaXMgTG9uZyBpcyBzaWduZWQgb3JcclxuICogIHVuc2lnbmVkIGlmIHRoaXMgTG9uZyBpcyB1bnNpZ25lZC5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBkaXZpc29yIERpdmlzb3JcclxuICogQHJldHVybnMgeyFMb25nfSBRdW90aWVudFxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiBkaXZpZGUoZGl2aXNvcikge1xyXG4gICAgaWYgKCFpc0xvbmcoZGl2aXNvcikpXHJcbiAgICAgICAgZGl2aXNvciA9IGZyb21WYWx1ZShkaXZpc29yKTtcclxuICAgIGlmIChkaXZpc29yLmlzWmVybygpKVxyXG4gICAgICAgIHRocm93IEVycm9yKCdkaXZpc2lvbiBieSB6ZXJvJyk7XHJcblxyXG4gICAgLy8gdXNlIHdhc20gc3VwcG9ydCBpZiBwcmVzZW50XHJcbiAgICBpZiAod2FzbSkge1xyXG4gICAgICAgIC8vIGd1YXJkIGFnYWluc3Qgc2lnbmVkIGRpdmlzaW9uIG92ZXJmbG93OiB0aGUgbGFyZ2VzdFxyXG4gICAgICAgIC8vIG5lZ2F0aXZlIG51bWJlciAvIC0xIHdvdWxkIGJlIDEgbGFyZ2VyIHRoYW4gdGhlIGxhcmdlc3RcclxuICAgICAgICAvLyBwb3NpdGl2ZSBudW1iZXIsIGR1ZSB0byB0d28ncyBjb21wbGVtZW50LlxyXG4gICAgICAgIGlmICghdGhpcy51bnNpZ25lZCAmJlxyXG4gICAgICAgICAgICB0aGlzLmhpZ2ggPT09IC0weDgwMDAwMDAwICYmXHJcbiAgICAgICAgICAgIGRpdmlzb3IubG93ID09PSAtMSAmJiBkaXZpc29yLmhpZ2ggPT09IC0xKSB7XHJcbiAgICAgICAgICAgIC8vIGJlIGNvbnNpc3RlbnQgd2l0aCBub24td2FzbSBjb2RlIHBhdGhcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsb3cgPSAodGhpcy51bnNpZ25lZCA/IHdhc20uZGl2X3UgOiB3YXNtLmRpdl9zKShcclxuICAgICAgICAgICAgdGhpcy5sb3csXHJcbiAgICAgICAgICAgIHRoaXMuaGlnaCxcclxuICAgICAgICAgICAgZGl2aXNvci5sb3csXHJcbiAgICAgICAgICAgIGRpdmlzb3IuaGlnaFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIGZyb21CaXRzKGxvdywgd2FzbS5nZXRfaGlnaCgpLCB0aGlzLnVuc2lnbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5pc1plcm8oKSlcclxuICAgICAgICByZXR1cm4gdGhpcy51bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcclxuICAgIHZhciBhcHByb3gsIHJlbSwgcmVzO1xyXG4gICAgaWYgKCF0aGlzLnVuc2lnbmVkKSB7XHJcbiAgICAgICAgLy8gVGhpcyBzZWN0aW9uIGlzIG9ubHkgcmVsZXZhbnQgZm9yIHNpZ25lZCBsb25ncyBhbmQgaXMgZGVyaXZlZCBmcm9tIHRoZVxyXG4gICAgICAgIC8vIGNsb3N1cmUgbGlicmFyeSBhcyBhIHdob2xlLlxyXG4gICAgICAgIGlmICh0aGlzLmVxKE1JTl9WQUxVRSkpIHtcclxuICAgICAgICAgICAgaWYgKGRpdmlzb3IuZXEoT05FKSB8fCBkaXZpc29yLmVxKE5FR19PTkUpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1JTl9WQUxVRTsgIC8vIHJlY2FsbCB0aGF0IC1NSU5fVkFMVUUgPT0gTUlOX1ZBTFVFXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRpdmlzb3IuZXEoTUlOX1ZBTFVFKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBPTkU7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgaGF2ZSB8b3RoZXJ8ID49IDIsIHNvIHx0aGlzL290aGVyfCA8IHxNSU5fVkFMVUV8LlxyXG4gICAgICAgICAgICAgICAgdmFyIGhhbGZUaGlzID0gdGhpcy5zaHIoMSk7XHJcbiAgICAgICAgICAgICAgICBhcHByb3ggPSBoYWxmVGhpcy5kaXYoZGl2aXNvcikuc2hsKDEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcHJveC5lcShaRVJPKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXZpc29yLmlzTmVnYXRpdmUoKSA/IE9ORSA6IE5FR19PTkU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbSA9IHRoaXMuc3ViKGRpdmlzb3IubXVsKGFwcHJveCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IGFwcHJveC5hZGQocmVtLmRpdihkaXZpc29yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZGl2aXNvci5lcShNSU5fVkFMVUUpKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcclxuICAgICAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHtcclxuICAgICAgICAgICAgaWYgKGRpdmlzb3IuaXNOZWdhdGl2ZSgpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubmVnKCkuZGl2KGRpdmlzb3IubmVnKCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uZWcoKS5kaXYoZGl2aXNvcikubmVnKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkaXZpc29yLmlzTmVnYXRpdmUoKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGl2KGRpdmlzb3IubmVnKCkpLm5lZygpO1xyXG4gICAgICAgIHJlcyA9IFpFUk87XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFRoZSBhbGdvcml0aG0gYmVsb3cgaGFzIG5vdCBiZWVuIG1hZGUgZm9yIHVuc2lnbmVkIGxvbmdzLiBJdCdzIHRoZXJlZm9yZVxyXG4gICAgICAgIC8vIHJlcXVpcmVkIHRvIHRha2Ugc3BlY2lhbCBjYXJlIG9mIHRoZSBNU0IgcHJpb3IgdG8gcnVubmluZyBpdC5cclxuICAgICAgICBpZiAoIWRpdmlzb3IudW5zaWduZWQpXHJcbiAgICAgICAgICAgIGRpdmlzb3IgPSBkaXZpc29yLnRvVW5zaWduZWQoKTtcclxuICAgICAgICBpZiAoZGl2aXNvci5ndCh0aGlzKSlcclxuICAgICAgICAgICAgcmV0dXJuIFVaRVJPO1xyXG4gICAgICAgIGlmIChkaXZpc29yLmd0KHRoaXMuc2hydSgxKSkpIC8vIDE1ID4+PiAxID0gNyA7IHdpdGggZGl2aXNvciA9IDggOyB0cnVlXHJcbiAgICAgICAgICAgIHJldHVybiBVT05FO1xyXG4gICAgICAgIHJlcyA9IFVaRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlcGVhdCB0aGUgZm9sbG93aW5nIHVudGlsIHRoZSByZW1haW5kZXIgaXMgbGVzcyB0aGFuIG90aGVyOiAgZmluZCBhXHJcbiAgICAvLyBmbG9hdGluZy1wb2ludCB0aGF0IGFwcHJveGltYXRlcyByZW1haW5kZXIgLyBvdGhlciAqZnJvbSBiZWxvdyosIGFkZCB0aGlzXHJcbiAgICAvLyBpbnRvIHRoZSByZXN1bHQsIGFuZCBzdWJ0cmFjdCBpdCBmcm9tIHRoZSByZW1haW5kZXIuICBJdCBpcyBjcml0aWNhbCB0aGF0XHJcbiAgICAvLyB0aGUgYXBwcm94aW1hdGUgdmFsdWUgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSByZWFsIHZhbHVlIHNvIHRoYXQgdGhlXHJcbiAgICAvLyByZW1haW5kZXIgbmV2ZXIgYmVjb21lcyBuZWdhdGl2ZS5cclxuICAgIHJlbSA9IHRoaXM7XHJcbiAgICB3aGlsZSAocmVtLmd0ZShkaXZpc29yKSkge1xyXG4gICAgICAgIC8vIEFwcHJveGltYXRlIHRoZSByZXN1bHQgb2YgZGl2aXNpb24uIFRoaXMgbWF5IGJlIGEgbGl0dGxlIGdyZWF0ZXIgb3JcclxuICAgICAgICAvLyBzbWFsbGVyIHRoYW4gdGhlIGFjdHVhbCB2YWx1ZS5cclxuICAgICAgICBhcHByb3ggPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHJlbS50b051bWJlcigpIC8gZGl2aXNvci50b051bWJlcigpKSk7XHJcblxyXG4gICAgICAgIC8vIFdlIHdpbGwgdHdlYWsgdGhlIGFwcHJveGltYXRlIHJlc3VsdCBieSBjaGFuZ2luZyBpdCBpbiB0aGUgNDgtdGggZGlnaXQgb3JcclxuICAgICAgICAvLyB0aGUgc21hbGxlc3Qgbm9uLWZyYWN0aW9uYWwgZGlnaXQsIHdoaWNoZXZlciBpcyBsYXJnZXIuXHJcbiAgICAgICAgdmFyIGxvZzIgPSBNYXRoLmNlaWwoTWF0aC5sb2coYXBwcm94KSAvIE1hdGguTE4yKSxcclxuICAgICAgICAgICAgZGVsdGEgPSAobG9nMiA8PSA0OCkgPyAxIDogcG93X2RibCgyLCBsb2cyIC0gNDgpLFxyXG5cclxuICAgICAgICAvLyBEZWNyZWFzZSB0aGUgYXBwcm94aW1hdGlvbiB1bnRpbCBpdCBpcyBzbWFsbGVyIHRoYW4gdGhlIHJlbWFpbmRlci4gIE5vdGVcclxuICAgICAgICAvLyB0aGF0IGlmIGl0IGlzIHRvbyBsYXJnZSwgdGhlIHByb2R1Y3Qgb3ZlcmZsb3dzIGFuZCBpcyBuZWdhdGl2ZS5cclxuICAgICAgICAgICAgYXBwcm94UmVzID0gZnJvbU51bWJlcihhcHByb3gpLFxyXG4gICAgICAgICAgICBhcHByb3hSZW0gPSBhcHByb3hSZXMubXVsKGRpdmlzb3IpO1xyXG4gICAgICAgIHdoaWxlIChhcHByb3hSZW0uaXNOZWdhdGl2ZSgpIHx8IGFwcHJveFJlbS5ndChyZW0pKSB7XHJcbiAgICAgICAgICAgIGFwcHJveCAtPSBkZWx0YTtcclxuICAgICAgICAgICAgYXBwcm94UmVzID0gZnJvbU51bWJlcihhcHByb3gsIHRoaXMudW5zaWduZWQpO1xyXG4gICAgICAgICAgICBhcHByb3hSZW0gPSBhcHByb3hSZXMubXVsKGRpdmlzb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gV2Uga25vdyB0aGUgYW5zd2VyIGNhbid0IGJlIHplcm8uLi4gYW5kIGFjdHVhbGx5LCB6ZXJvIHdvdWxkIGNhdXNlXHJcbiAgICAgICAgLy8gaW5maW5pdGUgcmVjdXJzaW9uIHNpbmNlIHdlIHdvdWxkIG1ha2Ugbm8gcHJvZ3Jlc3MuXHJcbiAgICAgICAgaWYgKGFwcHJveFJlcy5pc1plcm8oKSlcclxuICAgICAgICAgICAgYXBwcm94UmVzID0gT05FO1xyXG5cclxuICAgICAgICByZXMgPSByZXMuYWRkKGFwcHJveFJlcyk7XHJcbiAgICAgICAgcmVtID0gcmVtLnN1YihhcHByb3hSZW0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyBkaXZpZGVkIGJ5IHRoZSBzcGVjaWZpZWQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjZGl2aWRlfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gZGl2aXNvciBEaXZpc29yXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gUXVvdGllbnRcclxuICovXHJcbkxvbmdQcm90b3R5cGUuZGl2ID0gTG9uZ1Byb3RvdHlwZS5kaXZpZGU7XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgbW9kdWxvIHRoZSBzcGVjaWZpZWQuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gZGl2aXNvciBEaXZpc29yXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gUmVtYWluZGVyXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLm1vZHVsbyA9IGZ1bmN0aW9uIG1vZHVsbyhkaXZpc29yKSB7XHJcbiAgICBpZiAoIWlzTG9uZyhkaXZpc29yKSlcclxuICAgICAgICBkaXZpc29yID0gZnJvbVZhbHVlKGRpdmlzb3IpO1xyXG5cclxuICAgIC8vIHVzZSB3YXNtIHN1cHBvcnQgaWYgcHJlc2VudFxyXG4gICAgaWYgKHdhc20pIHtcclxuICAgICAgICB2YXIgbG93ID0gKHRoaXMudW5zaWduZWQgPyB3YXNtLnJlbV91IDogd2FzbS5yZW1fcykoXHJcbiAgICAgICAgICAgIHRoaXMubG93LFxyXG4gICAgICAgICAgICB0aGlzLmhpZ2gsXHJcbiAgICAgICAgICAgIGRpdmlzb3IubG93LFxyXG4gICAgICAgICAgICBkaXZpc29yLmhpZ2hcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBmcm9tQml0cyhsb3csIHdhc20uZ2V0X2hpZ2goKSwgdGhpcy51bnNpZ25lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuc3ViKHRoaXMuZGl2KGRpdmlzb3IpLm11bChkaXZpc29yKSk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgbW9kdWxvIHRoZSBzcGVjaWZpZWQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbW9kdWxvfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gZGl2aXNvciBEaXZpc29yXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gUmVtYWluZGVyXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLm1vZCA9IExvbmdQcm90b3R5cGUubW9kdWxvO1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIG1vZHVsbyB0aGUgc3BlY2lmaWVkLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI21vZHVsb30uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IGRpdmlzb3IgRGl2aXNvclxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFJlbWFpbmRlclxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5yZW0gPSBMb25nUHJvdG90eXBlLm1vZHVsbztcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBiaXR3aXNlIE5PVCBvZiB0aGlzIExvbmcuXHJcbiAqIEByZXR1cm5zIHshTG9uZ31cclxuICovXHJcbkxvbmdQcm90b3R5cGUubm90ID0gZnVuY3Rpb24gbm90KCkge1xyXG4gICAgcmV0dXJuIGZyb21CaXRzKH50aGlzLmxvdywgfnRoaXMuaGlnaCwgdGhpcy51bnNpZ25lZCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgYml0d2lzZSBBTkQgb2YgdGhpcyBMb25nIGFuZCB0aGUgc3BlY2lmaWVkLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIExvbmdcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5hbmQgPSBmdW5jdGlvbiBhbmQob3RoZXIpIHtcclxuICAgIGlmICghaXNMb25nKG90aGVyKSlcclxuICAgICAgICBvdGhlciA9IGZyb21WYWx1ZShvdGhlcik7XHJcbiAgICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3cgJiBvdGhlci5sb3csIHRoaXMuaGlnaCAmIG90aGVyLmhpZ2gsIHRoaXMudW5zaWduZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGJpdHdpc2UgT1Igb2YgdGhpcyBMb25nIGFuZCB0aGUgc3BlY2lmaWVkLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIExvbmdcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5vciA9IGZ1bmN0aW9uIG9yKG90aGVyKSB7XHJcbiAgICBpZiAoIWlzTG9uZyhvdGhlcikpXHJcbiAgICAgICAgb3RoZXIgPSBmcm9tVmFsdWUob3RoZXIpO1xyXG4gICAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93IHwgb3RoZXIubG93LCB0aGlzLmhpZ2ggfCBvdGhlci5oaWdoLCB0aGlzLnVuc2lnbmVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBiaXR3aXNlIFhPUiBvZiB0aGlzIExvbmcgYW5kIHRoZSBnaXZlbiBvbmUuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgTG9uZ1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnhvciA9IGZ1bmN0aW9uIHhvcihvdGhlcikge1xyXG4gICAgaWYgKCFpc0xvbmcob3RoZXIpKVxyXG4gICAgICAgIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcclxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdyBeIG90aGVyLmxvdywgdGhpcy5oaWdoIF4gb3RoZXIuaGlnaCwgdGhpcy51bnNpZ25lZCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIHNoaWZ0ZWQgdG8gdGhlIGxlZnQgYnkgdGhlIGdpdmVuIGFtb3VudC5cclxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcclxuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc2hpZnRMZWZ0ID0gZnVuY3Rpb24gc2hpZnRMZWZ0KG51bUJpdHMpIHtcclxuICAgIGlmIChpc0xvbmcobnVtQml0cykpXHJcbiAgICAgICAgbnVtQml0cyA9IG51bUJpdHMudG9JbnQoKTtcclxuICAgIGlmICgobnVtQml0cyAmPSA2MykgPT09IDApXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICBlbHNlIGlmIChudW1CaXRzIDwgMzIpXHJcbiAgICAgICAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93IDw8IG51bUJpdHMsICh0aGlzLmhpZ2ggPDwgbnVtQml0cykgfCAodGhpcy5sb3cgPj4+ICgzMiAtIG51bUJpdHMpKSwgdGhpcy51bnNpZ25lZCk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgcmV0dXJuIGZyb21CaXRzKDAsIHRoaXMubG93IDw8IChudW1CaXRzIC0gMzIpLCB0aGlzLnVuc2lnbmVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgc2hpZnRlZCB0byB0aGUgbGVmdCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3NoaWZ0TGVmdH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zaGwgPSBMb25nUHJvdG90eXBlLnNoaWZ0TGVmdDtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgYXJpdGhtZXRpY2FsbHkgc2hpZnRlZCB0byB0aGUgcmlnaHQgYnkgdGhlIGdpdmVuIGFtb3VudC5cclxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcclxuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc2hpZnRSaWdodCA9IGZ1bmN0aW9uIHNoaWZ0UmlnaHQobnVtQml0cykge1xyXG4gICAgaWYgKGlzTG9uZyhudW1CaXRzKSlcclxuICAgICAgICBudW1CaXRzID0gbnVtQml0cy50b0ludCgpO1xyXG4gICAgaWYgKChudW1CaXRzICY9IDYzKSA9PT0gMClcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIGVsc2UgaWYgKG51bUJpdHMgPCAzMilcclxuICAgICAgICByZXR1cm4gZnJvbUJpdHMoKHRoaXMubG93ID4+PiBudW1CaXRzKSB8ICh0aGlzLmhpZ2ggPDwgKDMyIC0gbnVtQml0cykpLCB0aGlzLmhpZ2ggPj4gbnVtQml0cywgdGhpcy51bnNpZ25lZCk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgcmV0dXJuIGZyb21CaXRzKHRoaXMuaGlnaCA+PiAobnVtQml0cyAtIDMyKSwgdGhpcy5oaWdoID49IDAgPyAwIDogLTEsIHRoaXMudW5zaWduZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBhcml0aG1ldGljYWxseSBzaGlmdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3NoaWZ0UmlnaHR9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcclxuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc2hyID0gTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBsb2dpY2FsbHkgc2hpZnRlZCB0byB0aGUgcmlnaHQgYnkgdGhlIGdpdmVuIGFtb3VudC5cclxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcclxuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc2hpZnRSaWdodFVuc2lnbmVkID0gZnVuY3Rpb24gc2hpZnRSaWdodFVuc2lnbmVkKG51bUJpdHMpIHtcclxuICAgIGlmIChpc0xvbmcobnVtQml0cykpXHJcbiAgICAgICAgbnVtQml0cyA9IG51bUJpdHMudG9JbnQoKTtcclxuICAgIG51bUJpdHMgJj0gNjM7XHJcbiAgICBpZiAobnVtQml0cyA9PT0gMClcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBoaWdoID0gdGhpcy5oaWdoO1xyXG4gICAgICAgIGlmIChudW1CaXRzIDwgMzIpIHtcclxuICAgICAgICAgICAgdmFyIGxvdyA9IHRoaXMubG93O1xyXG4gICAgICAgICAgICByZXR1cm4gZnJvbUJpdHMoKGxvdyA+Pj4gbnVtQml0cykgfCAoaGlnaCA8PCAoMzIgLSBudW1CaXRzKSksIGhpZ2ggPj4+IG51bUJpdHMsIHRoaXMudW5zaWduZWQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobnVtQml0cyA9PT0gMzIpXHJcbiAgICAgICAgICAgIHJldHVybiBmcm9tQml0cyhoaWdoLCAwLCB0aGlzLnVuc2lnbmVkKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiBmcm9tQml0cyhoaWdoID4+PiAobnVtQml0cyAtIDMyKSwgMCwgdGhpcy51bnNpZ25lZCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIGxvZ2ljYWxseSBzaGlmdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3NoaWZ0UmlnaHRVbnNpZ25lZH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zaHJ1ID0gTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0VW5zaWduZWQ7XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIGxvZ2ljYWxseSBzaGlmdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3NoaWZ0UmlnaHRVbnNpZ25lZH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zaHJfdSA9IExvbmdQcm90b3R5cGUuc2hpZnRSaWdodFVuc2lnbmVkO1xyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIHRoaXMgTG9uZyB0byBzaWduZWQuXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gU2lnbmVkIGxvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9TaWduZWQgPSBmdW5jdGlvbiB0b1NpZ25lZCgpIHtcclxuICAgIGlmICghdGhpcy51bnNpZ25lZClcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdywgdGhpcy5oaWdoLCBmYWxzZSk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhpcyBMb25nIHRvIHVuc2lnbmVkLlxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFVuc2lnbmVkIGxvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9VbnNpZ25lZCA9IGZ1bmN0aW9uIHRvVW5zaWduZWQoKSB7XHJcbiAgICBpZiAodGhpcy51bnNpZ25lZClcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdywgdGhpcy5oaWdoLCB0cnVlKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGlzIExvbmcgdG8gaXRzIGJ5dGUgcmVwcmVzZW50YXRpb24uXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGxlIFdoZXRoZXIgbGl0dGxlIG9yIGJpZyBlbmRpYW4sIGRlZmF1bHRzIHRvIGJpZyBlbmRpYW5cclxuICogQHJldHVybnMgeyFBcnJheS48bnVtYmVyPn0gQnl0ZSByZXByZXNlbnRhdGlvblxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS50b0J5dGVzID0gZnVuY3Rpb24gdG9CeXRlcyhsZSkge1xyXG4gICAgcmV0dXJuIGxlID8gdGhpcy50b0J5dGVzTEUoKSA6IHRoaXMudG9CeXRlc0JFKCk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhpcyBMb25nIHRvIGl0cyBsaXR0bGUgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb24uXHJcbiAqIEByZXR1cm5zIHshQXJyYXkuPG51bWJlcj59IExpdHRsZSBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvblxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS50b0J5dGVzTEUgPSBmdW5jdGlvbiB0b0J5dGVzTEUoKSB7XHJcbiAgICB2YXIgaGkgPSB0aGlzLmhpZ2gsXHJcbiAgICAgICAgbG8gPSB0aGlzLmxvdztcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgbG8gICAgICAgICYgMHhmZixcclxuICAgICAgICBsbyA+Pj4gIDggJiAweGZmLFxyXG4gICAgICAgIGxvID4+PiAxNiAmIDB4ZmYsXHJcbiAgICAgICAgbG8gPj4+IDI0ICAgICAgICxcclxuICAgICAgICBoaSAgICAgICAgJiAweGZmLFxyXG4gICAgICAgIGhpID4+PiAgOCAmIDB4ZmYsXHJcbiAgICAgICAgaGkgPj4+IDE2ICYgMHhmZixcclxuICAgICAgICBoaSA+Pj4gMjRcclxuICAgIF07XHJcbn07XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhpcyBMb25nIHRvIGl0cyBiaWcgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb24uXHJcbiAqIEByZXR1cm5zIHshQXJyYXkuPG51bWJlcj59IEJpZyBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvblxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS50b0J5dGVzQkUgPSBmdW5jdGlvbiB0b0J5dGVzQkUoKSB7XHJcbiAgICB2YXIgaGkgPSB0aGlzLmhpZ2gsXHJcbiAgICAgICAgbG8gPSB0aGlzLmxvdztcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgaGkgPj4+IDI0ICAgICAgICxcclxuICAgICAgICBoaSA+Pj4gMTYgJiAweGZmLFxyXG4gICAgICAgIGhpID4+PiAgOCAmIDB4ZmYsXHJcbiAgICAgICAgaGkgICAgICAgICYgMHhmZixcclxuICAgICAgICBsbyA+Pj4gMjQgICAgICAgLFxyXG4gICAgICAgIGxvID4+PiAxNiAmIDB4ZmYsXHJcbiAgICAgICAgbG8gPj4+ICA4ICYgMHhmZixcclxuICAgICAgICBsbyAgICAgICAgJiAweGZmXHJcbiAgICBdO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBMb25nIGZyb20gaXRzIGJ5dGUgcmVwcmVzZW50YXRpb24uXHJcbiAqIEBwYXJhbSB7IUFycmF5LjxudW1iZXI+fSBieXRlcyBCeXRlIHJlcHJlc2VudGF0aW9uXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQHBhcmFtIHtib29sZWFuPX0gbGUgV2hldGhlciBsaXR0bGUgb3IgYmlnIGVuZGlhbiwgZGVmYXVsdHMgdG8gYmlnIGVuZGlhblxyXG4gKiBAcmV0dXJucyB7TG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxyXG4gKi9cclxuTG9uZy5mcm9tQnl0ZXMgPSBmdW5jdGlvbiBmcm9tQnl0ZXMoYnl0ZXMsIHVuc2lnbmVkLCBsZSkge1xyXG4gICAgcmV0dXJuIGxlID8gTG9uZy5mcm9tQnl0ZXNMRShieXRlcywgdW5zaWduZWQpIDogTG9uZy5mcm9tQnl0ZXNCRShieXRlcywgdW5zaWduZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBMb25nIGZyb20gaXRzIGxpdHRsZSBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvbi5cclxuICogQHBhcmFtIHshQXJyYXkuPG51bWJlcj59IGJ5dGVzIExpdHRsZSBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvblxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEByZXR1cm5zIHtMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXHJcbiAqL1xyXG5Mb25nLmZyb21CeXRlc0xFID0gZnVuY3Rpb24gZnJvbUJ5dGVzTEUoYnl0ZXMsIHVuc2lnbmVkKSB7XHJcbiAgICByZXR1cm4gbmV3IExvbmcoXHJcbiAgICAgICAgYnl0ZXNbMF0gICAgICAgfFxyXG4gICAgICAgIGJ5dGVzWzFdIDw8ICA4IHxcclxuICAgICAgICBieXRlc1syXSA8PCAxNiB8XHJcbiAgICAgICAgYnl0ZXNbM10gPDwgMjQsXHJcbiAgICAgICAgYnl0ZXNbNF0gICAgICAgfFxyXG4gICAgICAgIGJ5dGVzWzVdIDw8ICA4IHxcclxuICAgICAgICBieXRlc1s2XSA8PCAxNiB8XHJcbiAgICAgICAgYnl0ZXNbN10gPDwgMjQsXHJcbiAgICAgICAgdW5zaWduZWRcclxuICAgICk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIExvbmcgZnJvbSBpdHMgYmlnIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uLlxyXG4gKiBAcGFyYW0geyFBcnJheS48bnVtYmVyPn0gYnl0ZXMgQmlnIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQHJldHVybnMge0xvbmd9IFRoZSBjb3JyZXNwb25kaW5nIExvbmcgdmFsdWVcclxuICovXHJcbkxvbmcuZnJvbUJ5dGVzQkUgPSBmdW5jdGlvbiBmcm9tQnl0ZXNCRShieXRlcywgdW5zaWduZWQpIHtcclxuICAgIHJldHVybiBuZXcgTG9uZyhcclxuICAgICAgICBieXRlc1s0XSA8PCAyNCB8XHJcbiAgICAgICAgYnl0ZXNbNV0gPDwgMTYgfFxyXG4gICAgICAgIGJ5dGVzWzZdIDw8ICA4IHxcclxuICAgICAgICBieXRlc1s3XSxcclxuICAgICAgICBieXRlc1swXSA8PCAyNCB8XHJcbiAgICAgICAgYnl0ZXNbMV0gPDwgMTYgfFxyXG4gICAgICAgIGJ5dGVzWzJdIDw8ICA4IHxcclxuICAgICAgICBieXRlc1szXSxcclxuICAgICAgICB1bnNpZ25lZFxyXG4gICAgKTtcclxufTtcclxuIiwgIi8vIEJFR0lOIEFVVE8gR0VORVJBVEVEIENPREUgXCJ+c2RrL3NjZW5lLWVudHJ5cG9pbnRcIlxuXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgKiBhcyBlbnRyeXBvaW50IGZyb20gJy9Vc2Vycy9nb256YWxvcG9tYm8vRG9jdW1lbnRzL0RlY2VudHJhbGFuZC9zZGstdGVzdC1zY2VuZXMvdGVzdC1zY2VuZXMvOC44LnBvcnRhYmxlLWV4cGVyaWVuY2Uvc3JjL2luZGV4LnRzJ1xuaW1wb3J0IHsgZW5naW5lIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0ICogYXMgc2RrIGZyb20gJ0BkY2wvc2RrJ1xuXG5pZiAoKGVudHJ5cG9pbnQgYXMgYW55KS5tYWluICE9PSB1bmRlZmluZWQpIHtcbiAgZnVuY3Rpb24gX0lOVEVSTkFMX3N0YXJ0dXBfc3lzdGVtKCkge1xuICAgIGNvbnN0IG1heWJlUHJvbWlzZSA9IChlbnRyeXBvaW50IGFzIGFueSkubWFpbigpXG4gICAgaWYgKG1heWJlUHJvbWlzZSAmJiB0eXBlb2YgbWF5YmVQcm9taXNlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgKG1heWJlUHJvbWlzZSBhcyB1bmtub3duIGFzIFByb21pc2U8dW5rbm93bj4pLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG1heWJlUHJvbWlzZS5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgIH1cbiAgICBlbmdpbmUucmVtb3ZlU3lzdGVtKF9JTlRFUk5BTF9zdGFydHVwX3N5c3RlbSlcbiAgfVxuICBlbmdpbmUuYWRkU3lzdGVtKF9JTlRFUk5BTF9zdGFydHVwX3N5c3RlbSwgSW5maW5pdHkpXG59XG5cbmV4cG9ydCAqIGZyb20gJ0BkY2wvc2RrJ1xuZXhwb3J0ICogZnJvbSAnL1VzZXJzL2dvbnphbG9wb21iby9Eb2N1bWVudHMvRGVjZW50cmFsYW5kL3Nkay10ZXN0LXNjZW5lcy90ZXN0LXNjZW5lcy84LjgucG9ydGFibGUtZXhwZXJpZW5jZS9zcmMvaW5kZXgudHMnXG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkFuaW1hdG9yKCkge1xuICAgIHJldHVybiB7IHN0YXRlczogW10gfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQW5pbWF0b3I7XG4oZnVuY3Rpb24gKFBCQW5pbWF0b3IpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5zdGF0ZXMpIHtcbiAgICAgICAgICAgIFBCQW5pbWF0aW9uU3RhdGUuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJBbmltYXRvci5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQW5pbWF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGF0ZXMucHVzaChQQkFuaW1hdGlvblN0YXRlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQW5pbWF0b3IuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJBbmltYXRvciB8fCAoUEJBbmltYXRvciA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBbmltYXRpb25TdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBjbGlwOiBcIlwiLFxuICAgICAgICBwbGF5aW5nOiB1bmRlZmluZWQsXG4gICAgICAgIHdlaWdodDogdW5kZWZpbmVkLFxuICAgICAgICBzcGVlZDogdW5kZWZpbmVkLFxuICAgICAgICBsb29wOiB1bmRlZmluZWQsXG4gICAgICAgIHNob3VsZFJlc2V0OiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQW5pbWF0aW9uU3RhdGU7XG4oZnVuY3Rpb24gKFBCQW5pbWF0aW9uU3RhdGUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jbGlwICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5jbGlwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wbGF5aW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmJvb2wobWVzc2FnZS5wbGF5aW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS53ZWlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS53ZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNwZWVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDUpLmZsb2F0KG1lc3NhZ2Uuc3BlZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxvb3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0OCkuYm9vbChtZXNzYWdlLmxvb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNob3VsZFJlc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTYpLmJvb2wobWVzc2FnZS5zaG91bGRSZXNldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJBbmltYXRpb25TdGF0ZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQW5pbWF0aW9uU3RhdGUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNsaXAgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGxheWluZyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud2VpZ2h0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3BlZWQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb29wID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaG91bGRSZXNldCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJBbmltYXRpb25TdGF0ZS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkFuaW1hdGlvblN0YXRlIHx8IChQQkFuaW1hdGlvblN0YXRlID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkFuaW1hdG9yIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYW5pbWF0b3IuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBBbmltYXRvclNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNDIsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCQW5pbWF0b3IuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJBbmltYXRvci5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJBbmltYXRvci5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJBbmltYXRvclwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQXVkaW9Tb3VyY2UoKSB7XG4gICAgcmV0dXJuIHsgcGxheWluZzogdW5kZWZpbmVkLCB2b2x1bWU6IHVuZGVmaW5lZCwgbG9vcDogdW5kZWZpbmVkLCBwaXRjaDogdW5kZWZpbmVkLCBhdWRpb0NsaXBVcmw6IFwiXCIgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQXVkaW9Tb3VyY2U7XG4oZnVuY3Rpb24gKFBCQXVkaW9Tb3VyY2UpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5wbGF5aW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuYm9vbChtZXNzYWdlLnBsYXlpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnZvbHVtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLnZvbHVtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubG9vcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5ib29sKG1lc3NhZ2UubG9vcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGl0Y2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS5waXRjaCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYXVkaW9DbGlwVXJsICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQyKS5zdHJpbmcobWVzc2FnZS5hdWRpb0NsaXBVcmwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQXVkaW9Tb3VyY2UuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkF1ZGlvU291cmNlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wbGF5aW5nID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52b2x1bWUgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb29wID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5waXRjaCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmF1ZGlvQ2xpcFVybCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkF1ZGlvU291cmNlLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQXVkaW9Tb3VyY2UgfHwgKFBCQXVkaW9Tb3VyY2UgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCQXVkaW9Tb3VyY2UgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdWRpb19zb3VyY2UuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb1NvdXJjZVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwMjAsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCQXVkaW9Tb3VyY2UuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJBdWRpb1NvdXJjZS5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJBdWRpb1NvdXJjZS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJBdWRpb1NvdXJjZVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQXVkaW9TdHJlYW0oKSB7XG4gICAgcmV0dXJuIHsgcGxheWluZzogdW5kZWZpbmVkLCB2b2x1bWU6IHVuZGVmaW5lZCwgdXJsOiBcIlwiIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkF1ZGlvU3RyZWFtO1xuKGZ1bmN0aW9uIChQQkF1ZGlvU3RyZWFtKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucGxheWluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS5wbGF5aW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52b2x1bWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS52b2x1bWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnVybCAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNikuc3RyaW5nKG1lc3NhZ2UudXJsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkF1ZGlvU3RyZWFtLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJBdWRpb1N0cmVhbSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGxheWluZyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uudm9sdW1lID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXJsID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQXVkaW9TdHJlYW0uZGVjb2RlID0gZGVjb2RlO1xufSkoUEJBdWRpb1N0cmVhbSB8fCAoUEJBdWRpb1N0cmVhbSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJBdWRpb1N0cmVhbSB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F1ZGlvX3N0cmVhbS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvU3RyZWFtU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTAyMSxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJBdWRpb1N0cmVhbS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkF1ZGlvU3RyZWFtLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkF1ZGlvU3RyZWFtLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQkF1ZGlvU3RyZWFtXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKiogQXZhdGFyQW5jaG9yUG9pbnRUeXBlIGRldGVybWluZXMgdGhlIHBhcnQgb2YgdGhlIGF2YXRhcidzIGJvZHkgdGhhdCBhbmNob3JzIHRoZSBFbnRpdHkuICovXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBBdmF0YXJBbmNob3JQb2ludFR5cGU7XG4oZnVuY3Rpb24gKEF2YXRhckFuY2hvclBvaW50VHlwZSkge1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX1BPU0lUSU9OXCJdID0gMF0gPSBcIkFBUFRfUE9TSVRJT05cIjtcbiAgICBBdmF0YXJBbmNob3JQb2ludFR5cGVbQXZhdGFyQW5jaG9yUG9pbnRUeXBlW1wiQUFQVF9OQU1FX1RBR1wiXSA9IDFdID0gXCJBQVBUX05BTUVfVEFHXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfTEVGVF9IQU5EXCJdID0gMl0gPSBcIkFBUFRfTEVGVF9IQU5EXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfUklHSFRfSEFORFwiXSA9IDNdID0gXCJBQVBUX1JJR0hUX0hBTkRcIjtcbn0pKEF2YXRhckFuY2hvclBvaW50VHlwZSB8fCAoQXZhdGFyQW5jaG9yUG9pbnRUeXBlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkF2YXRhckF0dGFjaCgpIHtcbiAgICByZXR1cm4geyBhdmF0YXJJZDogdW5kZWZpbmVkLCBhbmNob3JQb2ludElkOiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkF2YXRhckF0dGFjaDtcbihmdW5jdGlvbiAoUEJBdmF0YXJBdHRhY2gpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5hdmF0YXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5hdmF0YXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYW5jaG9yUG9pbnRJZCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS5hbmNob3JQb2ludElkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkF2YXRhckF0dGFjaC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQXZhdGFyQXR0YWNoKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXZhdGFySWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYW5jaG9yUG9pbnRJZCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQXZhdGFyQXR0YWNoLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQXZhdGFyQXR0YWNoIHx8IChQQkF2YXRhckF0dGFjaCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJBdmF0YXJBdHRhY2ggfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfYXR0YWNoLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQXZhdGFyQXR0YWNoU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA3MyxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJBdmF0YXJBdHRhY2guZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJBdmF0YXJBdHRhY2guZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCQXZhdGFyQXR0YWNoLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQkF2YXRhckF0dGFjaFwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi92ZWN0b3JzLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKiBBdmF0YXJNb2RpZmllclR5cGUgaXMgYW4gZWZmZWN0IHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQgdG8gYXZhdGFycyBpbnNpZGUgdGhlIHJlZ2lvbi4gKi9cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIEF2YXRhck1vZGlmaWVyVHlwZTtcbihmdW5jdGlvbiAoQXZhdGFyTW9kaWZpZXJUeXBlKSB7XG4gICAgLyoqIEFNVF9ISURFX0FWQVRBUlMgLSBhdmF0YXJzIGFyZSBpbnZpc2libGUgKi9cbiAgICBBdmF0YXJNb2RpZmllclR5cGVbQXZhdGFyTW9kaWZpZXJUeXBlW1wiQU1UX0hJREVfQVZBVEFSU1wiXSA9IDBdID0gXCJBTVRfSElERV9BVkFUQVJTXCI7XG4gICAgLyoqIEFNVF9ESVNBQkxFX1BBU1NQT1JUUyAtIHNlbGVjdGluZyAoZS5nLiBjbGlja2luZykgYW4gYXZhdGFyIHdpbGwgbm90IGJyaW5nIHVwIHRoZWlyIHByb2ZpbGUuICovXG4gICAgQXZhdGFyTW9kaWZpZXJUeXBlW0F2YXRhck1vZGlmaWVyVHlwZVtcIkFNVF9ESVNBQkxFX1BBU1NQT1JUU1wiXSA9IDFdID0gXCJBTVRfRElTQUJMRV9QQVNTUE9SVFNcIjtcbn0pKEF2YXRhck1vZGlmaWVyVHlwZSB8fCAoQXZhdGFyTW9kaWZpZXJUeXBlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkF2YXRhck1vZGlmaWVyQXJlYSgpIHtcbiAgICByZXR1cm4geyBhcmVhOiB1bmRlZmluZWQsIGV4Y2x1ZGVJZHM6IFtdLCBtb2RpZmllcnM6IFtdIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkF2YXRhck1vZGlmaWVyQXJlYTtcbihmdW5jdGlvbiAoUEJBdmF0YXJNb2RpZmllckFyZWEpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5hcmVhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuYXJlYSwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5leGNsdWRlSWRzKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcodik7XG4gICAgICAgIH1cbiAgICAgICAgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpO1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5tb2RpZmllcnMpIHtcbiAgICAgICAgICAgIHdyaXRlci5pbnQzMih2KTtcbiAgICAgICAgfVxuICAgICAgICB3cml0ZXIubGRlbGltKCk7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQXZhdGFyTW9kaWZpZXJBcmVhLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJBdmF0YXJNb2RpZmllckFyZWEoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hcmVhID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmV4Y2x1ZGVJZHMucHVzaChyZWFkZXIuc3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgPT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1vZGlmaWVycy5wdXNoKHJlYWRlci5pbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgPT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQyID0gcmVhZGVyLnVpbnQzMigpICsgcmVhZGVyLnBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubW9kaWZpZXJzLnB1c2gocmVhZGVyLmludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkF2YXRhck1vZGlmaWVyQXJlYS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkF2YXRhck1vZGlmaWVyQXJlYSB8fCAoUEJBdmF0YXJNb2RpZmllckFyZWEgPSB7fSkpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLmNvbW1vblwiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBvc2l0aW9uKCkge1xuICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHo6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBvc2l0aW9uO1xuKGZ1bmN0aW9uIChQb3NpdGlvbikge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2UueCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UueSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS55KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS56ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLnopO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBvc2l0aW9uLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUG9zaXRpb24oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS54ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UueSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnogPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQb3NpdGlvbi5kZWNvZGUgPSBkZWNvZGU7XG59KShQb3NpdGlvbiB8fCAoUG9zaXRpb24gPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVZlY3RvcjMoKSB7XG4gICAgcmV0dXJuIHsgeDogMCwgeTogMCwgejogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVmVjdG9yMztcbihmdW5jdGlvbiAoVmVjdG9yMykge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2UueCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UueSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS55KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS56ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLnopO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFZlY3RvcjMuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VWZWN0b3IzKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UueCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnkgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS56ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgVmVjdG9yMy5kZWNvZGUgPSBkZWNvZGU7XG59KShWZWN0b3IzIHx8IChWZWN0b3IzID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWZWN0b3IyKCkge1xuICAgIHJldHVybiB7IHg6IDAsIHk6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFZlY3RvcjI7XG4oZnVuY3Rpb24gKFZlY3RvcjIpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS54ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzKS5mbG9hdChtZXNzYWdlLngpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnkgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UueSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgVmVjdG9yMi5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVZlY3RvcjIoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS54ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UueSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFZlY3RvcjIuZGVjb2RlID0gZGVjb2RlO1xufSkoVmVjdG9yMiB8fCAoVmVjdG9yMiA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUXVhdGVybmlvbigpIHtcbiAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB6OiAwLCB3OiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBRdWF0ZXJuaW9uO1xuKGZ1bmN0aW9uIChRdWF0ZXJuaW9uKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UueCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS54KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS55ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLnkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnogIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2Uueik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudyAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS53KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUXVhdGVybmlvbigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS55ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UueiA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLncgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmRlY29kZSA9IGRlY29kZTtcbn0pKFF1YXRlcm5pb24gfHwgKFF1YXRlcm5pb24gPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCQXZhdGFyTW9kaWZpZXJBcmVhIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX21vZGlmaWVyX2FyZWEuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBBdmF0YXJNb2RpZmllckFyZWFTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDcwLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkF2YXRhck1vZGlmaWVyQXJlYS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkF2YXRhck1vZGlmaWVyQXJlYS5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJBdmF0YXJNb2RpZmllckFyZWEuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCQXZhdGFyTW9kaWZpZXJBcmVhXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgTG9uZyBmcm9tIFwibG9uZ1wiO1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBDb2xvcjMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBdmF0YXJTaGFwZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogXCJcIixcbiAgICAgICAgbmFtZTogdW5kZWZpbmVkLFxuICAgICAgICBib2R5U2hhcGU6IHVuZGVmaW5lZCxcbiAgICAgICAgc2tpbkNvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIGhhaXJDb2xvcjogdW5kZWZpbmVkLFxuICAgICAgICBleWVDb2xvcjogdW5kZWZpbmVkLFxuICAgICAgICBleHByZXNzaW9uVHJpZ2dlcklkOiB1bmRlZmluZWQsXG4gICAgICAgIGV4cHJlc3Npb25UcmlnZ2VyVGltZXN0YW1wOiB1bmRlZmluZWQsXG4gICAgICAgIHRhbGtpbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgd2VhcmFibGVzOiBbXSxcbiAgICAgICAgZW1vdGVzOiBbXSxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJBdmF0YXJTaGFwZTtcbihmdW5jdGlvbiAoUEJBdmF0YXJTaGFwZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmlkICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ib2R5U2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNikuc3RyaW5nKG1lc3NhZ2UuYm9keVNoYXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5za2luQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3IzLmVuY29kZShtZXNzYWdlLnNraW5Db2xvciwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5oYWlyQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3IzLmVuY29kZShtZXNzYWdlLmhhaXJDb2xvciwgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5leWVDb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjMuZW5jb2RlKG1lc3NhZ2UuZXllQ29sb3IsIHdyaXRlci51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZXhwcmVzc2lvblRyaWdnZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDU4KS5zdHJpbmcobWVzc2FnZS5leHByZXNzaW9uVHJpZ2dlcklkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5leHByZXNzaW9uVHJpZ2dlclRpbWVzdGFtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDY0KS5pbnQ2NChtZXNzYWdlLmV4cHJlc3Npb25UcmlnZ2VyVGltZXN0YW1wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50YWxraW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNzIpLmJvb2wobWVzc2FnZS50YWxraW5nKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS53ZWFyYWJsZXMpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODIpLnN0cmluZyh2KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5lbW90ZXMpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOTApLnN0cmluZyh2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkF2YXRhclNoYXBlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJBdmF0YXJTaGFwZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9keVNoYXBlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNraW5Db2xvciA9IENvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhhaXJDb2xvciA9IENvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmV5ZUNvbG9yID0gQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXhwcmVzc2lvblRyaWdnZXJJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA2NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5leHByZXNzaW9uVHJpZ2dlclRpbWVzdGFtcCA9IGxvbmdUb051bWJlcihyZWFkZXIuaW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFsa2luZyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLndlYXJhYmxlcy5wdXNoKHJlYWRlci5zdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDkwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVtb3Rlcy5wdXNoKHJlYWRlci5zdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJBdmF0YXJTaGFwZS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkF2YXRhclNoYXBlIHx8IChQQkF2YXRhclNoYXBlID0ge30pKTtcbnZhciB0c1Byb3RvR2xvYmFsVGhpcyA9ICgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWw7XG4gICAgfVxuICAgIHRocm93IFwiVW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0XCI7XG59KSgpO1xuZnVuY3Rpb24gbG9uZ1RvTnVtYmVyKGxvbmcpIHtcbiAgICBpZiAobG9uZy5ndChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikpIHtcbiAgICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFwiVmFsdWUgaXMgbGFyZ2VyIHRoYW4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJcIik7XG4gICAgfVxuICAgIHJldHVybiBsb25nLnRvTnVtYmVyKCk7XG59XG5pZiAoX20wLnV0aWwuTG9uZyAhPT0gTG9uZykge1xuICAgIF9tMC51dGlsLkxvbmcgPSBMb25nO1xuICAgIF9tMC5jb25maWd1cmUoKTtcbn1cbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5jb21tb25cIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDb2xvcjMoKSB7XG4gICAgcmV0dXJuIHsgcjogMCwgZzogMCwgYjogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQ29sb3IzO1xuKGZ1bmN0aW9uIChDb2xvcjMpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5yICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzKS5mbG9hdChtZXNzYWdlLnIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmcgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UuZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS5iKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBDb2xvcjMuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDb2xvcjMoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmIgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBDb2xvcjMuZGVjb2RlID0gZGVjb2RlO1xufSkoQ29sb3IzIHx8IChDb2xvcjMgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZUNvbG9yNCgpIHtcbiAgICByZXR1cm4geyByOiAwLCBnOiAwLCBiOiAwLCBhOiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBDb2xvcjQ7XG4oZnVuY3Rpb24gKENvbG9yNCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnIgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2Uucik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZyAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5iICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLmIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmEgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2UuYSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgQ29sb3I0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29sb3I0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuciA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmcgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5iID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIENvbG9yNC5kZWNvZGUgPSBkZWNvZGU7XG59KShDb2xvcjQgfHwgKENvbG9yNCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJBdmF0YXJTaGFwZSB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9zaGFwZS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEF2YXRhclNoYXBlU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA4MCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJBdmF0YXJTaGFwZS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkF2YXRhclNoYXBlLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkF2YXRhclNoYXBlLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQkF2YXRhclNoYXBlXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKipcbiAqIEJpbGxib2FyZE1vZGUgaW5kaWNhdGVzIG9uZSBvciBtb3JlIGF4aXMgZm9yIGF1dG9tYXRpYyByb3RhdGlvbiwgaW4gT1ItYWJsZSBiaXQgZmxhZyBmb3JtLlxuICogT25seSB0aGUgdmFsdWVzIGJlbG93IGFuZCB0aGUgKEJNX1ggfCBCTV9ZKSBjb21iaW5hdGlvbiBhcmUgdmFsaWQuXG4gKi9cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIEJpbGxib2FyZE1vZGU7XG4oZnVuY3Rpb24gKEJpbGxib2FyZE1vZGUpIHtcbiAgICBCaWxsYm9hcmRNb2RlW0JpbGxib2FyZE1vZGVbXCJCTV9OT05FXCJdID0gMF0gPSBcIkJNX05PTkVcIjtcbiAgICBCaWxsYm9hcmRNb2RlW0JpbGxib2FyZE1vZGVbXCJCTV9YXCJdID0gMV0gPSBcIkJNX1hcIjtcbiAgICBCaWxsYm9hcmRNb2RlW0JpbGxib2FyZE1vZGVbXCJCTV9ZXCJdID0gMl0gPSBcIkJNX1lcIjtcbiAgICBCaWxsYm9hcmRNb2RlW0JpbGxib2FyZE1vZGVbXCJCTV9aXCJdID0gNF0gPSBcIkJNX1pcIjtcbiAgICAvKiogQk1fQUxMIC0gYml0d2lzZSBjb21iaW5hdGlvbiBCTV9YIHwgQk1fWSB8IEJNX1ogKi9cbiAgICBCaWxsYm9hcmRNb2RlW0JpbGxib2FyZE1vZGVbXCJCTV9BTExcIl0gPSA3XSA9IFwiQk1fQUxMXCI7XG59KShCaWxsYm9hcmRNb2RlIHx8IChCaWxsYm9hcmRNb2RlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkJpbGxib2FyZCgpIHtcbiAgICByZXR1cm4geyBiaWxsYm9hcmRNb2RlOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQmlsbGJvYXJkO1xuKGZ1bmN0aW9uIChQQkJpbGxib2FyZCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmJpbGxib2FyZE1vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLmJpbGxib2FyZE1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQmlsbGJvYXJkLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJCaWxsYm9hcmQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJpbGxib2FyZE1vZGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkJpbGxib2FyZC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkJpbGxib2FyZCB8fCAoUEJCaWxsYm9hcmQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCQmlsbGJvYXJkIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYmlsbGJvYXJkLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQmlsbGJvYXJkU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA5MCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJCaWxsYm9hcmQuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJCaWxsYm9hcmQuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCQmlsbGJvYXJkLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQkJpbGxib2FyZFwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQ2FtZXJhTW9kZSgpIHtcbiAgICByZXR1cm4geyBtb2RlOiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkNhbWVyYU1vZGU7XG4oZnVuY3Rpb24gKFBCQ2FtZXJhTW9kZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLm1vZGUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5tb2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkNhbWVyYU1vZGUuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkNhbWVyYU1vZGUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1vZGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkNhbWVyYU1vZGUuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJDYW1lcmFNb2RlIHx8IChQQkNhbWVyYU1vZGUgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCQ2FtZXJhTW9kZSB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2NhbWVyYV9tb2RlLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQ2FtZXJhTW9kZVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNzIsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCQ2FtZXJhTW9kZS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkNhbWVyYU1vZGUuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCQ2FtZXJhTW9kZS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJDYW1lcmFNb2RlXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3ZlY3RvcnMuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQ2FtZXJhTW9kZUFyZWEoKSB7XG4gICAgcmV0dXJuIHsgYXJlYTogdW5kZWZpbmVkLCBtb2RlOiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkNhbWVyYU1vZGVBcmVhO1xuKGZ1bmN0aW9uIChQQkNhbWVyYU1vZGVBcmVhKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYXJlYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLmFyZWEsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubW9kZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS5tb2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkNhbWVyYU1vZGVBcmVhLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJDYW1lcmFNb2RlQXJlYSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFyZWEgPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQ2FtZXJhTW9kZUFyZWEuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJDYW1lcmFNb2RlQXJlYSB8fCAoUEJDYW1lcmFNb2RlQXJlYSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJDYW1lcmFNb2RlQXJlYSB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2NhbWVyYV9tb2RlX2FyZWEuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBDYW1lcmFNb2RlQXJlYVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNzEsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCQ2FtZXJhTW9kZUFyZWEuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJDYW1lcmFNb2RlQXJlYS5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJDYW1lcmFNb2RlQXJlYS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJDYW1lcmFNb2RlQXJlYVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCRW5naW5lSW5mbygpIHtcbiAgICByZXR1cm4geyBmcmFtZU51bWJlcjogMCwgdG90YWxSdW50aW1lOiAwLCB0aWNrTnVtYmVyOiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkVuZ2luZUluZm87XG4oZnVuY3Rpb24gKFBCRW5naW5lSW5mbykge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmZyYW1lTnVtYmVyICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLnVpbnQzMihtZXNzYWdlLmZyYW1lTnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50b3RhbFJ1bnRpbWUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UudG90YWxSdW50aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50aWNrTnVtYmVyICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS51aW50MzIobWVzc2FnZS50aWNrTnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkVuZ2luZUluZm8uZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkVuZ2luZUluZm8oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZyYW1lTnVtYmVyID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRvdGFsUnVudGltZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpY2tOdW1iZXIgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJFbmdpbmVJbmZvLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCRW5naW5lSW5mbyB8fCAoUEJFbmdpbmVJbmZvID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkVuZ2luZUluZm8gfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9lbmdpbmVfaW5mby5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEVuZ2luZUluZm9TY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDQ4LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkVuZ2luZUluZm8uZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJFbmdpbmVJbmZvLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkVuZ2luZUluZm8uZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCRW5naW5lSW5mb1wiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCR2x0ZkNvbnRhaW5lcigpIHtcbiAgICByZXR1cm4geyBzcmM6IFwiXCIsIHZpc2libGVNZXNoZXNDb2xsaXNpb25NYXNrOiB1bmRlZmluZWQsIGludmlzaWJsZU1lc2hlc0NvbGxpc2lvbk1hc2s6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJHbHRmQ29udGFpbmVyO1xuKGZ1bmN0aW9uIChQQkdsdGZDb250YWluZXIpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5zcmMgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnNyYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudmlzaWJsZU1lc2hlc0NvbGxpc2lvbk1hc2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMikudWludDMyKG1lc3NhZ2UudmlzaWJsZU1lc2hlc0NvbGxpc2lvbk1hc2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmludmlzaWJsZU1lc2hlc0NvbGxpc2lvbk1hc2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkudWludDMyKG1lc3NhZ2UuaW52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJHbHRmQ29udGFpbmVyLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJHbHRmQ29udGFpbmVyKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3JjID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZpc2libGVNZXNoZXNDb2xsaXNpb25NYXNrID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmludmlzaWJsZU1lc2hlc0NvbGxpc2lvbk1hc2sgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJHbHRmQ29udGFpbmVyLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCR2x0ZkNvbnRhaW5lciB8fCAoUEJHbHRmQ29udGFpbmVyID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkdsdGZDb250YWluZXIgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9nbHRmX2NvbnRhaW5lci5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEdsdGZDb250YWluZXJTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDQxLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkdsdGZDb250YWluZXIuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJHbHRmQ29udGFpbmVyLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkdsdGZDb250YWluZXIuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCR2x0ZkNvbnRhaW5lclwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZSgpIHtcbiAgICByZXR1cm4geyBjdXJyZW50U3RhdGU6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZTtcbihmdW5jdGlvbiAoUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuY3VycmVudFN0YXRlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UuY3VycmVudFN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmN1cnJlbnRTdGF0ZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUgfHwgKFBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvZ2x0Zl9jb250YWluZXJfbG9hZGluZ19zdGF0ZS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEdsdGZDb250YWluZXJMb2FkaW5nU3RhdGVTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDQ5LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBDb2xvcjMsIENvbG9yNCB9IGZyb20gXCIuLi8uLi9jb21tb24vY29sb3JzLmdlblwiO1xuaW1wb3J0IHsgVGV4dHVyZVVuaW9uIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi90ZXh0dXJlLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIE1hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZTtcbihmdW5jdGlvbiAoTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlKSB7XG4gICAgTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlW01hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZVtcIk1UTV9PUEFRVUVcIl0gPSAwXSA9IFwiTVRNX09QQVFVRVwiO1xuICAgIE1hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZVtNYXRlcmlhbFRyYW5zcGFyZW5jeU1vZGVbXCJNVE1fQUxQSEFfVEVTVFwiXSA9IDFdID0gXCJNVE1fQUxQSEFfVEVTVFwiO1xuICAgIE1hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZVtNYXRlcmlhbFRyYW5zcGFyZW5jeU1vZGVbXCJNVE1fQUxQSEFfQkxFTkRcIl0gPSAyXSA9IFwiTVRNX0FMUEhBX0JMRU5EXCI7XG4gICAgTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlW01hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZVtcIk1UTV9BTFBIQV9URVNUX0FORF9BTFBIQV9CTEVORFwiXSA9IDNdID0gXCJNVE1fQUxQSEFfVEVTVF9BTkRfQUxQSEFfQkxFTkRcIjtcbiAgICBNYXRlcmlhbFRyYW5zcGFyZW5jeU1vZGVbTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlW1wiTVRNX0FVVE9cIl0gPSA0XSA9IFwiTVRNX0FVVE9cIjtcbn0pKE1hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZSB8fCAoTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1hdGVyaWFsKCkge1xuICAgIHJldHVybiB7IG1hdGVyaWFsOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWF0ZXJpYWw7XG4oZnVuY3Rpb24gKFBCTWF0ZXJpYWwpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UubWF0ZXJpYWw/LiRjYXNlKSB7XG4gICAgICAgICAgICBjYXNlIFwidW5saXRcIjpcbiAgICAgICAgICAgICAgICBQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWwuZW5jb2RlKG1lc3NhZ2UubWF0ZXJpYWwudW5saXQsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGJyXCI6XG4gICAgICAgICAgICAgICAgUEJNYXRlcmlhbF9QYnJNYXRlcmlhbC5lbmNvZGUobWVzc2FnZS5tYXRlcmlhbC5wYnIsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNYXRlcmlhbC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWF0ZXJpYWwoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXRlcmlhbCA9IHsgJGNhc2U6IFwidW5saXRcIiwgdW5saXQ6IFBCTWF0ZXJpYWxfVW5saXRNYXRlcmlhbC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWF0ZXJpYWwgPSB7ICRjYXNlOiBcInBiclwiLCBwYnI6IFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWF0ZXJpYWwuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNYXRlcmlhbCB8fCAoUEJNYXRlcmlhbCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNYXRlcmlhbF9VbmxpdE1hdGVyaWFsKCkge1xuICAgIHJldHVybiB7IHRleHR1cmU6IHVuZGVmaW5lZCwgYWxwaGFUZXN0OiB1bmRlZmluZWQsIGNhc3RTaGFkb3dzOiB1bmRlZmluZWQsIGRpZmZ1c2VDb2xvcjogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWw7XG4oZnVuY3Rpb24gKFBCTWF0ZXJpYWxfVW5saXRNYXRlcmlhbCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVGV4dHVyZVVuaW9uLmVuY29kZShtZXNzYWdlLnRleHR1cmUsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYWxwaGFUZXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UuYWxwaGFUZXN0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jYXN0U2hhZG93cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5ib29sKG1lc3NhZ2UuY2FzdFNoYWRvd3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmRpZmZ1c2VDb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjQuZW5jb2RlKG1lc3NhZ2UuZGlmZnVzZUNvbG9yLCB3cml0ZXIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWF0ZXJpYWxfVW5saXRNYXRlcmlhbC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWF0ZXJpYWxfVW5saXRNYXRlcmlhbCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHR1cmUgPSBUZXh0dXJlVW5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hbHBoYVRlc3QgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jYXN0U2hhZG93cyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlmZnVzZUNvbG9yID0gQ29sb3I0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJNYXRlcmlhbF9VbmxpdE1hdGVyaWFsLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWF0ZXJpYWxfVW5saXRNYXRlcmlhbCB8fCAoUEJNYXRlcmlhbF9VbmxpdE1hdGVyaWFsID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1hdGVyaWFsX1Bick1hdGVyaWFsKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRleHR1cmU6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxwaGFUZXN0OiB1bmRlZmluZWQsXG4gICAgICAgIGNhc3RTaGFkb3dzOiB1bmRlZmluZWQsXG4gICAgICAgIGFscGhhVGV4dHVyZTogdW5kZWZpbmVkLFxuICAgICAgICBlbWlzc2l2ZVRleHR1cmU6IHVuZGVmaW5lZCxcbiAgICAgICAgYnVtcFRleHR1cmU6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxiZWRvQ29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgZW1pc3NpdmVDb2xvcjogdW5kZWZpbmVkLFxuICAgICAgICByZWZsZWN0aXZpdHlDb2xvcjogdW5kZWZpbmVkLFxuICAgICAgICB0cmFuc3BhcmVuY3lNb2RlOiB1bmRlZmluZWQsXG4gICAgICAgIG1ldGFsbGljOiB1bmRlZmluZWQsXG4gICAgICAgIHJvdWdobmVzczogdW5kZWZpbmVkLFxuICAgICAgICBnbG9zc2luZXNzOiB1bmRlZmluZWQsXG4gICAgICAgIHNwZWN1bGFySW50ZW5zaXR5OiB1bmRlZmluZWQsXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiB1bmRlZmluZWQsXG4gICAgICAgIGRpcmVjdEludGVuc2l0eTogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1hdGVyaWFsX1Bick1hdGVyaWFsO1xuKGZ1bmN0aW9uIChQQk1hdGVyaWFsX1Bick1hdGVyaWFsKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBUZXh0dXJlVW5pb24uZW5jb2RlKG1lc3NhZ2UudGV4dHVyZSwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hbHBoYVRlc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS5hbHBoYVRlc3QpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNhc3RTaGFkb3dzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmJvb2wobWVzc2FnZS5jYXN0U2hhZG93cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYWxwaGFUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFRleHR1cmVVbmlvbi5lbmNvZGUobWVzc2FnZS5hbHBoYVRleHR1cmUsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZW1pc3NpdmVUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFRleHR1cmVVbmlvbi5lbmNvZGUobWVzc2FnZS5lbWlzc2l2ZVRleHR1cmUsIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYnVtcFRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVGV4dHVyZVVuaW9uLmVuY29kZShtZXNzYWdlLmJ1bXBUZXh0dXJlLCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFsYmVkb0NvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yNC5lbmNvZGUobWVzc2FnZS5hbGJlZG9Db2xvciwgd3JpdGVyLnVpbnQzMig1OCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5lbWlzc2l2ZUNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yMy5lbmNvZGUobWVzc2FnZS5lbWlzc2l2ZUNvbG9yLCB3cml0ZXIudWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnJlZmxlY3Rpdml0eUNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yMy5lbmNvZGUobWVzc2FnZS5yZWZsZWN0aXZpdHlDb2xvciwgd3JpdGVyLnVpbnQzMig3NCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50cmFuc3BhcmVuY3lNb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODApLmludDMyKG1lc3NhZ2UudHJhbnNwYXJlbmN5TW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0YWxsaWMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig5MykuZmxvYXQobWVzc2FnZS5tZXRhbGxpYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uucm91Z2huZXNzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTAxKS5mbG9hdChtZXNzYWdlLnJvdWdobmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZ2xvc3NpbmVzcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwOSkuZmxvYXQobWVzc2FnZS5nbG9zc2luZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zcGVjdWxhckludGVuc2l0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDExNykuZmxvYXQobWVzc2FnZS5zcGVjdWxhckludGVuc2l0eSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZW1pc3NpdmVJbnRlbnNpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMjUpLmZsb2F0KG1lc3NhZ2UuZW1pc3NpdmVJbnRlbnNpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmRpcmVjdEludGVuc2l0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzMykuZmxvYXQobWVzc2FnZS5kaXJlY3RJbnRlbnNpdHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1hdGVyaWFsX1Bick1hdGVyaWFsKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dHVyZSA9IFRleHR1cmVVbmlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFscGhhVGVzdCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNhc3RTaGFkb3dzID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hbHBoYVRleHR1cmUgPSBUZXh0dXJlVW5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lbWlzc2l2ZVRleHR1cmUgPSBUZXh0dXJlVW5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5idW1wVGV4dHVyZSA9IFRleHR1cmVVbmlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDU4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFsYmVkb0NvbG9yID0gQ29sb3I0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW1pc3NpdmVDb2xvciA9IENvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDc0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJlZmxlY3Rpdml0eUNvbG9yID0gQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRyYW5zcGFyZW5jeU1vZGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWV0YWxsaWMgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJvdWdobmVzcyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZ2xvc3NpbmVzcyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3BlY3VsYXJJbnRlbnNpdHkgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTI1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVtaXNzaXZlSW50ZW5zaXR5ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaXJlY3RJbnRlbnNpdHkgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1hdGVyaWFsX1Bick1hdGVyaWFsLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwgfHwgKFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwgPSB7fSkpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLmNvbW1vblwiO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVGV4dHVyZVdyYXBNb2RlO1xuKGZ1bmN0aW9uIChUZXh0dXJlV3JhcE1vZGUpIHtcbiAgICBUZXh0dXJlV3JhcE1vZGVbVGV4dHVyZVdyYXBNb2RlW1wiVFdNX1JFUEVBVFwiXSA9IDBdID0gXCJUV01fUkVQRUFUXCI7XG4gICAgVGV4dHVyZVdyYXBNb2RlW1RleHR1cmVXcmFwTW9kZVtcIlRXTV9DTEFNUFwiXSA9IDFdID0gXCJUV01fQ0xBTVBcIjtcbiAgICBUZXh0dXJlV3JhcE1vZGVbVGV4dHVyZVdyYXBNb2RlW1wiVFdNX01JUlJPUlwiXSA9IDJdID0gXCJUV01fTUlSUk9SXCI7XG59KShUZXh0dXJlV3JhcE1vZGUgfHwgKFRleHR1cmVXcmFwTW9kZSA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBUZXh0dXJlRmlsdGVyTW9kZTtcbihmdW5jdGlvbiAoVGV4dHVyZUZpbHRlck1vZGUpIHtcbiAgICBUZXh0dXJlRmlsdGVyTW9kZVtUZXh0dXJlRmlsdGVyTW9kZVtcIlRGTV9QT0lOVFwiXSA9IDBdID0gXCJURk1fUE9JTlRcIjtcbiAgICBUZXh0dXJlRmlsdGVyTW9kZVtUZXh0dXJlRmlsdGVyTW9kZVtcIlRGTV9CSUxJTkVBUlwiXSA9IDFdID0gXCJURk1fQklMSU5FQVJcIjtcbiAgICBUZXh0dXJlRmlsdGVyTW9kZVtUZXh0dXJlRmlsdGVyTW9kZVtcIlRGTV9UUklMSU5FQVJcIl0gPSAyXSA9IFwiVEZNX1RSSUxJTkVBUlwiO1xufSkoVGV4dHVyZUZpbHRlck1vZGUgfHwgKFRleHR1cmVGaWx0ZXJNb2RlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VUZXh0dXJlKCkge1xuICAgIHJldHVybiB7IHNyYzogXCJcIiwgd3JhcE1vZGU6IHVuZGVmaW5lZCwgZmlsdGVyTW9kZTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBUZXh0dXJlO1xuKGZ1bmN0aW9uIChUZXh0dXJlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3JjICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5zcmMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLndyYXBNb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDMyKG1lc3NhZ2Uud3JhcE1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZpbHRlck1vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS5maWx0ZXJNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBUZXh0dXJlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVGV4dHVyZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNyYyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS53cmFwTW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZpbHRlck1vZGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBUZXh0dXJlLmRlY29kZSA9IGRlY29kZTtcbn0pKFRleHR1cmUgfHwgKFRleHR1cmUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZUF2YXRhclRleHR1cmUoKSB7XG4gICAgcmV0dXJuIHsgdXNlcklkOiBcIlwiLCB3cmFwTW9kZTogdW5kZWZpbmVkLCBmaWx0ZXJNb2RlOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIEF2YXRhclRleHR1cmU7XG4oZnVuY3Rpb24gKEF2YXRhclRleHR1cmUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS51c2VySWQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnVzZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uud3JhcE1vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS53cmFwTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZmlsdGVyTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5pbnQzMihtZXNzYWdlLmZpbHRlck1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIEF2YXRhclRleHR1cmUuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VBdmF0YXJUZXh0dXJlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXNlcklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLndyYXBNb2RlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmlsdGVyTW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIEF2YXRhclRleHR1cmUuZGVjb2RlID0gZGVjb2RlO1xufSkoQXZhdGFyVGV4dHVyZSB8fCAoQXZhdGFyVGV4dHVyZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlVmlkZW9UZXh0dXJlKCkge1xuICAgIHJldHVybiB7IHZpZGVvUGxheWVyRW50aXR5OiAwLCB3cmFwTW9kZTogdW5kZWZpbmVkLCBmaWx0ZXJNb2RlOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFZpZGVvVGV4dHVyZTtcbihmdW5jdGlvbiAoVmlkZW9UZXh0dXJlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudmlkZW9QbGF5ZXJFbnRpdHkgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDMyKG1lc3NhZ2UudmlkZW9QbGF5ZXJFbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLndyYXBNb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDMyKG1lc3NhZ2Uud3JhcE1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZpbHRlck1vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS5maWx0ZXJNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBWaWRlb1RleHR1cmUuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VWaWRlb1RleHR1cmUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZpZGVvUGxheWVyRW50aXR5ID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLndyYXBNb2RlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmlsdGVyTW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFZpZGVvVGV4dHVyZS5kZWNvZGUgPSBkZWNvZGU7XG59KShWaWRlb1RleHR1cmUgfHwgKFZpZGVvVGV4dHVyZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlVGV4dHVyZVVuaW9uKCkge1xuICAgIHJldHVybiB7IHRleDogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBUZXh0dXJlVW5pb247XG4oZnVuY3Rpb24gKFRleHR1cmVVbmlvbikge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS50ZXg/LiRjYXNlKSB7XG4gICAgICAgICAgICBjYXNlIFwidGV4dHVyZVwiOlxuICAgICAgICAgICAgICAgIFRleHR1cmUuZW5jb2RlKG1lc3NhZ2UudGV4LnRleHR1cmUsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYXZhdGFyVGV4dHVyZVwiOlxuICAgICAgICAgICAgICAgIEF2YXRhclRleHR1cmUuZW5jb2RlKG1lc3NhZ2UudGV4LmF2YXRhclRleHR1cmUsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidmlkZW9UZXh0dXJlXCI6XG4gICAgICAgICAgICAgICAgVmlkZW9UZXh0dXJlLmVuY29kZShtZXNzYWdlLnRleC52aWRlb1RleHR1cmUsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgVGV4dHVyZVVuaW9uLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVGV4dHVyZVVuaW9uKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4ID0geyAkY2FzZTogXCJ0ZXh0dXJlXCIsIHRleHR1cmU6IFRleHR1cmUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleCA9IHsgJGNhc2U6IFwiYXZhdGFyVGV4dHVyZVwiLCBhdmF0YXJUZXh0dXJlOiBBdmF0YXJUZXh0dXJlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXggPSB7ICRjYXNlOiBcInZpZGVvVGV4dHVyZVwiLCB2aWRlb1RleHR1cmU6IFZpZGVvVGV4dHVyZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgVGV4dHVyZVVuaW9uLmRlY29kZSA9IGRlY29kZTtcbn0pKFRleHR1cmVVbmlvbiB8fCAoVGV4dHVyZVVuaW9uID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQk1hdGVyaWFsIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWF0ZXJpYWwuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBNYXRlcmlhbFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwMTcsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCTWF0ZXJpYWwuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJNYXRlcmlhbC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJNYXRlcmlhbC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJNYXRlcmlhbFwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuLyoqIENvbGxpZGVyTGF5ZXIgZGV0ZXJtaW5lcyB0aGUga2luZCBvZiBjb2xsaXNpb24gdG8gZGV0ZWN0LCBpbiBPUi1hYmxlIGJpdCBmbGFnIGZvcm0uICovXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBDb2xsaWRlckxheWVyO1xuKGZ1bmN0aW9uIChDb2xsaWRlckxheWVyKSB7XG4gICAgLyoqIENMX05PTkUgLSBubyBjb2xsaXNpb25zICovXG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfTk9ORVwiXSA9IDBdID0gXCJDTF9OT05FXCI7XG4gICAgLyoqIENMX1BPSU5URVIgLSBjb2xsaXNpb25zIHdpdGggdGhlIHBsYXllcidzIHBvaW50ZXIgcmF5IChlLmcuIG1vdXNlIGN1cnNvciBob3ZlcmluZykgKi9cbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9QT0lOVEVSXCJdID0gMV0gPSBcIkNMX1BPSU5URVJcIjtcbiAgICAvKiogQ0xfUEhZU0lDUyAtIGNvbGxpc2lvbiBhZmZlY3RpbmcgeW91ciBwbGF5ZXIncyBwaHlzaWNzIGkuZS4gd2FsbHMsIGZsb29yLCBtb3ZpbmcgcGxhdGZyb21zICovXG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfUEhZU0lDU1wiXSA9IDJdID0gXCJDTF9QSFlTSUNTXCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfUkVTRVJWRUQxXCJdID0gNF0gPSBcIkNMX1JFU0VSVkVEMVwiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX1JFU0VSVkVEMlwiXSA9IDhdID0gXCJDTF9SRVNFUlZFRDJcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9SRVNFUlZFRDNcIl0gPSAxNl0gPSBcIkNMX1JFU0VSVkVEM1wiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX1JFU0VSVkVENFwiXSA9IDMyXSA9IFwiQ0xfUkVTRVJWRUQ0XCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfUkVTRVJWRUQ1XCJdID0gNjRdID0gXCJDTF9SRVNFUlZFRDVcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9SRVNFUlZFRDZcIl0gPSAxMjhdID0gXCJDTF9SRVNFUlZFRDZcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9DVVNUT00xXCJdID0gMjU2XSA9IFwiQ0xfQ1VTVE9NMVwiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX0NVU1RPTTJcIl0gPSA1MTJdID0gXCJDTF9DVVNUT00yXCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfQ1VTVE9NM1wiXSA9IDEwMjRdID0gXCJDTF9DVVNUT00zXCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfQ1VTVE9NNFwiXSA9IDIwNDhdID0gXCJDTF9DVVNUT000XCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfQ1VTVE9NNVwiXSA9IDQwOTZdID0gXCJDTF9DVVNUT001XCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfQ1VTVE9NNlwiXSA9IDgxOTJdID0gXCJDTF9DVVNUT002XCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfQ1VTVE9NN1wiXSA9IDE2Mzg0XSA9IFwiQ0xfQ1VTVE9NN1wiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX0NVU1RPTThcIl0gPSAzMjc2OF0gPSBcIkNMX0NVU1RPTThcIjtcbn0pKENvbGxpZGVyTGF5ZXIgfHwgKENvbGxpZGVyTGF5ZXIgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTWVzaENvbGxpZGVyKCkge1xuICAgIHJldHVybiB7IGNvbGxpc2lvbk1hc2s6IHVuZGVmaW5lZCwgbWVzaDogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1lc2hDb2xsaWRlcjtcbihmdW5jdGlvbiAoUEJNZXNoQ29sbGlkZXIpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5jb2xsaXNpb25NYXNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDMyKG1lc3NhZ2UuY29sbGlzaW9uTWFzayk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLm1lc2g/LiRjYXNlKSB7XG4gICAgICAgICAgICBjYXNlIFwiYm94XCI6XG4gICAgICAgICAgICAgICAgUEJNZXNoQ29sbGlkZXJfQm94TWVzaC5lbmNvZGUobWVzc2FnZS5tZXNoLmJveCwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzcGhlcmVcIjpcbiAgICAgICAgICAgICAgICBQQk1lc2hDb2xsaWRlcl9TcGhlcmVNZXNoLmVuY29kZShtZXNzYWdlLm1lc2guc3BoZXJlLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImN5bGluZGVyXCI6XG4gICAgICAgICAgICAgICAgUEJNZXNoQ29sbGlkZXJfQ3lsaW5kZXJNZXNoLmVuY29kZShtZXNzYWdlLm1lc2guY3lsaW5kZXIsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGxhbmVcIjpcbiAgICAgICAgICAgICAgICBQQk1lc2hDb2xsaWRlcl9QbGFuZU1lc2guZW5jb2RlKG1lc3NhZ2UubWVzaC5wbGFuZSwgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk1lc2hDb2xsaWRlci5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWVzaENvbGxpZGVyKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2xsaXNpb25NYXNrID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lc2ggPSB7ICRjYXNlOiBcImJveFwiLCBib3g6IFBCTWVzaENvbGxpZGVyX0JveE1lc2guZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lc2ggPSB7ICRjYXNlOiBcInNwaGVyZVwiLCBzcGhlcmU6IFBCTWVzaENvbGxpZGVyX1NwaGVyZU1lc2guZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lc2ggPSB7ICRjYXNlOiBcImN5bGluZGVyXCIsIGN5bGluZGVyOiBQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2guZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lc2ggPSB7ICRjYXNlOiBcInBsYW5lXCIsIHBsYW5lOiBQQk1lc2hDb2xsaWRlcl9QbGFuZU1lc2guZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWVzaENvbGxpZGVyLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWVzaENvbGxpZGVyIHx8IChQQk1lc2hDb2xsaWRlciA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNZXNoQ29sbGlkZXJfQm94TWVzaCgpIHtcbiAgICByZXR1cm4ge307XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1lc2hDb2xsaWRlcl9Cb3hNZXNoO1xuKGZ1bmN0aW9uIChQQk1lc2hDb2xsaWRlcl9Cb3hNZXNoKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKF8sIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNZXNoQ29sbGlkZXJfQm94TWVzaC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWVzaENvbGxpZGVyX0JveE1lc2goKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1lc2hDb2xsaWRlcl9Cb3hNZXNoLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWVzaENvbGxpZGVyX0JveE1lc2ggfHwgKFBCTWVzaENvbGxpZGVyX0JveE1lc2ggPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTWVzaENvbGxpZGVyX0N5bGluZGVyTWVzaCgpIHtcbiAgICByZXR1cm4geyByYWRpdXNUb3A6IHVuZGVmaW5lZCwgcmFkaXVzQm90dG9tOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWVzaENvbGxpZGVyX0N5bGluZGVyTWVzaDtcbihmdW5jdGlvbiAoUEJNZXNoQ29sbGlkZXJfQ3lsaW5kZXJNZXNoKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucmFkaXVzVG9wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2UucmFkaXVzVG9wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5yYWRpdXNCb3R0b20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS5yYWRpdXNCb3R0b20pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWVzaENvbGxpZGVyX0N5bGluZGVyTWVzaC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWVzaENvbGxpZGVyX0N5bGluZGVyTWVzaCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJhZGl1c1RvcCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJhZGl1c0JvdHRvbSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWVzaENvbGxpZGVyX0N5bGluZGVyTWVzaC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2ggfHwgKFBCTWVzaENvbGxpZGVyX0N5bGluZGVyTWVzaCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNZXNoQ29sbGlkZXJfUGxhbmVNZXNoKCkge1xuICAgIHJldHVybiB7fTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaDtcbihmdW5jdGlvbiAoUEJNZXNoQ29sbGlkZXJfUGxhbmVNZXNoKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKF8sIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNZXNoQ29sbGlkZXJfUGxhbmVNZXNoLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJNZXNoQ29sbGlkZXJfUGxhbmVNZXNoKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJNZXNoQ29sbGlkZXJfUGxhbmVNZXNoLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaCB8fCAoUEJNZXNoQ29sbGlkZXJfUGxhbmVNZXNoID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1lc2hDb2xsaWRlcl9TcGhlcmVNZXNoKCkge1xuICAgIHJldHVybiB7fTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWVzaENvbGxpZGVyX1NwaGVyZU1lc2g7XG4oZnVuY3Rpb24gKFBCTWVzaENvbGxpZGVyX1NwaGVyZU1lc2gpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUoXywgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk1lc2hDb2xsaWRlcl9TcGhlcmVNZXNoLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJNZXNoQ29sbGlkZXJfU3BoZXJlTWVzaCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWVzaENvbGxpZGVyX1NwaGVyZU1lc2guZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNZXNoQ29sbGlkZXJfU3BoZXJlTWVzaCB8fCAoUEJNZXNoQ29sbGlkZXJfU3BoZXJlTWVzaCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJNZXNoQ29sbGlkZXIgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9tZXNoX2NvbGxpZGVyLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgTWVzaENvbGxpZGVyU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTAxOSxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJNZXNoQ29sbGlkZXIuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJNZXNoQ29sbGlkZXIuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCTWVzaENvbGxpZGVyLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQk1lc2hDb2xsaWRlclwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTWVzaFJlbmRlcmVyKCkge1xuICAgIHJldHVybiB7IG1lc2g6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNZXNoUmVuZGVyZXI7XG4oZnVuY3Rpb24gKFBCTWVzaFJlbmRlcmVyKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLm1lc2g/LiRjYXNlKSB7XG4gICAgICAgICAgICBjYXNlIFwiYm94XCI6XG4gICAgICAgICAgICAgICAgUEJNZXNoUmVuZGVyZXJfQm94TWVzaC5lbmNvZGUobWVzc2FnZS5tZXNoLmJveCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzcGhlcmVcIjpcbiAgICAgICAgICAgICAgICBQQk1lc2hSZW5kZXJlcl9TcGhlcmVNZXNoLmVuY29kZShtZXNzYWdlLm1lc2guc3BoZXJlLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImN5bGluZGVyXCI6XG4gICAgICAgICAgICAgICAgUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoLmVuY29kZShtZXNzYWdlLm1lc2guY3lsaW5kZXIsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGxhbmVcIjpcbiAgICAgICAgICAgICAgICBQQk1lc2hSZW5kZXJlcl9QbGFuZU1lc2guZW5jb2RlKG1lc3NhZ2UubWVzaC5wbGFuZSwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk1lc2hSZW5kZXJlci5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWVzaFJlbmRlcmVyKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVzaCA9IHsgJGNhc2U6IFwiYm94XCIsIGJveDogUEJNZXNoUmVuZGVyZXJfQm94TWVzaC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVzaCA9IHsgJGNhc2U6IFwic3BoZXJlXCIsIHNwaGVyZTogUEJNZXNoUmVuZGVyZXJfU3BoZXJlTWVzaC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVzaCA9IHsgJGNhc2U6IFwiY3lsaW5kZXJcIiwgY3lsaW5kZXI6IFBCTWVzaFJlbmRlcmVyX0N5bGluZGVyTWVzaC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVzaCA9IHsgJGNhc2U6IFwicGxhbmVcIiwgcGxhbmU6IFBCTWVzaFJlbmRlcmVyX1BsYW5lTWVzaC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJNZXNoUmVuZGVyZXIuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNZXNoUmVuZGVyZXIgfHwgKFBCTWVzaFJlbmRlcmVyID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1lc2hSZW5kZXJlcl9Cb3hNZXNoKCkge1xuICAgIHJldHVybiB7IHV2czogW10gfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWVzaFJlbmRlcmVyX0JveE1lc2g7XG4oZnVuY3Rpb24gKFBCTWVzaFJlbmRlcmVyX0JveE1lc2gpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICB3cml0ZXIudWludDMyKDEwKS5mb3JrKCk7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnV2cykge1xuICAgICAgICAgICAgd3JpdGVyLmZsb2F0KHYpO1xuICAgICAgICB9XG4gICAgICAgIHdyaXRlci5sZGVsaW0oKTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNZXNoUmVuZGVyZXJfQm94TWVzaC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWVzaFJlbmRlcmVyX0JveE1lc2goKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51dnMucHVzaChyZWFkZXIuZmxvYXQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kMiA9IHJlYWRlci51aW50MzIoKSArIHJlYWRlci5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnV2cy5wdXNoKHJlYWRlci5mbG9hdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJNZXNoUmVuZGVyZXJfQm94TWVzaC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1lc2hSZW5kZXJlcl9Cb3hNZXNoIHx8IChQQk1lc2hSZW5kZXJlcl9Cb3hNZXNoID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1lc2hSZW5kZXJlcl9DeWxpbmRlck1lc2goKSB7XG4gICAgcmV0dXJuIHsgcmFkaXVzVG9wOiB1bmRlZmluZWQsIHJhZGl1c0JvdHRvbTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1lc2hSZW5kZXJlcl9DeWxpbmRlck1lc2g7XG4oZnVuY3Rpb24gKFBCTWVzaFJlbmRlcmVyX0N5bGluZGVyTWVzaCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnJhZGl1c1RvcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzKS5mbG9hdChtZXNzYWdlLnJhZGl1c1RvcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucmFkaXVzQm90dG9tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UucmFkaXVzQm90dG9tKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk1lc2hSZW5kZXJlcl9DeWxpbmRlck1lc2guZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1lc2hSZW5kZXJlcl9DeWxpbmRlck1lc2goKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yYWRpdXNUb3AgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yYWRpdXNCb3R0b20gPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1lc2hSZW5kZXJlcl9DeWxpbmRlck1lc2guZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoIHx8IChQQk1lc2hSZW5kZXJlcl9DeWxpbmRlck1lc2ggPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTWVzaFJlbmRlcmVyX1BsYW5lTWVzaCgpIHtcbiAgICByZXR1cm4geyB1dnM6IFtdIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1lc2hSZW5kZXJlcl9QbGFuZU1lc2g7XG4oZnVuY3Rpb24gKFBCTWVzaFJlbmRlcmVyX1BsYW5lTWVzaCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHdyaXRlci51aW50MzIoMTApLmZvcmsoKTtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UudXZzKSB7XG4gICAgICAgICAgICB3cml0ZXIuZmxvYXQodik7XG4gICAgICAgIH1cbiAgICAgICAgd3JpdGVyLmxkZWxpbSgpO1xuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk1lc2hSZW5kZXJlcl9QbGFuZU1lc2guZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1lc2hSZW5kZXJlcl9QbGFuZU1lc2goKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51dnMucHVzaChyZWFkZXIuZmxvYXQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kMiA9IHJlYWRlci51aW50MzIoKSArIHJlYWRlci5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnV2cy5wdXNoKHJlYWRlci5mbG9hdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJNZXNoUmVuZGVyZXJfUGxhbmVNZXNoLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWVzaFJlbmRlcmVyX1BsYW5lTWVzaCB8fCAoUEJNZXNoUmVuZGVyZXJfUGxhbmVNZXNoID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1lc2hSZW5kZXJlcl9TcGhlcmVNZXNoKCkge1xuICAgIHJldHVybiB7fTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWVzaFJlbmRlcmVyX1NwaGVyZU1lc2g7XG4oZnVuY3Rpb24gKFBCTWVzaFJlbmRlcmVyX1NwaGVyZU1lc2gpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUoXywgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk1lc2hSZW5kZXJlcl9TcGhlcmVNZXNoLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJNZXNoUmVuZGVyZXJfU3BoZXJlTWVzaCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWVzaFJlbmRlcmVyX1NwaGVyZU1lc2guZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNZXNoUmVuZGVyZXJfU3BoZXJlTWVzaCB8fCAoUEJNZXNoUmVuZGVyZXJfU3BoZXJlTWVzaCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJNZXNoUmVuZGVyZXIgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9tZXNoX3JlbmRlcmVyLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgTWVzaFJlbmRlcmVyU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTAxOCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJNZXNoUmVuZGVyZXIuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJNZXNoUmVuZGVyZXIuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCTWVzaFJlbmRlcmVyLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQk1lc2hSZW5kZXJlclwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBDb2xvcjMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKiogTmZ0RnJhbWVUeXBlIGlzIGEgcHJlZGVmaW5lZCBmcmFtaW5nIHN0eWxlIGZvciB0aGUgaW1hZ2UuICovXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBOZnRGcmFtZVR5cGU7XG4oZnVuY3Rpb24gKE5mdEZyYW1lVHlwZSkge1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfQ0xBU1NJQ1wiXSA9IDBdID0gXCJORlRfQ0xBU1NJQ1wiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfQkFST1FVRV9PUk5BTUVOVFwiXSA9IDFdID0gXCJORlRfQkFST1FVRV9PUk5BTUVOVFwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfRElBTU9ORF9PUk5BTUVOVFwiXSA9IDJdID0gXCJORlRfRElBTU9ORF9PUk5BTUVOVFwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfTUlOSU1BTF9XSURFXCJdID0gM10gPSBcIk5GVF9NSU5JTUFMX1dJREVcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX01JTklNQUxfR1JFWVwiXSA9IDRdID0gXCJORlRfTUlOSU1BTF9HUkVZXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9CTE9DS1lcIl0gPSA1XSA9IFwiTkZUX0JMT0NLWVwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfR09MRF9FREdFU1wiXSA9IDZdID0gXCJORlRfR09MRF9FREdFU1wiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfR09MRF9DQVJWRURcIl0gPSA3XSA9IFwiTkZUX0dPTERfQ0FSVkVEXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9HT0xEX1dJREVcIl0gPSA4XSA9IFwiTkZUX0dPTERfV0lERVwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfR09MRF9ST1VOREVEXCJdID0gOV0gPSBcIk5GVF9HT0xEX1JPVU5ERURcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX01FVEFMX01FRElVTVwiXSA9IDEwXSA9IFwiTkZUX01FVEFMX01FRElVTVwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfTUVUQUxfV0lERVwiXSA9IDExXSA9IFwiTkZUX01FVEFMX1dJREVcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX01FVEFMX1NMSU1cIl0gPSAxMl0gPSBcIk5GVF9NRVRBTF9TTElNXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9NRVRBTF9ST1VOREVEXCJdID0gMTNdID0gXCJORlRfTUVUQUxfUk9VTkRFRFwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfUElOU1wiXSA9IDE0XSA9IFwiTkZUX1BJTlNcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX01JTklNQUxfQkxBQ0tcIl0gPSAxNV0gPSBcIk5GVF9NSU5JTUFMX0JMQUNLXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9NSU5JTUFMX1dISVRFXCJdID0gMTZdID0gXCJORlRfTUlOSU1BTF9XSElURVwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfVEFQRVwiXSA9IDE3XSA9IFwiTkZUX1RBUEVcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX1dPT0RfU0xJTVwiXSA9IDE4XSA9IFwiTkZUX1dPT0RfU0xJTVwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfV09PRF9XSURFXCJdID0gMTldID0gXCJORlRfV09PRF9XSURFXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9XT09EX1RXSUdTXCJdID0gMjBdID0gXCJORlRfV09PRF9UV0lHU1wiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfQ0FOVkFTXCJdID0gMjFdID0gXCJORlRfQ0FOVkFTXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9OT05FXCJdID0gMjJdID0gXCJORlRfTk9ORVwiO1xufSkoTmZ0RnJhbWVUeXBlIHx8IChOZnRGcmFtZVR5cGUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTmZ0U2hhcGUoKSB7XG4gICAgcmV0dXJuIHsgdXJuOiBcIlwiLCBzdHlsZTogdW5kZWZpbmVkLCBjb2xvcjogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk5mdFNoYXBlO1xuKGZ1bmN0aW9uIChQQk5mdFNoYXBlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudXJuICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS51cm4pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDMyKG1lc3NhZ2Uuc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yMy5lbmNvZGUobWVzc2FnZS5jb2xvciwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk5mdFNoYXBlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJOZnRTaGFwZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnVybiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdHlsZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbG9yID0gQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJOZnRTaGFwZS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk5mdFNoYXBlIHx8IChQQk5mdFNoYXBlID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQk5mdFNoYXBlIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbmZ0X3NoYXBlLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgTmZ0U2hhcGVTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDQwLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQk5mdFNoYXBlLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCTmZ0U2hhcGUuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCTmZ0U2hhcGUuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCTmZ0U2hhcGVcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlBvaW50ZXJFdmVudHMoKSB7XG4gICAgcmV0dXJuIHsgcG9pbnRlckV2ZW50czogW10gfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCUG9pbnRlckV2ZW50cztcbihmdW5jdGlvbiAoUEJQb2ludGVyRXZlbnRzKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UucG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgUEJQb2ludGVyRXZlbnRzX0VudHJ5LmVuY29kZSh2LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCUG9pbnRlckV2ZW50cy5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCUG9pbnRlckV2ZW50cygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvaW50ZXJFdmVudHMucHVzaChQQlBvaW50ZXJFdmVudHNfRW50cnkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJQb2ludGVyRXZlbnRzLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCUG9pbnRlckV2ZW50cyB8fCAoUEJQb2ludGVyRXZlbnRzID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlBvaW50ZXJFdmVudHNfSW5mbygpIHtcbiAgICByZXR1cm4geyBidXR0b246IHVuZGVmaW5lZCwgaG92ZXJUZXh0OiB1bmRlZmluZWQsIG1heERpc3RhbmNlOiB1bmRlZmluZWQsIHNob3dGZWVkYmFjazogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlBvaW50ZXJFdmVudHNfSW5mbztcbihmdW5jdGlvbiAoUEJQb2ludGVyRXZlbnRzX0luZm8pIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5idXR0b24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLmJ1dHRvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaG92ZXJUZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmhvdmVyVGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4RGlzdGFuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS5tYXhEaXN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2hvd0ZlZWRiYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmJvb2wobWVzc2FnZS5zaG93RmVlZGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCUG9pbnRlckV2ZW50c19JbmZvLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJQb2ludGVyRXZlbnRzX0luZm8oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJ1dHRvbiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhvdmVyVGV4dCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXhEaXN0YW5jZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNob3dGZWVkYmFjayA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJQb2ludGVyRXZlbnRzX0luZm8uZGVjb2RlID0gZGVjb2RlO1xufSkoUEJQb2ludGVyRXZlbnRzX0luZm8gfHwgKFBCUG9pbnRlckV2ZW50c19JbmZvID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlBvaW50ZXJFdmVudHNfRW50cnkoKSB7XG4gICAgcmV0dXJuIHsgZXZlbnRUeXBlOiAwLCBldmVudEluZm86IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJQb2ludGVyRXZlbnRzX0VudHJ5O1xuKGZ1bmN0aW9uIChQQlBvaW50ZXJFdmVudHNfRW50cnkpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5ldmVudFR5cGUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5ldmVudFR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmV2ZW50SW5mbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBQQlBvaW50ZXJFdmVudHNfSW5mby5lbmNvZGUobWVzc2FnZS5ldmVudEluZm8sIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJQb2ludGVyRXZlbnRzX0VudHJ5LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJQb2ludGVyRXZlbnRzX0VudHJ5KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ldmVudFR5cGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ldmVudEluZm8gPSBQQlBvaW50ZXJFdmVudHNfSW5mby5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCUG9pbnRlckV2ZW50c19FbnRyeS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlBvaW50ZXJFdmVudHNfRW50cnkgfHwgKFBCUG9pbnRlckV2ZW50c19FbnRyeSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJQb2ludGVyRXZlbnRzIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcG9pbnRlcl9ldmVudHMuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBQb2ludGVyRXZlbnRzU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA2MixcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJQb2ludGVyRXZlbnRzLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCUG9pbnRlckV2ZW50cy5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJQb2ludGVyRXZlbnRzLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlBvaW50ZXJFdmVudHNcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgUmF5Y2FzdEhpdCB9IGZyb20gXCIuL2NvbW1vbi9yYXljYXN0X2hpdC5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJQb2ludGVyRXZlbnRzUmVzdWx0KCkge1xuICAgIHJldHVybiB7IGJ1dHRvbjogMCwgaGl0OiB1bmRlZmluZWQsIHN0YXRlOiAwLCB0aW1lc3RhbXA6IDAsIGFuYWxvZzogdW5kZWZpbmVkLCB0aWNrTnVtYmVyOiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlBvaW50ZXJFdmVudHNSZXN1bHQ7XG4oZnVuY3Rpb24gKFBCUG9pbnRlckV2ZW50c1Jlc3VsdCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmJ1dHRvbiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLmJ1dHRvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGl0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFJheWNhc3RIaXQuZW5jb2RlKG1lc3NhZ2UuaGl0LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnN0YXRlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS5pbnQzMihtZXNzYWdlLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDApLnVpbnQzMihtZXNzYWdlLnRpbWVzdGFtcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYW5hbG9nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTMpLmZsb2F0KG1lc3NhZ2UuYW5hbG9nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50aWNrTnVtYmVyICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDU2KS51aW50MzIobWVzc2FnZS50aWNrTnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlBvaW50ZXJFdmVudHNSZXN1bHQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlBvaW50ZXJFdmVudHNSZXN1bHQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJ1dHRvbiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhpdCA9IFJheWNhc3RIaXQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGF0ZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1Mykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hbmFsb2cgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aWNrTnVtYmVyID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCUG9pbnRlckV2ZW50c1Jlc3VsdC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlBvaW50ZXJFdmVudHNSZXN1bHQgfHwgKFBCUG9pbnRlckV2ZW50c1Jlc3VsdCA9IHt9KSk7XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vdmVjdG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzLmNvbW1vblwiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJheWNhc3RIaXQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9zaXRpb246IHVuZGVmaW5lZCxcbiAgICAgICAgZ2xvYmFsT3JpZ2luOiB1bmRlZmluZWQsXG4gICAgICAgIGRpcmVjdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICBub3JtYWxIaXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgbGVuZ3RoOiAwLFxuICAgICAgICBtZXNoTmFtZTogdW5kZWZpbmVkLFxuICAgICAgICBlbnRpdHlJZDogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBSYXljYXN0SGl0O1xuKGZ1bmN0aW9uIChSYXljYXN0SGl0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5wb3NpdGlvbiwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5nbG9iYWxPcmlnaW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5nbG9iYWxPcmlnaW4sIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGlyZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuZGlyZWN0aW9uLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm5vcm1hbEhpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLm5vcm1hbEhpdCwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDUpLmZsb2F0KG1lc3NhZ2UubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tZXNoTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDUwKS5zdHJpbmcobWVzc2FnZS5tZXNoTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZW50aXR5SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1NikudWludDMyKG1lc3NhZ2UuZW50aXR5SWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFJheWNhc3RIaXQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSYXljYXN0SGl0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb24gPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZ2xvYmFsT3JpZ2luID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpcmVjdGlvbiA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ub3JtYWxIaXQgPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGVuZ3RoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVzaE5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW50aXR5SWQgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUmF5Y2FzdEhpdC5kZWNvZGUgPSBkZWNvZGU7XG59KShSYXljYXN0SGl0IHx8IChSYXljYXN0SGl0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlBvaW50ZXJFdmVudHNSZXN1bHQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9wb2ludGVyX2V2ZW50c19yZXN1bHQuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBQb2ludGVyRXZlbnRzUmVzdWx0U2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA2MyxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJQb2ludGVyRXZlbnRzUmVzdWx0LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCUG9pbnRlckV2ZW50c1Jlc3VsdC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJQb2ludGVyRXZlbnRzUmVzdWx0LmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlBvaW50ZXJFdmVudHNSZXN1bHRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlBvaW50ZXJMb2NrKCkge1xuICAgIHJldHVybiB7IGlzUG9pbnRlckxvY2tlZDogZmFsc2UgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCUG9pbnRlckxvY2s7XG4oZnVuY3Rpb24gKFBCUG9pbnRlckxvY2spIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5pc1BvaW50ZXJMb2NrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuYm9vbChtZXNzYWdlLmlzUG9pbnRlckxvY2tlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJQb2ludGVyTG9jay5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCUG9pbnRlckxvY2soKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlzUG9pbnRlckxvY2tlZCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJQb2ludGVyTG9jay5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlBvaW50ZXJMb2NrIHx8IChQQlBvaW50ZXJMb2NrID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlBvaW50ZXJMb2NrIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcG9pbnRlcl9sb2NrLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgUG9pbnRlckxvY2tTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDc0LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlBvaW50ZXJMb2NrLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCUG9pbnRlckxvY2suZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCUG9pbnRlckxvY2suZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCUG9pbnRlckxvY2tcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi8uLi9jb21tb24vdmVjdG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKiogUmF5Y2FzdFF1ZXJ5VHlwZSBpbmRpY2F0ZXMgd2hldGhlciB0aGUgcmF5IHNob3VsZCBzdG9wIG9uIHRoZSBmaXJzdCBjb2xsaXRpb24sIG9yIGNvbnRpbnVlLiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUmF5Y2FzdFF1ZXJ5VHlwZTtcbihmdW5jdGlvbiAoUmF5Y2FzdFF1ZXJ5VHlwZSkge1xuICAgIC8qKiBSUVRfSElUX0ZJUlNUIC0gUGljayB0aGUgZmlyc3QgKG5vdCBuZWNlc3NhcmlseSB0aGUgY2xvc2VzdCkgaGl0IHdpdGhpbiB0aGUgcmFuZ2UgKi9cbiAgICBSYXljYXN0UXVlcnlUeXBlW1JheWNhc3RRdWVyeVR5cGVbXCJSUVRfSElUX0ZJUlNUXCJdID0gMF0gPSBcIlJRVF9ISVRfRklSU1RcIjtcbiAgICAvKiogUlFUX1FVRVJZX0FMTCAtIFBpY2sgYWxsIGhpdHMgd2l0aGluIHRoZSByYW5nZSAqL1xuICAgIFJheWNhc3RRdWVyeVR5cGVbUmF5Y2FzdFF1ZXJ5VHlwZVtcIlJRVF9RVUVSWV9BTExcIl0gPSAxXSA9IFwiUlFUX1FVRVJZX0FMTFwiO1xuICAgIC8qKiBSUVRfTk9ORSAtIERvIG5vdCBwZXJmb3JtIHRoZSByYXljYXN0LCBvbmx5IHNldCB0aGUgcmF5Y2FzdCByZXN1bHQgd2l0aCBlbXB0eSBoaXRzICovXG4gICAgUmF5Y2FzdFF1ZXJ5VHlwZVtSYXljYXN0UXVlcnlUeXBlW1wiUlFUX05PTkVcIl0gPSAyXSA9IFwiUlFUX05PTkVcIjtcbn0pKFJheWNhc3RRdWVyeVR5cGUgfHwgKFJheWNhc3RRdWVyeVR5cGUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCUmF5Y2FzdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0aW1lc3RhbXA6IHVuZGVmaW5lZCxcbiAgICAgICAgb3JpZ2luT2Zmc2V0OiB1bmRlZmluZWQsXG4gICAgICAgIGRpcmVjdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICBtYXhEaXN0YW5jZTogMCxcbiAgICAgICAgcXVlcnlUeXBlOiAwLFxuICAgICAgICBjb250aW51b3VzOiB1bmRlZmluZWQsXG4gICAgICAgIGNvbGxpc2lvbk1hc2s6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJSYXljYXN0O1xuKGZ1bmN0aW9uIChQQlJheWNhc3QpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS51aW50MzIobWVzc2FnZS50aW1lc3RhbXApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm9yaWdpbk9mZnNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLm9yaWdpbk9mZnNldCwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UuZGlyZWN0aW9uPy4kY2FzZSkge1xuICAgICAgICAgICAgY2FzZSBcImxvY2FsRGlyZWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5kaXJlY3Rpb24ubG9jYWxEaXJlY3Rpb24sIHdyaXRlci51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZ2xvYmFsRGlyZWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5kaXJlY3Rpb24uZ2xvYmFsRGlyZWN0aW9uLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImdsb2JhbFRhcmdldFwiOlxuICAgICAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuZGlyZWN0aW9uLmdsb2JhbFRhcmdldCwgd3JpdGVyLnVpbnQzMig1OCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0YXJnZXRFbnRpdHlcIjpcbiAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKDgwKS51aW50MzIobWVzc2FnZS5kaXJlY3Rpb24udGFyZ2V0RW50aXR5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tYXhEaXN0YW5jZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS5tYXhEaXN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucXVlcnlUeXBlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS5pbnQzMihtZXNzYWdlLnF1ZXJ5VHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY29udGludW91cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDY0KS5ib29sKG1lc3NhZ2UuY29udGludW91cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY29sbGlzaW9uTWFzayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDcyKS51aW50MzIobWVzc2FnZS5jb2xsaXNpb25NYXNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlJheWNhc3QuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlJheWNhc3QoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vcmlnaW5PZmZzZXQgPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlyZWN0aW9uID0geyAkY2FzZTogXCJsb2NhbERpcmVjdGlvblwiLCBsb2NhbERpcmVjdGlvbjogVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlyZWN0aW9uID0geyAkY2FzZTogXCJnbG9iYWxEaXJlY3Rpb25cIiwgZ2xvYmFsRGlyZWN0aW9uOiBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaXJlY3Rpb24gPSB7ICRjYXNlOiBcImdsb2JhbFRhcmdldFwiLCBnbG9iYWxUYXJnZXQ6IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaXJlY3Rpb24gPSB7ICRjYXNlOiBcInRhcmdldEVudGl0eVwiLCB0YXJnZXRFbnRpdHk6IHJlYWRlci51aW50MzIoKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1heERpc3RhbmNlID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucXVlcnlUeXBlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29udGludW91cyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29sbGlzaW9uTWFzayA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlJheWNhc3QuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJSYXljYXN0IHx8IChQQlJheWNhc3QgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCUmF5Y2FzdCB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3JheWNhc3QuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBSYXljYXN0U2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA2NyxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJSYXljYXN0LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCUmF5Y2FzdC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJSYXljYXN0LmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlJheWNhc3RcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi8uLi9jb21tb24vdmVjdG9ycy5nZW5cIjtcbmltcG9ydCB7IFJheWNhc3RIaXQgfSBmcm9tIFwiLi9jb21tb24vcmF5Y2FzdF9oaXQuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCUmF5Y2FzdFJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB0aW1lc3RhbXA6IHVuZGVmaW5lZCwgZ2xvYmFsT3JpZ2luOiB1bmRlZmluZWQsIGRpcmVjdGlvbjogdW5kZWZpbmVkLCBoaXRzOiBbXSwgdGlja051bWJlcjogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJSYXljYXN0UmVzdWx0O1xuKGZ1bmN0aW9uIChQQlJheWNhc3RSZXN1bHQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS51aW50MzIobWVzc2FnZS50aW1lc3RhbXApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmdsb2JhbE9yaWdpbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLmdsb2JhbE9yaWdpbiwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kaXJlY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5kaXJlY3Rpb24sIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuaGl0cykge1xuICAgICAgICAgICAgUmF5Y2FzdEhpdC5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50aWNrTnVtYmVyICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS51aW50MzIobWVzc2FnZS50aWNrTnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlJheWNhc3RSZXN1bHQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlJheWNhc3RSZXN1bHQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5nbG9iYWxPcmlnaW4gPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlyZWN0aW9uID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhpdHMucHVzaChSYXljYXN0SGl0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpY2tOdW1iZXIgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJSYXljYXN0UmVzdWx0LmRlY29kZSA9IGRlY29kZTtcbn0pKFBCUmF5Y2FzdFJlc3VsdCB8fCAoUEJSYXljYXN0UmVzdWx0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlJheWNhc3RSZXN1bHQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9yYXljYXN0X3Jlc3VsdC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFJheWNhc3RSZXN1bHRTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDY4LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlJheWNhc3RSZXN1bHQuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJSYXljYXN0UmVzdWx0LmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlJheWNhc3RSZXN1bHQuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCUmF5Y2FzdFJlc3VsdFwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBDb2xvcjMsIENvbG9yNCB9IGZyb20gXCIuLi8uLi9jb21tb24vY29sb3JzLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlRleHRTaGFwZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICBmb250OiB1bmRlZmluZWQsXG4gICAgICAgIGZvbnRTaXplOiB1bmRlZmluZWQsXG4gICAgICAgIGZvbnRBdXRvU2l6ZTogdW5kZWZpbmVkLFxuICAgICAgICB0ZXh0QWxpZ246IHVuZGVmaW5lZCxcbiAgICAgICAgd2lkdGg6IHVuZGVmaW5lZCxcbiAgICAgICAgaGVpZ2h0OiB1bmRlZmluZWQsXG4gICAgICAgIHBhZGRpbmdUb3A6IHVuZGVmaW5lZCxcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiB1bmRlZmluZWQsXG4gICAgICAgIHBhZGRpbmdCb3R0b206IHVuZGVmaW5lZCxcbiAgICAgICAgcGFkZGluZ0xlZnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgbGluZVNwYWNpbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgbGluZUNvdW50OiB1bmRlZmluZWQsXG4gICAgICAgIHRleHRXcmFwcGluZzogdW5kZWZpbmVkLFxuICAgICAgICBzaGFkb3dCbHVyOiB1bmRlZmluZWQsXG4gICAgICAgIHNoYWRvd09mZnNldFg6IHVuZGVmaW5lZCxcbiAgICAgICAgc2hhZG93T2Zmc2V0WTogdW5kZWZpbmVkLFxuICAgICAgICBvdXRsaW5lV2lkdGg6IHVuZGVmaW5lZCxcbiAgICAgICAgc2hhZG93Q29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgb3V0bGluZUNvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIHRleHRDb2xvcjogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlRleHRTaGFwZTtcbihmdW5jdGlvbiAoUEJUZXh0U2hhcGUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50ZXh0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS50ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mb250ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDMyKG1lc3NhZ2UuZm9udCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZm9udFNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS5mb250U2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZm9udEF1dG9TaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmJvb2wobWVzc2FnZS5mb250QXV0b1NpemUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRleHRBbGlnbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS5pbnQzMihtZXNzYWdlLnRleHRBbGlnbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uud2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1MykuZmxvYXQobWVzc2FnZS53aWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNjEpLmZsb2F0KG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWRkaW5nVG9wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNjkpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ1RvcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFkZGluZ1JpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNzcpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ1JpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWRkaW5nQm90dG9tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODUpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ0JvdHRvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFkZGluZ0xlZnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig5MykuZmxvYXQobWVzc2FnZS5wYWRkaW5nTGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubGluZVNwYWNpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMDEpLmZsb2F0KG1lc3NhZ2UubGluZVNwYWNpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxpbmVDb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwNCkuaW50MzIobWVzc2FnZS5saW5lQ291bnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRleHRXcmFwcGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDExMikuYm9vbChtZXNzYWdlLnRleHRXcmFwcGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2hhZG93Qmx1ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEyNSkuZmxvYXQobWVzc2FnZS5zaGFkb3dCbHVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zaGFkb3dPZmZzZXRYICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMzKS5mbG9hdChtZXNzYWdlLnNoYWRvd09mZnNldFgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNoYWRvd09mZnNldFkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNDEpLmZsb2F0KG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uub3V0bGluZVdpZHRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTQ5KS5mbG9hdChtZXNzYWdlLm91dGxpbmVXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2hhZG93Q29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3IzLmVuY29kZShtZXNzYWdlLnNoYWRvd0NvbG9yLCB3cml0ZXIudWludDMyKDE1NCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5vdXRsaW5lQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3IzLmVuY29kZShtZXNzYWdlLm91dGxpbmVDb2xvciwgd3JpdGVyLnVpbnQzMigxNjIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dENvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yNC5lbmNvZGUobWVzc2FnZS50ZXh0Q29sb3IsIHdyaXRlci51aW50MzIoMTcwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVGV4dFNoYXBlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJUZXh0U2hhcGUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZvbnQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb250U2l6ZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZvbnRBdXRvU2l6ZSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dEFsaWduID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud2lkdGggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA2MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA2OSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYWRkaW5nVG9wID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNzcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ1JpZ2h0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDg1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdCb3R0b20gPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ0xlZnQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxpbmVTcGFjaW5nID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5saW5lQ291bnQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTEyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHRXcmFwcGluZyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEyNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaGFkb3dCbHVyID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaGFkb3dPZmZzZXRYID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE0MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaGFkb3dPZmZzZXRZID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE0OSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vdXRsaW5lV2lkdGggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTU0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNoYWRvd0NvbG9yID0gQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vdXRsaW5lQ29sb3IgPSBDb2xvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTcwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHRDb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVGV4dFNoYXBlLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVGV4dFNoYXBlIHx8IChQQlRleHRTaGFwZSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJUZXh0U2hhcGUgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90ZXh0X3NoYXBlLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVGV4dFNoYXBlU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTAzMCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJUZXh0U2hhcGUuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJUZXh0U2hhcGUuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVGV4dFNoYXBlLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlRleHRTaGFwZVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBCb3JkZXJSZWN0IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9ib3JkZXJfcmVjdC5nZW5cIjtcbmltcG9ydCB7IENvbG9yNCB9IGZyb20gXCIuLi8uLi9jb21tb24vY29sb3JzLmdlblwiO1xuaW1wb3J0IHsgVGV4dHVyZVVuaW9uIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi90ZXh0dXJlLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIEJhY2tncm91bmRUZXh0dXJlTW9kZTtcbihmdW5jdGlvbiAoQmFja2dyb3VuZFRleHR1cmVNb2RlKSB7XG4gICAgLyoqXG4gICAgICogTklORV9TTElDRVMgLSBodHRwczovL2RvY3MudW5pdHkzZC5jb20vTWFudWFsL1VJRS1VU1MtU3VwcG9ydGVkUHJvcGVydGllcy5odG1sIChTbGljaW5nIHNlY3Rpb24pXG4gICAgICogaHR0cHM6Ly9mb3J1bS51bml0eS5jb20vdGhyZWFkcy9ob3ctZG9lcy1zbGljaW5nLWluLXVpLXRvb2traXQtd29ya3MuMTIzNTg2My9cbiAgICAgKiBodHRwczovL2RvY3MudW5pdHkzZC5jb20vTWFudWFsLzlTbGljZVNwcml0ZXMuaHRtbFxuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9ib3JkZXItaW1hZ2Utc2xpY2VcbiAgICAgKi9cbiAgICBCYWNrZ3JvdW5kVGV4dHVyZU1vZGVbQmFja2dyb3VuZFRleHR1cmVNb2RlW1wiTklORV9TTElDRVNcIl0gPSAwXSA9IFwiTklORV9TTElDRVNcIjtcbiAgICAvKipcbiAgICAgKiBDRU5URVIgLSBDRU5URVIgZW5hYmxlcyB0aGUgdGV4dHVyZSB0byBiZSByZW5kZXJlZCBjZW50ZXJlZCBpbiByZWxhdGlvbiB0byB0aGVcbiAgICAgKiBlbGVtZW50LiBJZiB0aGUgZWxlbWVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHRleHR1cmUgdGhlbiB0aGUgYmFja2dyb3VuZFxuICAgICAqIHNob3VsZCB1c2UgdGhlIGVsZW1lbnQgYXMgc3RlbmNpbCB0byBjdXQgb2ZmIHRoZSBvdXQtb2YtYm91bmRzIGFyZWFcbiAgICAgKi9cbiAgICBCYWNrZ3JvdW5kVGV4dHVyZU1vZGVbQmFja2dyb3VuZFRleHR1cmVNb2RlW1wiQ0VOVEVSXCJdID0gMV0gPSBcIkNFTlRFUlwiO1xuICAgIC8qKlxuICAgICAqIFNUUkVUQ0ggLSBTVFJFVENIIGVuYWJsZXMgdGhlIHRleHR1cmUgdG8gY292ZXIgYWxsIHRoZSBhcmVhIG9mIHRoZSBjb250YWluZXIsXG4gICAgICogYWRvcHRpbmcgaXRzIGFzcGVjdCByYXRpby5cbiAgICAgKi9cbiAgICBCYWNrZ3JvdW5kVGV4dHVyZU1vZGVbQmFja2dyb3VuZFRleHR1cmVNb2RlW1wiU1RSRVRDSFwiXSA9IDJdID0gXCJTVFJFVENIXCI7XG59KShCYWNrZ3JvdW5kVGV4dHVyZU1vZGUgfHwgKEJhY2tncm91bmRUZXh0dXJlTW9kZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJVaUJhY2tncm91bmQoKSB7XG4gICAgcmV0dXJuIHsgY29sb3I6IHVuZGVmaW5lZCwgdGV4dHVyZTogdW5kZWZpbmVkLCB0ZXh0dXJlTW9kZTogMCwgdGV4dHVyZVNsaWNlczogdW5kZWZpbmVkLCB1dnM6IFtdIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlVpQmFja2dyb3VuZDtcbihmdW5jdGlvbiAoUEJVaUJhY2tncm91bmQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjQuZW5jb2RlKG1lc3NhZ2UuY29sb3IsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBUZXh0dXJlVW5pb24uZW5jb2RlKG1lc3NhZ2UudGV4dHVyZSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50ZXh0dXJlTW9kZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS50ZXh0dXJlTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dHVyZVNsaWNlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCb3JkZXJSZWN0LmVuY29kZShtZXNzYWdlLnRleHR1cmVTbGljZXMsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpO1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS51dnMpIHtcbiAgICAgICAgICAgIHdyaXRlci5mbG9hdCh2KTtcbiAgICAgICAgfVxuICAgICAgICB3cml0ZXIubGRlbGltKCk7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVWlCYWNrZ3JvdW5kLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVaUJhY2tncm91bmQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHR1cmUgPSBUZXh0dXJlVW5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0dXJlTW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHR1cmVTbGljZXMgPSBCb3JkZXJSZWN0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gNDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXZzLnB1c2gocmVhZGVyLmZsb2F0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gNDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZDIgPSByZWFkZXIudWludDMyKCkgKyByZWFkZXIucG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51dnMucHVzaChyZWFkZXIuZmxvYXQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVWlCYWNrZ3JvdW5kLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVWlCYWNrZ3JvdW5kIHx8IChQQlVpQmFja2dyb3VuZCA9IHt9KSk7XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuY29tbW9uXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlQm9yZGVyUmVjdCgpIHtcbiAgICByZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIEJvcmRlclJlY3Q7XG4oZnVuY3Rpb24gKEJvcmRlclJlY3QpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50b3AgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2UudG9wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5sZWZ0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLmxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnJpZ2h0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLnJpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ib3R0b20gIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2UuYm90dG9tKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBCb3JkZXJSZWN0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQm9yZGVyUmVjdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRvcCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxlZnQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJvdHRvbSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIEJvcmRlclJlY3QuZGVjb2RlID0gZGVjb2RlO1xufSkoQm9yZGVyUmVjdCB8fCAoQm9yZGVyUmVjdCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUmVjdCgpIHtcbiAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBSZWN0O1xuKGZ1bmN0aW9uIChSZWN0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UueCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS54KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS55ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLnkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLndpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLndpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5oZWlnaHQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBSZWN0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVjdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS55ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud2lkdGggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBSZWN0LmRlY29kZSA9IGRlY29kZTtcbn0pKFJlY3QgfHwgKFJlY3QgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVWlCYWNrZ3JvdW5kIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfYmFja2dyb3VuZC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFVpQmFja2dyb3VuZFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNTMsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVWlCYWNrZ3JvdW5kLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVWlCYWNrZ3JvdW5kLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlVpQmFja2dyb3VuZC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJVaUJhY2tncm91bmRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgQm9yZGVyUmVjdCB9IGZyb20gXCIuLi8uLi9jb21tb24vYm9yZGVyX3JlY3QuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVWlDYW52YXNJbmZvcm1hdGlvbigpIHtcbiAgICByZXR1cm4geyBkZXZpY2VQaXhlbFJhdGlvOiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwLCBpbnRlcmFjdGFibGVBcmVhOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVWlDYW52YXNJbmZvcm1hdGlvbjtcbihmdW5jdGlvbiAoUEJVaUNhbnZhc0luZm9ybWF0aW9uKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZGV2aWNlUGl4ZWxSYXRpbyAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS53aWR0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS53aWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGVpZ2h0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5pbnQzMihtZXNzYWdlLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaW50ZXJhY3RhYmxlQXJlYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCb3JkZXJSZWN0LmVuY29kZShtZXNzYWdlLmludGVyYWN0YWJsZUFyZWEsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJVaUNhbnZhc0luZm9ybWF0aW9uLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVaUNhbnZhc0luZm9ybWF0aW9uKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGV2aWNlUGl4ZWxSYXRpbyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLndpZHRoID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW50ZXJhY3RhYmxlQXJlYSA9IEJvcmRlclJlY3QuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlVpQ2FudmFzSW5mb3JtYXRpb24uZGVjb2RlID0gZGVjb2RlO1xufSkoUEJVaUNhbnZhc0luZm9ybWF0aW9uIHx8IChQQlVpQ2FudmFzSW5mb3JtYXRpb24gPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVWlDYW52YXNJbmZvcm1hdGlvbiB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2NhbnZhc19pbmZvcm1hdGlvbi5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFVpQ2FudmFzSW5mb3JtYXRpb25TY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDU0LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlVpQ2FudmFzSW5mb3JtYXRpb24uZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJVaUNhbnZhc0luZm9ybWF0aW9uLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlVpQ2FudmFzSW5mb3JtYXRpb24uZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVWlDYW52YXNJbmZvcm1hdGlvblwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBDb2xvcjQgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJVaURyb3Bkb3duKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFjY2VwdEVtcHR5OiBmYWxzZSxcbiAgICAgICAgZW1wdHlMYWJlbDogdW5kZWZpbmVkLFxuICAgICAgICBvcHRpb25zOiBbXSxcbiAgICAgICAgc2VsZWN0ZWRJbmRleDogdW5kZWZpbmVkLFxuICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgICAgIGNvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIHRleHRBbGlnbjogdW5kZWZpbmVkLFxuICAgICAgICBmb250OiB1bmRlZmluZWQsXG4gICAgICAgIGZvbnRTaXplOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVWlEcm9wZG93bjtcbihmdW5jdGlvbiAoUEJVaURyb3Bkb3duKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYWNjZXB0RW1wdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuYm9vbChtZXNzYWdlLmFjY2VwdEVtcHR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5lbXB0eUxhYmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmVtcHR5TGFiZWwpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyh2KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zZWxlY3RlZEluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmludDMyKG1lc3NhZ2Uuc2VsZWN0ZWRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGlzYWJsZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDApLmJvb2wobWVzc2FnZS5kaXNhYmxlZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3I0LmVuY29kZShtZXNzYWdlLmNvbG9yLCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRleHRBbGlnbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgwKS5pbnQzMihtZXNzYWdlLnRleHRBbGlnbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZm9udCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDg4KS5pbnQzMihtZXNzYWdlLmZvbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZvbnRTaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOTYpLmludDMyKG1lc3NhZ2UuZm9udFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVWlEcm9wZG93bi5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVWlEcm9wZG93bigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWNjZXB0RW1wdHkgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVtcHR5TGFiZWwgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uub3B0aW9ucy5wdXNoKHJlYWRlci5zdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2VsZWN0ZWRJbmRleCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpc2FibGVkID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0QWxpZ24gPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gODgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZm9udCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA5Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb250U2l6ZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVWlEcm9wZG93bi5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlVpRHJvcGRvd24gfHwgKFBCVWlEcm9wZG93biA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJVaURyb3Bkb3duIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfZHJvcGRvd24uZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBVaURyb3Bkb3duU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA5NCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJVaURyb3Bkb3duLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVWlEcm9wZG93bi5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJVaURyb3Bkb3duLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlVpRHJvcGRvd25cIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlVpRHJvcGRvd25SZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVWlEcm9wZG93blJlc3VsdDtcbihmdW5jdGlvbiAoUEJVaURyb3Bkb3duUmVzdWx0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJVaURyb3Bkb3duUmVzdWx0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVaURyb3Bkb3duUmVzdWx0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVWlEcm9wZG93blJlc3VsdC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlVpRHJvcGRvd25SZXN1bHQgfHwgKFBCVWlEcm9wZG93blJlc3VsdCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJVaURyb3Bkb3duUmVzdWx0IH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfZHJvcGRvd25fcmVzdWx0Lmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVWlEcm9wZG93blJlc3VsdFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwOTYsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVWlEcm9wZG93blJlc3VsdC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlVpRHJvcGRvd25SZXN1bHQuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVWlEcm9wZG93blJlc3VsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJVaURyb3Bkb3duUmVzdWx0XCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IENvbG9yNCB9IGZyb20gXCIuLi8uLi9jb21tb24vY29sb3JzLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlVpSW5wdXQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGxhY2Vob2xkZXI6IFwiXCIsXG4gICAgICAgIGNvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIHBsYWNlaG9sZGVyQ29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgICB0ZXh0QWxpZ246IHVuZGVmaW5lZCxcbiAgICAgICAgZm9udDogdW5kZWZpbmVkLFxuICAgICAgICBmb250U2l6ZTogdW5kZWZpbmVkLFxuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlVpSW5wdXQ7XG4oZnVuY3Rpb24gKFBCVWlJbnB1dCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnBsYWNlaG9sZGVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5wbGFjZWhvbGRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3I0LmVuY29kZShtZXNzYWdlLmNvbG9yLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBsYWNlaG9sZGVyQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3I0LmVuY29kZShtZXNzYWdlLnBsYWNlaG9sZGVyQ29sb3IsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGlzYWJsZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmJvb2wobWVzc2FnZS5kaXNhYmxlZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dEFsaWduICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODApLmludDMyKG1lc3NhZ2UudGV4dEFsaWduKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mb250ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODgpLmludDMyKG1lc3NhZ2UuZm9udCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZm9udFNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig5NikuaW50MzIobWVzc2FnZS5mb250U2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMDYpLnN0cmluZyhtZXNzYWdlLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlVpSW5wdXQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlVpSW5wdXQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wbGFjZWhvbGRlciA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBsYWNlaG9sZGVyQ29sb3IgPSBDb2xvcjQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaXNhYmxlZCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHRBbGlnbiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb250ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDk2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZvbnRTaXplID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlVpSW5wdXQuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJVaUlucHV0IHx8IChQQlVpSW5wdXQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVWlJbnB1dCB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2lucHV0Lmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVWlJbnB1dFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwOTMsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVWlJbnB1dC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlVpSW5wdXQuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVWlJbnB1dC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJVaUlucHV0XCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJVaUlucHV0UmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiBcIlwiIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlVpSW5wdXRSZXN1bHQ7XG4oZnVuY3Rpb24gKFBCVWlJbnB1dFJlc3VsdCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnZhbHVlICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJVaUlucHV0UmVzdWx0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVaUlucHV0UmVzdWx0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJVaUlucHV0UmVzdWx0LmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVWlJbnB1dFJlc3VsdCB8fCAoUEJVaUlucHV0UmVzdWx0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlVpSW5wdXRSZXN1bHQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9pbnB1dF9yZXN1bHQuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBVaUlucHV0UmVzdWx0U2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA5NSxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJVaUlucHV0UmVzdWx0LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVWlJbnB1dFJlc3VsdC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJVaUlucHV0UmVzdWx0LmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlVpSW5wdXRSZXN1bHRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgQ29sb3I0IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9jb2xvcnMuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVWlUZXh0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiBcIlwiLCBjb2xvcjogdW5kZWZpbmVkLCB0ZXh0QWxpZ246IHVuZGVmaW5lZCwgZm9udDogdW5kZWZpbmVkLCBmb250U2l6ZTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlVpVGV4dDtcbihmdW5jdGlvbiAoUEJVaVRleHQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS52YWx1ZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yNC5lbmNvZGUobWVzc2FnZS5jb2xvciwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50ZXh0QWxpZ24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS50ZXh0QWxpZ24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZvbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMikuaW50MzIobWVzc2FnZS5mb250KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mb250U2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS5pbnQzMihtZXNzYWdlLmZvbnRTaXplKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlVpVGV4dC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVWlUZXh0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29sb3IgPSBDb2xvcjQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0QWxpZ24gPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb250ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZm9udFNpemUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlVpVGV4dC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlVpVGV4dCB8fCAoUEJVaVRleHQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVWlUZXh0IH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfdGV4dC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFVpVGV4dFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNTIsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVWlUZXh0LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVWlUZXh0LmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlVpVGV4dC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJVaVRleHRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFlHUG9zaXRpb25UeXBlO1xuKGZ1bmN0aW9uIChZR1Bvc2l0aW9uVHlwZSkge1xuICAgIFlHUG9zaXRpb25UeXBlW1lHUG9zaXRpb25UeXBlW1wiWUdQVF9SRUxBVElWRVwiXSA9IDBdID0gXCJZR1BUX1JFTEFUSVZFXCI7XG4gICAgWUdQb3NpdGlvblR5cGVbWUdQb3NpdGlvblR5cGVbXCJZR1BUX0FCU09MVVRFXCJdID0gMV0gPSBcIllHUFRfQUJTT0xVVEVcIjtcbn0pKFlHUG9zaXRpb25UeXBlIHx8IChZR1Bvc2l0aW9uVHlwZSA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBZR0FsaWduO1xuKGZ1bmN0aW9uIChZR0FsaWduKSB7XG4gICAgWUdBbGlnbltZR0FsaWduW1wiWUdBX0FVVE9cIl0gPSAwXSA9IFwiWUdBX0FVVE9cIjtcbiAgICBZR0FsaWduW1lHQWxpZ25bXCJZR0FfRkxFWF9TVEFSVFwiXSA9IDFdID0gXCJZR0FfRkxFWF9TVEFSVFwiO1xuICAgIFlHQWxpZ25bWUdBbGlnbltcIllHQV9DRU5URVJcIl0gPSAyXSA9IFwiWUdBX0NFTlRFUlwiO1xuICAgIFlHQWxpZ25bWUdBbGlnbltcIllHQV9GTEVYX0VORFwiXSA9IDNdID0gXCJZR0FfRkxFWF9FTkRcIjtcbiAgICBZR0FsaWduW1lHQWxpZ25bXCJZR0FfU1RSRVRDSFwiXSA9IDRdID0gXCJZR0FfU1RSRVRDSFwiO1xuICAgIFlHQWxpZ25bWUdBbGlnbltcIllHQV9CQVNFTElORVwiXSA9IDVdID0gXCJZR0FfQkFTRUxJTkVcIjtcbiAgICBZR0FsaWduW1lHQWxpZ25bXCJZR0FfU1BBQ0VfQkVUV0VFTlwiXSA9IDZdID0gXCJZR0FfU1BBQ0VfQkVUV0VFTlwiO1xuICAgIFlHQWxpZ25bWUdBbGlnbltcIllHQV9TUEFDRV9BUk9VTkRcIl0gPSA3XSA9IFwiWUdBX1NQQUNFX0FST1VORFwiO1xufSkoWUdBbGlnbiB8fCAoWUdBbGlnbiA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBZR1VuaXQ7XG4oZnVuY3Rpb24gKFlHVW5pdCkge1xuICAgIFlHVW5pdFtZR1VuaXRbXCJZR1VfVU5ERUZJTkVEXCJdID0gMF0gPSBcIllHVV9VTkRFRklORURcIjtcbiAgICBZR1VuaXRbWUdVbml0W1wiWUdVX1BPSU5UXCJdID0gMV0gPSBcIllHVV9QT0lOVFwiO1xuICAgIFlHVW5pdFtZR1VuaXRbXCJZR1VfUEVSQ0VOVFwiXSA9IDJdID0gXCJZR1VfUEVSQ0VOVFwiO1xuICAgIFlHVW5pdFtZR1VuaXRbXCJZR1VfQVVUT1wiXSA9IDNdID0gXCJZR1VfQVVUT1wiO1xufSkoWUdVbml0IHx8IChZR1VuaXQgPSB7fSkpO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgWUdGbGV4RGlyZWN0aW9uO1xuKGZ1bmN0aW9uIChZR0ZsZXhEaXJlY3Rpb24pIHtcbiAgICBZR0ZsZXhEaXJlY3Rpb25bWUdGbGV4RGlyZWN0aW9uW1wiWUdGRF9ST1dcIl0gPSAwXSA9IFwiWUdGRF9ST1dcIjtcbiAgICBZR0ZsZXhEaXJlY3Rpb25bWUdGbGV4RGlyZWN0aW9uW1wiWUdGRF9DT0xVTU5cIl0gPSAxXSA9IFwiWUdGRF9DT0xVTU5cIjtcbiAgICBZR0ZsZXhEaXJlY3Rpb25bWUdGbGV4RGlyZWN0aW9uW1wiWUdGRF9DT0xVTU5fUkVWRVJTRVwiXSA9IDJdID0gXCJZR0ZEX0NPTFVNTl9SRVZFUlNFXCI7XG4gICAgWUdGbGV4RGlyZWN0aW9uW1lHRmxleERpcmVjdGlvbltcIllHRkRfUk9XX1JFVkVSU0VcIl0gPSAzXSA9IFwiWUdGRF9ST1dfUkVWRVJTRVwiO1xufSkoWUdGbGV4RGlyZWN0aW9uIHx8IChZR0ZsZXhEaXJlY3Rpb24gPSB7fSkpO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgWUdXcmFwO1xuKGZ1bmN0aW9uIChZR1dyYXApIHtcbiAgICBZR1dyYXBbWUdXcmFwW1wiWUdXX05PX1dSQVBcIl0gPSAwXSA9IFwiWUdXX05PX1dSQVBcIjtcbiAgICBZR1dyYXBbWUdXcmFwW1wiWUdXX1dSQVBcIl0gPSAxXSA9IFwiWUdXX1dSQVBcIjtcbiAgICBZR1dyYXBbWUdXcmFwW1wiWUdXX1dSQVBfUkVWRVJTRVwiXSA9IDJdID0gXCJZR1dfV1JBUF9SRVZFUlNFXCI7XG59KShZR1dyYXAgfHwgKFlHV3JhcCA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBZR0p1c3RpZnk7XG4oZnVuY3Rpb24gKFlHSnVzdGlmeSkge1xuICAgIFlHSnVzdGlmeVtZR0p1c3RpZnlbXCJZR0pfRkxFWF9TVEFSVFwiXSA9IDBdID0gXCJZR0pfRkxFWF9TVEFSVFwiO1xuICAgIFlHSnVzdGlmeVtZR0p1c3RpZnlbXCJZR0pfQ0VOVEVSXCJdID0gMV0gPSBcIllHSl9DRU5URVJcIjtcbiAgICBZR0p1c3RpZnlbWUdKdXN0aWZ5W1wiWUdKX0ZMRVhfRU5EXCJdID0gMl0gPSBcIllHSl9GTEVYX0VORFwiO1xuICAgIFlHSnVzdGlmeVtZR0p1c3RpZnlbXCJZR0pfU1BBQ0VfQkVUV0VFTlwiXSA9IDNdID0gXCJZR0pfU1BBQ0VfQkVUV0VFTlwiO1xuICAgIFlHSnVzdGlmeVtZR0p1c3RpZnlbXCJZR0pfU1BBQ0VfQVJPVU5EXCJdID0gNF0gPSBcIllHSl9TUEFDRV9BUk9VTkRcIjtcbiAgICBZR0p1c3RpZnlbWUdKdXN0aWZ5W1wiWUdKX1NQQUNFX0VWRU5MWVwiXSA9IDVdID0gXCJZR0pfU1BBQ0VfRVZFTkxZXCI7XG59KShZR0p1c3RpZnkgfHwgKFlHSnVzdGlmeSA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBZR092ZXJmbG93O1xuKGZ1bmN0aW9uIChZR092ZXJmbG93KSB7XG4gICAgWUdPdmVyZmxvd1tZR092ZXJmbG93W1wiWUdPX1ZJU0lCTEVcIl0gPSAwXSA9IFwiWUdPX1ZJU0lCTEVcIjtcbiAgICBZR092ZXJmbG93W1lHT3ZlcmZsb3dbXCJZR09fSElEREVOXCJdID0gMV0gPSBcIllHT19ISURERU5cIjtcbiAgICBZR092ZXJmbG93W1lHT3ZlcmZsb3dbXCJZR09fU0NST0xMXCJdID0gMl0gPSBcIllHT19TQ1JPTExcIjtcbn0pKFlHT3ZlcmZsb3cgfHwgKFlHT3ZlcmZsb3cgPSB7fSkpO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgWUdEaXNwbGF5O1xuKGZ1bmN0aW9uIChZR0Rpc3BsYXkpIHtcbiAgICBZR0Rpc3BsYXlbWUdEaXNwbGF5W1wiWUdEX0ZMRVhcIl0gPSAwXSA9IFwiWUdEX0ZMRVhcIjtcbiAgICBZR0Rpc3BsYXlbWUdEaXNwbGF5W1wiWUdEX05PTkVcIl0gPSAxXSA9IFwiWUdEX05PTkVcIjtcbn0pKFlHRGlzcGxheSB8fCAoWUdEaXNwbGF5ID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFlHRWRnZTtcbihmdW5jdGlvbiAoWUdFZGdlKSB7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9MRUZUXCJdID0gMF0gPSBcIllHRV9MRUZUXCI7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9UT1BcIl0gPSAxXSA9IFwiWUdFX1RPUFwiO1xuICAgIFlHRWRnZVtZR0VkZ2VbXCJZR0VfUklHSFRcIl0gPSAyXSA9IFwiWUdFX1JJR0hUXCI7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9CT1RUT01cIl0gPSAzXSA9IFwiWUdFX0JPVFRPTVwiO1xuICAgIFlHRWRnZVtZR0VkZ2VbXCJZR0VfU1RBUlRcIl0gPSA0XSA9IFwiWUdFX1NUQVJUXCI7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9FTkRcIl0gPSA1XSA9IFwiWUdFX0VORFwiO1xuICAgIFlHRWRnZVtZR0VkZ2VbXCJZR0VfSE9SSVpPTlRBTFwiXSA9IDZdID0gXCJZR0VfSE9SSVpPTlRBTFwiO1xuICAgIFlHRWRnZVtZR0VkZ2VbXCJZR0VfVkVSVElDQUxcIl0gPSA3XSA9IFwiWUdFX1ZFUlRJQ0FMXCI7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9BTExcIl0gPSA4XSA9IFwiWUdFX0FMTFwiO1xufSkoWUdFZGdlIHx8IChZR0VkZ2UgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVWlUcmFuc2Zvcm0oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGFyZW50OiAwLFxuICAgICAgICByaWdodE9mOiAwLFxuICAgICAgICBhbGlnbkNvbnRlbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxpZ25JdGVtczogdW5kZWZpbmVkLFxuICAgICAgICBmbGV4V3JhcDogdW5kZWZpbmVkLFxuICAgICAgICBmbGV4U2hyaW5rOiB1bmRlZmluZWQsXG4gICAgICAgIHBvc2l0aW9uVHlwZTogMCxcbiAgICAgICAgYWxpZ25TZWxmOiAwLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAwLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogMCxcbiAgICAgICAgb3ZlcmZsb3c6IDAsXG4gICAgICAgIGRpc3BsYXk6IDAsXG4gICAgICAgIGZsZXhCYXNpc1VuaXQ6IDAsXG4gICAgICAgIGZsZXhCYXNpczogMCxcbiAgICAgICAgZmxleEdyb3c6IDAsXG4gICAgICAgIHdpZHRoVW5pdDogMCxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodFVuaXQ6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgbWluV2lkdGhVbml0OiAwLFxuICAgICAgICBtaW5XaWR0aDogMCxcbiAgICAgICAgbWluSGVpZ2h0VW5pdDogMCxcbiAgICAgICAgbWluSGVpZ2h0OiAwLFxuICAgICAgICBtYXhXaWR0aFVuaXQ6IDAsXG4gICAgICAgIG1heFdpZHRoOiAwLFxuICAgICAgICBtYXhIZWlnaHRVbml0OiAwLFxuICAgICAgICBtYXhIZWlnaHQ6IDAsXG4gICAgICAgIHBvc2l0aW9uTGVmdFVuaXQ6IDAsXG4gICAgICAgIHBvc2l0aW9uTGVmdDogMCxcbiAgICAgICAgcG9zaXRpb25Ub3BVbml0OiAwLFxuICAgICAgICBwb3NpdGlvblRvcDogMCxcbiAgICAgICAgcG9zaXRpb25SaWdodFVuaXQ6IDAsXG4gICAgICAgIHBvc2l0aW9uUmlnaHQ6IDAsXG4gICAgICAgIHBvc2l0aW9uQm90dG9tVW5pdDogMCxcbiAgICAgICAgcG9zaXRpb25Cb3R0b206IDAsXG4gICAgICAgIG1hcmdpbkxlZnRVbml0OiAwLFxuICAgICAgICBtYXJnaW5MZWZ0OiAwLFxuICAgICAgICBtYXJnaW5Ub3BVbml0OiAwLFxuICAgICAgICBtYXJnaW5Ub3A6IDAsXG4gICAgICAgIG1hcmdpblJpZ2h0VW5pdDogMCxcbiAgICAgICAgbWFyZ2luUmlnaHQ6IDAsXG4gICAgICAgIG1hcmdpbkJvdHRvbVVuaXQ6IDAsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogMCxcbiAgICAgICAgcGFkZGluZ0xlZnRVbml0OiAwLFxuICAgICAgICBwYWRkaW5nTGVmdDogMCxcbiAgICAgICAgcGFkZGluZ1RvcFVuaXQ6IDAsXG4gICAgICAgIHBhZGRpbmdUb3A6IDAsXG4gICAgICAgIHBhZGRpbmdSaWdodFVuaXQ6IDAsXG4gICAgICAgIHBhZGRpbmdSaWdodDogMCxcbiAgICAgICAgcGFkZGluZ0JvdHRvbVVuaXQ6IDAsXG4gICAgICAgIHBhZGRpbmdCb3R0b206IDAsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVWlUcmFuc2Zvcm07XG4oZnVuY3Rpb24gKFBCVWlUcmFuc2Zvcm0pIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5wYXJlbnQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5wYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnJpZ2h0T2YgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDMyKG1lc3NhZ2UucmlnaHRPZik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYWxpZ25Db250ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDMyKG1lc3NhZ2UuYWxpZ25Db250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hbGlnbkl0ZW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmludDMyKG1lc3NhZ2UuYWxpZ25JdGVtcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZmxleFdyYXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkuaW50MzIobWVzc2FnZS5mbGV4V3JhcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZmxleFNocmluayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDUzKS5mbG9hdChtZXNzYWdlLmZsZXhTaHJpbmspO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uVHlwZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1NikuaW50MzIobWVzc2FnZS5wb3NpdGlvblR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFsaWduU2VsZiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig2NCkuaW50MzIobWVzc2FnZS5hbGlnblNlbGYpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZsZXhEaXJlY3Rpb24gIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNzIpLmludDMyKG1lc3NhZ2UuZmxleERpcmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuanVzdGlmeUNvbnRlbnQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODApLmludDMyKG1lc3NhZ2UuanVzdGlmeUNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm92ZXJmbG93ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDg4KS5pbnQzMihtZXNzYWdlLm92ZXJmbG93KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kaXNwbGF5ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDk2KS5pbnQzMihtZXNzYWdlLmRpc3BsYXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZsZXhCYXNpc1VuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTA0KS5pbnQzMihtZXNzYWdlLmZsZXhCYXNpc1VuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZsZXhCYXNpcyAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMTcpLmZsb2F0KG1lc3NhZ2UuZmxleEJhc2lzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mbGV4R3JvdyAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMjUpLmZsb2F0KG1lc3NhZ2UuZmxleEdyb3cpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLndpZHRoVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMjgpLmludDMyKG1lc3NhZ2Uud2lkdGhVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS53aWR0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNDEpLmZsb2F0KG1lc3NhZ2Uud2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhlaWdodFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTQ0KS5pbnQzMihtZXNzYWdlLmhlaWdodFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhlaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNTcpLmZsb2F0KG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5taW5XaWR0aFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYwKS5pbnQzMihtZXNzYWdlLm1pbldpZHRoVW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWluV2lkdGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTczKS5mbG9hdChtZXNzYWdlLm1pbldpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5taW5IZWlnaHRVbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE3NikuaW50MzIobWVzc2FnZS5taW5IZWlnaHRVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5taW5IZWlnaHQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTg5KS5mbG9hdChtZXNzYWdlLm1pbkhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4V2lkdGhVbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE5MikuaW50MzIobWVzc2FnZS5tYXhXaWR0aFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1heFdpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIwNSkuZmxvYXQobWVzc2FnZS5tYXhXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4SGVpZ2h0VW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMDgpLmludDMyKG1lc3NhZ2UubWF4SGVpZ2h0VW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4SGVpZ2h0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIyMSkuZmxvYXQobWVzc2FnZS5tYXhIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uTGVmdFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjI0KS5pbnQzMihtZXNzYWdlLnBvc2l0aW9uTGVmdFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uTGVmdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMzcpLmZsb2F0KG1lc3NhZ2UucG9zaXRpb25MZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wb3NpdGlvblRvcFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQwKS5pbnQzMihtZXNzYWdlLnBvc2l0aW9uVG9wVW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucG9zaXRpb25Ub3AgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjUzKS5mbG9hdChtZXNzYWdlLnBvc2l0aW9uVG9wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wb3NpdGlvblJpZ2h0VW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNTYpLmludDMyKG1lc3NhZ2UucG9zaXRpb25SaWdodFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uUmlnaHQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjY5KS5mbG9hdChtZXNzYWdlLnBvc2l0aW9uUmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uQm90dG9tVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNzIpLmludDMyKG1lc3NhZ2UucG9zaXRpb25Cb3R0b21Vbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wb3NpdGlvbkJvdHRvbSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyODUpLmZsb2F0KG1lc3NhZ2UucG9zaXRpb25Cb3R0b20pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1hcmdpbkxlZnRVbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI4OCkuaW50MzIobWVzc2FnZS5tYXJnaW5MZWZ0VW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWFyZ2luTGVmdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMDEpLmZsb2F0KG1lc3NhZ2UubWFyZ2luTGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWFyZ2luVG9wVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMDQpLmludDMyKG1lc3NhZ2UubWFyZ2luVG9wVW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWFyZ2luVG9wICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMxNykuZmxvYXQobWVzc2FnZS5tYXJnaW5Ub3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1hcmdpblJpZ2h0VW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMjApLmludDMyKG1lc3NhZ2UubWFyZ2luUmlnaHRVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tYXJnaW5SaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMzMpLmZsb2F0KG1lc3NhZ2UubWFyZ2luUmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1hcmdpbkJvdHRvbVVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzM2KS5pbnQzMihtZXNzYWdlLm1hcmdpbkJvdHRvbVVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1hcmdpbkJvdHRvbSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNDkpLmZsb2F0KG1lc3NhZ2UubWFyZ2luQm90dG9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWRkaW5nTGVmdFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzUyKS5pbnQzMihtZXNzYWdlLnBhZGRpbmdMZWZ0VW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFkZGluZ0xlZnQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzY1KS5mbG9hdChtZXNzYWdlLnBhZGRpbmdMZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWRkaW5nVG9wVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNjgpLmludDMyKG1lc3NhZ2UucGFkZGluZ1RvcFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdUb3AgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzgxKS5mbG9hdChtZXNzYWdlLnBhZGRpbmdUb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdSaWdodFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzg0KS5pbnQzMihtZXNzYWdlLnBhZGRpbmdSaWdodFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdSaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzOTcpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ1JpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWRkaW5nQm90dG9tVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MDApLmludDMyKG1lc3NhZ2UucGFkZGluZ0JvdHRvbVVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdCb3R0b20gIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDEzKS5mbG9hdChtZXNzYWdlLnBhZGRpbmdCb3R0b20pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVWlUcmFuc2Zvcm0uZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlVpVHJhbnNmb3JtKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYXJlbnQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yaWdodE9mID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWxpZ25Db250ZW50ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWxpZ25JdGVtcyA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZsZXhXcmFwID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmxleFNocmluayA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uVHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFsaWduU2VsZiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDcyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZsZXhEaXJlY3Rpb24gPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gODApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuanVzdGlmeUNvbnRlbnQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gODgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uub3ZlcmZsb3cgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlzcGxheSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmxleEJhc2lzVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmxleEJhc2lzID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEyNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mbGV4R3JvdyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMjgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud2lkdGhVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE0MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS53aWR0aCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0VW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5taW5XaWR0aFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTczKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1pbldpZHRoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE3Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5taW5IZWlnaHRVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4OSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5taW5IZWlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTkyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1heFdpZHRoVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWF4V2lkdGggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1heEhlaWdodFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1heEhlaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25MZWZ0VW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI5OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMzcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25MZWZ0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblRvcFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjUzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uVG9wID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblJpZ2h0VW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDMzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25SaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25Cb3R0b21Vbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI4NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb3NpdGlvbkJvdHRvbSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyODgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWFyZ2luTGVmdFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1hcmdpbkxlZnQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1hcmdpblRvcFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzE3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1hcmdpblRvcCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWFyZ2luUmlnaHRVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDMzMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXJnaW5SaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMzYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWFyZ2luQm90dG9tVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWFyZ2luQm90dG9tID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM1Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYWRkaW5nTGVmdFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0NTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzY1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdMZWZ0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM2OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYWRkaW5nVG9wVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzODEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ1RvcCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzODQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ1JpZ2h0VW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ5OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzOTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ1JpZ2h0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYWRkaW5nQm90dG9tVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDUxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0MTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ0JvdHRvbSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVWlUcmFuc2Zvcm0uZGVjb2RlID0gZGVjb2RlO1xufSkoUEJVaVRyYW5zZm9ybSB8fCAoUEJVaVRyYW5zZm9ybSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJVaVRyYW5zZm9ybSB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX3RyYW5zZm9ybS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFVpVHJhbnNmb3JtU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA1MCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJVaVRyYW5zZm9ybS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlVpVHJhbnNmb3JtLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlVpVHJhbnNmb3JtLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlVpVHJhbnNmb3JtXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBWaWRlb1N0YXRlO1xuKGZ1bmN0aW9uIChWaWRlb1N0YXRlKSB7XG4gICAgVmlkZW9TdGF0ZVtWaWRlb1N0YXRlW1wiVlNfTk9ORVwiXSA9IDBdID0gXCJWU19OT05FXCI7XG4gICAgVmlkZW9TdGF0ZVtWaWRlb1N0YXRlW1wiVlNfRVJST1JcIl0gPSAxXSA9IFwiVlNfRVJST1JcIjtcbiAgICBWaWRlb1N0YXRlW1ZpZGVvU3RhdGVbXCJWU19MT0FESU5HXCJdID0gMl0gPSBcIlZTX0xPQURJTkdcIjtcbiAgICBWaWRlb1N0YXRlW1ZpZGVvU3RhdGVbXCJWU19SRUFEWVwiXSA9IDNdID0gXCJWU19SRUFEWVwiO1xuICAgIFZpZGVvU3RhdGVbVmlkZW9TdGF0ZVtcIlZTX1BMQVlJTkdcIl0gPSA0XSA9IFwiVlNfUExBWUlOR1wiO1xuICAgIFZpZGVvU3RhdGVbVmlkZW9TdGF0ZVtcIlZTX0JVRkZFUklOR1wiXSA9IDVdID0gXCJWU19CVUZGRVJJTkdcIjtcbiAgICBWaWRlb1N0YXRlW1ZpZGVvU3RhdGVbXCJWU19TRUVLSU5HXCJdID0gNl0gPSBcIlZTX1NFRUtJTkdcIjtcbiAgICBWaWRlb1N0YXRlW1ZpZGVvU3RhdGVbXCJWU19QQVVTRURcIl0gPSA3XSA9IFwiVlNfUEFVU0VEXCI7XG59KShWaWRlb1N0YXRlIHx8IChWaWRlb1N0YXRlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlZpZGVvRXZlbnQoKSB7XG4gICAgcmV0dXJuIHsgdGltZXN0YW1wOiAwLCB0aWNrTnVtYmVyOiAwLCBjdXJyZW50T2Zmc2V0OiAwLCB2aWRlb0xlbmd0aDogMCwgc3RhdGU6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVmlkZW9FdmVudDtcbihmdW5jdGlvbiAoUEJWaWRlb0V2ZW50KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLnVpbnQzMihtZXNzYWdlLnRpbWVzdGFtcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGlja051bWJlciAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikudWludDMyKG1lc3NhZ2UudGlja051bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY3VycmVudE9mZnNldCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS5jdXJyZW50T2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52aWRlb0xlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS52aWRlb0xlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhdGUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDApLmludDMyKG1lc3NhZ2Uuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVmlkZW9FdmVudC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVmlkZW9FdmVudCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGltZXN0YW1wID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpY2tOdW1iZXIgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY3VycmVudE9mZnNldCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZpZGVvTGVuZ3RoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhdGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlZpZGVvRXZlbnQuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJWaWRlb0V2ZW50IHx8IChQQlZpZGVvRXZlbnQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVmlkZW9FdmVudCB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3ZpZGVvX2V2ZW50Lmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVmlkZW9FdmVudFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNDQsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVmlkZW9FdmVudC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlZpZGVvRXZlbnQuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVmlkZW9FdmVudC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJWaWRlb0V2ZW50XCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJWaWRlb1BsYXllcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzcmM6IFwiXCIsXG4gICAgICAgIHBsYXlpbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgcG9zaXRpb246IHVuZGVmaW5lZCxcbiAgICAgICAgdm9sdW1lOiB1bmRlZmluZWQsXG4gICAgICAgIHBsYXliYWNrUmF0ZTogdW5kZWZpbmVkLFxuICAgICAgICBsb29wOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVmlkZW9QbGF5ZXI7XG4oZnVuY3Rpb24gKFBCVmlkZW9QbGF5ZXIpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5zcmMgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnNyYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGxheWluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5ib29sKG1lc3NhZ2UucGxheWluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS5wb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uudm9sdW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2Uudm9sdW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wbGF5YmFja1JhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0NSkuZmxvYXQobWVzc2FnZS5wbGF5YmFja1JhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxvb3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0OCkuYm9vbChtZXNzYWdlLmxvb3ApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVmlkZW9QbGF5ZXIuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlZpZGVvUGxheWVyKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3JjID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBsYXlpbmcgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uudm9sdW1lID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGxheWJhY2tSYXRlID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubG9vcCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJWaWRlb1BsYXllci5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlZpZGVvUGxheWVyIHx8IChQQlZpZGVvUGxheWVyID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlZpZGVvUGxheWVyIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdmlkZW9fcGxheWVyLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVmlkZW9QbGF5ZXJTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDQzLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlZpZGVvUGxheWVyLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVmlkZW9QbGF5ZXIuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVmlkZW9QbGF5ZXIuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVmlkZW9QbGF5ZXJcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlZpc2liaWxpdHlDb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIHsgdmlzaWJsZTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlZpc2liaWxpdHlDb21wb25lbnQ7XG4oZnVuY3Rpb24gKFBCVmlzaWJpbGl0eUNvbXBvbmVudCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnZpc2libGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5ib29sKG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJWaXNpYmlsaXR5Q29tcG9uZW50LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJWaXNpYmlsaXR5Q29tcG9uZW50KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52aXNpYmxlID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlZpc2liaWxpdHlDb21wb25lbnQuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJWaXNpYmlsaXR5Q29tcG9uZW50IHx8IChQQlZpc2liaWxpdHlDb21wb25lbnQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVmlzaWJpbGl0eUNvbXBvbmVudCB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3Zpc2liaWxpdHlfY29tcG9uZW50Lmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVmlzaWJpbGl0eUNvbXBvbmVudFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwODEsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVmlzaWJpbGl0eUNvbXBvbmVudC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlZpc2liaWxpdHlDb21wb25lbnQuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVmlzaWJpbGl0eUNvbXBvbmVudC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJWaXNpYmlsaXR5Q29tcG9uZW50XCJcbiAgICB9XG59O1xuIiwgImltcG9ydCB7IEFuaW1hdG9yU2NoZW1hIH0gZnJvbSAnLi9BbmltYXRvci5nZW4nO1xuaW1wb3J0IHsgQXVkaW9Tb3VyY2VTY2hlbWEgfSBmcm9tICcuL0F1ZGlvU291cmNlLmdlbic7XG5pbXBvcnQgeyBBdWRpb1N0cmVhbVNjaGVtYSB9IGZyb20gJy4vQXVkaW9TdHJlYW0uZ2VuJztcbmltcG9ydCB7IEF2YXRhckF0dGFjaFNjaGVtYSB9IGZyb20gJy4vQXZhdGFyQXR0YWNoLmdlbic7XG5pbXBvcnQgeyBBdmF0YXJNb2RpZmllckFyZWFTY2hlbWEgfSBmcm9tICcuL0F2YXRhck1vZGlmaWVyQXJlYS5nZW4nO1xuaW1wb3J0IHsgQXZhdGFyU2hhcGVTY2hlbWEgfSBmcm9tICcuL0F2YXRhclNoYXBlLmdlbic7XG5pbXBvcnQgeyBCaWxsYm9hcmRTY2hlbWEgfSBmcm9tICcuL0JpbGxib2FyZC5nZW4nO1xuaW1wb3J0IHsgQ2FtZXJhTW9kZVNjaGVtYSB9IGZyb20gJy4vQ2FtZXJhTW9kZS5nZW4nO1xuaW1wb3J0IHsgQ2FtZXJhTW9kZUFyZWFTY2hlbWEgfSBmcm9tICcuL0NhbWVyYU1vZGVBcmVhLmdlbic7XG5pbXBvcnQgeyBFbmdpbmVJbmZvU2NoZW1hIH0gZnJvbSAnLi9FbmdpbmVJbmZvLmdlbic7XG5pbXBvcnQgeyBHbHRmQ29udGFpbmVyU2NoZW1hIH0gZnJvbSAnLi9HbHRmQ29udGFpbmVyLmdlbic7XG5pbXBvcnQgeyBHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlU2NoZW1hIH0gZnJvbSAnLi9HbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlLmdlbic7XG5pbXBvcnQgeyBNYXRlcmlhbFNjaGVtYSB9IGZyb20gJy4vTWF0ZXJpYWwuZ2VuJztcbmltcG9ydCB7IE1lc2hDb2xsaWRlclNjaGVtYSB9IGZyb20gJy4vTWVzaENvbGxpZGVyLmdlbic7XG5pbXBvcnQgeyBNZXNoUmVuZGVyZXJTY2hlbWEgfSBmcm9tICcuL01lc2hSZW5kZXJlci5nZW4nO1xuaW1wb3J0IHsgTmZ0U2hhcGVTY2hlbWEgfSBmcm9tICcuL05mdFNoYXBlLmdlbic7XG5pbXBvcnQgeyBQb2ludGVyRXZlbnRzU2NoZW1hIH0gZnJvbSAnLi9Qb2ludGVyRXZlbnRzLmdlbic7XG5pbXBvcnQgeyBQb2ludGVyRXZlbnRzUmVzdWx0U2NoZW1hIH0gZnJvbSAnLi9Qb2ludGVyRXZlbnRzUmVzdWx0Lmdlbic7XG5pbXBvcnQgeyBQb2ludGVyTG9ja1NjaGVtYSB9IGZyb20gJy4vUG9pbnRlckxvY2suZ2VuJztcbmltcG9ydCB7IFJheWNhc3RTY2hlbWEgfSBmcm9tICcuL1JheWNhc3QuZ2VuJztcbmltcG9ydCB7IFJheWNhc3RSZXN1bHRTY2hlbWEgfSBmcm9tICcuL1JheWNhc3RSZXN1bHQuZ2VuJztcbmltcG9ydCB7IFRleHRTaGFwZVNjaGVtYSB9IGZyb20gJy4vVGV4dFNoYXBlLmdlbic7XG5pbXBvcnQgeyBVaUJhY2tncm91bmRTY2hlbWEgfSBmcm9tICcuL1VpQmFja2dyb3VuZC5nZW4nO1xuaW1wb3J0IHsgVWlDYW52YXNJbmZvcm1hdGlvblNjaGVtYSB9IGZyb20gJy4vVWlDYW52YXNJbmZvcm1hdGlvbi5nZW4nO1xuaW1wb3J0IHsgVWlEcm9wZG93blNjaGVtYSB9IGZyb20gJy4vVWlEcm9wZG93bi5nZW4nO1xuaW1wb3J0IHsgVWlEcm9wZG93blJlc3VsdFNjaGVtYSB9IGZyb20gJy4vVWlEcm9wZG93blJlc3VsdC5nZW4nO1xuaW1wb3J0IHsgVWlJbnB1dFNjaGVtYSB9IGZyb20gJy4vVWlJbnB1dC5nZW4nO1xuaW1wb3J0IHsgVWlJbnB1dFJlc3VsdFNjaGVtYSB9IGZyb20gJy4vVWlJbnB1dFJlc3VsdC5nZW4nO1xuaW1wb3J0IHsgVWlUZXh0U2NoZW1hIH0gZnJvbSAnLi9VaVRleHQuZ2VuJztcbmltcG9ydCB7IFVpVHJhbnNmb3JtU2NoZW1hIH0gZnJvbSAnLi9VaVRyYW5zZm9ybS5nZW4nO1xuaW1wb3J0IHsgVmlkZW9FdmVudFNjaGVtYSB9IGZyb20gJy4vVmlkZW9FdmVudC5nZW4nO1xuaW1wb3J0IHsgVmlkZW9QbGF5ZXJTY2hlbWEgfSBmcm9tICcuL1ZpZGVvUGxheWVyLmdlbic7XG5pbXBvcnQgeyBWaXNpYmlsaXR5Q29tcG9uZW50U2NoZW1hIH0gZnJvbSAnLi9WaXNpYmlsaXR5Q29tcG9uZW50Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hbmltYXRvci5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXVkaW9fc291cmNlLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdWRpb19zdHJlYW0uZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9hdHRhY2guZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9tb2RpZmllcl9hcmVhLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfc2hhcGUuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2JpbGxib2FyZC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY2FtZXJhX21vZGUuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2NhbWVyYV9tb2RlX2FyZWEuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2VuZ2luZV9pbmZvLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9nbHRmX2NvbnRhaW5lci5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvZ2x0Zl9jb250YWluZXJfbG9hZGluZ19zdGF0ZS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWF0ZXJpYWwuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL21lc2hfY29sbGlkZXIuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL21lc2hfcmVuZGVyZXIuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL25mdF9zaGFwZS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcG9pbnRlcl9ldmVudHMuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3BvaW50ZXJfZXZlbnRzX3Jlc3VsdC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcG9pbnRlcl9sb2NrLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9yYXljYXN0Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9yYXljYXN0X3Jlc3VsdC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdGV4dF9zaGFwZS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfYmFja2dyb3VuZC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfY2FudmFzX2luZm9ybWF0aW9uLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9kcm9wZG93bi5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfZHJvcGRvd25fcmVzdWx0Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9pbnB1dC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfaW5wdXRfcmVzdWx0Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV90ZXh0Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV90cmFuc2Zvcm0uZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3ZpZGVvX2V2ZW50Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy92aWRlb19wbGF5ZXIuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3Zpc2liaWxpdHlfY29tcG9uZW50Lmdlbic7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQW5pbWF0b3IgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpBbmltYXRvclwiLCBBbmltYXRvclNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXVkaW9Tb3VyY2UgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpBdWRpb1NvdXJjZVwiLCBBdWRpb1NvdXJjZVNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXVkaW9TdHJlYW0gPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpBdWRpb1N0cmVhbVwiLCBBdWRpb1N0cmVhbVNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXZhdGFyQXR0YWNoID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6QXZhdGFyQXR0YWNoXCIsIEF2YXRhckF0dGFjaFNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXZhdGFyTW9kaWZpZXJBcmVhID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6QXZhdGFyTW9kaWZpZXJBcmVhXCIsIEF2YXRhck1vZGlmaWVyQXJlYVNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXZhdGFyU2hhcGUgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpBdmF0YXJTaGFwZVwiLCBBdmF0YXJTaGFwZVNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQmlsbGJvYXJkID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6QmlsbGJvYXJkXCIsIEJpbGxib2FyZFNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQ2FtZXJhTW9kZSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkNhbWVyYU1vZGVcIiwgQ2FtZXJhTW9kZVNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQ2FtZXJhTW9kZUFyZWEgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpDYW1lcmFNb2RlQXJlYVwiLCBDYW1lcmFNb2RlQXJlYVNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgRW5naW5lSW5mbyA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkVuZ2luZUluZm9cIiwgRW5naW5lSW5mb1NjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgR2x0ZkNvbnRhaW5lciA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkdsdGZDb250YWluZXJcIiwgR2x0ZkNvbnRhaW5lclNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGVcIiwgR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZVNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgTWF0ZXJpYWwgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpNYXRlcmlhbFwiLCBNYXRlcmlhbFNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgTWVzaENvbGxpZGVyID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6TWVzaENvbGxpZGVyXCIsIE1lc2hDb2xsaWRlclNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgTWVzaFJlbmRlcmVyID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6TWVzaFJlbmRlcmVyXCIsIE1lc2hSZW5kZXJlclNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgTmZ0U2hhcGUgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpOZnRTaGFwZVwiLCBOZnRTaGFwZVNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgUG9pbnRlckV2ZW50cyA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlBvaW50ZXJFdmVudHNcIiwgUG9pbnRlckV2ZW50c1NjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgUG9pbnRlckV2ZW50c1Jlc3VsdCA9IChlbmdpbmUpID0+IC8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lVmFsdWVTZXRDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6UG9pbnRlckV2ZW50c1Jlc3VsdFwiLCBQb2ludGVyRXZlbnRzUmVzdWx0U2NoZW1hLCB7XG4gICAgdGltZXN0YW1wRnVuY3Rpb246ICh0KSA9PiB0LnRpbWVzdGFtcCxcbiAgICBtYXhFbGVtZW50czogMTAwXG59KTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBQb2ludGVyTG9jayA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlBvaW50ZXJMb2NrXCIsIFBvaW50ZXJMb2NrU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBSYXljYXN0ID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6UmF5Y2FzdFwiLCBSYXljYXN0U2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBSYXljYXN0UmVzdWx0ID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6UmF5Y2FzdFJlc3VsdFwiLCBSYXljYXN0UmVzdWx0U2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBUZXh0U2hhcGUgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpUZXh0U2hhcGVcIiwgVGV4dFNoYXBlU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaUJhY2tncm91bmQgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpVaUJhY2tncm91bmRcIiwgVWlCYWNrZ3JvdW5kU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaUNhbnZhc0luZm9ybWF0aW9uID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VWlDYW52YXNJbmZvcm1hdGlvblwiLCBVaUNhbnZhc0luZm9ybWF0aW9uU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaURyb3Bkb3duID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VWlEcm9wZG93blwiLCBVaURyb3Bkb3duU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaURyb3Bkb3duUmVzdWx0ID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VWlEcm9wZG93blJlc3VsdFwiLCBVaURyb3Bkb3duUmVzdWx0U2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaUlucHV0ID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VWlJbnB1dFwiLCBVaUlucHV0U2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaUlucHV0UmVzdWx0ID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VWlJbnB1dFJlc3VsdFwiLCBVaUlucHV0UmVzdWx0U2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaVRleHQgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpVaVRleHRcIiwgVWlUZXh0U2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaVRyYW5zZm9ybSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlVpVHJhbnNmb3JtXCIsIFVpVHJhbnNmb3JtU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBWaWRlb0V2ZW50ID0gKGVuZ2luZSkgPT4gLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVWYWx1ZVNldENvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpWaWRlb0V2ZW50XCIsIFZpZGVvRXZlbnRTY2hlbWEsIHtcbiAgICB0aW1lc3RhbXBGdW5jdGlvbjogKHQpID0+IHQudGltZXN0YW1wLFxuICAgIG1heEVsZW1lbnRzOiAxMDBcbn0pO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFZpZGVvUGxheWVyID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VmlkZW9QbGF5ZXJcIiwgVmlkZW9QbGF5ZXJTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFZpc2liaWxpdHlDb21wb25lbnQgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpWaXNpYmlsaXR5Q29tcG9uZW50XCIsIFZpc2liaWxpdHlDb21wb25lbnRTY2hlbWEpO1xuLyoqIHB1YmxpYyAqL1xuZXhwb3J0IGNvbnN0IGNvbXBvbmVudERlZmluaXRpb25CeU5hbWUgPSAvKiBAX19QVVJFX18gKi8ge1xuICAgIFwiY29yZTo6QW5pbWF0b3JcIjogQW5pbWF0b3IsXG4gICAgXCJjb3JlOjpBdWRpb1NvdXJjZVwiOiBBdWRpb1NvdXJjZSxcbiAgICBcImNvcmU6OkF1ZGlvU3RyZWFtXCI6IEF1ZGlvU3RyZWFtLFxuICAgIFwiY29yZTo6QXZhdGFyQXR0YWNoXCI6IEF2YXRhckF0dGFjaCxcbiAgICBcImNvcmU6OkF2YXRhck1vZGlmaWVyQXJlYVwiOiBBdmF0YXJNb2RpZmllckFyZWEsXG4gICAgXCJjb3JlOjpBdmF0YXJTaGFwZVwiOiBBdmF0YXJTaGFwZSxcbiAgICBcImNvcmU6OkJpbGxib2FyZFwiOiBCaWxsYm9hcmQsXG4gICAgXCJjb3JlOjpDYW1lcmFNb2RlXCI6IENhbWVyYU1vZGUsXG4gICAgXCJjb3JlOjpDYW1lcmFNb2RlQXJlYVwiOiBDYW1lcmFNb2RlQXJlYSxcbiAgICBcImNvcmU6OkVuZ2luZUluZm9cIjogRW5naW5lSW5mbyxcbiAgICBcImNvcmU6OkdsdGZDb250YWluZXJcIjogR2x0ZkNvbnRhaW5lcixcbiAgICBcImNvcmU6OkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGVcIjogR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZSxcbiAgICBcImNvcmU6Ok1hdGVyaWFsXCI6IE1hdGVyaWFsLFxuICAgIFwiY29yZTo6TWVzaENvbGxpZGVyXCI6IE1lc2hDb2xsaWRlcixcbiAgICBcImNvcmU6Ok1lc2hSZW5kZXJlclwiOiBNZXNoUmVuZGVyZXIsXG4gICAgXCJjb3JlOjpOZnRTaGFwZVwiOiBOZnRTaGFwZSxcbiAgICBcImNvcmU6OlBvaW50ZXJFdmVudHNcIjogUG9pbnRlckV2ZW50cyxcbiAgICBcImNvcmU6OlBvaW50ZXJFdmVudHNSZXN1bHRcIjogUG9pbnRlckV2ZW50c1Jlc3VsdCxcbiAgICBcImNvcmU6OlBvaW50ZXJMb2NrXCI6IFBvaW50ZXJMb2NrLFxuICAgIFwiY29yZTo6UmF5Y2FzdFwiOiBSYXljYXN0LFxuICAgIFwiY29yZTo6UmF5Y2FzdFJlc3VsdFwiOiBSYXljYXN0UmVzdWx0LFxuICAgIFwiY29yZTo6VGV4dFNoYXBlXCI6IFRleHRTaGFwZSxcbiAgICBcImNvcmU6OlVpQmFja2dyb3VuZFwiOiBVaUJhY2tncm91bmQsXG4gICAgXCJjb3JlOjpVaUNhbnZhc0luZm9ybWF0aW9uXCI6IFVpQ2FudmFzSW5mb3JtYXRpb24sXG4gICAgXCJjb3JlOjpVaURyb3Bkb3duXCI6IFVpRHJvcGRvd24sXG4gICAgXCJjb3JlOjpVaURyb3Bkb3duUmVzdWx0XCI6IFVpRHJvcGRvd25SZXN1bHQsXG4gICAgXCJjb3JlOjpVaUlucHV0XCI6IFVpSW5wdXQsXG4gICAgXCJjb3JlOjpVaUlucHV0UmVzdWx0XCI6IFVpSW5wdXRSZXN1bHQsXG4gICAgXCJjb3JlOjpVaVRleHRcIjogVWlUZXh0LFxuICAgIFwiY29yZTo6VWlUcmFuc2Zvcm1cIjogVWlUcmFuc2Zvcm0sXG4gICAgXCJjb3JlOjpWaWRlb0V2ZW50XCI6IFZpZGVvRXZlbnQsXG4gICAgXCJjb3JlOjpWaWRlb1BsYXllclwiOiBWaWRlb1BsYXllcixcbiAgICBcImNvcmU6OlZpc2liaWxpdHlDb21wb25lbnRcIjogVmlzaWJpbGl0eUNvbXBvbmVudCxcbn07XG4iLCAiaW1wb3J0IHsgTWF0ZXJpYWwgfSBmcm9tICcuLi9nZW5lcmF0ZWQvaW5kZXguZ2VuJztcbmNvbnN0IFRleHR1cmVIZWxwZXIgPSB7XG4gICAgQ29tbW9uKHRleHR1cmUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRleDoge1xuICAgICAgICAgICAgICAgICRjYXNlOiAndGV4dHVyZScsXG4gICAgICAgICAgICAgICAgdGV4dHVyZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgQXZhdGFyKGF2YXRhclRleHR1cmUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRleDoge1xuICAgICAgICAgICAgICAgICRjYXNlOiAnYXZhdGFyVGV4dHVyZScsXG4gICAgICAgICAgICAgICAgYXZhdGFyVGV4dHVyZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgVmlkZW8odmlkZW9UZXh0dXJlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZXg6IHtcbiAgICAgICAgICAgICAgICAkY2FzZTogJ3ZpZGVvVGV4dHVyZScsXG4gICAgICAgICAgICAgICAgdmlkZW9UZXh0dXJlXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufTtcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVNYXRlcmlhbENvbXBvbmVudChlbmdpbmUpIHtcbiAgICBjb25zdCB0aGVDb21wb25lbnQgPSBNYXRlcmlhbChlbmdpbmUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRoZUNvbXBvbmVudCxcbiAgICAgICAgVGV4dHVyZTogVGV4dHVyZUhlbHBlcixcbiAgICAgICAgc2V0QmFzaWNNYXRlcmlhbChlbnRpdHksIG1hdGVyaWFsKSB7XG4gICAgICAgICAgICB0aGVDb21wb25lbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsOiB7XG4gICAgICAgICAgICAgICAgICAgICRjYXNlOiAndW5saXQnLFxuICAgICAgICAgICAgICAgICAgICB1bmxpdDogbWF0ZXJpYWxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UGJyTWF0ZXJpYWwoZW50aXR5LCBtYXRlcmlhbCkge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDoge1xuICAgICAgICAgICAgICAgICAgICAkY2FzZTogJ3BicicsXG4gICAgICAgICAgICAgICAgICAgIHBicjogbWF0ZXJpYWxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG4iLCAiaW1wb3J0IHsgTWVzaENvbGxpZGVyIH0gZnJvbSAnLi4vZ2VuZXJhdGVkL2luZGV4Lmdlbic7XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lTWVzaENvbGxpZGVyQ29tcG9uZW50KGVuZ2luZSkge1xuICAgIGNvbnN0IHRoZUNvbXBvbmVudCA9IE1lc2hDb2xsaWRlcihlbmdpbmUpO1xuICAgIGZ1bmN0aW9uIGdldENvbGxpc2lvbk1hc2sobGF5ZXJzKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGxheWVycykpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXllcnMubWFwKChpdGVtKSA9PiBpdGVtKS5yZWR1Y2UoKHByZXYsIGl0ZW0pID0+IHByZXYgfCBpdGVtLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsYXllcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXllcnM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4udGhlQ29tcG9uZW50LFxuICAgICAgICBzZXRCb3goZW50aXR5LCBjb2xsaWRlckxheWVycykge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtZXNoOiB7ICRjYXNlOiAnYm94JywgYm94OiB7fSB9LFxuICAgICAgICAgICAgICAgIGNvbGxpc2lvbk1hc2s6IGdldENvbGxpc2lvbk1hc2soY29sbGlkZXJMYXllcnMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UGxhbmUoZW50aXR5LCBjb2xsaWRlckxheWVycykge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtZXNoOiB7ICRjYXNlOiAncGxhbmUnLCBwbGFuZToge30gfSxcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25NYXNrOiBnZXRDb2xsaXNpb25NYXNrKGNvbGxpZGVyTGF5ZXJzKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEN5bGluZGVyKGVudGl0eSwgcmFkaXVzQm90dG9tLCByYWRpdXNUb3AsIGNvbGxpZGVyTGF5ZXJzKSB7XG4gICAgICAgICAgICB0aGVDb21wb25lbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgICAgICAgICAgICAgIG1lc2g6IHsgJGNhc2U6ICdjeWxpbmRlcicsIGN5bGluZGVyOiB7IHJhZGl1c0JvdHRvbSwgcmFkaXVzVG9wIH0gfSxcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25NYXNrOiBnZXRDb2xsaXNpb25NYXNrKGNvbGxpZGVyTGF5ZXJzKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFNwaGVyZShlbnRpdHksIGNvbGxpZGVyTGF5ZXJzKSB7XG4gICAgICAgICAgICB0aGVDb21wb25lbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgICAgICAgICAgICAgIG1lc2g6IHsgJGNhc2U6ICdzcGhlcmUnLCBzcGhlcmU6IHt9IH0sXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uTWFzazogZ2V0Q29sbGlzaW9uTWFzayhjb2xsaWRlckxheWVycylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiIsICJpbXBvcnQgeyBNZXNoUmVuZGVyZXIgfSBmcm9tICcuLi9nZW5lcmF0ZWQvaW5kZXguZ2VuJztcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVNZXNoUmVuZGVyZXJDb21wb25lbnQoZW5naW5lKSB7XG4gICAgY29uc3QgdGhlQ29tcG9uZW50ID0gTWVzaFJlbmRlcmVyKGVuZ2luZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4udGhlQ29tcG9uZW50LFxuICAgICAgICBzZXRCb3goZW50aXR5LCB1dnMpIHtcbiAgICAgICAgICAgIHRoZUNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgbWVzaDogeyAkY2FzZTogJ2JveCcsIGJveDogeyB1dnM6IHV2cyB8fCBbXSB9IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRQbGFuZShlbnRpdHksIHV2cykge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtZXNoOiB7ICRjYXNlOiAncGxhbmUnLCBwbGFuZTogeyB1dnM6IHV2cyB8fCBbXSB9IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRDeWxpbmRlcihlbnRpdHksIHJhZGl1c0JvdHRvbSwgcmFkaXVzVG9wKSB7XG4gICAgICAgICAgICB0aGVDb21wb25lbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgICAgICAgICAgICAgIG1lc2g6IHsgJGNhc2U6ICdjeWxpbmRlcicsIGN5bGluZGVyOiB7IHJhZGl1c0JvdHRvbSwgcmFkaXVzVG9wIH0gfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFNwaGVyZShlbnRpdHkpIHtcbiAgICAgICAgICAgIHRoZUNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgbWVzaDogeyAkY2FzZTogJ3NwaGVyZScsIHNwaGVyZToge30gfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBJQXJyYXkgPSAodHlwZSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICAgICAgYnVpbGRlci53cml0ZVVpbnQzMih2YWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHlwZS5zZXJpYWxpemUoaXRlbSwgYnVpbGRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICAgICAgY29uc3QgbmV3QXJyYXkgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IHJlYWRlci5yZWFkVWludDMyKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgbmV3QXJyYXkucHVzaCh0eXBlLmRlc2VyaWFsaXplKHJlYWRlcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld0FycmF5O1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH0sXG4gICAgICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgICAgICBpdGVtczogdHlwZS5qc29uU2NoZW1hLFxuICAgICAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdhcnJheSdcbiAgICAgICAgfVxuICAgIH07XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBCb29sID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlSW50OCh2YWx1ZSA/IDEgOiAwKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gcmVhZGVyLnJlYWRJbnQ4KCkgPT09IDE7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ2Jvb2xlYW4nXG4gICAgfVxufTtcbiIsICIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgSW50NjQgPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVJbnQ2NChCaWdJbnQodmFsdWUpKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gTnVtYmVyKHJlYWRlci5yZWFkSW50NjQoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnaW50NjQnXG4gICAgfVxufTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBJbnQzMiA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZUludDMyKHZhbHVlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gcmVhZGVyLnJlYWRJbnQzMigpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ2ludGVnZXInLFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ2ludDMyJ1xuICAgIH1cbn07XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IEludDE2ID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlSW50MTYodmFsdWUpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiByZWFkZXIucmVhZEludDE2KCk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnaW50MTYnXG4gICAgfVxufTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgSW50OCA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZUludDgodmFsdWUpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiByZWFkZXIucmVhZEludDgoKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdpbnQ4J1xuICAgIH1cbn07XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEZsYXRTdHJpbmcgPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVVdGY4U3RyaW5nKHZhbHVlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gcmVhZGVyLnJlYWRVdGY4U3RyaW5nKCk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAndXRmOC1zdHJpbmcnXG4gICAgfVxufTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBFY3NTdHJpbmcgPSBGbGF0U3RyaW5nO1xuIiwgImltcG9ydCB7IEludDMyIH0gZnJvbSAnLi9JbnRlZ2VyJztcbmltcG9ydCB7IEZsYXRTdHJpbmcgfSBmcm9tICcuL1N0cmluZyc7XG4vKipcbiAqIFZhbGlkYXRlcyB0aGUgZW51bSB0byBlbnN1cmUgYWxsIG1lbWJlciB2YWx1ZXMgYXJlIG51bWJlcnMgYW5kIHdpdGhpbiB0aGUgcmFuZ2Ugb2YgSW50MzIuXG4gKiBAcGFyYW0gZW51bVZhbHVlIFRoZSBlbnVtIHRvIGJlIGNoZWNrZWQuXG4gKiBAdGhyb3dzIElmIGFueSBtZW1iZXIgdmFsdWUgaXMgbm90IGEgbnVtYmVyIG9yIGlzIG91dHNpZGUgdGhlIHJhbmdlIG9mIEludDMyLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZU1lbWJlclZhbHVlc0FyZU51bWJlcnNBbmRJblJhbmdlSW50MzIoZW51bVZhbHVlKSB7XG4gICAgY29uc3QgTUlOX1ZBTFVFID0gLSgyICoqIDMxKSwgTUFYX1ZBTFVFID0gMiAqKiAzMSAtIDE7XG4gICAgbGV0IHZhbHVlQ291bnQgPSAwLCB0b3RhbENvdW50ID0gMDtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBlbnVtVmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbnVtVmFsdWVba2V5XSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGlmIChlbnVtVmFsdWVba2V5XSA+IE1BWF9WQUxVRSB8fCBlbnVtVmFsdWVba2V5XSA8IE1JTl9WQUxVRSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRW51bSBtZW1iZXIgdmFsdWVzIG11c3QgYmUgbnVtYmVycyB3aXRoaW4gdGhlIHJhbmdlIG9mICR7TUlOX1ZBTFVFfSB0byAke01BWF9WQUxVRX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZUNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgdG90YWxDb3VudCsrO1xuICAgIH1cbiAgICBpZiAodG90YWxDb3VudCAhPT0gdmFsdWVDb3VudCAqIDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbGwgZW51bSBtZW1iZXIgdmFsdWVzIG11c3QgYmUgb2YgbnVtZXJpYyB0eXBlLicpO1xuICAgIH1cbn1cbi8qKlxuICogVmFsaWRhdGVzIHRoZSBlbnVtIHRvIGVuc3VyZSBhbGwgbWVtYmVyIHZhbHVlcyBhcmUgb2Ygc3RyaW5nIHR5cGUuXG4gKiBAcGFyYW0gZW51bVZhbHVlIFRoZSBlbnVtIHRvIGJlIGNoZWNrZWQuXG4gKiBAdGhyb3dzIElmIGFueSBtZW1iZXIgdmFsdWUgaXMgbm90IG9mIHN0cmluZyB0eXBlLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZU1lbWJlclZhbHVlc0FyZVN0cmluZ3MoZW51bVZhbHVlKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZW51bVZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZW51bVZhbHVlW2tleV0gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FsbCBlbnVtIG1lbWJlciB2YWx1ZXMgbXVzdCBiZSBvZiBzdHJpbmcgdHlwZS4nKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBJbnRFbnVtUmVmbGVjdGlvblR5cGUgPSAnZW51bS1pbnQnO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEludEVudW0gPSAoZW51bU9iamVjdCwgZGVmYXVsdFZhbHVlKSA9PiB7XG4gICAgdmFsaWRhdGVNZW1iZXJWYWx1ZXNBcmVOdW1iZXJzQW5kSW5SYW5nZUludDMyKGVudW1PYmplY3QpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICAgICAgSW50MzIuc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gSW50MzIuZGVzZXJpYWxpemUocmVhZGVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAganNvblNjaGVtYToge1xuICAgICAgICAgICAgLy8gSlNPTi1zY2hlbWFcbiAgICAgICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAgICAgICAgIGVudW06IE9iamVjdC52YWx1ZXMoZW51bU9iamVjdCkuZmlsdGVyKChpdGVtKSA9PiBOdW1iZXIuaXNJbnRlZ2VyKGl0ZW0pKSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgIC8vIEBkY2wvZWNzIFNjaGVtYSBTcGVjXG4gICAgICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogSW50RW51bVJlZmxlY3Rpb25UeXBlLFxuICAgICAgICAgICAgZW51bU9iamVjdFxuICAgICAgICB9XG4gICAgfTtcbn07XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgU3RyaW5nRW51bVJlZmxlY3Rpb25UeXBlID0gJ2VudW0tc3RyaW5nJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBTdHJpbmdFbnVtID0gKGVudW1PYmplY3QsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIHZhbGlkYXRlTWVtYmVyVmFsdWVzQXJlU3RyaW5ncyhlbnVtT2JqZWN0KTtcbiAgICAvLyBTdHJpbmcgZW51bSBoYXMgdGhlIGV4YWN0IG1hcHBpbmcgZnJvbSBrZXkgKG91ciByZWZlcmVuY2UgaW4gY29kZSkgdG8gdmFsdWVzXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgICAgICBGbGF0U3RyaW5nLnNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIEZsYXRTdHJpbmcuZGVzZXJpYWxpemUocmVhZGVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAganNvblNjaGVtYToge1xuICAgICAgICAgICAgLy8gSlNPTi1zY2hlbWFcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgZW51bTogT2JqZWN0LnZhbHVlcyhlbnVtT2JqZWN0KSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgIC8vIEBkY2wvZWNzIFNjaGVtYSBTcGVjXG4gICAgICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogU3RyaW5nRW51bVJlZmxlY3Rpb25UeXBlLFxuICAgICAgICAgICAgZW51bU9iamVjdFxuICAgICAgICB9XG4gICAgfTtcbn07XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEZsb2F0MzIgPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gcmVhZGVyLnJlYWRGbG9hdDMyKCk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiAwLjA7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ2Zsb2F0MzInXG4gICAgfVxufTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBGbG9hdDY0ID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQ2NCh2YWx1ZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkRmxvYXQ2NCgpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gMC4wO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdmbG9hdDY0J1xuICAgIH1cbn07XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IENvbG9yM1NjaGVtYSA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUucik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLmcpO1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS5iKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogcmVhZGVyLnJlYWRGbG9hdDMyKCksXG4gICAgICAgICAgICBnOiByZWFkZXIucmVhZEZsb2F0MzIoKSxcbiAgICAgICAgICAgIGI6IHJlYWRlci5yZWFkRmxvYXQzMigpXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiB7IHI6IDAsIGc6IDAsIGI6IDAgfTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIHI6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgIGc6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgIGI6IHsgdHlwZTogJ251bWJlcicgfVxuICAgICAgICB9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ2NvbG9yMydcbiAgICB9XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBDb2xvcjRTY2hlbWEgPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLnIpO1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS5nKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUuYik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLmEpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByOiByZWFkZXIucmVhZEZsb2F0MzIoKSxcbiAgICAgICAgICAgIGc6IHJlYWRlci5yZWFkRmxvYXQzMigpLFxuICAgICAgICAgICAgYjogcmVhZGVyLnJlYWRGbG9hdDMyKCksXG4gICAgICAgICAgICBhOiByZWFkZXIucmVhZEZsb2F0MzIoKVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4geyByOiAwLCBnOiAwLCBiOiAwLCBhOiAwIH07XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICByOiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICBnOiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICBiOiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICBhOiB7IHR5cGU6ICdudW1iZXInIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdjb2xvcjQnXG4gICAgfVxufTtcbiIsICIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgRW50aXR5U2NoZW1hID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlSW50MzIodmFsdWUpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiByZWFkZXIucmVhZEludDMyKCk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnZW50aXR5J1xuICAgIH1cbn07XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFF1YXRlcm5pb25TY2hlbWEgPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLngpO1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS55KTtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUueik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLncpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiByZWFkZXIucmVhZEZsb2F0MzIoKSxcbiAgICAgICAgICAgIHk6IHJlYWRlci5yZWFkRmxvYXQzMigpLFxuICAgICAgICAgICAgejogcmVhZGVyLnJlYWRGbG9hdDMyKCksXG4gICAgICAgICAgICB3OiByZWFkZXIucmVhZEZsb2F0MzIoKVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB6OiAwLCB3OiAwIH07XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICB4OiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICB5OiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICB6OiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICB3OiB7IHR5cGU6ICdudW1iZXInIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdxdWF0ZXJuaW9uJ1xuICAgIH1cbn07XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFZlY3RvcjNTY2hlbWEgPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLngpO1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS55KTtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUueik7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHJlYWRlci5yZWFkRmxvYXQzMigpLFxuICAgICAgICAgICAgeTogcmVhZGVyLnJlYWRGbG9hdDMyKCksXG4gICAgICAgICAgICB6OiByZWFkZXIucmVhZEZsb2F0MzIoKVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB6OiAwIH07XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICB4OiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICB5OiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICB6OiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICB3OiB7IHR5cGU6ICdudW1iZXInIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICd2ZWN0b3IzJ1xuICAgIH1cbn07XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IElNYXAgPSAoc3BlYywgZGVmYXVsdFZhbHVlKSA9PiB7XG4gICAgY29uc3Qgc3BlY1JlZmxlY3Rpb24gPSBPYmplY3Qua2V5cyhzcGVjKS5yZWR1Y2UoKHNwZWNSZWZsZWN0aW9uLCBjdXJyZW50S2V5KSA9PiB7XG4gICAgICAgIHNwZWNSZWZsZWN0aW9uW2N1cnJlbnRLZXldID0gc3BlY1tjdXJyZW50S2V5XS5qc29uU2NoZW1hO1xuICAgICAgICByZXR1cm4gc3BlY1JlZmxlY3Rpb247XG4gICAgfSwge30pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc3BlYykge1xuICAgICAgICAgICAgICAgIHNwZWNba2V5XS5zZXJpYWxpemUodmFsdWVba2V5XSwgYnVpbGRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNwZWMpIHtcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgbmV3VmFsdWVba2V5XSA9IHNwZWNba2V5XS5kZXNlcmlhbGl6ZShyZWFkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGUoKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHt9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc3BlYykge1xuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZVtrZXldID0gc3BlY1trZXldLmNyZWF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgLi4ubmV3VmFsdWUsIC4uLmRlZmF1bHRWYWx1ZSB9O1xuICAgICAgICB9LFxuICAgICAgICBleHRlbmQ6IChiYXNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHt9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc3BlYykge1xuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZVtrZXldID0gc3BlY1trZXldLmNyZWF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgLi4ubmV3VmFsdWUsIC4uLmRlZmF1bHRWYWx1ZSwgLi4uYmFzZSB9O1xuICAgICAgICB9LFxuICAgICAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHNwZWNSZWZsZWN0aW9uLFxuICAgICAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdtYXAnXG4gICAgICAgIH1cbiAgICB9O1xufTtcbiIsICIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgSU9wdGlvbmFsID0gKHNwZWMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGJ1aWxkZXIud3JpdGVJbnQ4KDEpO1xuICAgICAgICAgICAgICAgIHNwZWMuc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ1aWxkZXIud3JpdGVJbnQ4KDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0cyA9IHJlYWRlci5yZWFkSW50OCgpO1xuICAgICAgICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzcGVjLmRlc2VyaWFsaXplKHJlYWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgICAgIHR5cGU6IHNwZWMuanNvblNjaGVtYS50eXBlLFxuICAgICAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdvcHRpb25hbCcsXG4gICAgICAgICAgICBvcHRpb25hbEpzb25TY2hlbWE6IHNwZWMuanNvblNjaGVtYVxuICAgICAgICB9XG4gICAgfTtcbn07XG4iLCAiZXhwb3J0IGNvbnN0IElPbmVPZiA9IChzcGVjcykgPT4ge1xuICAgIGNvbnN0IHNwZWNLZXlzID0gT2JqZWN0LmtleXMoc3BlY3MpO1xuICAgIGNvbnN0IGtleVRvSW5kZXggPSBzcGVjS2V5cy5yZWR1Y2UoKGRpY3QsIGtleSwgaW5kZXgpID0+IHtcbiAgICAgICAgZGljdFtrZXldID0gaW5kZXg7XG4gICAgICAgIHJldHVybiBkaWN0O1xuICAgIH0sIHt9KTtcbiAgICBjb25zdCBzcGVjUmVmbGVjdGlvbiA9IHNwZWNLZXlzLnJlZHVjZSgoc3BlY1JlZmxlY3Rpb24sIGN1cnJlbnRLZXkpID0+IHtcbiAgICAgICAgc3BlY1JlZmxlY3Rpb25bY3VycmVudEtleV0gPSBzcGVjc1tjdXJyZW50S2V5XS5qc29uU2NoZW1hO1xuICAgICAgICByZXR1cm4gc3BlY1JlZmxlY3Rpb247XG4gICAgfSwge30pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNlcmlhbGl6ZSh7ICRjYXNlLCB2YWx1ZSB9LCBidWlsZGVyKSB7XG4gICAgICAgICAgICBjb25zdCBfdmFsdWUgPSBrZXlUb0luZGV4WyRjYXNlLnRvU3RyaW5nKCldICsgMTtcbiAgICAgICAgICAgIGJ1aWxkZXIud3JpdGVVaW50OChfdmFsdWUpO1xuICAgICAgICAgICAgc3BlY3NbJGNhc2VdLnNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICAgICAgY29uc3QgJGNhc2UgPSBzcGVjS2V5c1tyZWFkZXIucmVhZEludDgoKSAtIDFdO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBzcGVjc1skY2FzZV0uZGVzZXJpYWxpemUocmVhZGVyKTtcbiAgICAgICAgICAgIHJldHVybiB7ICRjYXNlLCB2YWx1ZSB9O1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH0sXG4gICAgICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgcHJvcGVydGllczogc3BlY1JlZmxlY3Rpb24sXG4gICAgICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ29uZS1vZidcbiAgICAgICAgfVxuICAgIH07XG59O1xuIiwgImV4cG9ydCBjb25zdCBpc1NjaGVtYVR5cGUgPSAodmFsdWUsIHR5cGVzKSA9PiB0eXBlcy5pbmNsdWRlcyh2YWx1ZS5zZXJpYWxpemF0aW9uVHlwZSk7XG5leHBvcnQgY29uc3QgaXNPbmVPZkpzb25TY2hlbWEgPSAodHlwZSkgPT4gaXNTY2hlbWFUeXBlKHR5cGUsIFsnb25lLW9mJ10pO1xuZXhwb3J0IGNvbnN0IGdldFVua25vd25TY2hlbWEgPSAoKSA9PiAoe1xuICAgIHR5cGU6IHsgdHlwZTogJ29iamVjdCcsIHNlcmlhbGl6YXRpb25UeXBlOiAndW5rbm93bicgfSxcbiAgICB2YWx1ZTogdW5kZWZpbmVkXG59KTtcbmV4cG9ydCBjb25zdCBpc0NvbXBvdW5kVHlwZSA9ICh0eXBlKSA9PiBpc1NjaGVtYVR5cGUodHlwZSwgWydhcnJheScsICdtYXAnXSk7XG5leHBvcnQgY29uc3QgZ2V0VHlwZUFuZFZhbHVlID0gKHByb3BlcnRpZXMsIHZhbHVlLCBrZXkpID0+IHtcbiAgICBjb25zdCB0eXBlID0gcHJvcGVydGllc1trZXldO1xuICAgIGNvbnN0IHZhbHVlS2V5ID0gdmFsdWVba2V5XTtcbiAgICBpZiAoaXNPbmVPZkpzb25TY2hlbWEodHlwZSkpIHtcbiAgICAgICAgY29uc3QgdHlwZWRNYXBWYWx1ZSA9IHZhbHVlS2V5O1xuICAgICAgICBpZiAoIXR5cGVkTWFwVmFsdWUuJGNhc2UpXG4gICAgICAgICAgICByZXR1cm4gZ2V0VW5rbm93blNjaGVtYSgpO1xuICAgICAgICBjb25zdCBwcm9wVHlwZSA9IHR5cGUucHJvcGVydGllc1t0eXBlZE1hcFZhbHVlLiRjYXNlXTtcbiAgICAgICAgLy8gdHJhbnNmb3JtIHsgJGNhc2U6IHN0cmluZzsgdmFsdWU6IHVua25vd24gfSA9PiB7IFskY2FzZV06IHZhbHVlIH1cbiAgICAgICAgaWYgKGlzQ29tcG91bmRUeXBlKHByb3BUeXBlKSlcbiAgICAgICAgICAgIHZhbHVlW2tleV0gPSB7IFt0eXBlZE1hcFZhbHVlLiRjYXNlXTogdHlwZWRNYXBWYWx1ZS52YWx1ZSB9O1xuICAgICAgICByZXR1cm4geyB0eXBlOiBwcm9wVHlwZSwgdmFsdWU6IHR5cGVkTWFwVmFsdWUudmFsdWUgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdHlwZSwgdmFsdWU6IHZhbHVlS2V5IH07XG59O1xuIiwgImltcG9ydCB7IElBcnJheSB9IGZyb20gJy4uL0FycmF5JztcbmltcG9ydCB7IEJvb2wgfSBmcm9tICcuLi9iYXNpYy9Cb29sZWFuJztcbmltcG9ydCB7IEludEVudW0sIFN0cmluZ0VudW0gfSBmcm9tICcuLi9iYXNpYy9FbnVtJztcbmltcG9ydCB7IEZsb2F0MzIsIEZsb2F0NjQgfSBmcm9tICcuLi9iYXNpYy9GbG9hdCc7XG5pbXBvcnQgeyBJbnQxNiwgSW50MzIsIEludDY0LCBJbnQ4IH0gZnJvbSAnLi4vYmFzaWMvSW50ZWdlcic7XG5pbXBvcnQgeyBFY3NTdHJpbmcgfSBmcm9tICcuLi9iYXNpYy9TdHJpbmcnO1xuaW1wb3J0IHsgQ29sb3IzU2NoZW1hIH0gZnJvbSAnLi4vY3VzdG9tL0NvbG9yMyc7XG5pbXBvcnQgeyBDb2xvcjRTY2hlbWEgfSBmcm9tICcuLi9jdXN0b20vQ29sb3I0JztcbmltcG9ydCB7IEVudGl0eVNjaGVtYSB9IGZyb20gJy4uL2N1c3RvbS9FbnRpdHknO1xuaW1wb3J0IHsgUXVhdGVybmlvblNjaGVtYSB9IGZyb20gJy4uL2N1c3RvbS9RdWF0ZXJuaW9uJztcbmltcG9ydCB7IFZlY3RvcjNTY2hlbWEgfSBmcm9tICcuLi9jdXN0b20vVmVjdG9yMyc7XG5pbXBvcnQgeyBJTWFwIH0gZnJvbSAnLi4vTWFwJztcbmltcG9ydCB7IElPbmVPZiB9IGZyb20gJy4uL09uZU9mJztcbmltcG9ydCB7IElPcHRpb25hbCB9IGZyb20gJy4uL09wdGlvbmFsJztcbmltcG9ydCB7IGdldFR5cGVBbmRWYWx1ZSwgaXNDb21wb3VuZFR5cGUgfSBmcm9tICcuL3V0aWxzJztcbmNvbnN0IHByaW1pdGl2ZVNjaGVtYXMgPSB7XG4gICAgW0Jvb2wuanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV06IEJvb2wsXG4gICAgW0Vjc1N0cmluZy5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogRWNzU3RyaW5nLFxuICAgIFtGbG9hdDMyLmpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdOiBGbG9hdDMyLFxuICAgIFtGbG9hdDY0Lmpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdOiBGbG9hdDY0LFxuICAgIFtJbnQ4Lmpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdOiBJbnQ4LFxuICAgIFtJbnQxNi5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogSW50MTYsXG4gICAgW0ludDMyLmpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdOiBJbnQzMixcbiAgICBbSW50NjQuanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV06IEludDY0LFxuICAgIFtWZWN0b3IzU2NoZW1hLmpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdOiBWZWN0b3IzU2NoZW1hLFxuICAgIFtRdWF0ZXJuaW9uU2NoZW1hLmpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdOiBRdWF0ZXJuaW9uU2NoZW1hLFxuICAgIFtDb2xvcjNTY2hlbWEuanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV06IENvbG9yM1NjaGVtYSxcbiAgICBbQ29sb3I0U2NoZW1hLmpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdOiBDb2xvcjRTY2hlbWEsXG4gICAgW0VudGl0eVNjaGVtYS5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogRW50aXR5U2NoZW1hXG59O1xuLyoqXG4gKiBDcmVhdGUgYW4gSVNjaGVtYSBvYmplY3QgZnJvbSB0aGUganNvbi1zY2hlbWFcbiAqIEBwYXJhbSBqc29uU2NoZW1hXG4gKiBAcmV0dXJucyBhIElTY2hlbWEgb3IgZmFpbCBmb3IgdW5zdXBwb3J0ZWQganNvbi1zY2hlbWFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGpzb25TY2hlbWFUb1NjaGVtYShqc29uU2NoZW1hKSB7XG4gICAgaWYgKHByaW1pdGl2ZVNjaGVtYXNbanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV0pIHtcbiAgICAgICAgcmV0dXJuIHByaW1pdGl2ZVNjaGVtYXNbanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV07XG4gICAgfVxuICAgIGlmIChqc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlID09PSAnbWFwJykge1xuICAgICAgICBjb25zdCBtYXBKc29uU2NoZW1hID0ganNvblNjaGVtYTtcbiAgICAgICAgY29uc3Qgc3BlYyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtYXBKc29uU2NoZW1hLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHNwZWNba2V5XSA9IGpzb25TY2hlbWFUb1NjaGVtYShtYXBKc29uU2NoZW1hLnByb3BlcnRpZXNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIElNYXAoc3BlYyk7XG4gICAgfVxuICAgIGlmIChqc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlID09PSAnb3B0aW9uYWwnKSB7XG4gICAgICAgIGNvbnN0IHdpdGhJdGVtc0pzb25TY2hlbWEgPSBqc29uU2NoZW1hO1xuICAgICAgICByZXR1cm4gSU9wdGlvbmFsKGpzb25TY2hlbWFUb1NjaGVtYSh3aXRoSXRlbXNKc29uU2NoZW1hLm9wdGlvbmFsSnNvblNjaGVtYSkpO1xuICAgIH1cbiAgICBpZiAoanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICBjb25zdCB3aXRoSXRlbXNKc29uU2NoZW1hID0ganNvblNjaGVtYTtcbiAgICAgICAgcmV0dXJuIElBcnJheShqc29uU2NoZW1hVG9TY2hlbWEod2l0aEl0ZW1zSnNvblNjaGVtYS5pdGVtcykpO1xuICAgIH1cbiAgICBpZiAoanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZSA9PT0gJ2VudW0taW50Jykge1xuICAgICAgICBjb25zdCBlbnVtSnNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG4gICAgICAgIHJldHVybiBJbnRFbnVtKGVudW1Kc29uU2NoZW1hLmVudW1PYmplY3QsIGVudW1Kc29uU2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBpZiAoanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZSA9PT0gJ2VudW0tc3RyaW5nJykge1xuICAgICAgICBjb25zdCBlbnVtSnNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG4gICAgICAgIHJldHVybiBTdHJpbmdFbnVtKGVudW1Kc29uU2NoZW1hLmVudW1PYmplY3QsIGVudW1Kc29uU2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBpZiAoanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZSA9PT0gJ29uZS1vZicpIHtcbiAgICAgICAgY29uc3Qgb25lT2ZKc29uU2NoZW1hID0ganNvblNjaGVtYTtcbiAgICAgICAgY29uc3Qgc3BlYyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvbmVPZkpzb25TY2hlbWEucHJvcGVydGllcykge1xuICAgICAgICAgICAgc3BlY1trZXldID0ganNvblNjaGVtYVRvU2NoZW1hKG9uZU9mSnNvblNjaGVtYS5wcm9wZXJ0aWVzW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBJT25lT2Yoc3BlYyk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgJHtqc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlfSBpcyBub3Qgc3VwcG9ydGVkIGFzIHJldmVyc2Ugc2NoZW1hIGdlbmVyYXRpb24uYCk7XG59XG5leHBvcnQgZnVuY3Rpb24gbXV0YXRlVmFsdWVzKGpzb25TY2hlbWEsIHZhbHVlLCBtdXRhdGVGbikge1xuICAgIGlmIChqc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlID09PSAnbWFwJykge1xuICAgICAgICBjb25zdCB7IHByb3BlcnRpZXMgfSA9IGpzb25TY2hlbWE7XG4gICAgICAgIGNvbnN0IHR5cGVkVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcGVydGllcykge1xuICAgICAgICAgICAgY29uc3QgeyB0eXBlLCB2YWx1ZTogbWFwVmFsdWUgfSA9IGdldFR5cGVBbmRWYWx1ZShwcm9wZXJ0aWVzLCB0eXBlZFZhbHVlLCBrZXkpO1xuICAgICAgICAgICAgaWYgKHR5cGUuc2VyaWFsaXphdGlvblR5cGUgPT09ICd1bmtub3duJylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChpc0NvbXBvdW5kVHlwZSh0eXBlKSkge1xuICAgICAgICAgICAgICAgIG11dGF0ZVZhbHVlcyh0eXBlLCBtYXBWYWx1ZSwgbXV0YXRlRm4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBtdXRhdGVGbihtYXBWYWx1ZSwgdHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlLmNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZWRWYWx1ZVtrZXldID0gbmV3VmFsdWUudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgICAgY29uc3QgeyBpdGVtcyB9ID0ganNvblNjaGVtYTtcbiAgICAgICAgY29uc3QgYXJyYXlWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbiA9IGFycmF5VmFsdWUubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB7IHR5cGUsIHZhbHVlIH0gPSBnZXRUeXBlQW5kVmFsdWUoeyBpdGVtczogaXRlbXMgfSwgeyBpdGVtczogYXJyYXlWYWx1ZVtpXSB9LCAnaXRlbXMnKTtcbiAgICAgICAgICAgIGlmIChpc0NvbXBvdW5kVHlwZSh0eXBlKSkge1xuICAgICAgICAgICAgICAgIG11dGF0ZVZhbHVlcyh0eXBlLCB2YWx1ZSwgbXV0YXRlRm4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBtdXRhdGVGbih2YWx1ZSwgdHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlLmNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlWYWx1ZVtpXSA9IG5ld1ZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBJQXJyYXkgfSBmcm9tICcuL0FycmF5JztcbmltcG9ydCB7IEJvb2wgfSBmcm9tICcuL2Jhc2ljL0Jvb2xlYW4nO1xuaW1wb3J0IHsgSW50RW51bSBhcyBJbnRFbnVtU2NoZW1hLCBTdHJpbmdFbnVtIGFzIFN0cmluZ0VudW1TY2hlbWEgfSBmcm9tICcuL2Jhc2ljL0VudW0nO1xuaW1wb3J0IHsgRmxvYXQzMiwgRmxvYXQ2NCB9IGZyb20gJy4vYmFzaWMvRmxvYXQnO1xuaW1wb3J0IHsgSW50MTYsIEludDMyLCBJbnQ4LCBJbnQ2NCBhcyBpSW50NjQgfSBmcm9tICcuL2Jhc2ljL0ludGVnZXInO1xuaW1wb3J0IHsgRWNzU3RyaW5nIH0gZnJvbSAnLi9iYXNpYy9TdHJpbmcnO1xuaW1wb3J0IHsgQ29sb3IzU2NoZW1hIH0gZnJvbSAnLi9jdXN0b20vQ29sb3IzJztcbmltcG9ydCB7IENvbG9yNFNjaGVtYSB9IGZyb20gJy4vY3VzdG9tL0NvbG9yNCc7XG5pbXBvcnQgeyBFbnRpdHlTY2hlbWEgfSBmcm9tICcuL2N1c3RvbS9FbnRpdHknO1xuaW1wb3J0IHsgUXVhdGVybmlvblNjaGVtYSB9IGZyb20gJy4vY3VzdG9tL1F1YXRlcm5pb24nO1xuaW1wb3J0IHsgVmVjdG9yM1NjaGVtYSB9IGZyb20gJy4vY3VzdG9tL1ZlY3RvcjMnO1xuaW1wb3J0IHsgSU1hcCB9IGZyb20gJy4vTWFwJztcbmltcG9ydCB7IElPcHRpb25hbCB9IGZyb20gJy4vT3B0aW9uYWwnO1xuaW1wb3J0IHsgSU9uZU9mIH0gZnJvbSAnLi9PbmVPZic7XG5pbXBvcnQgeyBqc29uU2NoZW1hVG9TY2hlbWEsIG11dGF0ZVZhbHVlcyB9IGZyb20gJy4vYnVpbGRTY2hlbWEnO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgU2NoZW1hcztcbihmdW5jdGlvbiAoU2NoZW1hcykge1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5Cb29sZWFuID0gQm9vbDtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuU3RyaW5nID0gRWNzU3RyaW5nO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5GbG9hdCA9IEZsb2F0MzI7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLkRvdWJsZSA9IEZsb2F0NjQ7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLkJ5dGUgPSBJbnQ4O1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5TaG9ydCA9IEludDE2O1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5JbnQgPSBJbnQzMjtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuSW50NjQgPSBpSW50NjQ7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLk51bWJlciA9IEZsb2F0MzI7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLlZlY3RvcjMgPSBWZWN0b3IzU2NoZW1hO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5RdWF0ZXJuaW9uID0gUXVhdGVybmlvblNjaGVtYTtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuQ29sb3IzID0gQ29sb3IzU2NoZW1hO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5Db2xvcjQgPSBDb2xvcjRTY2hlbWE7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLkVudGl0eSA9IEVudGl0eVNjaGVtYTtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuRW51bU51bWJlciA9IEludEVudW1TY2hlbWE7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLkVudW1TdHJpbmcgPSBTdHJpbmdFbnVtU2NoZW1hO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5BcnJheSA9IElBcnJheTtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuTWFwID0gSU1hcDtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuT3B0aW9uYWwgPSBJT3B0aW9uYWw7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLk9uZU9mID0gSU9uZU9mO1xuICAgIC8qKlxuICAgICAqIEBwdWJsaWMgQ3JlYXRlIGFuIElTY2hlbWEgb2JqZWN0IGZyb20gdGhlIGpzb24tc2NoZW1hXG4gICAgICogQHBhcmFtIGpzb25TY2hlbWFcbiAgICAgKiBAcmV0dXJucyBhIElTY2hlbWEgb3IgZmFpbCBmb3IgdW5zdXBwb3J0ZWQganNvbi1zY2hlbWFcbiAgICAgKi9cbiAgICBTY2hlbWFzLmZyb21Kc29uID0ganNvblNjaGVtYVRvU2NoZW1hO1xuICAgIC8qKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKlxuICAgICAqIFRyYXZlcnNlcyBhbmQgbXV0YXRlcyB2YWx1ZXMgaW4gYSBKU09OIHNjaGVtYS1iYXNlZCBzdHJ1Y3R1cmUsIGFwcGx5aW5nIHRoZSBnaXZlbiBtdXRhdGlvbiBmdW5jdGlvbiB0byBlYWNoIHZhbHVlLlxuICAgICAqIFRoZSBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byB3b3JrIHdpdGggbmVzdGVkIG1hcHMgYW5kIGFycmF5cywgcmVjdXJzaXZlbHkgcHJvY2Vzc2luZyBlYWNoIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ganNvblNjaGVtYSAtIFRoZSBKU09OIHNjaGVtYSBvYmplY3QgdGhhdCBkZXNjcmliZXMgdGhlIHN0cnVjdHVyZSBvZiB0aGUgdmFsdWUuXG4gICAgICogICAgICAgICAgICAgICAgICAgSXQgbXVzdCBoYXZlIGEgc2VyaWFsaXphdGlvblR5cGUgb2YgJ21hcCcsICdhcnJheScsIG9yIG90aGVyIGN1c3RvbSB0eXBlcyBsaWtlICdlbnRpdHknLlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBiZSBtdXRhdGVkLCB3aGljaCBzaG91bGQgY29uZm9ybSB0byB0aGUgcHJvdmlkZWQgSlNPTiBzY2hlbWEuXG4gICAgICogQHBhcmFtIG11dGF0ZUZuIC0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgdmFsdWUgYW5kIGl0cyBjb3JyZXNwb25kaW5nIHZhbHVlVHlwZSAoSnNvblNjaGVtYUV4dGVuZGVkKSBhcyBhcmd1bWVudHNcbiAgICAgKiAgICAgICAgICAgICAgICAgICBhbmQgcmV0dXJucyBhIHR1cGxlIFtib29sZWFuLCBhbnldLiBUaGUgYm9vbGVhbiBpbmRpY2F0ZXMgd2hldGhlciB0aGUgbXV0YXRpb24gc2hvdWxkIGJlIGFwcGxpZWQsXG4gICAgICogICAgICAgICAgICAgICAgICAgYW5kIHRoZSBzZWNvbmQgZWxlbWVudCBpcyB0aGUgbXV0YXRlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBTY2hlbWFzLm11dGF0ZU5lc3RlZFZhbHVlcyA9IG11dGF0ZVZhbHVlcztcbn0pKFNjaGVtYXMgfHwgKFNjaGVtYXMgPSB7fSkpO1xuIiwgImltcG9ydCB7IFNjaGVtYXMgfSBmcm9tICcuLi8uLi9zY2hlbWFzJztcbmZ1bmN0aW9uIGRlZmluZU5hbWVDb21wb25lbnQoZW5naW5lKSB7XG4gICAgY29uc3QgTmFtZSA9IGVuZ2luZS5kZWZpbmVDb21wb25lbnQoJ2NvcmUtc2NoZW1hOjpOYW1lJywge1xuICAgICAgICB2YWx1ZTogU2NoZW1hcy5TdHJpbmdcbiAgICB9KTtcbiAgICByZXR1cm4gTmFtZTtcbn1cbmV4cG9ydCBkZWZhdWx0IGRlZmluZU5hbWVDb21wb25lbnQ7XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IENPTVBPTkVOVF9JRCA9IDE7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgVFJBTlNGT1JNX0xFTkdUSCA9IDQ0O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IFRyYW5zZm9ybVNjaGVtYSA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3QgcHRyID0gYnVpbGRlci5pbmNyZW1lbnRXcml0ZU9mZnNldChUUkFOU0ZPUk1fTEVOR1RIKTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciwgdmFsdWUucG9zaXRpb24ueCk7XG4gICAgICAgIGJ1aWxkZXIuc2V0RmxvYXQzMihwdHIgKyA0LCB2YWx1ZS5wb3NpdGlvbi55KTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciArIDgsIHZhbHVlLnBvc2l0aW9uLnopO1xuICAgICAgICBidWlsZGVyLnNldEZsb2F0MzIocHRyICsgMTIsIHZhbHVlLnJvdGF0aW9uLngpO1xuICAgICAgICBidWlsZGVyLnNldEZsb2F0MzIocHRyICsgMTYsIHZhbHVlLnJvdGF0aW9uLnkpO1xuICAgICAgICBidWlsZGVyLnNldEZsb2F0MzIocHRyICsgMjAsIHZhbHVlLnJvdGF0aW9uLnopO1xuICAgICAgICBidWlsZGVyLnNldEZsb2F0MzIocHRyICsgMjQsIHZhbHVlLnJvdGF0aW9uLncpO1xuICAgICAgICBidWlsZGVyLnNldEZsb2F0MzIocHRyICsgMjgsIHZhbHVlLnNjYWxlLngpO1xuICAgICAgICBidWlsZGVyLnNldEZsb2F0MzIocHRyICsgMzIsIHZhbHVlLnNjYWxlLnkpO1xuICAgICAgICBidWlsZGVyLnNldEZsb2F0MzIocHRyICsgMzYsIHZhbHVlLnNjYWxlLnopO1xuICAgICAgICBidWlsZGVyLnNldFVpbnQzMihwdHIgKyA0MCwgdmFsdWUucGFyZW50IHx8IDApO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHJlYWRlci5pbmNyZW1lbnRSZWFkT2Zmc2V0KFRSQU5TRk9STV9MRU5HVEgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgICB4OiByZWFkZXIuZ2V0RmxvYXQzMihwdHIpLFxuICAgICAgICAgICAgICAgIHk6IHJlYWRlci5nZXRGbG9hdDMyKHB0ciArIDQpLFxuICAgICAgICAgICAgICAgIHo6IHJlYWRlci5nZXRGbG9hdDMyKHB0ciArIDgpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcm90YXRpb246IHtcbiAgICAgICAgICAgICAgICB4OiByZWFkZXIuZ2V0RmxvYXQzMihwdHIgKyAxMiksXG4gICAgICAgICAgICAgICAgeTogcmVhZGVyLmdldEZsb2F0MzIocHRyICsgMTYpLFxuICAgICAgICAgICAgICAgIHo6IHJlYWRlci5nZXRGbG9hdDMyKHB0ciArIDIwKSxcbiAgICAgICAgICAgICAgICB3OiByZWFkZXIuZ2V0RmxvYXQzMihwdHIgKyAyNClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzY2FsZToge1xuICAgICAgICAgICAgICAgIHg6IHJlYWRlci5nZXRGbG9hdDMyKHB0ciArIDI4KSxcbiAgICAgICAgICAgICAgICB5OiByZWFkZXIuZ2V0RmxvYXQzMihwdHIgKyAzMiksXG4gICAgICAgICAgICAgICAgejogcmVhZGVyLmdldEZsb2F0MzIocHRyICsgMzYpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyZW50OiByZWFkZXIuZ2V0VWludDMyKHB0ciArIDQwKVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMCwgeTogMCwgejogMCB9LFxuICAgICAgICAgICAgc2NhbGU6IHsgeDogMSwgeTogMSwgejogMSB9LFxuICAgICAgICAgICAgcm90YXRpb246IHsgeDogMCwgeTogMCwgejogMCwgdzogMSB9LFxuICAgICAgICAgICAgcGFyZW50OiAwXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBleHRlbmQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IDAsIHk6IDAsIHo6IDAgfSxcbiAgICAgICAgICAgIHNjYWxlOiB7IHg6IDEsIHk6IDEsIHo6IDEgfSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiB7IHg6IDAsIHk6IDAsIHo6IDAsIHc6IDEgfSxcbiAgICAgICAgICAgIHBhcmVudDogMCxcbiAgICAgICAgICAgIC4uLnZhbHVlXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgeDogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgICAgICAgICB5OiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICAgICAgICAgIHo6IHsgdHlwZTogJ251bWJlcicgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzY2FsZToge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgeDogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgICAgICAgICB5OiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICAgICAgICAgIHo6IHsgdHlwZTogJ251bWJlcicgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByb3RhdGlvbjoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgeDogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgICAgICAgICB5OiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICAgICAgICAgIHo6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgdzogeyB0eXBlOiAnbnVtYmVyJyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVudDogeyB0eXBlOiAnaW50ZWdlcicgfVxuICAgICAgICB9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ3RyYW5zZm9ybSdcbiAgICB9XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZVRyYW5zZm9ybUNvbXBvbmVudChlbmdpbmUpIHtcbiAgICBjb25zdCB0cmFuc2Zvcm1EZWYgPSBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYSgnY29yZTo6VHJhbnNmb3JtJywgVHJhbnNmb3JtU2NoZW1hKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi50cmFuc2Zvcm1EZWYsXG4gICAgICAgIGNyZWF0ZShlbnRpdHksIHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybURlZi5jcmVhdGUoZW50aXR5LCBUcmFuc2Zvcm1TY2hlbWEuZXh0ZW5kKHZhbCkpO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVPclJlcGxhY2UoZW50aXR5LCB2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1EZWYuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwgVHJhbnNmb3JtU2NoZW1hLmV4dGVuZCh2YWwpKTtcbiAgICAgICAgfVxuICAgIH07XG59XG4iLCAiaW1wb3J0IHsgZGVmaW5lQW5pbWF0b3JDb21wb25lbnQgfSBmcm9tICcuL2V4dGVuZGVkL0FuaW1hdG9yJztcbmltcG9ydCB7IGRlZmluZU1hdGVyaWFsQ29tcG9uZW50IH0gZnJvbSAnLi9leHRlbmRlZC9NYXRlcmlhbCc7XG5pbXBvcnQgeyBkZWZpbmVNZXNoQ29sbGlkZXJDb21wb25lbnQgfSBmcm9tICcuL2V4dGVuZGVkL01lc2hDb2xsaWRlcic7XG5pbXBvcnQgeyBkZWZpbmVNZXNoUmVuZGVyZXJDb21wb25lbnQgfSBmcm9tICcuL2V4dGVuZGVkL01lc2hSZW5kZXJlcic7XG5pbXBvcnQgZGVmaW5lTmFtZUNvbXBvbmVudCBmcm9tICcuL21hbnVhbC9OYW1lJztcbmltcG9ydCB7IGRlZmluZVRyYW5zZm9ybUNvbXBvbmVudCB9IGZyb20gJy4vbWFudWFsL1RyYW5zZm9ybSc7XG5leHBvcnQgKiBmcm9tICcuL2dlbmVyYXRlZC9pbmRleC5nZW4nO1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgVHJhbnNmb3JtID0gKGVuZ2luZSkgPT4gZGVmaW5lVHJhbnNmb3JtQ29tcG9uZW50KGVuZ2luZSk7XG4vKiBAX19QVVJFX18gKi9cbmV4cG9ydCBjb25zdCBNYXRlcmlhbCA9IChlbmdpbmUpID0+IGRlZmluZU1hdGVyaWFsQ29tcG9uZW50KGVuZ2luZSk7XG4vKiBAX19QVVJFX18gKi9cbmV4cG9ydCBjb25zdCBBbmltYXRvciA9IChlbmdpbmUpID0+IGRlZmluZUFuaW1hdG9yQ29tcG9uZW50KGVuZ2luZSk7XG4vKiBAX19QVVJFX18gKi9cbmV4cG9ydCBjb25zdCBNZXNoUmVuZGVyZXIgPSAoZW5naW5lKSA9PiBkZWZpbmVNZXNoUmVuZGVyZXJDb21wb25lbnQoZW5naW5lKTtcbi8qIEBfX1BVUkVfXyAqL1xuZXhwb3J0IGNvbnN0IE1lc2hDb2xsaWRlciA9IChlbmdpbmUpID0+IGRlZmluZU1lc2hDb2xsaWRlckNvbXBvbmVudChlbmdpbmUpO1xuLyoqXG4gKiBAYWxwaGFcbiAqL1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgTmFtZSA9IChlbmdpbmUpID0+IGRlZmluZU5hbWVDb21wb25lbnQoZW5naW5lKTtcbiIsICIvKipcbiAqIEF1dG9nZW5lcmF0ZWQgbWFwcGluZyBvZiBjb3JlIGNvbXBvbmVudHMgdG8gdGhlaXIgY29tcG9uZW50IG51bWJlcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGNvcmVDb21wb25lbnRNYXBwaW5ncyA9IHtcbiAgICBcImNvcmU6OlRyYW5zZm9ybVwiOiAxLFxuICAgIFwiY29yZTo6QW5pbWF0b3JcIjogMTA0MixcbiAgICBcImNvcmU6OkF1ZGlvU291cmNlXCI6IDEwMjAsXG4gICAgXCJjb3JlOjpBdWRpb1N0cmVhbVwiOiAxMDIxLFxuICAgIFwiY29yZTo6QXZhdGFyQXR0YWNoXCI6IDEwNzMsXG4gICAgXCJjb3JlOjpBdmF0YXJNb2RpZmllckFyZWFcIjogMTA3MCxcbiAgICBcImNvcmU6OkF2YXRhclNoYXBlXCI6IDEwODAsXG4gICAgXCJjb3JlOjpCaWxsYm9hcmRcIjogMTA5MCxcbiAgICBcImNvcmU6OkNhbWVyYU1vZGVcIjogMTA3MixcbiAgICBcImNvcmU6OkNhbWVyYU1vZGVBcmVhXCI6IDEwNzEsXG4gICAgXCJjb3JlOjpFbmdpbmVJbmZvXCI6IDEwNDgsXG4gICAgXCJjb3JlOjpHbHRmQ29udGFpbmVyXCI6IDEwNDEsXG4gICAgXCJjb3JlOjpHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlXCI6IDEwNDksXG4gICAgXCJjb3JlOjpNYXRlcmlhbFwiOiAxMDE3LFxuICAgIFwiY29yZTo6TWVzaENvbGxpZGVyXCI6IDEwMTksXG4gICAgXCJjb3JlOjpNZXNoUmVuZGVyZXJcIjogMTAxOCxcbiAgICBcImNvcmU6Ok5mdFNoYXBlXCI6IDEwNDAsXG4gICAgXCJjb3JlOjpQb2ludGVyRXZlbnRzXCI6IDEwNjIsXG4gICAgXCJjb3JlOjpQb2ludGVyRXZlbnRzUmVzdWx0XCI6IDEwNjMsXG4gICAgXCJjb3JlOjpQb2ludGVyTG9ja1wiOiAxMDc0LFxuICAgIFwiY29yZTo6UmF5Y2FzdFwiOiAxMDY3LFxuICAgIFwiY29yZTo6UmF5Y2FzdFJlc3VsdFwiOiAxMDY4LFxuICAgIFwiY29yZTo6VGV4dFNoYXBlXCI6IDEwMzAsXG4gICAgXCJjb3JlOjpVaUJhY2tncm91bmRcIjogMTA1MyxcbiAgICBcImNvcmU6OlVpQ2FudmFzSW5mb3JtYXRpb25cIjogMTA1NCxcbiAgICBcImNvcmU6OlVpRHJvcGRvd25cIjogMTA5NCxcbiAgICBcImNvcmU6OlVpRHJvcGRvd25SZXN1bHRcIjogMTA5NixcbiAgICBcImNvcmU6OlVpSW5wdXRcIjogMTA5MyxcbiAgICBcImNvcmU6OlVpSW5wdXRSZXN1bHRcIjogMTA5NSxcbiAgICBcImNvcmU6OlVpVGV4dFwiOiAxMDUyLFxuICAgIFwiY29yZTo6VWlUcmFuc2Zvcm1cIjogMTA1MCxcbiAgICBcImNvcmU6OlZpZGVvRXZlbnRcIjogMTA0NCxcbiAgICBcImNvcmU6OlZpZGVvUGxheWVyXCI6IDEwNDMsXG4gICAgXCJjb3JlOjpWaXNpYmlsaXR5Q29tcG9uZW50XCI6IDEwODFcbn07XG4iLCAiaW1wb3J0IHsgY29yZUNvbXBvbmVudE1hcHBpbmdzIH0gZnJvbSAnLi9nZW5lcmF0ZWQvY29tcG9uZW50LW5hbWVzLmdlbic7XG5pbXBvcnQgKiBhcyB1dGY4IGZyb20gJ0Bwcm90b2J1ZmpzL3V0ZjgnO1xuaW1wb3J0IHsgdW5zaWduZWRDUkMzMiB9IGZyb20gJy4uL3J1bnRpbWUvY3JjJztcbi8vIE1heCBwb3NzaWJsZSBwcmUtZGVmaW5lZCAoc3RhdGljKSBjb21wb25lbnQuXG5leHBvcnQgY29uc3QgTUFYX1NUQVRJQ19DT01QT05FTlQgPSAxIDw8IDExOyAvLyAyMDQ4XG4vKipcbiAqIEFsbCBjb21wb25lbnRzIHRoYXQgYXJlIG5vdCBwYXJ0IG9mIHRoZSBjb3JlQ29tcG9uZW50TWFwcGluZ3MgTVVTVCB5aWVsZFxuICogYSBjb21wb25lbnROdW1iZXIgKGNvbXBvbmVudElkKSBncmVhdGhlciB0aGFuIE1BWF9TVEFUSUNfQ09NUE9ORU5ULlxuICogRm9yIHRoYXQgcmVhc29uLCB3ZSBzaW1wbHkgYWRkIE1BWF9TVEFUSUNfQ09NUE9ORU5UIGFuZCB0cmltIHRvIHRoZSBkb21haW4gMl4zMlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50TnVtYmVyRnJvbU5hbWUoY29tcG9uZW50TmFtZSkge1xuICAgIGlmIChjb3JlQ29tcG9uZW50TWFwcGluZ3NbY29tcG9uZW50TmFtZV0pXG4gICAgICAgIHJldHVybiBjb3JlQ29tcG9uZW50TWFwcGluZ3NbY29tcG9uZW50TmFtZV07XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheSgxMjgpO1xuICAgIHV0Zjgud3JpdGUoY29tcG9uZW50TmFtZSwgYnl0ZXMsIDApO1xuICAgIHJldHVybiAoKHVuc2lnbmVkQ1JDMzIoYnl0ZXMpICsgTUFYX1NUQVRJQ19DT01QT05FTlQpICYgNDI5NDk2NzI5NSkgPj4+IDA7XG59XG4iLCAiY29uc3QgQ1JDX1RBQkxFID0gbmV3IEludDMyQXJyYXkoW1xuICAgIDB4MDAwMDAwMDAsIDB4NzcwNzMwOTYsIDB4ZWUwZTYxMmMsIDB4OTkwOTUxYmEsIDB4MDc2ZGM0MTksIDB4NzA2YWY0OGYsIDB4ZTk2M2E1MzUsIDB4OWU2NDk1YTMsIDB4MGVkYjg4MzIsXG4gICAgMHg3OWRjYjhhNCwgMHhlMGQ1ZTkxZSwgMHg5N2QyZDk4OCwgMHgwOWI2NGMyYiwgMHg3ZWIxN2NiZCwgMHhlN2I4MmQwNywgMHg5MGJmMWQ5MSwgMHgxZGI3MTA2NCwgMHg2YWIwMjBmMixcbiAgICAweGYzYjk3MTQ4LCAweDg0YmU0MWRlLCAweDFhZGFkNDdkLCAweDZkZGRlNGViLCAweGY0ZDRiNTUxLCAweDgzZDM4NWM3LCAweDEzNmM5ODU2LCAweDY0NmJhOGMwLCAweGZkNjJmOTdhLFxuICAgIDB4OGE2NWM5ZWMsIDB4MTQwMTVjNGYsIDB4NjMwNjZjZDksIDB4ZmEwZjNkNjMsIDB4OGQwODBkZjUsIDB4M2I2ZTIwYzgsIDB4NGM2OTEwNWUsIDB4ZDU2MDQxZTQsIDB4YTI2NzcxNzIsXG4gICAgMHgzYzAzZTRkMSwgMHg0YjA0ZDQ0NywgMHhkMjBkODVmZCwgMHhhNTBhYjU2YiwgMHgzNWI1YThmYSwgMHg0MmIyOTg2YywgMHhkYmJiYzlkNiwgMHhhY2JjZjk0MCwgMHgzMmQ4NmNlMyxcbiAgICAweDQ1ZGY1Yzc1LCAweGRjZDYwZGNmLCAweGFiZDEzZDU5LCAweDI2ZDkzMGFjLCAweDUxZGUwMDNhLCAweGM4ZDc1MTgwLCAweGJmZDA2MTE2LCAweDIxYjRmNGI1LCAweDU2YjNjNDIzLFxuICAgIDB4Y2ZiYTk1OTksIDB4YjhiZGE1MGYsIDB4MjgwMmI4OWUsIDB4NWYwNTg4MDgsIDB4YzYwY2Q5YjIsIDB4YjEwYmU5MjQsIDB4MmY2ZjdjODcsIDB4NTg2ODRjMTEsIDB4YzE2MTFkYWIsXG4gICAgMHhiNjY2MmQzZCwgMHg3NmRjNDE5MCwgMHgwMWRiNzEwNiwgMHg5OGQyMjBiYywgMHhlZmQ1MTAyYSwgMHg3MWIxODU4OSwgMHgwNmI2YjUxZiwgMHg5ZmJmZTRhNSwgMHhlOGI4ZDQzMyxcbiAgICAweDc4MDdjOWEyLCAweDBmMDBmOTM0LCAweDk2MDlhODhlLCAweGUxMGU5ODE4LCAweDdmNmEwZGJiLCAweDA4NmQzZDJkLCAweDkxNjQ2Yzk3LCAweGU2NjM1YzAxLCAweDZiNmI1MWY0LFxuICAgIDB4MWM2YzYxNjIsIDB4ODU2NTMwZDgsIDB4ZjI2MjAwNGUsIDB4NmMwNjk1ZWQsIDB4MWIwMWE1N2IsIDB4ODIwOGY0YzEsIDB4ZjUwZmM0NTcsIDB4NjViMGQ5YzYsIDB4MTJiN2U5NTAsXG4gICAgMHg4YmJlYjhlYSwgMHhmY2I5ODg3YywgMHg2MmRkMWRkZiwgMHgxNWRhMmQ0OSwgMHg4Y2QzN2NmMywgMHhmYmQ0NGM2NSwgMHg0ZGIyNjE1OCwgMHgzYWI1NTFjZSwgMHhhM2JjMDA3NCxcbiAgICAweGQ0YmIzMGUyLCAweDRhZGZhNTQxLCAweDNkZDg5NWQ3LCAweGE0ZDFjNDZkLCAweGQzZDZmNGZiLCAweDQzNjllOTZhLCAweDM0NmVkOWZjLCAweGFkNjc4ODQ2LCAweGRhNjBiOGQwLFxuICAgIDB4NDQwNDJkNzMsIDB4MzMwMzFkZTUsIDB4YWEwYTRjNWYsIDB4ZGQwZDdjYzksIDB4NTAwNTcxM2MsIDB4MjcwMjQxYWEsIDB4YmUwYjEwMTAsIDB4YzkwYzIwODYsIDB4NTc2OGI1MjUsXG4gICAgMHgyMDZmODViMywgMHhiOTY2ZDQwOSwgMHhjZTYxZTQ5ZiwgMHg1ZWRlZjkwZSwgMHgyOWQ5Yzk5OCwgMHhiMGQwOTgyMiwgMHhjN2Q3YThiNCwgMHg1OWIzM2QxNywgMHgyZWI0MGQ4MSxcbiAgICAweGI3YmQ1YzNiLCAweGMwYmE2Y2FkLCAweGVkYjg4MzIwLCAweDlhYmZiM2I2LCAweDAzYjZlMjBjLCAweDc0YjFkMjlhLCAweGVhZDU0NzM5LCAweDlkZDI3N2FmLCAweDA0ZGIyNjE1LFxuICAgIDB4NzNkYzE2ODMsIDB4ZTM2MzBiMTIsIDB4OTQ2NDNiODQsIDB4MGQ2ZDZhM2UsIDB4N2E2YTVhYTgsIDB4ZTQwZWNmMGIsIDB4OTMwOWZmOWQsIDB4MGEwMGFlMjcsIDB4N2QwNzllYjEsXG4gICAgMHhmMDBmOTM0NCwgMHg4NzA4YTNkMiwgMHgxZTAxZjI2OCwgMHg2OTA2YzJmZSwgMHhmNzYyNTc1ZCwgMHg4MDY1NjdjYiwgMHgxOTZjMzY3MSwgMHg2ZTZiMDZlNywgMHhmZWQ0MWI3NixcbiAgICAweDg5ZDMyYmUwLCAweDEwZGE3YTVhLCAweDY3ZGQ0YWNjLCAweGY5YjlkZjZmLCAweDhlYmVlZmY5LCAweDE3YjdiZTQzLCAweDYwYjA4ZWQ1LCAweGQ2ZDZhM2U4LCAweGExZDE5MzdlLFxuICAgIDB4MzhkOGMyYzQsIDB4NGZkZmYyNTIsIDB4ZDFiYjY3ZjEsIDB4YTZiYzU3NjcsIDB4M2ZiNTA2ZGQsIDB4NDhiMjM2NGIsIDB4ZDgwZDJiZGEsIDB4YWYwYTFiNGMsIDB4MzYwMzRhZjYsXG4gICAgMHg0MTA0N2E2MCwgMHhkZjYwZWZjMywgMHhhODY3ZGY1NSwgMHgzMTZlOGVlZiwgMHg0NjY5YmU3OSwgMHhjYjYxYjM4YywgMHhiYzY2ODMxYSwgMHgyNTZmZDJhMCwgMHg1MjY4ZTIzNixcbiAgICAweGNjMGM3Nzk1LCAweGJiMGI0NzAzLCAweDIyMDIxNmI5LCAweDU1MDUyNjJmLCAweGM1YmEzYmJlLCAweGIyYmQwYjI4LCAweDJiYjQ1YTkyLCAweDVjYjM2YTA0LCAweGMyZDdmZmE3LFxuICAgIDB4YjVkMGNmMzEsIDB4MmNkOTllOGIsIDB4NWJkZWFlMWQsIDB4OWI2NGMyYjAsIDB4ZWM2M2YyMjYsIDB4NzU2YWEzOWMsIDB4MDI2ZDkzMGEsIDB4OWMwOTA2YTksIDB4ZWIwZTM2M2YsXG4gICAgMHg3MjA3Njc4NSwgMHgwNTAwNTcxMywgMHg5NWJmNGE4MiwgMHhlMmI4N2ExNCwgMHg3YmIxMmJhZSwgMHgwY2I2MWIzOCwgMHg5MmQyOGU5YiwgMHhlNWQ1YmUwZCwgMHg3Y2RjZWZiNyxcbiAgICAweDBiZGJkZjIxLCAweDg2ZDNkMmQ0LCAweGYxZDRlMjQyLCAweDY4ZGRiM2Y4LCAweDFmZGE4MzZlLCAweDgxYmUxNmNkLCAweGY2YjkyNjViLCAweDZmYjA3N2UxLCAweDE4Yjc0Nzc3LFxuICAgIDB4ODgwODVhZTYsIDB4ZmYwZjZhNzAsIDB4NjYwNjNiY2EsIDB4MTEwMTBiNWMsIDB4OGY2NTllZmYsIDB4Zjg2MmFlNjksIDB4NjE2YmZmZDMsIDB4MTY2Y2NmNDUsIDB4YTAwYWUyNzgsXG4gICAgMHhkNzBkZDJlZSwgMHg0ZTA0ODM1NCwgMHgzOTAzYjNjMiwgMHhhNzY3MjY2MSwgMHhkMDYwMTZmNywgMHg0OTY5NDc0ZCwgMHgzZTZlNzdkYiwgMHhhZWQxNmE0YSwgMHhkOWQ2NWFkYyxcbiAgICAweDQwZGYwYjY2LCAweDM3ZDgzYmYwLCAweGE5YmNhZTUzLCAweGRlYmI5ZWM1LCAweDQ3YjJjZjdmLCAweDMwYjVmZmU5LCAweGJkYmRmMjFjLCAweGNhYmFjMjhhLCAweDUzYjM5MzMwLFxuICAgIDB4MjRiNGEzYTYsIDB4YmFkMDM2MDUsIDB4Y2RkNzA2OTMsIDB4NTRkZTU3MjksIDB4MjNkOTY3YmYsIDB4YjM2NjdhMmUsIDB4YzQ2MTRhYjgsIDB4NWQ2ODFiMDIsIDB4MmE2ZjJiOTQsXG4gICAgMHhiNDBiYmUzNywgMHhjMzBjOGVhMSwgMHg1YTA1ZGYxYiwgMHgyZDAyZWY4ZFxuXSk7XG5mdW5jdGlvbiBfY3JjMzIoYnVmLCBwcmV2aW91cykge1xuICAgIGxldCBjcmMgPSB+fnByZXZpb3VzIF4gLTE7XG4gICAgZm9yIChsZXQgbiA9IDA7IG4gPCBidWYubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgY3JjID0gQ1JDX1RBQkxFWyhjcmMgXiBidWZbbl0pICYgMHhmZl0gXiAoY3JjID4+PiA4KTtcbiAgICB9XG4gICAgcmV0dXJuIGNyYyBeIC0xO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVuc2lnbmVkQ1JDMzIoZGF0YSwgcHJldiA9IDApIHtcbiAgICByZXR1cm4gX2NyYzMyKGRhdGEsIHByZXYpID4+PiAwO1xufVxuIiwgIi8qIGlzdGFuYnVsIGlnbm9yZSBmaWxlICovXG5leHBvcnQgY29uc3QgX19ERVZfXyA9ICh0eXBlb2YgREVCVUcgPT09ICdib29sZWFuJyAmJiBERUJVRykgfHxcbiAgICAodHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmXG4gICAgICAgIChwcm9jZXNzLmVudj8uTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyB8fCBwcm9jZXNzLmVudj8uTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpKSB8fFxuICAgIGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrTm90VGhlbmFibGUodCwgZXJyb3IpIHtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgICBpZiAodCAmJiB0eXBlb2YgdCA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn1cbiIsICIvKipcbiAqXG4gKiBAcmV0dXJucyBhIG5ldyBHU2V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVWZXJzaW9uR1NldCgpIHtcbiAgICBjb25zdCBsYXN0VmVyc2lvbiA9IG5ldyBNYXAoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIG51bWJlclxuICAgICAgICAgKiBAcGFyYW0gdmVyc2lvblxuICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgKi9cbiAgICAgICAgYWRkVG8obnVtYmVyLCB2ZXJzaW9uKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgaWYgKHZlcnNpb24gPCAwKSB7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBsYXN0VmVyc2lvbi5nZXQobnVtYmVyKTtcbiAgICAgICAgICAgIC8vIElmIHRoZSB2ZXJzaW9uIGlzID49LCBpdCBtZWFucyB0aGUgdmFsdWUgaXQncyBhbHJlYWR5IGluIHRoZSBzZXRcbiAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUgIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50VmFsdWUgPj0gdmVyc2lvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdFZlcnNpb24uc2V0KG51bWJlciwgdmVyc2lvbik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHRoZSBzZXQgd2l0aCBbbnVtYmVyLCB2ZXJzaW9uXSBvZiBlYWNoIHZhbHVlXG4gICAgICAgICAqL1xuICAgICAgICBoYXMobiwgdikge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gbGFzdFZlcnNpb24uZ2V0KG4pO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHZlcnNpb24gaXMgPj0sIGl0IG1lYW5zIHRoZSB2YWx1ZSBpdCdzIGFscmVhZHkgaW4gdGhlIHNldFxuICAgICAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnRWYWx1ZSA+PSB2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXYXJuaW5nOiB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHJlZmVyZW5jZSB0byB0aGUgaW50ZXJuYWwgbWFwLFxuICAgICAgICAgKiAgaWYgeW91IG5lZWQgdG8gbXV0YXRlIHNvbWUgdmFsdWUsIG1ha2UgYSBjb3B5LlxuICAgICAgICAgKiBGb3Igb3B0aW1pemF0aW9uIHB1cnBvc2UgdGhlIGNvcHkgaXNuJ3QgbWFkZSBoZXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB0aGUgbWFwIG9mIG51bWJlciB0byB2ZXJzaW9uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRNYXAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFzdFZlcnNpb247XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwgImltcG9ydCB7IGNyZWF0ZVZlcnNpb25HU2V0IH0gZnJvbSAnLi4vc3lzdGVtcy9jcmR0L2dzZXQnO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IE1BWF9VMTYgPSAweGZmZmY7XG5jb25zdCBNQVNLX1VQUEVSXzE2X09OXzMyID0gMHhmZmZmMDAwMDtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBBTU9VTlRfVkVSU0lPTl9BVkFJTEFCTEUgPSBNQVhfVTE2ICsgMTtcbi8vIFRoaXMgdHlwZSBtYXRjaGVzIHdpdGggQGRjbC9jcmR0IGVudGl0eSB0eXBlLlxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIFRoaXMgZmlyc3QgNTEyIGVudGl0aWVzIGFyZSByZXNlcnZlZCBieSB0aGUgcmVuZGVyZXJcbiAqL1xuZXhwb3J0IGNvbnN0IFJFU0VSVkVEX1NUQVRJQ19FTlRJVElFUyA9IDUxMjtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBNQVhfRU5USVRZX05VTUJFUiA9IE1BWF9VMTY7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgdmFyIEVudGl0eVV0aWxzO1xuKGZ1bmN0aW9uIChFbnRpdHlVdGlscykge1xuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIFtlbnRpdHlOdW1iZXIsIGVudGl0eVZlcnNpb25dXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUVudGl0eUlkKGVudGl0eUlkKSB7XG4gICAgICAgIHJldHVybiBbKGVudGl0eUlkICYgTUFYX1UxNikgPj4+IDAsICgoKGVudGl0eUlkICYgTUFTS19VUFBFUl8xNl9PTl8zMikgPj4gMTYpICYgTUFYX1UxNikgPj4+IDBdO1xuICAgIH1cbiAgICBFbnRpdHlVdGlscy5mcm9tRW50aXR5SWQgPSBmcm9tRW50aXR5SWQ7XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgY29tcG91bmQgbnVtYmVyIGZyb20gZW50aXR5TnVtYmVyIGFuZCBlbnRpdHlWZXJpc29uXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9FbnRpdHlJZChlbnRpdHlOdW1iZXIsIGVudGl0eVZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuICgoKGVudGl0eU51bWJlciAmIE1BWF9VMTYpIHwgKChlbnRpdHlWZXJzaW9uICYgTUFYX1UxNikgPDwgMTYpKSA+Pj4gMCk7XG4gICAgfVxuICAgIEVudGl0eVV0aWxzLnRvRW50aXR5SWQgPSB0b0VudGl0eUlkO1xufSkoRW50aXR5VXRpbHMgfHwgKEVudGl0eVV0aWxzID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIEVudGl0eVN0YXRlO1xuKGZ1bmN0aW9uIChFbnRpdHlTdGF0ZSkge1xuICAgIEVudGl0eVN0YXRlW0VudGl0eVN0YXRlW1wiVW5rbm93blwiXSA9IDBdID0gXCJVbmtub3duXCI7XG4gICAgLyoqXG4gICAgICogVGhlIGVudGl0eSB3YXMgZ2VuZXJhdGVkIGFuZCBhZGRlZCB0byB0aGUgdXNlZEVudGl0aWVzIHNldFxuICAgICAqL1xuICAgIEVudGl0eVN0YXRlW0VudGl0eVN0YXRlW1wiVXNlZEVudGl0eVwiXSA9IDFdID0gXCJVc2VkRW50aXR5XCI7XG4gICAgLyoqXG4gICAgICogVGhlIGVudGl0eSB3YXMgcmVtb3ZlZCBmcm9tIGN1cnJlbnQgZW5naW5lIG9yIHJlbW90ZWx5XG4gICAgICovXG4gICAgRW50aXR5U3RhdGVbRW50aXR5U3RhdGVbXCJSZW1vdmVkXCJdID0gMl0gPSBcIlJlbW92ZWRcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgZW50aXR5IGlzIHJlc2VydmVkIG51bWJlci5cbiAgICAgKi9cbiAgICBFbnRpdHlTdGF0ZVtFbnRpdHlTdGF0ZVtcIlJlc2VydmVkXCJdID0gM10gPSBcIlJlc2VydmVkXCI7XG59KShFbnRpdHlTdGF0ZSB8fCAoRW50aXR5U3RhdGUgPSB7fSkpO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEVudGl0eUNvbnRhaW5lcigpIHtcbiAgICBsZXQgZW50aXR5Q291bnRlciA9IFJFU0VSVkVEX1NUQVRJQ19FTlRJVElFUztcbiAgICBjb25zdCB1c2VkRW50aXRpZXMgPSBuZXcgU2V0KCk7XG4gICAgbGV0IHRvUmVtb3ZlRW50aXRpZXMgPSBbXTtcbiAgICBjb25zdCByZW1vdmVkRW50aXRpZXMgPSBjcmVhdGVWZXJzaW9uR1NldCgpO1xuICAgIGZ1bmN0aW9uIGdlbmVyYXRlTmV3RW50aXR5KCkge1xuICAgICAgICBpZiAoZW50aXR5Q291bnRlciA+IE1BWF9FTlRJVFlfTlVNQkVSIC0gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJdCBmYWlscyB0cnlpbmcgdG8gZ2VuZXJhdGUgYW4gZW50aXR5IG91dCBvZiByYW5nZSAke01BWF9FTlRJVFlfTlVNQkVSfS5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbnRpdHlOdW1iZXIgPSBlbnRpdHlDb3VudGVyKys7XG4gICAgICAgIGNvbnN0IGVudGl0eVZlcnNpb24gPSByZW1vdmVkRW50aXRpZXMuZ2V0TWFwKCkuaGFzKGVudGl0eU51bWJlcilcbiAgICAgICAgICAgID8gcmVtb3ZlZEVudGl0aWVzLmdldE1hcCgpLmdldChlbnRpdHlOdW1iZXIpICsgMVxuICAgICAgICAgICAgOiAwO1xuICAgICAgICBjb25zdCBlbnRpdHkgPSBFbnRpdHlVdGlscy50b0VudGl0eUlkKGVudGl0eU51bWJlciwgZW50aXR5VmVyc2lvbik7XG4gICAgICAgIGlmICh1c2VkRW50aXRpZXMuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZU5ld0VudGl0eSgpO1xuICAgICAgICB9XG4gICAgICAgIHVzZWRFbnRpdGllcy5hZGQoZW50aXR5KTtcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVFbnRpdHkoKSB7XG4gICAgICAgIC8vIElmIGFsbCBlbnRpdGllcyB1bnRpbCBgZW50aXR5Q291bnRlcmAgYXJlIGJlaW5nIHVzZWQsIHdlIG5lZWQgdG8gZ2VuZXJhdGUgYW5vdGhlciBvbmVcbiAgICAgICAgaWYgKHVzZWRFbnRpdGllcy5zaXplICsgUkVTRVJWRURfU1RBVElDX0VOVElUSUVTID49IGVudGl0eUNvdW50ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZU5ld0VudGl0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgW251bWJlciwgdmVyc2lvbl0gb2YgcmVtb3ZlZEVudGl0aWVzLmdldE1hcCgpKSB7XG4gICAgICAgICAgICBpZiAodmVyc2lvbiA8IE1BWF9VMTYpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRpdHkgPSBFbnRpdHlVdGlscy50b0VudGl0eUlkKG51bWJlciwgdmVyc2lvbiArIDEpO1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBlbnRpdHkgaXMgbm90IGJlaW5nIHVzZWQsIHdlIGNhbiByZS11c2UgaXRcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZW50aXR5IHdhcyByZW1vdmVkIGluIHRoaXMgdGljaywgd2UncmUgbm90IGNvdW50aW5nIGZvciB0aGUgdXNlZEVudGl0aWVzLCBidXQgd2UgaGF2ZSBpdCBpbiB0aGUgdG9SZW1vdmVFbnRpdHlBcnJheVxuICAgICAgICAgICAgICAgIGlmICghdXNlZEVudGl0aWVzLmhhcyhlbnRpdHkpICYmICF0b1JlbW92ZUVudGl0aWVzLmluY2x1ZGVzKGVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlZEVudGl0aWVzLmFkZChlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50aXR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVOZXdFbnRpdHkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlRW50aXR5KGVudGl0eSkge1xuICAgICAgICBpZiAoZW50aXR5IDwgUkVTRVJWRURfU1RBVElDX0VOVElUSUVTKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodXNlZEVudGl0aWVzLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICB1c2VkRW50aXRpZXMuZGVsZXRlKGVudGl0eSk7XG4gICAgICAgICAgICB0b1JlbW92ZUVudGl0aWVzLnB1c2goZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZVJlbW92ZWRFbnRpdHkoZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVsZWFzZVJlbW92ZWRFbnRpdGllcygpIHtcbiAgICAgICAgY29uc3QgYXJyID0gdG9SZW1vdmVFbnRpdGllcztcbiAgICAgICAgaWYgKGFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRvUmVtb3ZlRW50aXRpZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGFycikge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtuLCB2XSA9IEVudGl0eVV0aWxzLmZyb21FbnRpdHlJZChlbnRpdHkpO1xuICAgICAgICAgICAgICAgIHJlbW92ZWRFbnRpdGllcy5hZGRUbyhuLCB2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVSZW1vdmVkRW50aXR5KGVudGl0eSkge1xuICAgICAgICBjb25zdCBbbiwgdl0gPSBFbnRpdHlVdGlscy5mcm9tRW50aXR5SWQoZW50aXR5KTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSByZW1vdmVkIGVudGl0aWVzIG1hcFxuICAgICAgICByZW1vdmVkRW50aXRpZXMuYWRkVG8obiwgdik7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgdXNlZEVudGl0aWVzIGlmIGV4aXN0XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHY7IGkrKykge1xuICAgICAgICAgICAgdXNlZEVudGl0aWVzLmRlbGV0ZShFbnRpdHlVdGlscy50b0VudGl0eUlkKG4sIGkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlVXNlZEVudGl0eShlbnRpdHkpIHtcbiAgICAgICAgY29uc3QgW24sIHZdID0gRW50aXR5VXRpbHMuZnJvbUVudGl0eUlkKGVudGl0eSk7XG4gICAgICAgIC8vIGlmIHRoZSBlbnRpdHkgd2FzIHJlbW92ZWQgdGhlbiBhYm9ydCBmYXN0XG4gICAgICAgIGlmIChyZW1vdmVkRW50aXRpZXMuaGFzKG4sIHYpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBVcGRhdGVcbiAgICAgICAgaWYgKHYgPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSB2IC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdXNlZEVudGl0aWVzLmRlbGV0ZShFbnRpdHlVdGlscy50b0VudGl0eUlkKG4sIGkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbW92ZWRFbnRpdGllcy5hZGRUbyhuLCB2IC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgdXNlZEVudGl0aWVzLmFkZChlbnRpdHkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RW50aXR5U3RhdGUoZW50aXR5KSB7XG4gICAgICAgIGNvbnN0IFtuLCB2XSA9IEVudGl0eVV0aWxzLmZyb21FbnRpdHlJZChlbnRpdHkpO1xuICAgICAgICBpZiAobiA8IFJFU0VSVkVEX1NUQVRJQ19FTlRJVElFUykge1xuICAgICAgICAgICAgcmV0dXJuIEVudGl0eVN0YXRlLlJlc2VydmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VkRW50aXRpZXMuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgIHJldHVybiBFbnRpdHlTdGF0ZS5Vc2VkRW50aXR5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbW92ZWRWZXJzaW9uID0gcmVtb3ZlZEVudGl0aWVzLmdldE1hcCgpLmdldChuKTtcbiAgICAgICAgaWYgKHJlbW92ZWRWZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgcmVtb3ZlZFZlcnNpb24gPj0gdikge1xuICAgICAgICAgICAgcmV0dXJuIEVudGl0eVN0YXRlLlJlbW92ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEVudGl0eVN0YXRlLlVua25vd247XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGdlbmVyYXRlRW50aXR5LFxuICAgICAgICByZW1vdmVFbnRpdHksXG4gICAgICAgIGdldEV4aXN0aW5nRW50aXRpZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNldCh1c2VkRW50aXRpZXMpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRFbnRpdHlTdGF0ZSxcbiAgICAgICAgcmVsZWFzZVJlbW92ZWRFbnRpdGllcyxcbiAgICAgICAgdXBkYXRlUmVtb3ZlZEVudGl0eSxcbiAgICAgICAgdXBkYXRlVXNlZEVudGl0eVxuICAgIH07XG59XG4iLCAidmFyIF9fY2xhc3NQcml2YXRlRmllbGRHZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn07XG52YXIgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQ7XG5pbXBvcnQgKiBhcyB1dGY4IGZyb20gJ0Bwcm90b2J1ZmpzL3V0ZjgnO1xuLyoqXG4gKiBUYWtlIHRoZSBtYXggYmV0d2VlbiBjdXJyZW50U2l6ZSBhbmQgaW50ZW5kZWRTaXplIGFuZCB0aGVuIHBsdXMgMTAyNC4gVGhlbixcbiAqICBmaW5kIHRoZSBuZXh0IG5lYXJlciBtdWx0aXBsZSBvZiAxMDI0LlxuICogQHBhcmFtIGN1cnJlbnRTaXplIC0gbnVtYmVyXG4gKiBAcGFyYW0gaW50ZW5kZWRTaXplIC0gbnVtYmVyXG4gKiBAcmV0dXJucyB0aGUgY2FsY3VsYXRlZCBudW1iZXJcbiAqL1xuZnVuY3Rpb24gZ2V0TmV4dFNpemUoY3VycmVudFNpemUsIGludGVuZGVkU2l6ZSkge1xuICAgIGNvbnN0IG1pbk5ld1NpemUgPSBNYXRoLm1heChjdXJyZW50U2l6ZSwgaW50ZW5kZWRTaXplKSArIDEwMjQ7XG4gICAgcmV0dXJuIE1hdGguY2VpbChtaW5OZXdTaXplIC8gMTAyNCkgKiAxMDI0O1xufVxuY29uc3QgZGVmYXVsdEluaXRpYWxDYXBhY2l0eSA9IDEwMjQwO1xuLyoqXG4gKiBCeXRlQnVmZmVyIGlzIGEgd3JhcHBlciBvZiBEYXRhVmlldyB3aGljaCBhbHNvIGFkZHMgYSByZWFkIGFuZCB3cml0ZSBvZmZzZXQuXG4gKiAgQWxzbyBpbiBhIHdyaXRlIG9wZXJhdGlvbiBpdCByZXNpemVzIHRoZSBidWZmZXIgaXMgYmVpbmcgdXNlZCBpZiBpdCBuZWVkcy5cbiAqXG4gKiAtIFVzZSByZWFkIGFuZCB3cml0ZSBmdW5jdGlvbiB0byBnZW5lcmF0ZSBvciBjb25zdW1lIGRhdGEuXG4gKiAtIFVzZSBzZXQgYW5kIGdldCBvbmx5IGlmIHlvdSBhcmUgc3VyZSB0aGF0IHlvdSdyZSBkb2luZy5cbiAqXG4gKiBJdCBhbHdheXMgcGFzc2VzIGxpdHRsZUVuZGlhbiBwYXJhbSBhcyB0cnVlXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWFkV3JpdGVCeXRlQnVmZmVyIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYnVmZmVyIC0gVGhlIGluaXRpYWwgYnVmZmVyLCBwcm92aWRlIGEgYnVmZmVyIGlmIHlvdSBuZWVkIHRvIHNldCBcImluaXRpYWwgY2FwYWNpdHlcIlxuICAgICAqIEBwYXJhbSByZWFkaW5nT2Zmc2V0IC0gU2V0IHRoZSBjdXJzb3Igd2hlcmUgYmVnaW5zIHRvIHJlYWQuIERlZmF1bHQgMFxuICAgICAqIEBwYXJhbSB3cml0aW5nT2Zmc2V0IC0gU2V0IHRoZSBjdXJzb3IgdG8gbm90IHN0YXJ0IHdyaXRpbmcgZnJvbSB0aGUgYmVnaW4gb2YgaXQuIERlZmF1bHRzIHRvIHRoZSBidWZmZXIgc2l6ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGJ1ZmZlciwgcmVhZGluZ09mZnNldCwgd3JpdGluZ09mZnNldCkge1xuICAgICAgICBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMuYWRkKHRoaXMpO1xuICAgICAgICB0aGlzLl9idWZmZXIgPSBidWZmZXIgfHwgbmV3IFVpbnQ4QXJyYXkoZGVmYXVsdEluaXRpYWxDYXBhY2l0eSk7XG4gICAgICAgIHRoaXMudmlldyA9IG5ldyBEYXRhVmlldyh0aGlzLl9idWZmZXIuYnVmZmVyLCB0aGlzLl9idWZmZXIuYnl0ZU9mZnNldCk7XG4gICAgICAgIHRoaXMud29mZnNldCA9IHdyaXRpbmdPZmZzZXQgPz8gKGJ1ZmZlciA/IHRoaXMuX2J1ZmZlci5sZW5ndGggOiBudWxsKSA/PyAwO1xuICAgICAgICB0aGlzLnJvZmZzZXQgPSByZWFkaW5nT2Zmc2V0ID8/IDA7XG4gICAgfVxuICAgIGJ1ZmZlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlcjtcbiAgICB9XG4gICAgYnVmZmVyTGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLmxlbmd0aDtcbiAgICB9XG4gICAgcmVzZXRCdWZmZXIoKSB7XG4gICAgICAgIHRoaXMucm9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMud29mZnNldCA9IDA7XG4gICAgfVxuICAgIGN1cnJlbnRSZWFkT2Zmc2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb2Zmc2V0O1xuICAgIH1cbiAgICBjdXJyZW50V3JpdGVPZmZzZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndvZmZzZXQ7XG4gICAgfVxuICAgIGluY3JlbWVudFJlYWRPZmZzZXQoYW1vdW50KSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIGFtb3VudCk7XG4gICAgfVxuICAgIHJlbWFpbmluZ0J5dGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53b2Zmc2V0IC0gdGhpcy5yb2Zmc2V0O1xuICAgIH1cbiAgICByZWFkRmxvYXQzMigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRGbG9hdDMyKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgNCksIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHJlYWRGbG9hdDY0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEZsb2F0NjQoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCA4KSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgcmVhZEludDgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0SW50OChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDEpKTtcbiAgICB9XG4gICAgcmVhZEludDE2KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEludDE2KF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgMiksIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHJlYWRJbnQzMigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRJbnQzMihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDQpLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICByZWFkSW50NjQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0QmlnSW50NjQoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCA4KSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgcmVhZFVpbnQ4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldFVpbnQ4KF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgMSkpO1xuICAgIH1cbiAgICByZWFkVWludDE2KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldFVpbnQxNihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDIpLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICByZWFkVWludDMyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldFVpbnQzMihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDQpLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICByZWFkVWludDY0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEJpZ1VpbnQ2NChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDgpLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICByZWFkQnVmZmVyKCkge1xuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLnZpZXcuZ2V0VWludDMyKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgNCksIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuc3ViYXJyYXkoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCBsZW5ndGgpLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDApKTtcbiAgICB9XG4gICAgcmVhZFV0ZjhTdHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMudmlldy5nZXRVaW50MzIoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCA0KSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICAgICAgcmV0dXJuIHV0ZjgucmVhZCh0aGlzLl9idWZmZXIsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgbGVuZ3RoKSwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCAwKSk7XG4gICAgfVxuICAgIGluY3JlbWVudFdyaXRlT2Zmc2V0KGFtb3VudCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCBhbW91bnQpO1xuICAgIH1cbiAgICB0b0JpbmFyeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5zdWJhcnJheSgwLCB0aGlzLndvZmZzZXQpO1xuICAgIH1cbiAgICB0b0NvcGllZEJpbmFyeSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHRoaXMudG9CaW5hcnkoKSk7XG4gICAgfVxuICAgIHdyaXRlQnVmZmVyKHZhbHVlLCB3cml0ZUxlbmd0aCA9IHRydWUpIHtcbiAgICAgICAgaWYgKHdyaXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlVWludDMyKHZhbHVlLmJ5dGVMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG8gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIHZhbHVlLmJ5dGVMZW5ndGgpO1xuICAgICAgICB0aGlzLl9idWZmZXIuc2V0KHZhbHVlLCBvKTtcbiAgICB9XG4gICAgd3JpdGVVdGY4U3RyaW5nKHZhbHVlLCB3cml0ZUxlbmd0aCA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgYnl0ZUxlbmd0aCA9IHV0ZjgubGVuZ3RoKHZhbHVlKTtcbiAgICAgICAgaWYgKHdyaXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlVWludDMyKGJ5dGVMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG8gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIGJ5dGVMZW5ndGgpO1xuICAgICAgICB1dGY4LndyaXRlKHZhbHVlLCB0aGlzLl9idWZmZXIsIG8pO1xuICAgIH1cbiAgICB3cml0ZUZsb2F0MzIodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgNCk7XG4gICAgICAgIHRoaXMudmlldy5zZXRGbG9hdDMyKG8sIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICB3cml0ZUZsb2F0NjQodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgOCk7XG4gICAgICAgIHRoaXMudmlldy5zZXRGbG9hdDY0KG8sIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICB3cml0ZUludDgodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgMSk7XG4gICAgICAgIHRoaXMudmlldy5zZXRJbnQ4KG8sIHZhbHVlKTtcbiAgICB9XG4gICAgd3JpdGVJbnQxNih2YWx1ZSkge1xuICAgICAgICBjb25zdCBvID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCAyKTtcbiAgICAgICAgdGhpcy52aWV3LnNldEludDE2KG8sIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICB3cml0ZUludDMyKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG8gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIDQpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0SW50MzIobywgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHdyaXRlSW50NjQodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgOCk7XG4gICAgICAgIHRoaXMudmlldy5zZXRCaWdJbnQ2NChvLCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgd3JpdGVVaW50OCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCAxKTtcbiAgICAgICAgdGhpcy52aWV3LnNldFVpbnQ4KG8sIHZhbHVlKTtcbiAgICB9XG4gICAgd3JpdGVVaW50MTYodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgMik7XG4gICAgICAgIHRoaXMudmlldy5zZXRVaW50MTYobywgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHdyaXRlVWludDMyKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG8gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIDQpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0VWludDMyKG8sIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICB3cml0ZVVpbnQ2NCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCA4KTtcbiAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChvLCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgLy8gRGF0YVZpZXcgUHJveHlcbiAgICBnZXRGbG9hdDMyKG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEZsb2F0MzIob2Zmc2V0LCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBnZXRGbG9hdDY0KG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEZsb2F0NjQob2Zmc2V0LCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBnZXRJbnQ4KG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEludDgob2Zmc2V0KTtcbiAgICB9XG4gICAgZ2V0SW50MTYob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0SW50MTYob2Zmc2V0LCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBnZXRJbnQzMihvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRJbnQzMihvZmZzZXQsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIGdldEludDY0KG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEJpZ0ludDY0KG9mZnNldCwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgZ2V0VWludDgob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0VWludDgob2Zmc2V0KTtcbiAgICB9XG4gICAgZ2V0VWludDE2KG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldFVpbnQxNihvZmZzZXQsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIGdldFVpbnQzMihvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRVaW50MzIob2Zmc2V0LCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZSA+Pj4gMFxuICAgIH1cbiAgICBnZXRVaW50NjQob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0QmlnVWludDY0KG9mZnNldCwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgc2V0RmxvYXQzMihvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmlldy5zZXRGbG9hdDMyKG9mZnNldCwgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHNldEZsb2F0NjQob2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnZpZXcuc2V0RmxvYXQ2NChvZmZzZXQsIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBzZXRJbnQ4KG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldEludDgob2Zmc2V0LCB2YWx1ZSk7XG4gICAgfVxuICAgIHNldEludDE2KG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldEludDE2KG9mZnNldCwgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHNldEludDMyKG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldEludDMyKG9mZnNldCwgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHNldEludDY0KG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldEJpZ0ludDY0KG9mZnNldCwgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHNldFVpbnQ4KG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldFVpbnQ4KG9mZnNldCwgdmFsdWUpO1xuICAgIH1cbiAgICBzZXRVaW50MTYob2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnZpZXcuc2V0VWludDE2KG9mZnNldCwgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHNldFVpbnQzMihvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIob2Zmc2V0LCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgc2V0VWludDY0KG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChvZmZzZXQsIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbn1cbl9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcyA9IG5ldyBXZWFrU2V0KCksIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkID0gZnVuY3Rpb24gX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQoYW1vdW50KSB7XG4gICAgaWYgKHRoaXMud29mZnNldCArIGFtb3VudCA+IHRoaXMuX2J1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IG5ld3NpemUgPSBnZXROZXh0U2l6ZSh0aGlzLl9idWZmZXIuYnl0ZUxlbmd0aCwgdGhpcy53b2Zmc2V0ICsgYW1vdW50KTtcbiAgICAgICAgY29uc3QgbmV3QnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkobmV3c2l6ZSk7XG4gICAgICAgIG5ld0J1ZmZlci5zZXQodGhpcy5fYnVmZmVyKTtcbiAgICAgICAgY29uc3Qgb2xkT2Zmc2V0ID0gdGhpcy5fYnVmZmVyLmJ5dGVPZmZzZXQ7XG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IG5ld0J1ZmZlcjtcbiAgICAgICAgdGhpcy52aWV3ID0gbmV3IERhdGFWaWV3KHRoaXMuX2J1ZmZlci5idWZmZXIsIG9sZE9mZnNldCk7XG4gICAgfVxuICAgIHRoaXMud29mZnNldCArPSBhbW91bnQ7XG4gICAgcmV0dXJuIHRoaXMud29mZnNldCAtIGFtb3VudDtcbn0sIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkID0gZnVuY3Rpb24gX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQoYW1vdW50KSB7XG4gICAgaWYgKHRoaXMucm9mZnNldCArIGFtb3VudCA+IHRoaXMud29mZnNldCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ091dHNpZGUgb2YgdGhlIGJvdW5kcyBvZiB3cml0ZW4gZGF0YS4nKTtcbiAgICB9XG4gICAgdGhpcy5yb2Zmc2V0ICs9IGFtb3VudDtcbiAgICByZXR1cm4gdGhpcy5yb2Zmc2V0IC0gYW1vdW50O1xufTtcbiIsICIvKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBDcmR0TWVzc2FnZVR5cGU7XG4oZnVuY3Rpb24gKENyZHRNZXNzYWdlVHlwZSkge1xuICAgIENyZHRNZXNzYWdlVHlwZVtDcmR0TWVzc2FnZVR5cGVbXCJSRVNFUlZFRFwiXSA9IDBdID0gXCJSRVNFUlZFRFwiO1xuICAgIC8vIENvbXBvbmVudCBPcGVyYXRpb25cbiAgICBDcmR0TWVzc2FnZVR5cGVbQ3JkdE1lc3NhZ2VUeXBlW1wiUFVUX0NPTVBPTkVOVFwiXSA9IDFdID0gXCJQVVRfQ09NUE9ORU5UXCI7XG4gICAgQ3JkdE1lc3NhZ2VUeXBlW0NyZHRNZXNzYWdlVHlwZVtcIkRFTEVURV9DT01QT05FTlRcIl0gPSAyXSA9IFwiREVMRVRFX0NPTVBPTkVOVFwiO1xuICAgIENyZHRNZXNzYWdlVHlwZVtDcmR0TWVzc2FnZVR5cGVbXCJERUxFVEVfRU5USVRZXCJdID0gM10gPSBcIkRFTEVURV9FTlRJVFlcIjtcbiAgICBDcmR0TWVzc2FnZVR5cGVbQ3JkdE1lc3NhZ2VUeXBlW1wiQVBQRU5EX1ZBTFVFXCJdID0gNF0gPSBcIkFQUEVORF9WQUxVRVwiO1xuICAgIENyZHRNZXNzYWdlVHlwZVtDcmR0TWVzc2FnZVR5cGVbXCJNQVhfTUVTU0FHRV9UWVBFXCJdID0gNV0gPSBcIk1BWF9NRVNTQUdFX1RZUEVcIjtcbn0pKENyZHRNZXNzYWdlVHlwZSB8fCAoQ3JkdE1lc3NhZ2VUeXBlID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggPSA4O1xuZXhwb3J0IHZhciBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGU7XG4oZnVuY3Rpb24gKFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZSkge1xuICAgIC8qKlxuICAgICAqIFR5cGljYWwgbWVzc2FnZSBhbmQgbmV3IHN0YXRlIHNldC5cbiAgICAgKiBAc3RhdGUgQ0hBTkdFXG4gICAgICogQHJlYXNvbiBJbmNvbWluZyBtZXNzYWdlIGhhcyBhIHRpbWVzdGFtcCBncmVhdGVyXG4gICAgICovXG4gICAgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1Byb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtcIlN0YXRlVXBkYXRlZFRpbWVzdGFtcFwiXSA9IDFdID0gXCJTdGF0ZVVwZGF0ZWRUaW1lc3RhbXBcIjtcbiAgICAvKipcbiAgICAgKiBUeXBpY2FsIG1lc3NhZ2Ugd2hlbiBpdCBpcyBjb25zaWRlcmVkIG9sZC5cbiAgICAgKiBAc3RhdGUgaXQgZG9lcyBOT1QgQ0hBTkdFLlxuICAgICAqIEByZWFzb24gaW5jb21pbmcgbWVzc2FnZSBoYXMgYSB0aW1lc3RhbXAgbG93ZXIuXG4gICAgICovXG4gICAgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1Byb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtcIlN0YXRlT3V0ZGF0ZWRUaW1lc3RhbXBcIl0gPSAyXSA9IFwiU3RhdGVPdXRkYXRlZFRpbWVzdGFtcFwiO1xuICAgIC8qKlxuICAgICAqIFdlaXJkIG1lc3NhZ2UsIHNhbWUgdGltZXN0YW1wIGFuZCBkYXRhLlxuICAgICAqIEBzdGF0ZSBpdCBkb2VzIE5PVCBDSEFOR0UuXG4gICAgICogQHJlYXNvbiBjb25zaXN0ZW50IHN0YXRlIGJldHdlZW4gcGVlcnMuXG4gICAgICovXG4gICAgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1Byb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtcIk5vQ2hhbmdlc1wiXSA9IDNdID0gXCJOb0NoYW5nZXNcIjtcbiAgICAvKipcbiAgICAgKiBMZXNzIGJ1dCB0eXBpY2FsIG1lc3NhZ2UsIHNhbWUgdGltZXN0YW1wLCByZXNvbHV0aW9uIGJ5IGRhdGEuXG4gICAgICogQHN0YXRlIGl0IGRvZXMgTk9UIENIQU5HRS5cbiAgICAgKiBAcmVhc29uIGluY29taW5nIG1lc3NhZ2UgaGFzIGEgTE9XRVIgZGF0YS5cbiAgICAgKi9cbiAgICBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGVbUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1wiU3RhdGVPdXRkYXRlZERhdGFcIl0gPSA0XSA9IFwiU3RhdGVPdXRkYXRlZERhdGFcIjtcbiAgICAvKipcbiAgICAgKiBMZXNzIGJ1dCB0eXBpY2FsIG1lc3NhZ2UsIHNhbWUgdGltZXN0YW1wLCByZXNvbHV0aW9uIGJ5IGRhdGEuXG4gICAgICogQHN0YXRlIENIQU5HRS5cbiAgICAgKiBAcmVhc29uIGluY29taW5nIG1lc3NhZ2UgaGFzIGEgR1JFQVRFUiBkYXRhLlxuICAgICAqL1xuICAgIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGVbXCJTdGF0ZVVwZGF0ZWREYXRhXCJdID0gNV0gPSBcIlN0YXRlVXBkYXRlZERhdGFcIjtcbiAgICAvKipcbiAgICAgKiBFbnRpdHkgd2FzIHByZXZpb3VzbHkgZGVsZXRlZC5cbiAgICAgKiBAc3RhdGUgaXQgZG9lcyBOT1QgQ0hBTkdFLlxuICAgICAqIEByZWFzb24gVGhlIG1lc3NhZ2UgaXMgY29uc2lkZXJlZCBvbGQuXG4gICAgICovXG4gICAgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1Byb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtcIkVudGl0eVdhc0RlbGV0ZWRcIl0gPSA2XSA9IFwiRW50aXR5V2FzRGVsZXRlZFwiO1xuICAgIC8qKlxuICAgICAqIEVudGl0eSBzaG91bGQgYmUgZGVsZXRlZC5cbiAgICAgKiBAc3RhdGUgQ0hBTkdFLlxuICAgICAqIEByZWFzb24gdGhlIHN0YXRlIGlzIHN0b3Jpbmcgb2xkIGVudGl0aWVzXG4gICAgICovXG4gICAgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1Byb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtcIkVudGl0eURlbGV0ZWRcIl0gPSA3XSA9IFwiRW50aXR5RGVsZXRlZFwiO1xufSkoUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlIHx8IChQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUgPSB7fSkpO1xuLy8gd2UgcmVjZWl2ZSBMV1csIHY9Niwgd2UgaGF2ZSB2PTUgPT4gd2UgcmVjZWl2ZSB3aXRoIGRlbGF5IHRoZSBkZWxldGVFbnRpdHkodj01KVxuLy8gICA9PiB3ZSBzaG91bGQgZ2VuZXJhdGUgdGhlIGRlbGV0ZUVudGl0eSBtZXNzYWdlIGVmZmVjdHMgaW50ZXJuYWxseSB3aXRoIGRlbGV0ZUVudGl0eSh2PTUpLFxuLy8gICAgICAgYnV0IGRvbid0IHJlc2VuZCB0aGUgZGVsZXRlRW50aXR5XG4vLyAgICAgICAgICAtIChDUkRUKSBhZGREZWxldGVkRW50aXR5U2V0IHY9NSAod2l0aCBjcmR0IHN0YXRlIGNsZWFuaW5nKSBhbmQgdGhlbiBMV1cgdj02XG4vLyAgICAgICAgICAtIChlbmdpbmUpIGVuZ2luZS5kZWxldGVFbnRpdHkgdj01XG4vLyB3ZSByZWNlaXZlIExXVywgdj03LCB3ZSBoYXZlIHY9NSA9PiB3ZSByZWNlaXZlIHdpdGggZGVsYXkgdGhlIGRlbGV0ZUVudGl0eSh2PTUpLCBkZWxldGVFbnRpdHkodj02KSwgLi4uLCBOXG4vLyAgID0+IHdlIHNob3VsZCBnZW5lcmF0ZSB0aGUgZGVsZXRlRW50aXR5IG1lc3NhZ2UgZWZmZWN0cyBpbnRlcm5hbGx5IHdpdGggZGVsZXRlRW50aXR5KHY9NSksXG4vLyAgICAgICBidXQgZG9uJ3QgcmVzZW5kIHRoZSBkZWxldGVFbnRpdHlcbi8vICAgICAgICAgIC0gKENSRFQpIGFkZERlbGV0ZWRFbnRpdHlTZXQgdj01ICh3aXRoIGNyZHQgc3RhdGUgY2xlYW5pbmcpIGFuZCB0aGVuIExXVyB2PTZcbi8vICAgICAgICAgIC0gKGVuZ2luZSkgZW5naW5lLmRlbGV0ZUVudGl0eSB2PTVcbi8vIG1zZyBkZWxldGUgZW50aXR5OiBpdCBvbmx5IHNob3VsZCBiZSBzZW50IGJ5IGRlbGV0ZXJcbi8vXG4iLCAiaW1wb3J0IHsgQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggfSBmcm9tICcuL3R5cGVzJztcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIENyZHRNZXNzYWdlUHJvdG9jb2w7XG4oZnVuY3Rpb24gKENyZHRNZXNzYWdlUHJvdG9jb2wpIHtcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBpZiB0aGUgbWVzc2FnZSBpbmNvbWluZyBpcyBjb21wbGV0ZWRcbiAgICAgKiBAcGFyYW0gYnVmIC0gQnl0ZUJ1ZmZlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKGJ1Zikge1xuICAgICAgICBjb25zdCByZW0gPSBidWYucmVtYWluaW5nQnl0ZXMoKTtcbiAgICAgICAgaWYgKHJlbSA8IENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVzc2FnZUxlbmd0aCA9IGJ1Zi5nZXRVaW50MzIoYnVmLmN1cnJlbnRSZWFkT2Zmc2V0KCkpO1xuICAgICAgICBpZiAocmVtIDwgbWVzc2FnZUxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBDcmR0TWVzc2FnZVByb3RvY29sLnZhbGlkYXRlID0gdmFsaWRhdGU7XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IGhlYWRlciwgY29uc3VtaW5nIHRoZSBieXRlcyBpbnZvbHZlZC5cbiAgICAgKiBAcGFyYW0gYnVmIC0gQnl0ZUJ1ZmZlclxuICAgICAqIEByZXR1cm5zIGhlYWRlciBvciBudWxsIGlmIHRoZXJlIGlzIG5vIHZhbGlkYXRlZCBtZXNzYWdlXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVhZEhlYWRlcihidWYpIHtcbiAgICAgICAgaWYgKCF2YWxpZGF0ZShidWYpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVuZ3RoOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgdHlwZTogYnVmLnJlYWRVaW50MzIoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBDcmR0TWVzc2FnZVByb3RvY29sLnJlYWRIZWFkZXIgPSByZWFkSGVhZGVyO1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBoZWFkZXIsIHdpdGhvdXQgY29uc3VtaW5nIHRoZSBieXRlcyBpbnZvbHZlZC5cbiAgICAgKiBAcGFyYW0gYnVmIC0gQnl0ZUJ1ZmZlclxuICAgICAqIEByZXR1cm5zIGhlYWRlciBvciBudWxsIGlmIHRoZXJlIGlzIG5vIHZhbGlkYXRlZCBtZXNzYWdlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SGVhZGVyKGJ1Zikge1xuICAgICAgICBpZiAoIXZhbGlkYXRlKGJ1ZikpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRPZmZzZXQgPSBidWYuY3VycmVudFJlYWRPZmZzZXQoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlbmd0aDogYnVmLmdldFVpbnQzMihjdXJyZW50T2Zmc2V0KSxcbiAgICAgICAgICAgIHR5cGU6IGJ1Zi5nZXRVaW50MzIoY3VycmVudE9mZnNldCArIDQpXG4gICAgICAgIH07XG4gICAgfVxuICAgIENyZHRNZXNzYWdlUHJvdG9jb2wuZ2V0SGVhZGVyID0gZ2V0SGVhZGVyO1xuICAgIC8qKlxuICAgICAqIENvbnN1bWUgdGhlIGluY29taW5nIG1lc3NhZ2Ugd2l0aG91dCBwcm9jZXNzaW5nIGl0LlxuICAgICAqIEBwYXJhbSBidWYgLSBCeXRlQnVmZmVyXG4gICAgICogQHJldHVybnMgdHJ1ZSBpbiBjYXNlIG9mIHN1Y2Nlc3Mgb3IgZmFsc2UgaWYgdGhlcmUgaXMgbm8gdmFsaWQgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25zdW1lTWVzc2FnZShidWYpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gZ2V0SGVhZGVyKGJ1Zik7XG4gICAgICAgIGlmICghaGVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgYnVmLmluY3JlbWVudFJlYWRPZmZzZXQoaGVhZGVyLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBDcmR0TWVzc2FnZVByb3RvY29sLmNvbnN1bWVNZXNzYWdlID0gY29uc3VtZU1lc3NhZ2U7XG59KShDcmR0TWVzc2FnZVByb3RvY29sIHx8IChDcmR0TWVzc2FnZVByb3RvY29sID0ge30pKTtcbiIsICJpbXBvcnQgeyBDcmR0TWVzc2FnZVByb3RvY29sIH0gZnJvbSAnLi9jcmR0TWVzc2FnZVByb3RvY29sJztcbmltcG9ydCB7IENyZHRNZXNzYWdlVHlwZSwgQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggfSBmcm9tICcuL3R5cGVzJztcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIERlbGV0ZUNvbXBvbmVudDtcbihmdW5jdGlvbiAoRGVsZXRlQ29tcG9uZW50KSB7XG4gICAgRGVsZXRlQ29tcG9uZW50Lk1FU1NBR0VfSEVBREVSX0xFTkdUSCA9IDEyO1xuICAgIC8qKlxuICAgICAqIFdyaXRlIERlbGV0ZUNvbXBvbmVudCBtZXNzYWdlXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JpdGUoZW50aXR5LCBjb21wb25lbnRJZCwgdGltZXN0YW1wLCBidWYpIHtcbiAgICAgICAgLy8gcmVzZXJ2ZSB0aGUgYmVnaW5uaW5nXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VMZW5ndGggPSBDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSCArIERlbGV0ZUNvbXBvbmVudC5NRVNTQUdFX0hFQURFUl9MRU5HVEg7XG4gICAgICAgIGNvbnN0IHN0YXJ0TWVzc2FnZU9mZnNldCA9IGJ1Zi5pbmNyZW1lbnRXcml0ZU9mZnNldChtZXNzYWdlTGVuZ3RoKTtcbiAgICAgICAgLy8gV3JpdGUgQ3JkdE1lc3NhZ2UgaGVhZGVyXG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0LCBtZXNzYWdlTGVuZ3RoKTtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyA0LCBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVCk7XG4gICAgICAgIC8vIFdyaXRlIENvbXBvbmVudE9wZXJhdGlvbiBoZWFkZXJcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyA4LCBlbnRpdHkpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDEyLCBjb21wb25lbnRJZCk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgMTYsIHRpbWVzdGFtcCk7XG4gICAgfVxuICAgIERlbGV0ZUNvbXBvbmVudC53cml0ZSA9IHdyaXRlO1xuICAgIGZ1bmN0aW9uIHJlYWQoYnVmKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IENyZHRNZXNzYWdlUHJvdG9jb2wucmVhZEhlYWRlcihidWYpO1xuICAgICAgICBpZiAoIWhlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlYWRlci50eXBlICE9PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWxldGVDb21wb25lbnRPcGVyYXRpb24gdHJpZWQgdG8gcmVhZCBhbm90aGVyIG1lc3NhZ2UgdHlwZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtc2cgPSB7XG4gICAgICAgICAgICAuLi5oZWFkZXIsXG4gICAgICAgICAgICBlbnRpdHlJZDogYnVmLnJlYWRVaW50MzIoKSxcbiAgICAgICAgICAgIGNvbXBvbmVudElkOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBidWYucmVhZFVpbnQzMigpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgfVxuICAgIERlbGV0ZUNvbXBvbmVudC5yZWFkID0gcmVhZDtcbn0pKERlbGV0ZUNvbXBvbmVudCB8fCAoRGVsZXRlQ29tcG9uZW50ID0ge30pKTtcbiIsICJpbXBvcnQgeyBDcmR0TWVzc2FnZVByb3RvY29sIH0gZnJvbSAnLi9jcmR0TWVzc2FnZVByb3RvY29sJztcbmltcG9ydCB7IENyZHRNZXNzYWdlVHlwZSwgQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggfSBmcm9tICcuL3R5cGVzJztcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIEFwcGVuZFZhbHVlT3BlcmF0aW9uO1xuKGZ1bmN0aW9uIChBcHBlbmRWYWx1ZU9wZXJhdGlvbikge1xuICAgIEFwcGVuZFZhbHVlT3BlcmF0aW9uLk1FU1NBR0VfSEVBREVSX0xFTkdUSCA9IDE2O1xuICAgIC8qKlxuICAgICAqIENhbGwgdGhpcyBmdW5jdGlvbiBmb3IgYW4gb3B0aW1hbCB3cml0aW5nIGRhdGEgcGFzc2luZyB0aGUgQnl0ZUJ1ZmZlclxuICAgICAqICBhbHJlYWR5IGFsbG9jYXRlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyaXRlKGVudGl0eSwgdGltZXN0YW1wLCBjb21wb25lbnRJZCwgZGF0YSwgYnVmKSB7XG4gICAgICAgIC8vIHJlc2VydmUgdGhlIGJlZ2lubmluZ1xuICAgICAgICBjb25zdCBzdGFydE1lc3NhZ2VPZmZzZXQgPSBidWYuaW5jcmVtZW50V3JpdGVPZmZzZXQoQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggKyBBcHBlbmRWYWx1ZU9wZXJhdGlvbi5NRVNTQUdFX0hFQURFUl9MRU5HVEgpO1xuICAgICAgICAvLyB3cml0ZSBib2R5XG4gICAgICAgIGJ1Zi53cml0ZUJ1ZmZlcihkYXRhLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VMZW5ndGggPSBidWYuY3VycmVudFdyaXRlT2Zmc2V0KCkgLSBzdGFydE1lc3NhZ2VPZmZzZXQ7XG4gICAgICAgIC8vIFdyaXRlIENyZHRNZXNzYWdlIGhlYWRlclxuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCwgbWVzc2FnZUxlbmd0aCk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgNCwgQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRSk7XG4gICAgICAgIC8vIFdyaXRlIENvbXBvbmVudE9wZXJhdGlvbiBoZWFkZXJcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyA4LCBlbnRpdHkpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDEyLCBjb21wb25lbnRJZCk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgMTYsIHRpbWVzdGFtcCk7XG4gICAgICAgIGNvbnN0IG5ld0xvY2FsID0gbWVzc2FnZUxlbmd0aCAtIEFwcGVuZFZhbHVlT3BlcmF0aW9uLk1FU1NBR0VfSEVBREVSX0xFTkdUSCAtIENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDIwLCBuZXdMb2NhbCk7XG4gICAgfVxuICAgIEFwcGVuZFZhbHVlT3BlcmF0aW9uLndyaXRlID0gd3JpdGU7XG4gICAgZnVuY3Rpb24gcmVhZChidWYpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gQ3JkdE1lc3NhZ2VQcm90b2NvbC5yZWFkSGVhZGVyKGJ1Zik7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoIWhlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChoZWFkZXIudHlwZSAhPT0gQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcHBlbmRWYWx1ZU9wZXJhdGlvbiB0cmllZCB0byByZWFkIGFub3RoZXIgbWVzc2FnZSB0eXBlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5oZWFkZXIsXG4gICAgICAgICAgICBlbnRpdHlJZDogYnVmLnJlYWRVaW50MzIoKSxcbiAgICAgICAgICAgIGNvbXBvbmVudElkOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgZGF0YTogYnVmLnJlYWRCdWZmZXIoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBBcHBlbmRWYWx1ZU9wZXJhdGlvbi5yZWFkID0gcmVhZDtcbn0pKEFwcGVuZFZhbHVlT3BlcmF0aW9uIHx8IChBcHBlbmRWYWx1ZU9wZXJhdGlvbiA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgQ3JkdE1lc3NhZ2VQcm90b2NvbCB9IGZyb20gJy4vY3JkdE1lc3NhZ2VQcm90b2NvbCc7XG5pbXBvcnQgeyBDcmR0TWVzc2FnZVR5cGUsIENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIIH0gZnJvbSAnLi90eXBlcyc7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBEZWxldGVFbnRpdHk7XG4oZnVuY3Rpb24gKERlbGV0ZUVudGl0eSkge1xuICAgIERlbGV0ZUVudGl0eS5NRVNTQUdFX0hFQURFUl9MRU5HVEggPSA0O1xuICAgIGZ1bmN0aW9uIHdyaXRlKGVudGl0eSwgYnVmKSB7XG4gICAgICAgIC8vIFdyaXRlIENyZHRNZXNzYWdlIGhlYWRlclxuICAgICAgICBidWYud3JpdGVVaW50MzIoQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggKyA0KTtcbiAgICAgICAgYnVmLndyaXRlVWludDMyKENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZKTtcbiAgICAgICAgLy8gYm9keVxuICAgICAgICBidWYud3JpdGVVaW50MzIoZW50aXR5KTtcbiAgICB9XG4gICAgRGVsZXRlRW50aXR5LndyaXRlID0gd3JpdGU7XG4gICAgZnVuY3Rpb24gcmVhZChidWYpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gQ3JkdE1lc3NhZ2VQcm90b2NvbC5yZWFkSGVhZGVyKGJ1Zik7XG4gICAgICAgIGlmICghaGVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVhZGVyLnR5cGUgIT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlbGV0ZUVudGl0eSB0cmllZCB0byByZWFkIGFub3RoZXIgbWVzc2FnZSB0eXBlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5oZWFkZXIsXG4gICAgICAgICAgICBlbnRpdHlJZDogYnVmLnJlYWRVaW50MzIoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBEZWxldGVFbnRpdHkucmVhZCA9IHJlYWQ7XG59KShEZWxldGVFbnRpdHkgfHwgKERlbGV0ZUVudGl0eSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgQ3JkdE1lc3NhZ2VQcm90b2NvbCB9IGZyb20gJy4vY3JkdE1lc3NhZ2VQcm90b2NvbCc7XG5pbXBvcnQgeyBDcmR0TWVzc2FnZVR5cGUsIENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIIH0gZnJvbSAnLi90eXBlcyc7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQdXRDb21wb25lbnRPcGVyYXRpb247XG4oZnVuY3Rpb24gKFB1dENvbXBvbmVudE9wZXJhdGlvbikge1xuICAgIFB1dENvbXBvbmVudE9wZXJhdGlvbi5NRVNTQUdFX0hFQURFUl9MRU5HVEggPSAxNjtcbiAgICAvKipcbiAgICAgKiBDYWxsIHRoaXMgZnVuY3Rpb24gZm9yIGFuIG9wdGltYWwgd3JpdGluZyBkYXRhIHBhc3NpbmcgdGhlIEJ5dGVCdWZmZXJcbiAgICAgKiAgYWxyZWFkeSBhbGxvY2F0ZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cml0ZShlbnRpdHksIHRpbWVzdGFtcCwgY29tcG9uZW50SWQsIGRhdGEsIGJ1Zikge1xuICAgICAgICAvLyByZXNlcnZlIHRoZSBiZWdpbm5pbmdcbiAgICAgICAgY29uc3Qgc3RhcnRNZXNzYWdlT2Zmc2V0ID0gYnVmLmluY3JlbWVudFdyaXRlT2Zmc2V0KENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIICsgUHV0Q29tcG9uZW50T3BlcmF0aW9uLk1FU1NBR0VfSEVBREVSX0xFTkdUSCk7XG4gICAgICAgIC8vIHdyaXRlIGJvZHlcbiAgICAgICAgYnVmLndyaXRlQnVmZmVyKGRhdGEsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZUxlbmd0aCA9IGJ1Zi5jdXJyZW50V3JpdGVPZmZzZXQoKSAtIHN0YXJ0TWVzc2FnZU9mZnNldDtcbiAgICAgICAgLy8gV3JpdGUgQ3JkdE1lc3NhZ2UgaGVhZGVyXG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0LCBtZXNzYWdlTGVuZ3RoKTtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyA0LCBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCk7XG4gICAgICAgIC8vIFdyaXRlIENvbXBvbmVudE9wZXJhdGlvbiBoZWFkZXJcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyA4LCBlbnRpdHkpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDEyLCBjb21wb25lbnRJZCk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgMTYsIHRpbWVzdGFtcCk7XG4gICAgICAgIGNvbnN0IG5ld0xvY2FsID0gbWVzc2FnZUxlbmd0aCAtIFB1dENvbXBvbmVudE9wZXJhdGlvbi5NRVNTQUdFX0hFQURFUl9MRU5HVEggLSBDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSDtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyAyMCwgbmV3TG9jYWwpO1xuICAgIH1cbiAgICBQdXRDb21wb25lbnRPcGVyYXRpb24ud3JpdGUgPSB3cml0ZTtcbiAgICBmdW5jdGlvbiByZWFkKGJ1Zikge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBDcmR0TWVzc2FnZVByb3RvY29sLnJlYWRIZWFkZXIoYnVmKTtcbiAgICAgICAgaWYgKCFoZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZWFkZXIudHlwZSAhPT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHV0Q29tcG9uZW50T3BlcmF0aW9uIHRyaWVkIHRvIHJlYWQgYW5vdGhlciBtZXNzYWdlIHR5cGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmhlYWRlcixcbiAgICAgICAgICAgIGVudGl0eUlkOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgY29tcG9uZW50SWQ6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICB0aW1lc3RhbXA6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICBkYXRhOiBidWYucmVhZEJ1ZmZlcigpXG4gICAgICAgIH07XG4gICAgfVxuICAgIFB1dENvbXBvbmVudE9wZXJhdGlvbi5yZWFkID0gcmVhZDtcbn0pKFB1dENvbXBvbmVudE9wZXJhdGlvbiB8fCAoUHV0Q29tcG9uZW50T3BlcmF0aW9uID0ge30pKTtcbiIsICJpbXBvcnQgeyBFbnRpdHlTdGF0ZSB9IGZyb20gJy4uLy4uL2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgUmVhZFdyaXRlQnl0ZUJ1ZmZlciB9IGZyb20gJy4uLy4uL3NlcmlhbGl6YXRpb24vQnl0ZUJ1ZmZlcic7XG5pbXBvcnQgeyBBcHBlbmRWYWx1ZU9wZXJhdGlvbiwgQ3JkdE1lc3NhZ2VQcm90b2NvbCB9IGZyb20gJy4uLy4uL3NlcmlhbGl6YXRpb24vY3JkdCc7XG5pbXBvcnQgeyBEZWxldGVDb21wb25lbnQgfSBmcm9tICcuLi8uLi9zZXJpYWxpemF0aW9uL2NyZHQvZGVsZXRlQ29tcG9uZW50JztcbmltcG9ydCB7IERlbGV0ZUVudGl0eSB9IGZyb20gJy4uLy4uL3NlcmlhbGl6YXRpb24vY3JkdC9kZWxldGVFbnRpdHknO1xuaW1wb3J0IHsgUHV0Q29tcG9uZW50T3BlcmF0aW9uIH0gZnJvbSAnLi4vLi4vc2VyaWFsaXphdGlvbi9jcmR0L3B1dENvbXBvbmVudCc7XG5pbXBvcnQgeyBDcmR0TWVzc2FnZVR5cGUgfSBmcm9tICcuLi8uLi9zZXJpYWxpemF0aW9uL2NyZHQvdHlwZXMnO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZHRTY2VuZVN5c3RlbShlbmdpbmUsIG9uUHJvY2Vzc0VudGl0eUNvbXBvbmVudENoYW5nZSkge1xuICAgIGNvbnN0IHRyYW5zcG9ydHMgPSBbXTtcbiAgICAvLyBNZXNzYWdlcyB0aGF0IHdlIHJlY2VpdmVkIGF0IHRyYW5zcG9ydC5vbk1lc3NhZ2Ugd2FpdGluZyB0byBiZSBwcm9jZXNzZWRcbiAgICBjb25zdCByZWNlaXZlZE1lc3NhZ2VzID0gW107XG4gICAgLy8gTWVzc2FnZXMgYWxyZWFkeSBwcm9jZXNzZWQgYnkgdGhlIGVuZ2luZSBidXQgdGhhdCB3ZSBuZWVkIHRvIGJyb2FkY2FzdCB0byBvdGhlciB0cmFuc3BvcnRzLlxuICAgIGNvbnN0IGJyb2FkY2FzdE1lc3NhZ2VzID0gW107XG4gICAgLy8gTWVzc2FnZXMgcmVjZWlldmVkIGJ5IGEgdHJhbnNwb3J0IHRoYXQgd2VyZSBvdXRkYXRlZC4gV2UgbmVlZCB0byBjb3JyZWN0IHRoZW1cbiAgICBjb25zdCBvdXRkYXRlZE1lc3NhZ2VzID0gW107XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHJhbnNwb3J0SWQgdHJhbnBvcnQgaWQgdG8gaWRlbnRpeSBtZXNzYWdlc1xuICAgICAqIEByZXR1cm5zIGEgZnVuY3Rpb24gdG8gcHJvY2VzcyByZWNlaXZlZCBtZXNzYWdlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnNlQ2h1bmtNZXNzYWdlKHRyYW5zcG9ydElkKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWNlaXZlcyBhIGNodW5rIG9mIGJpbmFyeSBtZXNzYWdlcyBhbmQgc3RvcmVzIGFsbCB0aGUgdmFsaWRcbiAgICAgICAgICogQ29tcG9uZW50IE9wZXJhdGlvbiBNZXNzYWdlcyBhdCBtZXNzYWdlcyBxdWV1ZVxuICAgICAgICAgKiBAcGFyYW0gY2h1bmtNZXNzYWdlIEEgY2h1bmsgb2YgYmluYXJ5IG1lc3NhZ2VzXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gcGFyc2VDaHVua01lc3NhZ2UoY2h1bmtNZXNzYWdlKSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgUmVhZFdyaXRlQnl0ZUJ1ZmZlcihjaHVua01lc3NhZ2UpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcjtcbiAgICAgICAgICAgIHdoaWxlICgoaGVhZGVyID0gQ3JkdE1lc3NhZ2VQcm90b2NvbC5nZXRIZWFkZXIoYnVmZmVyKSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBidWZmZXIuY3VycmVudFJlYWRPZmZzZXQoKTtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZGVyLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5UKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBEZWxldGVDb21wb25lbnQucmVhZChidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICByZWNlaXZlZE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUJ1ZmZlcjogYnVmZmVyLmJ1ZmZlcigpLnN1YmFycmF5KG9mZnNldCwgYnVmZmVyLmN1cnJlbnRSZWFkT2Zmc2V0KCkpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChoZWFkZXIudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IFB1dENvbXBvbmVudE9wZXJhdGlvbi5yZWFkKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIHJlY2VpdmVkTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQnVmZmVyOiBidWZmZXIuYnVmZmVyKCkuc3ViYXJyYXkob2Zmc2V0LCBidWZmZXIuY3VycmVudFJlYWRPZmZzZXQoKSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRlci50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0VOVElUWSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gRGVsZXRlRW50aXR5LnJlYWQoYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZWRNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VCdWZmZXI6IGJ1ZmZlci5idWZmZXIoKS5zdWJhcnJheShvZmZzZXQsIGJ1ZmZlci5jdXJyZW50UmVhZE9mZnNldCgpKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGVhZGVyLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5BUFBFTkRfVkFMVUUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IEFwcGVuZFZhbHVlT3BlcmF0aW9uLnJlYWQoYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZWRNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VCdWZmZXI6IGJ1ZmZlci5idWZmZXIoKS5zdWJhcnJheShvZmZzZXQsIGJ1ZmZlci5jdXJyZW50UmVhZE9mZnNldCgpKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVW5rbm93biBtZXNzYWdlLCB3ZSBza2lwIGl0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdW1lIHRoZSBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5pbmNyZW1lbnRSZWFkT2Zmc2V0KGhlYWRlci5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IGRvIHNvbWV0aGluZyBpZiBidWZmbGVyLmxlbj4wXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbmQgY2xlYXIgdGhlIG1lc3NhZXMgcXVldWVcbiAgICAgKiBAcmV0dXJucyBtZXNzYWdlcyByZWNpZXZlZCBieSB0aGUgdHJhbnNwb3J0IHRvIHByb2Nlc3Mgb24gdGhlIG5leHQgdGlja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1lc3NhZ2VzKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzVG9Qcm9jZXNzID0gdmFsdWUuc3BsaWNlKDAsIHZhbHVlLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlc1RvUHJvY2VzcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBmbiB3aWxsIGJlIGNhbGxlZCBvbiBldmVyeSB0aWNrLlxuICAgICAqIFByb2Nlc3MgYWxsIHRoZSBtZXNzYWdlcyBxdWV1ZSByZWNlaXZlZCBieSB0aGUgdHJhbnNwb3J0XG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gcmVjZWl2ZU1lc3NhZ2VzKCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlc1RvUHJvY2VzcyA9IGdldE1lc3NhZ2VzKHJlY2VpdmVkTWVzc2FnZXMpO1xuICAgICAgICBjb25zdCBidWZmZXJGb3JPdXRkYXRlZCA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgIGNvbnN0IGVudGl0aWVzU2hvdWxkQmVDbGVhbmVkID0gW107XG4gICAgICAgIGZvciAoY29uc3QgbXNnIG9mIG1lc3NhZ2VzVG9Qcm9jZXNzKSB7XG4gICAgICAgICAgICBpZiAobXNnLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZKSB7XG4gICAgICAgICAgICAgICAgZW50aXRpZXNTaG91bGRCZUNsZWFuZWQucHVzaChtc2cuZW50aXR5SWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50aXR5U3RhdGUgPSBlbmdpbmUuZW50aXR5Q29udGFpbmVyLmdldEVudGl0eVN0YXRlKG1zZy5lbnRpdHlJZCk7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCB1cGRhdGVzIGZyb20gcmVtb3ZlZCBlbnRpdHllc1xuICAgICAgICAgICAgICAgIGlmIChlbnRpdHlTdGF0ZSA9PT0gRW50aXR5U3RhdGUuUmVtb3ZlZClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgLy8gRW50aXRpZXMgd2l0aCB1bmtub3duIGVudGl0aWVzIHNob3VsZCB1cGRhdGUgaXRzIGVudGl0eSBzdGF0ZVxuICAgICAgICAgICAgICAgIGlmIChlbnRpdHlTdGF0ZSA9PT0gRW50aXR5U3RhdGUuVW5rbm93bikge1xuICAgICAgICAgICAgICAgICAgICBlbmdpbmUuZW50aXR5Q29udGFpbmVyLnVwZGF0ZVVzZWRFbnRpdHkobXNnLmVudGl0eUlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZW5naW5lLmdldENvbXBvbmVudE9yTnVsbChtc2cuY29tcG9uZW50SWQpO1xuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbY29uZmxpY3RNZXNzYWdlLCB2YWx1ZV0gPSBjb21wb25lbnQudXBkYXRlRnJvbUNyZHQobXNnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZsaWN0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gYnVmZmVyRm9yT3V0ZGF0ZWQuY3VycmVudFdyaXRlT2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmxpY3RNZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHV0Q29tcG9uZW50T3BlcmF0aW9uLndyaXRlKG1zZy5lbnRpdHlJZCwgY29uZmxpY3RNZXNzYWdlLnRpbWVzdGFtcCwgY29uZmxpY3RNZXNzYWdlLmNvbXBvbmVudElkLCBjb25mbGljdE1lc3NhZ2UuZGF0YSwgYnVmZmVyRm9yT3V0ZGF0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29uZmxpY3RNZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5UKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVsZXRlQ29tcG9uZW50LndyaXRlKG1zZy5lbnRpdHlJZCwgY29tcG9uZW50LmNvbXBvbmVudElkLCBjb25mbGljdE1lc3NhZ2UudGltZXN0YW1wLCBidWZmZXJGb3JPdXRkYXRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRkYXRlZE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLm1zZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQnVmZmVyOiBidWZmZXJGb3JPdXRkYXRlZC5idWZmZXIoKS5zdWJhcnJheShvZmZzZXQsIGJ1ZmZlckZvck91dGRhdGVkLmN1cnJlbnRXcml0ZU9mZnNldCgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgbWVzc2FnZSB0byB0cmFuc3BvcnQgcXVldWUgdG8gYmUgcHJvY2Vzc2VkIGJ5IG90aGVycyB0cmFuc3BvcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICBicm9hZGNhc3RNZXNzYWdlcy5wdXNoKG1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblByb2Nlc3NFbnRpdHlDb21wb25lbnRDaGFuZ2UgJiYgb25Qcm9jZXNzRW50aXR5Q29tcG9uZW50Q2hhbmdlKG1zZy5lbnRpdHlJZCwgbXNnLnR5cGUsIGNvbXBvbmVudCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiB0ZXN0IHRoaXMgbGluZSwgaXQgaXMgZnVuZGFtbWVudGFsIHRvIG1ha2UgdGhlIGVkaXRvciB3b3JrXG4gICAgICAgICAgICAgICAgICAgIGJyb2FkY2FzdE1lc3NhZ2VzLnB1c2gobXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIGxhc3Qgc3RhZ2Ugb2YgdGhlIHN5bmNyaG9uaXphdGlvbiBpcyB0byBkZWxldGUgdGhlIGVudGl0aWVzXG4gICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGVudGl0aWVzU2hvdWxkQmVDbGVhbmVkKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSB0cmllZCB0byByZXNlbmQgb3V0ZGF0ZWQgbWVzc2FnZSBhbmQgdGhlIGVudGl0eSB3YXMgZGVsZXRlZCBiZWZvcmUsIHdlIGF2b2lkIHNlbmRpbmcgdGhlbS5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBvdXRkYXRlZE1lc3NhZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKG91dGRhdGVkTWVzc2FnZXNbaV0uZW50aXR5SWQgPT09IGVudGl0eSAmJiBvdXRkYXRlZE1lc3NhZ2VzW2ldLnR5cGUgIT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dGRhdGVkTWVzc2FnZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgZGVmaW5pdGlvbiBvZiBlbmdpbmUuY29tcG9uZW50c0l0ZXIoKSkge1xuICAgICAgICAgICAgICAgIGRlZmluaXRpb24uZW50aXR5RGVsZXRlZChlbnRpdHksIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVuZ2luZS5lbnRpdHlDb250YWluZXIudXBkYXRlUmVtb3ZlZEVudGl0eShlbnRpdHkpO1xuICAgICAgICAgICAgb25Qcm9jZXNzRW50aXR5Q29tcG9uZW50Q2hhbmdlICYmIG9uUHJvY2Vzc0VudGl0eUNvbXBvbmVudENoYW5nZShlbnRpdHksIENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyB0aGUgZGlydHkgbWFwIGFuZCBnZW5lcmF0ZXMgY3JkdCBtZXNzYWdlcyB0byBiZSBzZW5kXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gc2VuZE1lc3NhZ2VzKGVudGl0aWVzRGVsZXRlZFRoaXNUaWNrKSB7XG4gICAgICAgIC8vIENSRFQgTWVzc2FnZXMgd2lsbCBiZSB0aGUgbWVyZ2UgYmV0d2VlbiB0aGUgcmVjaWV2ZWQgdHJhbnNwb3J0IG1lc3NhZ2VzIGFuZCB0aGUgbmV3IGNyZHQgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY3JkdE1lc3NhZ2VzID0gZ2V0TWVzc2FnZXMoYnJvYWRjYXN0TWVzc2FnZXMpO1xuICAgICAgICBjb25zdCBvdXRkYXRlZE1lc3NhZ2VzQmtwID0gZ2V0TWVzc2FnZXMob3V0ZGF0ZWRNZXNzYWdlcyk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIGVuZ2luZS5jb21wb25lbnRzSXRlcigpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgY29tcG9uZW50LmdldENyZHRVcGRhdGVzKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBidWZmZXIuY3VycmVudFdyaXRlT2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgLy8gQXZvaWQgY3JlYXRpbmcgbWVzc2FnZXMgaWYgdGhlcmUgaXMgbm8gdHJhbnNwb3J0IHRoYXQgd2lsbCBoYW5kbGUgaXRcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNwb3J0cy5zb21lKCh0KSA9PiB0LmZpbHRlcihtZXNzYWdlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFB1dENvbXBvbmVudE9wZXJhdGlvbi53cml0ZShtZXNzYWdlLmVudGl0eUlkLCBtZXNzYWdlLnRpbWVzdGFtcCwgbWVzc2FnZS5jb21wb25lbnRJZCwgbWVzc2FnZS5kYXRhLCBidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIERlbGV0ZUNvbXBvbmVudC53cml0ZShtZXNzYWdlLmVudGl0eUlkLCBjb21wb25lbnQuY29tcG9uZW50SWQsIG1lc3NhZ2UudGltZXN0YW1wLCBidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQXBwZW5kVmFsdWVPcGVyYXRpb24ud3JpdGUobWVzc2FnZS5lbnRpdHlJZCwgbWVzc2FnZS50aW1lc3RhbXAsIG1lc3NhZ2UuY29tcG9uZW50SWQsIG1lc3NhZ2UuZGF0YSwgYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjcmR0TWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUJ1ZmZlcjogYnVmZmVyLmJ1ZmZlcigpLnN1YmFycmF5KG9mZnNldCwgYnVmZmVyLmN1cnJlbnRXcml0ZU9mZnNldCgpKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uUHJvY2Vzc0VudGl0eUNvbXBvbmVudENoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF3VmFsdWUgPSBtZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UIHx8IG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY29tcG9uZW50LmdldChtZXNzYWdlLmVudGl0eUlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9jZXNzRW50aXR5Q29tcG9uZW50Q2hhbmdlKG1lc3NhZ2UuZW50aXR5SWQsIG1lc3NhZ2UudHlwZSwgY29tcG9uZW50LCByYXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWZ0ZXIgYWxsIHVwZGF0ZXMsIEkgZXhlY3V0ZSB0aGUgRGVsZXRlZEVudGl0eSBtZXNzYWdlc1xuICAgICAgICBmb3IgKGNvbnN0IGVudGl0eUlkIG9mIGVudGl0aWVzRGVsZXRlZFRoaXNUaWNrKSB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBidWZmZXIuY3VycmVudFdyaXRlT2Zmc2V0KCk7XG4gICAgICAgICAgICBEZWxldGVFbnRpdHkud3JpdGUoZW50aXR5SWQsIGJ1ZmZlcik7XG4gICAgICAgICAgICBjcmR0TWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFksXG4gICAgICAgICAgICAgICAgZW50aXR5SWQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZUJ1ZmZlcjogYnVmZmVyLmJ1ZmZlcigpLnN1YmFycmF5KG9mZnNldCwgYnVmZmVyLmN1cnJlbnRXcml0ZU9mZnNldCgpKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvblByb2Nlc3NFbnRpdHlDb21wb25lbnRDaGFuZ2UgJiYgb25Qcm9jZXNzRW50aXR5Q29tcG9uZW50Q2hhbmdlKGVudGl0eUlkLCBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0VOVElUWSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2VuZCBDUkRUIG1lc3NhZ2VzIHRvIHRyYW5zcG9ydHNcbiAgICAgICAgY29uc3QgdHJhbnNwb3J0QnVmZmVyID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbiAgICAgICAgZm9yIChjb25zdCBpbmRleCBpbiB0cmFuc3BvcnRzKSB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc3BvcnRJbmRleCA9IE51bWJlcihpbmRleCk7XG4gICAgICAgICAgICBjb25zdCB0cmFuc3BvcnQgPSB0cmFuc3BvcnRzW3RyYW5zcG9ydEluZGV4XTtcbiAgICAgICAgICAgIHRyYW5zcG9ydEJ1ZmZlci5yZXNldEJ1ZmZlcigpO1xuICAgICAgICAgICAgLy8gRmlyc3Qgd2UgbmVlZCB0byBzZW5kIGFsbCB0aGUgbWVzc2FnZXMgdGhhdCB3ZXJlIG91dGRhdGVkIGZyb20gYSB0cmFuc3BvcnRcbiAgICAgICAgICAgIC8vIFNvIHdlIGNhbiBmaXggdGhlaXIgY3JkdCBzdGF0ZVxuICAgICAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIG91dGRhdGVkTWVzc2FnZXNCa3ApIHtcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50cmFuc3BvcnRJZCA9PT0gdHJhbnNwb3J0SW5kZXggJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBpcyBhbiBvcHRpbWl6YXRpb24sIHRoZSBzdGF0ZSBzaG91bGQgY29udmVyZ2UgYW55d2F5LCB3aGF0ZXZlciB0aGUgbWVzc2FnZSBpcyBzZW50LlxuICAgICAgICAgICAgICAgICAgICAvLyBBdm9pZCBzZW5kaW5nIG11bHRpcGxlIG1lc3NhZ2VzIGZvciB0aGUgc2FtZSBlbnRpdHktY29tcG9uZW50SWRcbiAgICAgICAgICAgICAgICAgICAgIWNyZHRNZXNzYWdlcy5maW5kKChtKSA9PiBtLmVudGl0eUlkID09PSBtZXNzYWdlLmVudGl0eUlkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBhcyBhbnksIHdpdGggbXVsdGlwbGUgdHlwZSBvZiBtZXNzYWdlcywgaXQgc2hvdWxkIGhhdmUgbWFueSBjaGVja3MgYmVmb3JlIHRoZSBjaGVjayBmb3Igc2ltaWxhciBtZXNzYWdlc1xuICAgICAgICAgICAgICAgICAgICAgICAgbS5jb21wb25lbnRJZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbS5jb21wb25lbnRJZCA9PT0gbWVzc2FnZS5jb21wb25lbnRJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0QnVmZmVyLndyaXRlQnVmZmVyKG1lc3NhZ2UubWVzc2FnZUJ1ZmZlciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoZW4gd2Ugc2VuZCBhbGwgdGhlIG5ldyBjcmR0TWVzc2FnZXMgdGhhdCB0aGUgdHJhbnNwb3J0IG5lZWRzIHRvIHByb2Nlc3NcbiAgICAgICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBjcmR0TWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50cmFuc3BvcnRJZCAhPT0gdHJhbnNwb3J0SW5kZXggJiYgdHJhbnNwb3J0LmZpbHRlcihtZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnRCdWZmZXIud3JpdGVCdWZmZXIobWVzc2FnZS5tZXNzYWdlQnVmZmVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHRyYW5zcG9ydEJ1ZmZlci5jdXJyZW50V3JpdGVPZmZzZXQoKSA/IHRyYW5zcG9ydEJ1ZmZlci50b0JpbmFyeSgpIDogbmV3IFVpbnQ4QXJyYXkoW10pO1xuICAgICAgICAgICAgYXdhaXQgdHJhbnNwb3J0LnNlbmQobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEFkZCBhIHRyYW5zcG9ydCB0byB0aGUgY3JkdCBzeXN0ZW1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRUcmFuc3BvcnQodHJhbnNwb3J0KSB7XG4gICAgICAgIGNvbnN0IGlkID0gdHJhbnNwb3J0cy5wdXNoKHRyYW5zcG9ydCkgLSAxO1xuICAgICAgICB0cmFuc3BvcnQub25tZXNzYWdlID0gcGFyc2VDaHVua01lc3NhZ2UoaWQpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzZW5kTWVzc2FnZXMsXG4gICAgICAgIHJlY2VpdmVNZXNzYWdlcyxcbiAgICAgICAgYWRkVHJhbnNwb3J0XG4gICAgfTtcbn1cbiIsICJleHBvcnQgdmFyIENyZHRVdGlscztcbihmdW5jdGlvbiAoQ3JkdFV0aWxzKSB7XG4gICAgbGV0IFN5bmNocm9uaXplZEVudGl0eVR5cGU7XG4gICAgKGZ1bmN0aW9uIChTeW5jaHJvbml6ZWRFbnRpdHlUeXBlKSB7XG4gICAgICAgIC8vIHN5bmNocm9uaXplcyBlbnRpdGllcyB3aXRoIHRoZSBOZXR3b3JrU3luY2hyb25pemVkIGNvbXBvbmVudCBvbmx5LCB1c2VkIGZvciBuZXR3b3JrZWQgZ2FtZXNcbiAgICAgICAgU3luY2hyb25pemVkRW50aXR5VHlwZVtTeW5jaHJvbml6ZWRFbnRpdHlUeXBlW1wiTkVUV09SS0VEXCJdID0gMF0gPSBcIk5FVFdPUktFRFwiO1xuICAgICAgICAvLyBzeW5jaHJvbml6ZXMgZW50aXRpZXMgbmVlZGVkIGJ5IHRoZSByZW5kZXJlclxuICAgICAgICBTeW5jaHJvbml6ZWRFbnRpdHlUeXBlW1N5bmNocm9uaXplZEVudGl0eVR5cGVbXCJSRU5ERVJFUlwiXSA9IDFdID0gXCJSRU5ERVJFUlwiO1xuICAgIH0pKFN5bmNocm9uaXplZEVudGl0eVR5cGUgPSBDcmR0VXRpbHMuU3luY2hyb25pemVkRW50aXR5VHlwZSB8fCAoQ3JkdFV0aWxzLlN5bmNocm9uaXplZEVudGl0eVR5cGUgPSB7fSkpO1xufSkoQ3JkdFV0aWxzIHx8IChDcmR0VXRpbHMgPSB7fSkpO1xuZXhwb3J0IGRlZmF1bHQgQ3JkdFV0aWxzO1xuLyoqXG4gKiBDb21wYXJlIHJhdyBkYXRhLlxuICogQHB1YmxpY1xuICogQHJldHVybnMgMCBpZiBpcyB0aGUgc2FtZSBkYXRhLCAxIGlmIGEgPiBiLCAtMSBpZiBiID4gYVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGF0YUNvbXBhcmUoYSwgYikge1xuICAgIC8vIEF0IHJlZmVyZW5jZSBsZXZlbFxuICAgIGlmIChhID09PSBiKVxuICAgICAgICByZXR1cm4gMDtcbiAgICBpZiAoYSA9PT0gbnVsbCAmJiBiICE9PSBudWxsKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgaWYgKGEgIT09IG51bGwgJiYgYiA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgaWYgKGEgaW5zdGFuY2VvZiBVaW50OEFycmF5ICYmIGIgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aERpZmZlcmVuY2UgPSBhLmJ5dGVMZW5ndGggLSBiLmJ5dGVMZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGhEaWZmZXJlbmNlICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVuZ3RoRGlmZmVyZW5jZSA+IDAgPyAxIDogLTE7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSBhLmJ5dGVMZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHJlcyA9IGFbaV0gLSBiW2ldO1xuICAgICAgICAgICAgaWYgKHJlcyAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMgPiAwID8gMSA6IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBkYXRhIGlzIGV4YWN0bHkgdGhlIHNhbWVcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoRGlmZmVyZW5jZSA9IGEubGVuZ3RoIC0gYi5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGhEaWZmZXJlbmNlICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVuZ3RoRGlmZmVyZW5jZSA+IDAgPyAxIDogLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGEubG9jYWxlQ29tcGFyZShiKTtcbiAgICB9XG4gICAgcmV0dXJuIGEgPiBiID8gMSA6IC0xO1xufVxuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwUmVhZG9ubHkodmFsKSB7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoeyAuLi52YWwgfSk7XG59XG4iLCAiaW1wb3J0IHsgUmVhZFdyaXRlQnl0ZUJ1ZmZlciB9IGZyb20gJy4uL3NlcmlhbGl6YXRpb24vQnl0ZUJ1ZmZlcic7XG5pbXBvcnQgeyBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUsIENyZHRNZXNzYWdlVHlwZSwgUHV0Q29tcG9uZW50T3BlcmF0aW9uLCBEZWxldGVDb21wb25lbnQgfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uL2NyZHQnO1xuaW1wb3J0IHsgZGF0YUNvbXBhcmUgfSBmcm9tICcuLi9zeXN0ZW1zL2NyZHQvdXRpbHMnO1xuaW1wb3J0IHsgZGVlcFJlYWRvbmx5IH0gZnJvbSAnLi9yZWFkb25seSc7XG5leHBvcnQgZnVuY3Rpb24gaW5jcmVtZW50VGltZXN0YW1wKGVudGl0eSwgdGltZXN0YW1wcykge1xuICAgIGNvbnN0IG5ld1RpbWVzdGFtcCA9ICh0aW1lc3RhbXBzLmdldChlbnRpdHkpIHx8IDApICsgMTtcbiAgICB0aW1lc3RhbXBzLnNldChlbnRpdHksIG5ld1RpbWVzdGFtcCk7XG4gICAgcmV0dXJuIG5ld1RpbWVzdGFtcDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEdW1wTHd3RnVuY3Rpb25Gcm9tQ3JkdChjb21wb25lbnRJZCwgdGltZXN0YW1wcywgc2NoZW1hLCBkYXRhKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGR1bXBDcmR0U3RhdGUoYnVmZmVyKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2VudGl0eSwgdGltZXN0YW1wXSBvZiB0aW1lc3RhbXBzKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKGRhdGEuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdCA9IGRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICBzY2hlbWEuc2VyaWFsaXplKGl0LCBidWYpO1xuICAgICAgICAgICAgICAgIFB1dENvbXBvbmVudE9wZXJhdGlvbi53cml0ZShlbnRpdHksIHRpbWVzdGFtcCwgY29tcG9uZW50SWQsIGJ1Zi50b0JpbmFyeSgpLCBidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgRGVsZXRlQ29tcG9uZW50LndyaXRlKGVudGl0eSwgY29tcG9uZW50SWQsIHRpbWVzdGFtcCwgYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVXBkYXRlTHd3RnJvbUNyZHQoY29tcG9uZW50SWQsIHRpbWVzdGFtcHMsIHNjaGVtYSwgZGF0YSkge1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgdGhlIHJlY2VpdmVkIG1lc3NhZ2Ugb25seSBpZiB0aGUgbGFtcG9ydCBudW1iZXIgcmVjaWV2ZWQgaXMgaGlnaGVyXG4gICAgICogdGhhbiB0aGUgc3RvcmVkIG9uZS4gSWYgaXRzIGxvd2VyLCB3ZSBzcHJlYWQgaXQgdG8gdGhlIG5ldHdvcmsgdG8gY29ycmVjdCB0aGUgcGVlci5cbiAgICAgKiBJZiB0aGV5IGFyZSBlcXVhbCwgdGhlIGJpZ2dlciByYXcgZGF0YSB3aW5zLlxuICBcbiAgICAgICogUmV0dXJucyB0aGUgcmVjaWV2ZWQgZGF0YSBpZiB0aGUgbGFtcG9ydCBudW1iZXIgd2FzIGJpZ2dlciB0aGFuIG91cnMuXG4gICAgICAqIElmIGl0IHdhcyBhbiBvdXRkYXRlZCBtZXNzYWdlLCB0aGVuIHdlIHJldHVybiB2b2lkXG4gICAgICAqIEBwdWJsaWNcbiAgICAgICovXG4gICAgZnVuY3Rpb24gY3JkdFJ1bGVGb3JDdXJyZW50U3RhdGUobWVzc2FnZSkge1xuICAgICAgICBjb25zdCB7IGVudGl0eUlkLCB0aW1lc3RhbXAgfSA9IG1lc3NhZ2U7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lc3RhbXAgPSB0aW1lc3RhbXBzLmdldChlbnRpdHlJZCk7XG4gICAgICAgIC8vIFRoZSByZWNlaXZlZCBtZXNzYWdlIGlzID4gdGhhbiBvdXIgY3VycmVudCB2YWx1ZSwgdXBkYXRlIG91ciBzdGF0ZS5jb21wb25lbnRzLlxuICAgICAgICBpZiAoY3VycmVudFRpbWVzdGFtcCA9PT0gdW5kZWZpbmVkIHx8IGN1cnJlbnRUaW1lc3RhbXAgPCB0aW1lc3RhbXApIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUuU3RhdGVVcGRhdGVkVGltZXN0YW1wO1xuICAgICAgICB9XG4gICAgICAgIC8vIE91dGRhdGVkIE1lc3NhZ2UuIFJlc2VuZCBvdXIgc3RhdGUgbWVzc2FnZSB0aHJvdWdoIHRoZSB3aXJlLlxuICAgICAgICBpZiAoY3VycmVudFRpbWVzdGFtcCA+IHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJzInLCBjdXJyZW50VGltZXN0YW1wLCB0aW1lc3RhbXApXG4gICAgICAgICAgICByZXR1cm4gUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLlN0YXRlT3V0ZGF0ZWRUaW1lc3RhbXA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVsZXRlcyBhcmUgaWRlbXBvdGVudFxuICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVCAmJiAhZGF0YS5oYXMoZW50aXR5SWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLk5vQ2hhbmdlcztcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3VycmVudERhdGFHcmVhdGVyID0gMDtcbiAgICAgICAgaWYgKGRhdGEuaGFzKGVudGl0eUlkKSkge1xuICAgICAgICAgICAgY29uc3Qgd3JpdGVCdWZmZXIgPSBuZXcgUmVhZFdyaXRlQnl0ZUJ1ZmZlcigpO1xuICAgICAgICAgICAgc2NoZW1hLnNlcmlhbGl6ZShkYXRhLmdldChlbnRpdHlJZCksIHdyaXRlQnVmZmVyKTtcbiAgICAgICAgICAgIGN1cnJlbnREYXRhR3JlYXRlciA9IGRhdGFDb21wYXJlKHdyaXRlQnVmZmVyLnRvQmluYXJ5KCksIG1lc3NhZ2UuZGF0YSB8fCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnREYXRhR3JlYXRlciA9IGRhdGFDb21wYXJlKG51bGwsIG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2FtZSBkYXRhLCBzYW1lIHRpbWVzdGFtcC4gV2VpcmRvIGVjaG8gbWVzc2FnZS5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJzMnLCBjdXJyZW50RGF0YUdyZWF0ZXIsIHdyaXRlQnVmZmVyLnRvQmluYXJ5KCksIChtZXNzYWdlIGFzIGFueSkuZGF0YSB8fCBudWxsKVxuICAgICAgICBpZiAoY3VycmVudERhdGFHcmVhdGVyID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLk5vQ2hhbmdlcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXJyZW50RGF0YUdyZWF0ZXIgPiAwKSB7XG4gICAgICAgICAgICAvLyBDdXJyZW50IGRhdGEgaXMgZ3JlYXRlclxuICAgICAgICAgICAgcmV0dXJuIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZS5TdGF0ZU91dGRhdGVkRGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEN1cmVudCBkYXRhIGlzIGxvd2VyXG4gICAgICAgICAgICByZXR1cm4gUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLlN0YXRlVXBkYXRlZERhdGE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChtc2cpID0+IHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKG1zZy50eXBlICE9PSBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCAmJiBtc2cudHlwZSAhPT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlQpXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBkYXRhLmdldChtc2cuZW50aXR5SWQpXTtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gY3JkdFJ1bGVGb3JDdXJyZW50U3RhdGUobXNnKTtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gbXNnLmVudGl0eUlkO1xuICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgICAgICAgY2FzZSBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUuU3RhdGVVcGRhdGVkRGF0YTpcbiAgICAgICAgICAgIGNhc2UgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLlN0YXRlVXBkYXRlZFRpbWVzdGFtcDoge1xuICAgICAgICAgICAgICAgIHRpbWVzdGFtcHMuc2V0KGVudGl0eSwgbXNnLnRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgaWYgKG1zZy50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBidWYgPSBuZXcgUmVhZFdyaXRlQnl0ZUJ1ZmZlcihtc2cuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuc2V0KGVudGl0eSwgc2NoZW1hLmRlc2VyaWFsaXplKGJ1ZikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5kZWxldGUoZW50aXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBkYXRhLmdldChlbnRpdHkpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLlN0YXRlT3V0ZGF0ZWRUaW1lc3RhbXA6XG4gICAgICAgICAgICBjYXNlIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZS5TdGF0ZU91dGRhdGVkRGF0YToge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdyaXRlQnVmZmVyID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hLnNlcmlhbGl6ZShkYXRhLmdldChlbnRpdHkpLCB3cml0ZUJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogd3JpdGVCdWZmZXIudG9CaW5hcnkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlJZDogZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wcy5nZXQoZW50aXR5KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZ2V0KGVudGl0eSlcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5SWQ6IGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcHMuZ2V0KGVudGl0eSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtudWxsLCBkYXRhLmdldChlbnRpdHkpXTtcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdldENyZHRNZXNzYWdlc0Zvckx3dyhjb21wb25lbnRJZCwgdGltZXN0YW1wcywgZGlydHlJdGVyYXRvciwgc2NoZW1hLCBkYXRhKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGRpcnR5SXRlcmF0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1RpbWVzdGFtcCA9IGluY3JlbWVudFRpbWVzdGFtcChlbnRpdHksIHRpbWVzdGFtcHMpO1xuICAgICAgICAgICAgaWYgKGRhdGEuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3cml0ZUJ1ZmZlciA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgc2NoZW1hLnNlcmlhbGl6ZShkYXRhLmdldChlbnRpdHkpLCB3cml0ZUJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgbXNnID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCxcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50SWQsXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eUlkOiBlbnRpdHksXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHdyaXRlQnVmZmVyLnRvQmluYXJ5KCksXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3VGltZXN0YW1wXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB5aWVsZCBtc2c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5ULFxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5SWQ6IGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXdUaW1lc3RhbXBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHlpZWxkIG1zZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkaXJ0eUl0ZXJhdG9yLmNsZWFyKCk7XG4gICAgfTtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnREZWZpbml0aW9uRnJvbVNjaGVtYShjb21wb25lbnROYW1lLCBjb21wb25lbnRJZCwgc2NoZW1hKSB7XG4gICAgY29uc3QgZGF0YSA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBkaXJ0eUl0ZXJhdG9yID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHRpbWVzdGFtcHMgPSBuZXcgTWFwKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0IGNvbXBvbmVudElkKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudElkO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgY29tcG9uZW50TmFtZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnROYW1lO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgY29tcG9uZW50VHlwZSgpIHtcbiAgICAgICAgICAgIC8vIGEgZ2V0dGVyIGlzIHVzZWQgaGVyZSB0byBwcmV2ZW50IGFjY2lkZW50YWwgY2hhbmdlc1xuICAgICAgICAgICAgcmV0dXJuIDAgLyogQ29tcG9uZW50VHlwZS5MYXN0V3JpdGVXaW5FbGVtZW50U2V0ICovO1xuICAgICAgICB9LFxuICAgICAgICBzY2hlbWEsXG4gICAgICAgIGhhcyhlbnRpdHkpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLmhhcyhlbnRpdHkpO1xuICAgICAgICB9LFxuICAgICAgICBkZWxldGVGcm9tKGVudGl0eSwgbWFya0FzRGlydHkgPSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBkYXRhLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGRhdGEuZGVsZXRlKGVudGl0eSkgJiYgbWFya0FzRGlydHkpIHtcbiAgICAgICAgICAgICAgICBkaXJ0eUl0ZXJhdG9yLmFkZChlbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudCB8fCBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnRpdHlEZWxldGVkKGVudGl0eSwgbWFya0FzRGlydHkpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLmRlbGV0ZShlbnRpdHkpICYmIG1hcmtBc0RpcnR5KSB7XG4gICAgICAgICAgICAgICAgZGlydHlJdGVyYXRvci5hZGQoZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0T3JOdWxsKGVudGl0eSkge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZGF0YS5nZXQoZW50aXR5KTtcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQgPyBkZWVwUmVhZG9ubHkoY29tcG9uZW50KSA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGdldChlbnRpdHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW2dldEZyb21dIENvbXBvbmVudCAke2NvbXBvbmVudE5hbWV9IGZvciBlbnRpdHkgIyR7ZW50aXR5fSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWVwUmVhZG9ubHkoY29tcG9uZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlKGVudGl0eSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbY3JlYXRlXSBDb21wb25lbnQgJHtjb21wb25lbnROYW1lfSBmb3IgJHtlbnRpdHl9IGFscmVhZHkgZXhpc3RzYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VkVmFsdWUgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gc2NoZW1hLmNyZWF0ZSgpIDogc2NoZW1hLmV4dGVuZCA/IHNjaGVtYS5leHRlbmQodmFsdWUpIDogdmFsdWU7XG4gICAgICAgICAgICBkYXRhLnNldChlbnRpdHksIHVzZWRWYWx1ZSk7XG4gICAgICAgICAgICBkaXJ0eUl0ZXJhdG9yLmFkZChlbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuIHVzZWRWYWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHVzZWRWYWx1ZSA9IHZhbHVlID09PSB1bmRlZmluZWQgPyBzY2hlbWEuY3JlYXRlKCkgOiBzY2hlbWEuZXh0ZW5kID8gc2NoZW1hLmV4dGVuZCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgICAgIGRhdGEuc2V0KGVudGl0eSwgdXNlZFZhbHVlKTtcbiAgICAgICAgICAgIGRpcnR5SXRlcmF0b3IuYWRkKGVudGl0eSk7XG4gICAgICAgICAgICByZXR1cm4gdXNlZFZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBnZXRNdXRhYmxlT3JOdWxsKGVudGl0eSkge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZGF0YS5nZXQoZW50aXR5KTtcbiAgICAgICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXJ0eUl0ZXJhdG9yLmFkZChlbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0T3JDcmVhdGVNdXRhYmxlKGVudGl0eSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZShlbnRpdHksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpcnR5SXRlcmF0b3IuYWRkKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TXV0YWJsZShlbnRpdHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW211dGFibGVdIENvbXBvbmVudCAke2NvbXBvbmVudE5hbWV9IGZvciAke2VudGl0eX0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgICAgICB9LFxuICAgICAgICAqaXRlcmF0b3IoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIGNvbXBvbmVudF0gb2YgZGF0YSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIFtlbnRpdHksIGNvbXBvbmVudF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICpkaXJ0eUl0ZXJhdG9yKCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZGlydHlJdGVyYXRvcikge1xuICAgICAgICAgICAgICAgIHlpZWxkIGVudGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q3JkdFVwZGF0ZXM6IGNyZWF0ZUdldENyZHRNZXNzYWdlc0Zvckx3dyhjb21wb25lbnRJZCwgdGltZXN0YW1wcywgZGlydHlJdGVyYXRvciwgc2NoZW1hLCBkYXRhKSxcbiAgICAgICAgdXBkYXRlRnJvbUNyZHQ6IGNyZWF0ZVVwZGF0ZUx3d0Zyb21DcmR0KGNvbXBvbmVudElkLCB0aW1lc3RhbXBzLCBzY2hlbWEsIGRhdGEpLFxuICAgICAgICBkdW1wQ3JkdFN0YXRlVG9CdWZmZXI6IGNyZWF0ZUR1bXBMd3dGdW5jdGlvbkZyb21DcmR0KGNvbXBvbmVudElkLCB0aW1lc3RhbXBzLCBzY2hlbWEsIGRhdGEpXG4gICAgfTtcbn1cbiIsICJleHBvcnQgY29uc3QgU1lTVEVNU19SRUdVTEFSX1BSSU9SSVRZID0gMTAwZTM7XG5leHBvcnQgZnVuY3Rpb24gU3lzdGVtQ29udGFpbmVyKCkge1xuICAgIGNvbnN0IHN5c3RlbXMgPSBbXTtcbiAgICBmdW5jdGlvbiBzb3J0KCkge1xuICAgICAgICAvLyBUT0RPOiBzeXN0ZW1zIHdpdGggdGhlIHNhbWUgcHJpb3JpdHkgc2hvdWxkIGFsd2F5cyBoYXZlIHRoZSBzYW1lIHN0YWJsZSBvcmRlclxuICAgICAgICAvLyAgICAgICBhZGQgYSBcImNvdW50ZXJcIiB0byB0aGUgU3lzdGVtIHR5cGUgdG8gZW5zdXJlIHRoYXQgb3JkZXJcbiAgICAgICAgc3lzdGVtcy5zb3J0KChhLCBiKSA9PiBiLnByaW9yaXR5IC0gYS5wcmlvcml0eSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZChmbiwgcHJpb3JpdHksIG5hbWUpIHtcbiAgICAgICAgY29uc3Qgc3lzdGVtTmFtZSA9IG5hbWUgPz8gZm4ubmFtZTtcbiAgICAgICAgaWYgKHN5c3RlbXMuZmluZCgoaXRlbSkgPT4gaXRlbS5mbiA9PT0gZm4pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN5c3RlbSAke0pTT04uc3RyaW5naWZ5KHN5c3RlbU5hbWUpfSBhbHJlYWR5IGFkZGVkIHRvIHRoZSBlbmdpbmVgKTtcbiAgICAgICAgfVxuICAgICAgICBzeXN0ZW1zLnB1c2goe1xuICAgICAgICAgICAgZm4sXG4gICAgICAgICAgICBwcmlvcml0eSxcbiAgICAgICAgICAgIG5hbWU6IHN5c3RlbU5hbWVcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFRPRE86IHJlcGxhY2UgdGhpcyBzb3J0IGJ5IGFuIGluc2VydGlvbiBpbiB0aGUgcmlnaHQgcGxhY2VcbiAgICAgICAgc29ydCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmUoc2VsZWN0b3IpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpbmRleCA9IHN5c3RlbXMuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLm5hbWUgPT09IHNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4ID0gc3lzdGVtcy5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0uZm4gPT09IHNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgc3lzdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBzb3J0KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhZGQsXG4gICAgICAgIHJlbW92ZSxcbiAgICAgICAgZ2V0U3lzdGVtcygpIHtcbiAgICAgICAgICAgIHJldHVybiBzeXN0ZW1zO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiIsICJpbXBvcnQgeyBSZWFkV3JpdGVCeXRlQnVmZmVyIH0gZnJvbSAnLi4vc2VyaWFsaXphdGlvbi9CeXRlQnVmZmVyJztcbmltcG9ydCB7IEFwcGVuZFZhbHVlT3BlcmF0aW9uLCBDcmR0TWVzc2FnZVR5cGUgfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uL2NyZHQnO1xuaW1wb3J0IHsgX19ERVZfXyB9IGZyb20gJy4uL3J1bnRpbWUvaW52YXJpYW50JztcbmNvbnN0IGVtcHR5UmVhZG9ubHlTZXQgPSBmcmVlemVTZXQobmV3IFNldCgpKTtcbmZ1bmN0aW9uIGZyb3plbkVycm9yKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignVGhlIHNldCBpcyBmcm96ZW4nKTtcbn1cbmZ1bmN0aW9uIGZyZWV6ZVNldChzZXQpIHtcbiAgICA7XG4gICAgc2V0LmFkZCA9IGZyb3plbkVycm9yO1xuICAgIHNldC5jbGVhciA9IGZyb3plbkVycm9yO1xuICAgIHJldHVybiBzZXQ7XG59XG5mdW5jdGlvbiBzb3J0QnlUaW1lc3RhbXAoYSwgYikge1xuICAgIHJldHVybiBhLnRpbWVzdGFtcCA+IGIudGltZXN0YW1wID8gMSA6IC0xO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVZhbHVlU2V0Q29tcG9uZW50RGVmaW5pdGlvbkZyb21TY2hlbWEoY29tcG9uZW50TmFtZSwgY29tcG9uZW50SWQsIHNjaGVtYSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgZGlydHlJdGVyYXRvciA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCBxdWV1ZWRDb21tYW5kcyA9IFtdO1xuICAgIC8vIG9ubHkgc29ydCB0aGUgYXJyYXkgaWYgdGhlIGxhdGVzdCAoTikgZWxlbWVudCBoYXMgYSB0aW1lc3RhbXAgPD0gTi0xXG4gICAgZnVuY3Rpb24gc2hvdWxkU29ydChyb3cpIHtcbiAgICAgICAgY29uc3QgbGVuID0gcm93LnJhdy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPiAxICYmIHJvdy5yYXdbbGVuIC0gMV0udGltZXN0YW1wIDw9IHJvdy5yYXdbbGVuIC0gMl0udGltZXN0YW1wKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdvdFVwZGF0ZWQoZW50aXR5KSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChyb3cpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRTb3J0KHJvdykpIHtcbiAgICAgICAgICAgICAgICByb3cucmF3LnNvcnQoc29ydEJ5VGltZXN0YW1wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChyb3cucmF3Lmxlbmd0aCA+IG9wdGlvbnMubWF4RWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICByb3cucmF3LnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmcm96ZW5TZXQgPSBmcmVlemVTZXQobmV3IFNldChyb3c/LnJhdy5tYXAoKCQpID0+ICQudmFsdWUpKSk7XG4gICAgICAgICAgICByb3cuZnJvemVuU2V0ID0gZnJvemVuU2V0O1xuICAgICAgICAgICAgcmV0dXJuIGZyb3plblNldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICByZXR1cm4gZW1wdHlSZWFkb25seVNldDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhcHBlbmQoZW50aXR5LCB2YWx1ZSkge1xuICAgICAgICBsZXQgcm93ID0gZGF0YS5nZXQoZW50aXR5KTtcbiAgICAgICAgaWYgKCFyb3cpIHtcbiAgICAgICAgICAgIHJvdyA9IHsgcmF3OiBbXSwgZnJvemVuU2V0OiBlbXB0eVJlYWRvbmx5U2V0IH07XG4gICAgICAgICAgICBkYXRhLnNldChlbnRpdHksIHJvdyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXNlZFZhbHVlID0gc2NoZW1hLmV4dGVuZCA/IHNjaGVtYS5leHRlbmQodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG9wdGlvbnMudGltZXN0YW1wRnVuY3Rpb24odXNlZFZhbHVlKTtcbiAgICAgICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgICAgIC8vIG9ubHkgZnJlZXplIHRoZSBvYmplY3RzIGluIGRldiBtb2RlIHRvIHdhcm4gdGhlIGRldmVsb3BlcnMgYmVjYXVzZVxuICAgICAgICAgICAgLy8gaXQgaXMgYW4gZXhwZW5zaXZlIG9wZXJhdGlvblxuICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZSh1c2VkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJvdy5yYXcucHVzaCh7IHZhbHVlOiB1c2VkVmFsdWUsIHRpbWVzdGFtcCB9KTtcbiAgICAgICAgcmV0dXJuIHsgc2V0OiBnb3RVcGRhdGVkKGVudGl0eSksIHZhbHVlOiB1c2VkVmFsdWUgfTtcbiAgICB9XG4gICAgY29uc3QgcmV0ID0ge1xuICAgICAgICBnZXQgY29tcG9uZW50SWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50SWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBjb21wb25lbnROYW1lKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudE5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBjb21wb25lbnRUeXBlKCkge1xuICAgICAgICAgICAgLy8gYSBnZXR0ZXIgaXMgdXNlZCBoZXJlIHRvIHByZXZlbnQgYWNjaWRlbnRhbCBjaGFuZ2VzXG4gICAgICAgICAgICByZXR1cm4gMSAvKiBDb21wb25lbnRUeXBlLkdyb3dPbmx5VmFsdWVTZXQgKi87XG4gICAgICAgIH0sXG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgaGFzKGVudGl0eSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEuaGFzKGVudGl0eSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudGl0eURlbGV0ZWQoZW50aXR5KSB7XG4gICAgICAgICAgICBkYXRhLmRlbGV0ZShlbnRpdHkpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQoZW50aXR5KSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBkYXRhLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXMuZnJvemVuU2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5UmVhZG9ubHlTZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFkZFZhbHVlKGVudGl0eSwgcmF3VmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2V0LCB2YWx1ZSB9ID0gYXBwZW5kKGVudGl0eSwgcmF3VmFsdWUpO1xuICAgICAgICAgICAgZGlydHlJdGVyYXRvci5hZGQoZW50aXR5KTtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgICAgICBzY2hlbWEuc2VyaWFsaXplKHZhbHVlLCBidWYpO1xuICAgICAgICAgICAgcXVldWVkQ29tbWFuZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50SWQsXG4gICAgICAgICAgICAgICAgZGF0YTogYnVmLnRvQmluYXJ5KCksXG4gICAgICAgICAgICAgICAgZW50aXR5SWQ6IGVudGl0eSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IDAsXG4gICAgICAgICAgICAgICAgdHlwZTogQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc2V0O1xuICAgICAgICB9LFxuICAgICAgICAqaXRlcmF0b3IoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIGNvbXBvbmVudF0gb2YgZGF0YSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIFtlbnRpdHksIGNvbXBvbmVudC5mcm96ZW5TZXRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAqZGlydHlJdGVyYXRvcigpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGRpcnR5SXRlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBlbnRpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldENyZHRVcGRhdGVzKCkge1xuICAgICAgICAgICAgLy8gcmV0dXJuIGEgY29weSBvZiB0aGUgY29tbWFuZHMsIGFuZCB0aGVuIGNsZWFyIHRoZSBsb2NhbCBjb3B5XG4gICAgICAgICAgICBkaXJ0eUl0ZXJhdG9yLmNsZWFyKCk7XG4gICAgICAgICAgICByZXR1cm4gcXVldWVkQ29tbWFuZHMuc3BsaWNlKDAsIHF1ZXVlZENvbW1hbmRzLmxlbmd0aCk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZUZyb21DcmR0KF9ib2R5KSB7XG4gICAgICAgICAgICBpZiAoX2JvZHkudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKF9ib2R5LmRhdGEpO1xuICAgICAgICAgICAgICAgIGFwcGVuZChfYm9keS5lbnRpdHlJZCwgc2NoZW1hLmRlc2VyaWFsaXplKGJ1ZikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCB1bmRlZmluZWRdO1xuICAgICAgICB9LFxuICAgICAgICBkdW1wQ3JkdFN0YXRlVG9CdWZmZXI6IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2VudGl0eSwgeyByYXcgfV0gb2YgZGF0YSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaXQgb2YgcmF3KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYS5zZXJpYWxpemUoaXQudmFsdWUsIGJ1Zik7XG4gICAgICAgICAgICAgICAgICAgIEFwcGVuZFZhbHVlT3BlcmF0aW9uLndyaXRlKGVudGl0eSwgMCwgY29tcG9uZW50SWQsIGJ1Zi50b0JpbmFyeSgpLCBidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHJldDtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gJy4uL2NvbXBvbmVudHMnO1xuY29uc3QgSW5wdXRDb21tYW5kcyA9IFtcbiAgICAwIC8qIElucHV0QWN0aW9uLklBX1BPSU5URVIgKi8sXG4gICAgMSAvKiBJbnB1dEFjdGlvbi5JQV9QUklNQVJZICovLFxuICAgIDIgLyogSW5wdXRBY3Rpb24uSUFfU0VDT05EQVJZICovLFxuICAgIDQgLyogSW5wdXRBY3Rpb24uSUFfRk9SV0FSRCAqLyxcbiAgICA1IC8qIElucHV0QWN0aW9uLklBX0JBQ0tXQVJEICovLFxuICAgIDYgLyogSW5wdXRBY3Rpb24uSUFfUklHSFQgKi8sXG4gICAgNyAvKiBJbnB1dEFjdGlvbi5JQV9MRUZUICovLFxuICAgIDggLyogSW5wdXRBY3Rpb24uSUFfSlVNUCAqLyxcbiAgICA5IC8qIElucHV0QWN0aW9uLklBX1dBTEsgKi8sXG4gICAgMTAgLyogSW5wdXRBY3Rpb24uSUFfQUNUSU9OXzMgKi8sXG4gICAgMTEgLyogSW5wdXRBY3Rpb24uSUFfQUNUSU9OXzQgKi8sXG4gICAgMTIgLyogSW5wdXRBY3Rpb24uSUFfQUNUSU9OXzUgKi8sXG4gICAgMTMgLyogSW5wdXRBY3Rpb24uSUFfQUNUSU9OXzYgKi9cbl07XG5jb25zdCBJbnB1dFN0YXRlVXBkYXRlU3lzdGVtUHJpb3JpdHkgPSAxIDw8IDIwO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUlucHV0U3lzdGVtKGVuZ2luZSkge1xuICAgIGNvbnN0IFBvaW50ZXJFdmVudHNSZXN1bHQgPSBjb21wb25lbnRzLlBvaW50ZXJFdmVudHNSZXN1bHQoZW5naW5lKTtcbiAgICBjb25zdCBnbG9iYWxTdGF0ZSA9IHtcbiAgICAgICAgcHJldmlvdXNGcmFtZU1heFRpbWVzdGFtcDogMCxcbiAgICAgICAgY3VycmVudEZyYW1lTWF4VGltZXN0YW1wOiAwLFxuICAgICAgICBidXR0b25TdGF0ZTogbmV3IE1hcCgpLFxuICAgICAgICB0aGlzRnJhbWVDb21tYW5kczogW11cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0QWN0aW9uKHBvaW50ZXJFdmVudFR5cGUsIGlucHV0QWN0aW9uLCBlbnRpdHkpIHtcbiAgICAgICAgY29uc3QgYXNjZW5kaW5nVGltZXN0YW1wSXRlcmF0b3IgPSBQb2ludGVyRXZlbnRzUmVzdWx0LmdldChlbnRpdHkpO1xuICAgICAgICBmb3IgKGNvbnN0IGNvbW1hbmQgb2YgQXJyYXkuZnJvbShhc2NlbmRpbmdUaW1lc3RhbXBJdGVyYXRvcikucmV2ZXJzZSgpKSB7XG4gICAgICAgICAgICBpZiAoY29tbWFuZC5idXR0b24gPT09IGlucHV0QWN0aW9uICYmIGNvbW1hbmQuc3RhdGUgPT09IHBvaW50ZXJFdmVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiogZmluZENvbW1hbmRzQnlBY3Rpb25EZXNjZW5kaW5nKGlucHV0QWN0aW9uLCBlbnRpdHkpIHtcbiAgICAgICAgY29uc3QgYXNjZW5kaW5nVGltZXN0YW1wSXRlcmF0b3IgPSBQb2ludGVyRXZlbnRzUmVzdWx0LmdldChlbnRpdHkpO1xuICAgICAgICBmb3IgKGNvbnN0IGNvbW1hbmQgb2YgQXJyYXkuZnJvbShhc2NlbmRpbmdUaW1lc3RhbXBJdGVyYXRvcikucmV2ZXJzZSgpKSB7XG4gICAgICAgICAgICBpZiAoY29tbWFuZC5idXR0b24gPT09IGlucHV0QWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgY29tbWFuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBidXR0b25TdGF0ZVVwZGF0ZVN5c3RlbSgpIHtcbiAgICAgICAgLy8gZmlyc3Qgc3RvcmUgdGhlIHByZXZpb3VzJyBmcmFtZSB0aW1lc3RhbXBcbiAgICAgICAgbGV0IG1heFRpbWVzdGFtcCA9IGdsb2JhbFN0YXRlLmN1cnJlbnRGcmFtZU1heFRpbWVzdGFtcDtcbiAgICAgICAgZ2xvYmFsU3RhdGUucHJldmlvdXNGcmFtZU1heFRpbWVzdGFtcCA9IG1heFRpbWVzdGFtcDtcbiAgICAgICAgaWYgKGdsb2JhbFN0YXRlLnRoaXNGcmFtZUNvbW1hbmRzLmxlbmd0aCkge1xuICAgICAgICAgICAgZ2xvYmFsU3RhdGUudGhpc0ZyYW1lQ29tbWFuZHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGVuIGl0ZXJhdGUgb3ZlciBhbGwgbmV3IGNvbW1hbmRzXG4gICAgICAgIGZvciAoY29uc3QgWywgY29tbWFuZHNdIG9mIGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoUG9pbnRlckV2ZW50c1Jlc3VsdCkpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGFkYXB0IHRoZSBnc2V0IGNvbXBvbmVudCB0byBoYXZlIGEgY2FjaGVkIFwicmV2ZXJzZWRcIiBvcHRpb24gYnkgZGVmYXVsdFxuICAgICAgICAgICAgY29uc3QgYXJyYXlDb21tYW5kcyA9IEFycmF5LmZyb20oY29tbWFuZHMpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGFycmF5Q29tbWFuZHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21tYW5kID0gYXJyYXlDb21tYW5kc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoY29tbWFuZC50aW1lc3RhbXAgPiBtYXhUaW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4VGltZXN0YW1wID0gY29tbWFuZC50aW1lc3RhbXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb21tYW5kLnRpbWVzdGFtcCA+IGdsb2JhbFN0YXRlLnByZXZpb3VzRnJhbWVNYXhUaW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsU3RhdGUudGhpc0ZyYW1lQ29tbWFuZHMucHVzaChjb21tYW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQuc3RhdGUgPT09IDAgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfVVAgKi8gfHwgY29tbWFuZC5zdGF0ZSA9PT0gMSAvKiBQb2ludGVyRXZlbnRUeXBlLlBFVF9ET1dOICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZDb21tYW5kID0gZ2xvYmFsU3RhdGUuYnV0dG9uU3RhdGUuZ2V0KGNvbW1hbmQuYnV0dG9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2Q29tbWFuZCB8fCBjb21tYW5kLnRpbWVzdGFtcCA+IHByZXZDb21tYW5kLnRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsU3RhdGUuYnV0dG9uU3RhdGUuc2V0KGNvbW1hbmQuYnV0dG9uLCBjb21tYW5kKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlIHdlIGFyZSBpdGVyYXRpbmcgYSBkZXNjZW5kaW5nIGFycmF5LCB3ZSBjYW4gZWFybHkgZmluaXNoIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIGN1cnJlbnQgZnJhbWUncyBtYXggdGltZXN0YW1wXG4gICAgICAgIGdsb2JhbFN0YXRlLmN1cnJlbnRGcmFtZU1heFRpbWVzdGFtcCA9IG1heFRpbWVzdGFtcDtcbiAgICB9XG4gICAgZW5naW5lLmFkZFN5c3RlbShidXR0b25TdGF0ZVVwZGF0ZVN5c3RlbSwgSW5wdXRTdGF0ZVVwZGF0ZVN5c3RlbVByaW9yaXR5LCAnQGRjbC9lY3MjaW5wdXRTeXN0ZW0nKTtcbiAgICBmdW5jdGlvbiB0aW1lc3RhbXBJc0N1cnJlbnRGcmFtZSh0aW1lc3RhbXApIHtcbiAgICAgICAgaWYgKHRpbWVzdGFtcCA+IGdsb2JhbFN0YXRlLnByZXZpb3VzRnJhbWVNYXhUaW1lc3RhbXAgJiYgdGltZXN0YW1wIDw9IGdsb2JhbFN0YXRlLmN1cnJlbnRGcmFtZU1heFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q2xpY2soaW5wdXRBY3Rpb24sIGVudGl0eSkge1xuICAgICAgICBpZiAoaW5wdXRBY3Rpb24gIT09IDMgLyogSW5wdXRBY3Rpb24uSUFfQU5ZICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZmluZENsaWNrKGlucHV0QWN0aW9uLCBlbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgaW5wdXQgb2YgSW5wdXRDb21tYW5kcykge1xuICAgICAgICAgICAgY29uc3QgY21kID0gZmluZENsaWNrKGlucHV0LCBlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNtZClcbiAgICAgICAgICAgICAgICByZXR1cm4gY21kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kQ2xpY2soaW5wdXRBY3Rpb24sIGVudGl0eSkge1xuICAgICAgICBsZXQgZG93biA9IG51bGw7XG4gICAgICAgIGxldCB1cCA9IG51bGw7XG4gICAgICAgIC8vIFdlIHNlYXJjaCB0aGUgbGFzdCBVUCAmIERPV04gY29tbWFuZCBzb3J0ZWQgYnkgdGltZXN0YW1wIGRlc2NlbmRpbmdcbiAgICAgICAgZm9yIChjb25zdCBpdCBvZiBmaW5kQ29tbWFuZHNCeUFjdGlvbkRlc2NlbmRpbmcoaW5wdXRBY3Rpb24sIGVudGl0eSkpIHtcbiAgICAgICAgICAgIGlmICghdXApIHtcbiAgICAgICAgICAgICAgICBpZiAoaXQuc3RhdGUgPT09IDAgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfVVAgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgdXAgPSBpdDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWRvd24pIHtcbiAgICAgICAgICAgICAgICBpZiAoaXQuc3RhdGUgPT09IDEgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfRE9XTiAqLykge1xuICAgICAgICAgICAgICAgICAgICBkb3duID0gaXQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXVwIHx8ICFkb3duKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8vIElmIHRoZSBET1dOIGNvbW1hbmQgaGFzIGhhcHBlbiBiZWZvcmUgdGhlIFVQIGNvbW1hbmRzLCBpdCBtZWFucyB0aGF0IHRoYXQgYSBjbGlja2VkIGhhcyBoYXBwZW5cbiAgICAgICAgaWYgKGRvd24udGltZXN0YW1wIDwgdXAudGltZXN0YW1wICYmIHRpbWVzdGFtcElzQ3VycmVudEZyYW1lKHVwLnRpbWVzdGFtcCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHVwLCBkb3duIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldElucHV0Q29tbWFuZEZyb21FbnRpdHkoaW5wdXRBY3Rpb24sIHBvaW50ZXJFdmVudFR5cGUsIGVudGl0eSkge1xuICAgICAgICBpZiAoaW5wdXRBY3Rpb24gIT09IDMgLyogSW5wdXRBY3Rpb24uSUFfQU5ZICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZmluZElucHV0Q29tbWFuZChpbnB1dEFjdGlvbiwgcG9pbnRlckV2ZW50VHlwZSwgZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGlucHV0IG9mIElucHV0Q29tbWFuZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNtZCA9IGZpbmRJbnB1dENvbW1hbmQoaW5wdXQsIHBvaW50ZXJFdmVudFR5cGUsIGVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY21kKVxuICAgICAgICAgICAgICAgIHJldHVybiBjbWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldElucHV0Q29tbWFuZChpbnB1dEFjdGlvbiwgcG9pbnRlckV2ZW50VHlwZSwgZW50aXR5KSB7XG4gICAgICAgIGlmIChlbnRpdHkpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRJbnB1dENvbW1hbmRGcm9tRW50aXR5KGlucHV0QWN0aW9uLCBwb2ludGVyRXZlbnRUeXBlLCBlbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjb21tYW5kIG9mIGdsb2JhbFN0YXRlLnRoaXNGcmFtZUNvbW1hbmRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKChjb21tYW5kLmJ1dHRvbiA9PT0gaW5wdXRBY3Rpb24gfHwgaW5wdXRBY3Rpb24gPT09IDMgLyogSW5wdXRBY3Rpb24uSUFfQU5ZICovKSAmJlxuICAgICAgICAgICAgICAgICAgICBjb21tYW5kLnN0YXRlID09PSBwb2ludGVyRXZlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRJbnB1dENvbW1hbmQoaW5wdXRBY3Rpb24sIHBvaW50ZXJFdmVudFR5cGUsIGVudGl0eSkge1xuICAgICAgICAvLyBXZSBzZWFyY2ggdGhlIGxhc3QgcG9pbnRlciBFdmVudCBjb21tYW5kIHNvcnRlZCBieSB0aW1lc3RhbXBcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IGZpbmRMYXN0QWN0aW9uKHBvaW50ZXJFdmVudFR5cGUsIGlucHV0QWN0aW9uLCBlbnRpdHkpO1xuICAgICAgICBpZiAoIWNvbW1hbmQpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHRpbWVzdGFtcElzQ3VycmVudEZyYW1lKGNvbW1hbmQudGltZXN0YW1wKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyByZXR1cm5zIHRydWUgaWYgdGhlcmUgd2FzIGEgRE9XTiAoaW4gYW55IHBhc3QgZnJhbWUpLCBhbmQgdGhlbiBhbiBVUCBpbiB0aGUgbGFzdCBmcmFtZVxuICAgIGZ1bmN0aW9uIGlzQ2xpY2tlZChpbnB1dEFjdGlvbiwgZW50aXR5KSB7XG4gICAgICAgIHJldHVybiBnZXRDbGljayhpbnB1dEFjdGlvbiwgZW50aXR5KSAhPT0gbnVsbDtcbiAgICB9XG4gICAgLy8gcmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBsYXN0IGFjdGlvbiB3YXMgdHJpZ2dlcmVkIGluIHRoZSBsYXN0IGZyYW1lXG4gICAgZnVuY3Rpb24gaXNUcmlnZ2VyZWQoaW5wdXRBY3Rpb24sIHBvaW50ZXJFdmVudFR5cGUsIGVudGl0eSkge1xuICAgICAgICBpZiAoZW50aXR5KSB7XG4gICAgICAgICAgICBjb25zdCBjb21tYW5kID0gZmluZExhc3RBY3Rpb24ocG9pbnRlckV2ZW50VHlwZSwgaW5wdXRBY3Rpb24sIGVudGl0eSk7XG4gICAgICAgICAgICByZXR1cm4gKGNvbW1hbmQgJiYgdGltZXN0YW1wSXNDdXJyZW50RnJhbWUoY29tbWFuZC50aW1lc3RhbXApKSB8fCBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29tbWFuZCBvZiBnbG9iYWxTdGF0ZS50aGlzRnJhbWVDb21tYW5kcykge1xuICAgICAgICAgICAgICAgIGlmICgoY29tbWFuZC5idXR0b24gPT09IGlucHV0QWN0aW9uIHx8IGlucHV0QWN0aW9uID09PSAzIC8qIElucHV0QWN0aW9uLklBX0FOWSAqLykgJiZcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZC5zdGF0ZSA9PT0gcG9pbnRlckV2ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gcmV0dXJucyB0aGUgZ2xvYmFsIHN0YXRlIG9mIHRoZSBpbnB1dC4gVGhpcyBnbG9iYWwgc3RhdGUgaXMgdXBkYXRlZCBmcm9tIHRoZSBzeXN0ZW1cbiAgICBmdW5jdGlvbiBpc1ByZXNzZWQoaW5wdXRBY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFN0YXRlLmJ1dHRvblN0YXRlLmdldChpbnB1dEFjdGlvbik/LnN0YXRlID09PSAxIC8qIFBvaW50ZXJFdmVudFR5cGUuUEVUX0RPV04gKi87XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGlzUHJlc3NlZCxcbiAgICAgICAgZ2V0Q2xpY2ssXG4gICAgICAgIGdldElucHV0Q29tbWFuZCxcbiAgICAgICAgaXNDbGlja2VkLFxuICAgICAgICBpc1RyaWdnZXJlZFxuICAgIH07XG59XG4iLCAiLyoqXG4gKiBDb21wb25lbnQgdHlwZXMgYXJlIHVzZWQgdG8gcGljayB0aGUgd2lyZSBwcm90b2NvbCBhbmQgdGhlIGNvbmZsaWN0IHJlc29sdXRpb24gYWxnb3JpdGhtXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQ29tcG9uZW50VHlwZTtcbihmdW5jdGlvbiAoQ29tcG9uZW50VHlwZSkge1xuICAgIENvbXBvbmVudFR5cGVbQ29tcG9uZW50VHlwZVtcIkxhc3RXcml0ZVdpbkVsZW1lbnRTZXRcIl0gPSAwXSA9IFwiTGFzdFdyaXRlV2luRWxlbWVudFNldFwiO1xuICAgIENvbXBvbmVudFR5cGVbQ29tcG9uZW50VHlwZVtcIkdyb3dPbmx5VmFsdWVTZXRcIl0gPSAxXSA9IFwiR3Jvd09ubHlWYWx1ZVNldFwiO1xufSkoQ29tcG9uZW50VHlwZSB8fCAoQ29tcG9uZW50VHlwZSA9IHt9KSk7XG4iLCAiaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tICcuLi9jb21wb25lbnRzJztcbmltcG9ydCB7IGNvbXBvbmVudE51bWJlckZyb21OYW1lIH0gZnJvbSAnLi4vY29tcG9uZW50cy9jb21wb25lbnQtbnVtYmVyJztcbmltcG9ydCB7IGNoZWNrTm90VGhlbmFibGUgfSBmcm9tICcuLi9ydW50aW1lL2ludmFyaWFudCc7XG5pbXBvcnQgeyBTY2hlbWFzIH0gZnJvbSAnLi4vc2NoZW1hcyc7XG5pbXBvcnQgeyBjcmR0U2NlbmVTeXN0ZW0gfSBmcm9tICcuLi9zeXN0ZW1zL2NyZHQnO1xuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50RGVmaW5pdGlvbkZyb21TY2hlbWEgfSBmcm9tICcuL2x3dy1lbGVtZW50LXNldC1jb21wb25lbnQtZGVmaW5pdGlvbic7XG5pbXBvcnQgeyBFbnRpdHlDb250YWluZXIgfSBmcm9tICcuL2VudGl0eSc7XG5pbXBvcnQgeyBTeXN0ZW1Db250YWluZXIsIFNZU1RFTVNfUkVHVUxBUl9QUklPUklUWSB9IGZyb20gJy4vc3lzdGVtcyc7XG5pbXBvcnQgeyBjcmVhdGVWYWx1ZVNldENvbXBvbmVudERlZmluaXRpb25Gcm9tU2NoZW1hIH0gZnJvbSAnLi9ncm93LW9ubHktdmFsdWUtc2V0LWNvbXBvbmVudC1kZWZpbml0aW9uJztcbmV4cG9ydCAqIGZyb20gJy4vaW5wdXQnO1xuZXhwb3J0ICogZnJvbSAnLi9yZWFkb25seSc7XG5leHBvcnQgKiBmcm9tICcuL3R5cGVzJztcbmZ1bmN0aW9uIHByZUVuZ2luZSgpIHtcbiAgICBjb25zdCBlbnRpdHlDb250YWluZXIgPSBFbnRpdHlDb250YWluZXIoKTtcbiAgICBjb25zdCBjb21wb25lbnRzRGVmaW5pdGlvbiA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBzeXN0ZW1zID0gU3lzdGVtQ29udGFpbmVyKCk7XG4gICAgbGV0IHNlYWxlZCA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIGFkZFN5c3RlbShmbiwgcHJpb3JpdHkgPSBTWVNURU1TX1JFR1VMQVJfUFJJT1JJVFksIG5hbWUpIHtcbiAgICAgICAgc3lzdGVtcy5hZGQoZm4sIHByaW9yaXR5LCBuYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlU3lzdGVtKHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBzeXN0ZW1zLnJlbW92ZShzZWxlY3Rvcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEVudGl0eSgpIHtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gZW50aXR5Q29udGFpbmVyLmdlbmVyYXRlRW50aXR5KCk7XG4gICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUVudGl0eShlbnRpdHkpIHtcbiAgICAgICAgZm9yIChjb25zdCBbLCBjb21wb25lbnRdIG9mIGNvbXBvbmVudHNEZWZpbml0aW9uKSB7XG4gICAgICAgICAgICBjb21wb25lbnQuZW50aXR5RGVsZXRlZChlbnRpdHksIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnRpdHlDb250YWluZXIucmVtb3ZlRW50aXR5KGVudGl0eSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQ29tcG9uZW50RGVmaW5pdGlvbihjb21wb25lbnROYW1lLCBjb21wb25lbnQpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKHNlYWxlZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRW5naW5lIGlzIGFscmVhZHkgc2VhbGVkLiBObyBjb21wb25lbnRzIGNhbiBiZSBhZGRlZCBhdCB0aGlzIHN0YWdlJyk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gY29tcG9uZW50TnVtYmVyRnJvbU5hbWUoY29tcG9uZW50TmFtZSk7XG4gICAgICAgIGNvbnN0IHByZXYgPSBjb21wb25lbnRzRGVmaW5pdGlvbi5nZXQoY29tcG9uZW50SWQpO1xuICAgICAgICBpZiAocHJldikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb21wb25lbnQgbnVtYmVyICR7Y29tcG9uZW50SWR9IHdhcyBhbHJlYWR5IHJlZ2lzdGVyZWQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnROYW1lICE9PSBjb21wb25lbnROYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbXBvbmVudCBuYW1lIGRvZXNuJ3QgbWF0Y2ggY29tcG9uZW50RGVmaW5pdGlvbi5jb21wb25lbnROYW1lICR7Y29tcG9uZW50TmFtZX0gIT0gJHtjb21wb25lbnQuY29tcG9uZW50TmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudElkICE9PSBjb21wb25lbnRJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb21wb25lbnQgbnVtYmVyIGRvZXNuJ3QgbWF0Y2ggY29tcG9uZW50RGVmaW5pdGlvbi5jb21wb25lbnRJZCAke2NvbXBvbmVudElkfSAhPSAke2NvbXBvbmVudC5jb21wb25lbnRJZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb21wb25lbnRzRGVmaW5pdGlvbi5zZXQoY29tcG9uZW50SWQsIGNvbXBvbmVudCk7XG4gICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoY29tcG9uZW50TmFtZSwgc2NoZW1hKSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gY29tcG9uZW50TnVtYmVyRnJvbU5hbWUoY29tcG9uZW50TmFtZSk7XG4gICAgICAgIGNvbnN0IHByZXYgPSBjb21wb25lbnRzRGVmaW5pdGlvbi5nZXQoY29tcG9uZW50SWQpO1xuICAgICAgICBpZiAocHJldikge1xuICAgICAgICAgICAgLy8gVE9ETzogYXNzZXJ0IHNwZWMgPT09IHByZXYuc3BlY1xuICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKHNlYWxlZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRW5naW5lIGlzIGFscmVhZHkgc2VhbGVkLiBObyBjb21wb25lbnRzIGNhbiBiZSBhZGRlZCBhdCB0aGlzIHN0YWdlJyk7XG4gICAgICAgIGNvbnN0IG5ld0NvbXBvbmVudCA9IGNyZWF0ZUNvbXBvbmVudERlZmluaXRpb25Gcm9tU2NoZW1hKGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudElkLCBzY2hlbWEpO1xuICAgICAgICBjb21wb25lbnRzRGVmaW5pdGlvbi5zZXQoY29tcG9uZW50SWQsIG5ld0NvbXBvbmVudCk7XG4gICAgICAgIHJldHVybiBuZXdDb21wb25lbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmluZVZhbHVlU2V0Q29tcG9uZW50RnJvbVNjaGVtYShjb21wb25lbnROYW1lLCBzY2hlbWEsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSBjb21wb25lbnROdW1iZXJGcm9tTmFtZShjb21wb25lbnROYW1lKTtcbiAgICAgICAgY29uc3QgcHJldiA9IGNvbXBvbmVudHNEZWZpbml0aW9uLmdldChjb21wb25lbnRJZCk7XG4gICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBhc3NlcnQgc3BlYyA9PT0gcHJldi5zcGVjXG4gICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAoc2VhbGVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmdpbmUgaXMgYWxyZWFkeSBzZWFsZWQuIE5vIGNvbXBvbmVudHMgY2FuIGJlIGFkZGVkIGF0IHRoaXMgc3RhZ2UnKTtcbiAgICAgICAgY29uc3QgbmV3Q29tcG9uZW50ID0gY3JlYXRlVmFsdWVTZXRDb21wb25lbnREZWZpbml0aW9uRnJvbVNjaGVtYShjb21wb25lbnROYW1lLCBjb21wb25lbnRJZCwgc2NoZW1hLCBvcHRpb25zKTtcbiAgICAgICAgY29tcG9uZW50c0RlZmluaXRpb24uc2V0KGNvbXBvbmVudElkLCBuZXdDb21wb25lbnQpO1xuICAgICAgICByZXR1cm4gbmV3Q29tcG9uZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZpbmVDb21wb25lbnQoY29tcG9uZW50TmFtZSwgbWFwU3BlYywgY29uc3RydWN0b3JEZWZhdWx0KSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gY29tcG9uZW50TnVtYmVyRnJvbU5hbWUoY29tcG9uZW50TmFtZSk7XG4gICAgICAgIGNvbnN0IHByZXYgPSBjb21wb25lbnRzRGVmaW5pdGlvbi5nZXQoY29tcG9uZW50SWQpO1xuICAgICAgICBpZiAocHJldikge1xuICAgICAgICAgICAgLy8gVE9ETzogYXNzZXJ0IHNwZWMgPT09IHByZXYuc3BlY1xuICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlYWxlZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRW5naW5lIGlzIGFscmVhZHkgc2VhbGVkLiBObyBjb21wb25lbnRzIGNhbiBiZSBhZGRlZCBhdCB0aGlzIHN0YWdlJyk7XG4gICAgICAgIGNvbnN0IHNjaGVtYVNwZWMgPSBTY2hlbWFzLk1hcChtYXBTcGVjLCBjb25zdHJ1Y3RvckRlZmF1bHQpO1xuICAgICAgICBjb25zdCBkZWYgPSBjcmVhdGVDb21wb25lbnREZWZpbml0aW9uRnJvbVNjaGVtYShjb21wb25lbnROYW1lLCBjb21wb25lbnRJZCwgc2NoZW1hU3BlYyk7XG4gICAgICAgIGNvbnN0IG5ld0NvbXBvbmVudCA9IHtcbiAgICAgICAgICAgIC4uLmRlZixcbiAgICAgICAgICAgIGNyZWF0ZShlbnRpdHksIHZhbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWYuY3JlYXRlKGVudGl0eSwgdmFsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVhdGVPclJlcGxhY2UoZW50aXR5LCB2YWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmLmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbXBvbmVudHNEZWZpbml0aW9uLnNldChjb21wb25lbnRJZCwgbmV3Q29tcG9uZW50KTtcbiAgICAgICAgcmV0dXJuIG5ld0NvbXBvbmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50KGNvbXBvbmVudElkT3JOYW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gdHlwZW9mIGNvbXBvbmVudElkT3JOYW1lID09PSAnbnVtYmVyJyA/IGNvbXBvbmVudElkT3JOYW1lIDogY29tcG9uZW50TnVtYmVyRnJvbU5hbWUoY29tcG9uZW50SWRPck5hbWUpO1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBjb21wb25lbnRzRGVmaW5pdGlvbi5nZXQoY29tcG9uZW50SWQpO1xuICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb21wb25lbnQgJHtjb21wb25lbnRJZH0gbm90IGZvdW5kLiBZb3UgbmVlZCB0byBkZWNsYXJlIHRoZSBjb21wb25lbnRzIGF0IHRoZSBiZWdpbm5pZyBvZiB0aGUgZW5naW5lIGRlY2xhcmF0aW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50T3JOdWxsKGNvbXBvbmVudElkT3JOYW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gdHlwZW9mIGNvbXBvbmVudElkT3JOYW1lID09PSAnbnVtYmVyJyA/IGNvbXBvbmVudElkT3JOYW1lIDogY29tcG9uZW50TnVtYmVyRnJvbU5hbWUoY29tcG9uZW50SWRPck5hbWUpO1xuICAgICAgICByZXR1cm4gKGNvbXBvbmVudHNEZWZpbml0aW9uLmdldChjb21wb25lbnRJZCkgPz9cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICBudWxsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24qIGdldEVudGl0aWVzV2l0aCguLi5jb21wb25lbnRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2VudGl0eSwgLi4uZ3JvdXBDb21wXSBvZiBnZXRDb21wb25lbnREZWZHcm91cCguLi5jb21wb25lbnRzKSkge1xuICAgICAgICAgICAgeWllbGQgW2VudGl0eSwgLi4uZ3JvdXBDb21wLm1hcCgoYykgPT4gYy5nZXQoZW50aXR5KSldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEVudGl0eU9yTnVsbEJ5TmFtZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBMYWJlbENvbXBvbmVudCA9IGNvbXBvbmVudHMuTmFtZSh7IGRlZmluZUNvbXBvbmVudCB9KTtcbiAgICAgICAgZm9yIChjb25zdCBbZW50aXR5LCBuYW1lXSBvZiBnZXRFbnRpdGllc1dpdGgoTGFiZWxDb21wb25lbnQpKSB7XG4gICAgICAgICAgICBpZiAobmFtZS52YWx1ZSA9PT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24qIGdldENvbXBvbmVudERlZkdyb3VwKC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgW2ZpcnN0Q29tcG9uZW50RGVmLCAuLi5jb21wb25lbnREZWZpbml0aW9uc10gPSBhcmdzO1xuICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHldIG9mIGZpcnN0Q29tcG9uZW50RGVmLml0ZXJhdG9yKCkpIHtcbiAgICAgICAgICAgIGxldCBtYXRjaGVzID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29tcG9uZW50RGVmIG9mIGNvbXBvbmVudERlZmluaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb21wb25lbnREZWYuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgICAgICAgIHlpZWxkIFtlbnRpdHksIC4uLmFyZ3NdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN5c3RlbXMoKSB7XG4gICAgICAgIHJldHVybiBzeXN0ZW1zLmdldFN5c3RlbXMoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcG9uZW50c0l0ZXIoKSB7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRzRGVmaW5pdGlvbi52YWx1ZXMoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQ29tcG9uZW50RGVmaW5pdGlvbihjb21wb25lbnRJZE9yTmFtZSkge1xuICAgICAgICBpZiAoc2VhbGVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmdpbmUgaXMgYWxyZWFkeSBzZWFsZWQuIE5vIGNvbXBvbmVudHMgY2FuIGJlIHJlbW92ZWQgYXQgdGhpcyBzdGFnZScpO1xuICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IHR5cGVvZiBjb21wb25lbnRJZE9yTmFtZSA9PT0gJ251bWJlcicgPyBjb21wb25lbnRJZE9yTmFtZSA6IGNvbXBvbmVudE51bWJlckZyb21OYW1lKGNvbXBvbmVudElkT3JOYW1lKTtcbiAgICAgICAgY29tcG9uZW50c0RlZmluaXRpb24uZGVsZXRlKGNvbXBvbmVudElkKTtcbiAgICB9XG4gICAgY29tcG9uZW50cy5UcmFuc2Zvcm0oeyBkZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hIH0pO1xuICAgIGZ1bmN0aW9uIHNlYWwoKSB7XG4gICAgICAgIGlmICghc2VhbGVkKSB7XG4gICAgICAgICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFkZEVudGl0eSxcbiAgICAgICAgcmVtb3ZlRW50aXR5LFxuICAgICAgICBhZGRTeXN0ZW0sXG4gICAgICAgIGdldFN5c3RlbXMsXG4gICAgICAgIHJlbW92ZVN5c3RlbSxcbiAgICAgICAgZGVmaW5lQ29tcG9uZW50LFxuICAgICAgICBkZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hLFxuICAgICAgICBkZWZpbmVWYWx1ZVNldENvbXBvbmVudEZyb21TY2hlbWEsXG4gICAgICAgIGdldEVudGl0aWVzV2l0aCxcbiAgICAgICAgZ2V0Q29tcG9uZW50LFxuICAgICAgICBnZXRDb21wb25lbnRPck51bGw6IGdldENvbXBvbmVudE9yTnVsbCxcbiAgICAgICAgZ2V0RW50aXR5T3JOdWxsQnlOYW1lLFxuICAgICAgICByZW1vdmVDb21wb25lbnREZWZpbml0aW9uLFxuICAgICAgICByZWdpc3RlckNvbXBvbmVudERlZmluaXRpb24sXG4gICAgICAgIGVudGl0eUNvbnRhaW5lcixcbiAgICAgICAgY29tcG9uZW50c0l0ZXIsXG4gICAgICAgIHNlYWxcbiAgICB9O1xufVxuLyoqXG4gKiBJbnRlcm5hbCBjb25zdHJ1Y3RvciBvZiBuZXcgZW5naW5lcywgdGhpcyBpcyBhbiBpbnRlcm5hbCBBUElcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFByZXZlbnQgbWFudWFsIHVzYWdlIHByZWZlciBcImVuZ2luZVwiIGZvciBzY2VuZSBkZXZlbG9wbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gRW5naW5lKG9wdGlvbnMpIHtcbiAgICBjb25zdCBwYXJ0aWFsRW5naW5lID0gcHJlRW5naW5lKCk7XG4gICAgY29uc3QgY3JkdFN5c3RlbSA9IGNyZHRTY2VuZVN5c3RlbShwYXJ0aWFsRW5naW5lLCBvcHRpb25zPy5vbkNoYW5nZUZ1bmN0aW9uIHx8IG51bGwpO1xuICAgIGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZShkdCkge1xuICAgICAgICBhd2FpdCBjcmR0U3lzdGVtLnJlY2VpdmVNZXNzYWdlcygpO1xuICAgICAgICBmb3IgKGNvbnN0IHN5c3RlbSBvZiBwYXJ0aWFsRW5naW5lLmdldFN5c3RlbXMoKSkge1xuICAgICAgICAgICAgY29uc3QgcmV0ID0gc3lzdGVtLmZuKGR0KTtcbiAgICAgICAgICAgIGNoZWNrTm90VGhlbmFibGUocmV0LCBgQSBzeXN0ZW0gKCR7c3lzdGVtLm5hbWUgfHwgJ2Fub255bW91cyd9KSByZXR1cm5lZCBhIHRoZW5hYmxlLiBTeXN0ZW1zIGNhbm5vdCBiZSBhc3luYyBmdW5jdGlvbnMuIERvY3VtZW50YXRpb246IGh0dHBzOi8vZGNsLmdnL3Nkay9zeW5jLXN5c3RlbXNgKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBnZXQgdGhlIGRlbGV0ZWQgZW50aXRpZXMgdG8gc2VuZCB0aGUgRGVsZXRlRW50aXR5IENSRFQgY29tbWFuZHNcbiAgICAgICAgY29uc3QgZGVsZXRlZEVudGl0ZXMgPSBwYXJ0aWFsRW5naW5lLmVudGl0eUNvbnRhaW5lci5yZWxlYXNlUmVtb3ZlZEVudGl0aWVzKCk7XG4gICAgICAgIGF3YWl0IGNyZHRTeXN0ZW0uc2VuZE1lc3NhZ2VzKGRlbGV0ZWRFbnRpdGVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkRW50aXR5OiBwYXJ0aWFsRW5naW5lLmFkZEVudGl0eSxcbiAgICAgICAgcmVtb3ZlRW50aXR5OiBwYXJ0aWFsRW5naW5lLnJlbW92ZUVudGl0eSxcbiAgICAgICAgYWRkU3lzdGVtOiBwYXJ0aWFsRW5naW5lLmFkZFN5c3RlbSxcbiAgICAgICAgcmVtb3ZlU3lzdGVtOiBwYXJ0aWFsRW5naW5lLnJlbW92ZVN5c3RlbSxcbiAgICAgICAgZGVmaW5lQ29tcG9uZW50OiBwYXJ0aWFsRW5naW5lLmRlZmluZUNvbXBvbmVudCxcbiAgICAgICAgZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYTogcGFydGlhbEVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hLFxuICAgICAgICBkZWZpbmVWYWx1ZVNldENvbXBvbmVudEZyb21TY2hlbWE6IHBhcnRpYWxFbmdpbmUuZGVmaW5lVmFsdWVTZXRDb21wb25lbnRGcm9tU2NoZW1hLFxuICAgICAgICByZWdpc3RlckNvbXBvbmVudERlZmluaXRpb246IHBhcnRpYWxFbmdpbmUucmVnaXN0ZXJDb21wb25lbnREZWZpbml0aW9uLFxuICAgICAgICBnZXRFbnRpdGllc1dpdGg6IHBhcnRpYWxFbmdpbmUuZ2V0RW50aXRpZXNXaXRoLFxuICAgICAgICBnZXRDb21wb25lbnQ6IHBhcnRpYWxFbmdpbmUuZ2V0Q29tcG9uZW50LFxuICAgICAgICBnZXRDb21wb25lbnRPck51bGw6IHBhcnRpYWxFbmdpbmUuZ2V0Q29tcG9uZW50T3JOdWxsLFxuICAgICAgICByZW1vdmVDb21wb25lbnREZWZpbml0aW9uOiBwYXJ0aWFsRW5naW5lLnJlbW92ZUNvbXBvbmVudERlZmluaXRpb24sXG4gICAgICAgIGNvbXBvbmVudHNJdGVyOiBwYXJ0aWFsRW5naW5lLmNvbXBvbmVudHNJdGVyLFxuICAgICAgICBzZWFsOiBwYXJ0aWFsRW5naW5lLnNlYWwsXG4gICAgICAgIGdldEVudGl0eU9yTnVsbEJ5TmFtZTogcGFydGlhbEVuZ2luZS5nZXRFbnRpdHlPck51bGxCeU5hbWUsXG4gICAgICAgIHVwZGF0ZSxcbiAgICAgICAgUm9vdEVudGl0eTogMCxcbiAgICAgICAgUGxheWVyRW50aXR5OiAxLFxuICAgICAgICBDYW1lcmFFbnRpdHk6IDIsXG4gICAgICAgIGdldEVudGl0eVN0YXRlOiBwYXJ0aWFsRW5naW5lLmVudGl0eUNvbnRhaW5lci5nZXRFbnRpdHlTdGF0ZSxcbiAgICAgICAgYWRkVHJhbnNwb3J0OiBjcmR0U3lzdGVtLmFkZFRyYW5zcG9ydCxcbiAgICAgICAgZW50aXR5Q29udGFpbmVyOiBwYXJ0aWFsRW5naW5lLmVudGl0eUNvbnRhaW5lclxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tICcuLi9jb21wb25lbnRzJztcbmltcG9ydCB7IEVudGl0eVN0YXRlIH0gZnJvbSAnLi4vZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBjaGVja05vdFRoZW5hYmxlIH0gZnJvbSAnLi4vcnVudGltZS9pbnZhcmlhbnQnO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBvaW50ZXJFdmVudHNTeXN0ZW0oZW5naW5lLCBpbnB1dFN5c3RlbSkge1xuICAgIGNvbnN0IFBvaW50ZXJFdmVudHMgPSBjb21wb25lbnRzLlBvaW50ZXJFdmVudHMoZW5naW5lKTtcbiAgICBsZXQgRXZlbnRUeXBlO1xuICAgIChmdW5jdGlvbiAoRXZlbnRUeXBlKSB7XG4gICAgICAgIEV2ZW50VHlwZVtFdmVudFR5cGVbXCJDbGlja1wiXSA9IDBdID0gXCJDbGlja1wiO1xuICAgICAgICBFdmVudFR5cGVbRXZlbnRUeXBlW1wiRG93blwiXSA9IDFdID0gXCJEb3duXCI7XG4gICAgICAgIEV2ZW50VHlwZVtFdmVudFR5cGVbXCJVcFwiXSA9IDJdID0gXCJVcFwiO1xuICAgIH0pKEV2ZW50VHlwZSB8fCAoRXZlbnRUeXBlID0ge30pKTtcbiAgICBjb25zdCBnZXREZWZhdWx0T3B0cyA9IChvcHRzID0ge30pID0+ICh7XG4gICAgICAgIGJ1dHRvbjogMyAvKiBJbnB1dEFjdGlvbi5JQV9BTlkgKi8sXG4gICAgICAgIC4uLm9wdHNcbiAgICB9KTtcbiAgICBjb25zdCBldmVudHNNYXAgPSBuZXcgTWFwKCk7XG4gICAgZnVuY3Rpb24gZ2V0RXZlbnQoZW50aXR5KSB7XG4gICAgICAgIHJldHVybiBldmVudHNNYXAuZ2V0KGVudGl0eSkgfHwgZXZlbnRzTWFwLnNldChlbnRpdHksIG5ldyBNYXAoKSkuZ2V0KGVudGl0eSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFBvaW50ZXJFdmVudChlbnRpdHksIHR5cGUsIG9wdHMpIHtcbiAgICAgICAgaWYgKG9wdHMuaG92ZXJUZXh0IHx8IG9wdHMuc2hvd0ZlZWRiYWNrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludGVyRXZlbnQgPSBQb2ludGVyRXZlbnRzLmdldE11dGFibGVPck51bGwoZW50aXR5KSB8fCBQb2ludGVyRXZlbnRzLmNyZWF0ZShlbnRpdHkpO1xuICAgICAgICAgICAgcG9pbnRlckV2ZW50LnBvaW50ZXJFdmVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIGV2ZW50SW5mbzoge1xuICAgICAgICAgICAgICAgICAgICBidXR0b246IG9wdHMuYnV0dG9uLFxuICAgICAgICAgICAgICAgICAgICBzaG93RmVlZGJhY2s6IG9wdHMuc2hvd0ZlZWRiYWNrLFxuICAgICAgICAgICAgICAgICAgICBob3ZlclRleHQ6IG9wdHMuaG92ZXJUZXh0LFxuICAgICAgICAgICAgICAgICAgICBtYXhEaXN0YW5jZTogb3B0cy5tYXhEaXN0YW5jZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZVBvaW50ZXJFdmVudChlbnRpdHksIHR5cGUsIGJ1dHRvbikge1xuICAgICAgICBjb25zdCBwb2ludGVyRXZlbnQgPSBQb2ludGVyRXZlbnRzLmdldE11dGFibGVPck51bGwoZW50aXR5KTtcbiAgICAgICAgaWYgKCFwb2ludGVyRXZlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBvaW50ZXJFdmVudC5wb2ludGVyRXZlbnRzID0gcG9pbnRlckV2ZW50LnBvaW50ZXJFdmVudHMuZmlsdGVyKChwb2ludGVyKSA9PiAhKHBvaW50ZXIuZXZlbnRJbmZvPy5idXR0b24gPT09IGJ1dHRvbiAmJiBwb2ludGVyLmV2ZW50VHlwZSA9PT0gdHlwZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRQb2ludGVyRXZlbnQoZXZlbnRUeXBlKSB7XG4gICAgICAgIGlmIChldmVudFR5cGUgPT09IEV2ZW50VHlwZS5VcCkge1xuICAgICAgICAgICAgcmV0dXJuIDAgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfVVAgKi87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDEgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfRE9XTiAqLztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlRXZlbnQoZW50aXR5LCB0eXBlKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gZ2V0RXZlbnQoZW50aXR5KTtcbiAgICAgICAgY29uc3QgcG9pbnRlckV2ZW50ID0gZXZlbnQuZ2V0KHR5cGUpO1xuICAgICAgICBpZiAocG9pbnRlckV2ZW50Py5vcHRzLmhvdmVyVGV4dCkge1xuICAgICAgICAgICAgcmVtb3ZlUG9pbnRlckV2ZW50KGVudGl0eSwgZ2V0UG9pbnRlckV2ZW50KHR5cGUpLCBwb2ludGVyRXZlbnQub3B0cy5idXR0b24pO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LmRlbGV0ZSh0eXBlKTtcbiAgICB9XG4gICAgLy8gQGludGVybmFsXG4gICAgZW5naW5lLmFkZFN5c3RlbShmdW5jdGlvbiBFdmVudFN5c3RlbSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBbZW50aXR5LCBldmVudF0gb2YgZXZlbnRzTWFwKSB7XG4gICAgICAgICAgICBpZiAoZW5naW5lLmdldEVudGl0eVN0YXRlKGVudGl0eSkgPT09IEVudGl0eVN0YXRlLlJlbW92ZWQpIHtcbiAgICAgICAgICAgICAgICBldmVudHNNYXAuZGVsZXRlKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtldmVudFR5cGUsIHsgY2IsIG9wdHMgfV0gb2YgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRUeXBlID09PSBFdmVudFR5cGUuQ2xpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IGlucHV0U3lzdGVtLmdldENsaWNrKG9wdHMuYnV0dG9uLCBlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWFuZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrTm90VGhlbmFibGUoY2IoY29tbWFuZC51cCksICdDbGljayBldmVudCByZXR1cm5lZCBhIHRoZW5hYmxlLiBPbmx5IHN5bmNocm9ub3VzIGZ1bmN0aW9ucyBhcmUgYWxsb3dlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRUeXBlID09PSBFdmVudFR5cGUuRG93biB8fCBldmVudFR5cGUgPT09IEV2ZW50VHlwZS5VcCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21tYW5kID0gaW5wdXRTeXN0ZW0uZ2V0SW5wdXRDb21tYW5kKG9wdHMuYnV0dG9uLCBnZXRQb2ludGVyRXZlbnQoZXZlbnRUeXBlKSwgZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrTm90VGhlbmFibGUoY2IoY29tbWFuZCksICdFdmVudCBoYW5kbGVyIHJldHVybmVkIGEgdGhlbmFibGUuIE9ubHkgc3luY2hyb25vdXMgZnVuY3Rpb25zIGFyZSBhbGxvd2VkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBvblBvaW50ZXJEb3duID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgW2RhdGEsIGNiLCBtYXliZU9wdHNdID0gYXJncztcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIG9uUG9pbnRlckRvd24oeyBlbnRpdHk6IGRhdGEsIG9wdHM6IG1heWJlT3B0cyA/PyB7fSB9LCBjYik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBlbnRpdHksIG9wdHMgfSA9IGRhdGE7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBnZXREZWZhdWx0T3B0cyhvcHRzKTtcbiAgICAgICAgcmVtb3ZlRXZlbnQoZW50aXR5LCBFdmVudFR5cGUuRG93bik7XG4gICAgICAgIGdldEV2ZW50KGVudGl0eSkuc2V0KEV2ZW50VHlwZS5Eb3duLCB7IGNiLCBvcHRzOiBvcHRpb25zIH0pO1xuICAgICAgICBzZXRQb2ludGVyRXZlbnQoZW50aXR5LCAxIC8qIFBvaW50ZXJFdmVudFR5cGUuUEVUX0RPV04gKi8sIG9wdGlvbnMpO1xuICAgIH07XG4gICAgY29uc3Qgb25Qb2ludGVyVXAgPSAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCBbZGF0YSwgY2IsIG1heWJlT3B0c10gPSBhcmdzO1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gb25Qb2ludGVyVXAoeyBlbnRpdHk6IGRhdGEsIG9wdHM6IG1heWJlT3B0cyA/PyB7fSB9LCBjYik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBlbnRpdHksIG9wdHMgfSA9IGRhdGE7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBnZXREZWZhdWx0T3B0cyhvcHRzKTtcbiAgICAgICAgcmVtb3ZlRXZlbnQoZW50aXR5LCBFdmVudFR5cGUuVXApO1xuICAgICAgICBnZXRFdmVudChlbnRpdHkpLnNldChFdmVudFR5cGUuVXAsIHsgY2IsIG9wdHM6IG9wdGlvbnMgfSk7XG4gICAgICAgIHNldFBvaW50ZXJFdmVudChlbnRpdHksIDAgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfVVAgKi8sIG9wdGlvbnMpO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVtb3ZlT25DbGljayhlbnRpdHkpIHtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KGVudGl0eSwgRXZlbnRUeXBlLkNsaWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlT25Qb2ludGVyRG93bihlbnRpdHkpIHtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KGVudGl0eSwgRXZlbnRUeXBlLkRvd24pO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVPblBvaW50ZXJVcChlbnRpdHkpIHtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KGVudGl0eSwgRXZlbnRUeXBlLlVwKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25DbGljayh2YWx1ZSwgY2IpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZW50aXR5IH0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBnZXREZWZhdWx0T3B0cyh2YWx1ZS5vcHRzKTtcbiAgICAgICAgICAgIC8vIENsZWFyIHByZXZpb3VzIGV2ZW50IHdpdGggb3ZlciBmZWVkYmFjayBpbmNsdWRlZFxuICAgICAgICAgICAgcmVtb3ZlRXZlbnQoZW50aXR5LCBFdmVudFR5cGUuQ2xpY2spO1xuICAgICAgICAgICAgLy8gU2V0IG5ldyBldmVudFxuICAgICAgICAgICAgZ2V0RXZlbnQoZW50aXR5KS5zZXQoRXZlbnRUeXBlLkNsaWNrLCB7IGNiLCBvcHRzOiBvcHRpb25zIH0pO1xuICAgICAgICAgICAgc2V0UG9pbnRlckV2ZW50KGVudGl0eSwgMSAvKiBQb2ludGVyRXZlbnRUeXBlLlBFVF9ET1dOICovLCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Qb2ludGVyRG93bixcbiAgICAgICAgb25Qb2ludGVyVXBcbiAgICB9O1xufVxuIiwgIi8qKlxuICogQGFscGhhICogVGhpcyBmaWxlIGluaXRpYWxpemF0aW9uIGlzIGFuIGFscGhhIG9uZS4gVGhpcyBpcyBiYXNlZCBvbiB0aGUgb2xkLWVjc1xuICogaW5pdCBhbmQgaXQnbGwgYmUgY2hhbmdpbmcuXG4gKi9cbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gJy4uLy4uL2VuZ2luZSc7XG5pbXBvcnQgeyBjcmVhdGVUYXNrU3lzdGVtIH0gZnJvbSAnLi4vLi4vc3lzdGVtcy9hc3luYy10YXNrJztcbmltcG9ydCB7IGNyZWF0ZVBvaW50ZXJFdmVudHNTeXN0ZW0gfSBmcm9tICcuLi8uLi9zeXN0ZW1zL2V2ZW50cyc7XG5pbXBvcnQgeyBjcmVhdGVJbnB1dFN5c3RlbSB9IGZyb20gJy4vLi4vLi4vZW5naW5lL2lucHV0JztcbmltcG9ydCB7IGNyZWF0ZVJheWNhc3RTeXN0ZW0gfSBmcm9tICcuLi8uLi9zeXN0ZW1zL3JheWNhc3QnO1xuaW1wb3J0IHsgY3JlYXRlVmlkZW9FdmVudHNTeXN0ZW0gfSBmcm9tICcuLi8uLi9zeXN0ZW1zL3ZpZGVvRXZlbnRzJztcbi8qKlxuICogQHB1YmxpY1xuICogVGhlIGVuZ2luZSBpcyB0aGUgcGFydCBvZiB0aGUgc2NlbmUgdGhhdCBzaXRzIGluIHRoZSBtaWRkbGUgYW5kIG1hbmFnZXMgYWxsIG9mIHRoZSBvdGhlciBwYXJ0cy5cbiAqIEl0IGRldGVybWluZXMgd2hhdCBlbnRpdGllcyBhcmUgcmVuZGVyZWQgYW5kIGhvdyBwbGF5ZXJzIGludGVyYWN0IHdpdGggdGhlbS5cbiAqIEl0IGFsc28gY29vcmRpbmF0ZXMgd2hhdCBmdW5jdGlvbnMgZnJvbSBzeXN0ZW1zIGFyZSBleGVjdXRlZCBhbmQgd2hlbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgZW5naW5lIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuICogY29uc3QgZW50aXR5ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gKiBlbmdpbmUuYWRkU3lzdGVtKHNvbWVTeXN0ZW1GdW5jdGlvbilcbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBlbmdpbmUgPSAvKiBAX19QVVJFX18gKi8gRW5naW5lKCk7XG4vKipcbiAqIEBwdWJsaWNcbiAqIElucHV0IHN5c3RlbSBtYW5hZ2VyLiBDaGVjayBmb3IgYnV0dG9uIGV2ZW50c1xuICogQGV4YW1wbGVcbiAqIGlucHV0U3lzdGVtLmlzVHJpZ2dlcmVkOiBSZXR1cm5zIHRydWUgaWYgYW4gaW5wdXQgYWN0aW9uIG9jdXJyZWQgc2luY2UgdGhlIGxhc3QgdGljay5cbiAqIGlucHV0U3lzdGVtLmlzUHJlc3NlZDogUmV0dXJucyB0cnVlIGlmIGFuIGlucHV0IGlzIGN1cnJlbnRseSBiZWluZyBwcmVzc2VkIGRvd24uIEl0IHdpbGwgcmV0dXJuIHRydWUgb24gZXZlcnkgdGljayB1bnRpbCB0aGUgYnV0dG9uIGdvZXMgdXAgYWdhaW4uXG4gKiBpbnB1dFN5c3RlbS5nZXRJbnB1dENvbW1hbmQ6IFJldHVybnMgYW4gb2JqZWN0IHdpdGggZGF0YSBhYm91dCB0aGUgaW5wdXQgYWN0aW9uLlxuICovXG5leHBvcnQgY29uc3QgaW5wdXRTeXN0ZW0gPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlSW5wdXRTeXN0ZW0oZW5naW5lKTtcbi8qKlxuICogQHB1YmxpY1xuICogUmVnaXN0ZXIgY2FsbGJhY2sgZnVuY3Rpb25zIHRvIGEgcGFydGljdWxhciBlbnRpdHkgb24gaW5wdXQgZXZlbnRzLlxuICovXG5leHBvcnQgY29uc3QgcG9pbnRlckV2ZW50c1N5c3RlbSA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVQb2ludGVyRXZlbnRzU3lzdGVtKGVuZ2luZSwgaW5wdXRTeXN0ZW0pO1xuLyoqXG4gKiBAcHVibGljXG4gKiBSZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbnMgdG8gYSBwYXJ0aWN1bGFyIGVudGl0eSBvbiByYXljYXN0IHJlc3VsdHMuXG4gKi9cbmV4cG9ydCBjb25zdCByYXljYXN0U3lzdGVtID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZVJheWNhc3RTeXN0ZW0oZW5naW5lKTtcbi8qKlxuICogQGFscGhhXG4gKiBAcHVibGljXG4gKiBSZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbnMgdG8gYSBwYXJ0aWN1bGFyIGVudGl0eSBvbiB2aWRlbyBldmVudHMuXG4gKi9cbmV4cG9ydCBjb25zdCB2aWRlb0V2ZW50c1N5c3RlbSA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVWaWRlb0V2ZW50c1N5c3RlbShlbmdpbmUpO1xuLyoqXG4gKiBAcHVibGljXG4gKiBSdW5zIGFuIGFzeW5jIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBleGVjdXRlVGFzayA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVUYXNrU3lzdGVtKGVuZ2luZSk7XG4iLCAiaW1wb3J0IHsgZW5naW5lIH0gZnJvbSAnLi4vLi4vcnVudGltZS9pbml0aWFsaXphdGlvbic7XG5pbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gJy4vaW5kZXguZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vaW5kZXguZ2VuJztcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdWRpb1NvdXJjZSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkF1ZGlvU291cmNlKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXVkaW9TdHJlYW0gPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5BdWRpb1N0cmVhbShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEF2YXRhckF0dGFjaCA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkF2YXRhckF0dGFjaChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEF2YXRhck1vZGlmaWVyQXJlYSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkF2YXRhck1vZGlmaWVyQXJlYShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEF2YXRhclNoYXBlID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuQXZhdGFyU2hhcGUoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBCaWxsYm9hcmQgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5CaWxsYm9hcmQoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBDYW1lcmFNb2RlID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuQ2FtZXJhTW9kZShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IENhbWVyYU1vZGVBcmVhID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuQ2FtZXJhTW9kZUFyZWEoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBFbmdpbmVJbmZvID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuRW5naW5lSW5mbyhlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEdsdGZDb250YWluZXIgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5HbHRmQ29udGFpbmVyKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBOZnRTaGFwZSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLk5mdFNoYXBlKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgUG9pbnRlckV2ZW50cyA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlBvaW50ZXJFdmVudHMoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBQb2ludGVyRXZlbnRzUmVzdWx0ID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuUG9pbnRlckV2ZW50c1Jlc3VsdChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFBvaW50ZXJMb2NrID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuUG9pbnRlckxvY2soZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBSYXljYXN0ID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuUmF5Y2FzdChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFJheWNhc3RSZXN1bHQgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5SYXljYXN0UmVzdWx0KGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVGV4dFNoYXBlID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVGV4dFNoYXBlKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVWlCYWNrZ3JvdW5kID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVWlCYWNrZ3JvdW5kKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVWlDYW52YXNJbmZvcm1hdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlVpQ2FudmFzSW5mb3JtYXRpb24oZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaURyb3Bkb3duID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVWlEcm9wZG93bihlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpRHJvcGRvd25SZXN1bHQgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5VaURyb3Bkb3duUmVzdWx0KGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVWlJbnB1dCA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlVpSW5wdXQoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaUlucHV0UmVzdWx0ID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVWlJbnB1dFJlc3VsdChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpVGV4dCA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlVpVGV4dChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpVHJhbnNmb3JtID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVWlUcmFuc2Zvcm0oZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBWaWRlb0V2ZW50ID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVmlkZW9FdmVudChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFZpZGVvUGxheWVyID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVmlkZW9QbGF5ZXIoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBWaXNpYmlsaXR5Q29tcG9uZW50ID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVmlzaWJpbGl0eUNvbXBvbmVudChlbmdpbmUpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50cy5jb21tb25cIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIENhbWVyYVR5cGU7XG4oZnVuY3Rpb24gKENhbWVyYVR5cGUpIHtcbiAgICBDYW1lcmFUeXBlW0NhbWVyYVR5cGVbXCJDVF9GSVJTVF9QRVJTT05cIl0gPSAwXSA9IFwiQ1RfRklSU1RfUEVSU09OXCI7XG4gICAgQ2FtZXJhVHlwZVtDYW1lcmFUeXBlW1wiQ1RfVEhJUkRfUEVSU09OXCJdID0gMV0gPSBcIkNUX1RISVJEX1BFUlNPTlwiO1xuICAgIC8qKiBDVF9DSU5FTUFUSUMgLSBjb250cm9sbGVkIGJ5IHRoZSBzY2VuZSAqL1xuICAgIENhbWVyYVR5cGVbQ2FtZXJhVHlwZVtcIkNUX0NJTkVNQVRJQ1wiXSA9IDJdID0gXCJDVF9DSU5FTUFUSUNcIjtcbn0pKENhbWVyYVR5cGUgfHwgKENhbWVyYVR5cGUgPSB7fSkpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50cy5jb21tb25cIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIElucHV0QWN0aW9uO1xuKGZ1bmN0aW9uIChJbnB1dEFjdGlvbikge1xuICAgIElucHV0QWN0aW9uW0lucHV0QWN0aW9uW1wiSUFfUE9JTlRFUlwiXSA9IDBdID0gXCJJQV9QT0lOVEVSXCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9QUklNQVJZXCJdID0gMV0gPSBcIklBX1BSSU1BUllcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX1NFQ09OREFSWVwiXSA9IDJdID0gXCJJQV9TRUNPTkRBUllcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX0FOWVwiXSA9IDNdID0gXCJJQV9BTllcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX0ZPUldBUkRcIl0gPSA0XSA9IFwiSUFfRk9SV0FSRFwiO1xuICAgIElucHV0QWN0aW9uW0lucHV0QWN0aW9uW1wiSUFfQkFDS1dBUkRcIl0gPSA1XSA9IFwiSUFfQkFDS1dBUkRcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX1JJR0hUXCJdID0gNl0gPSBcIklBX1JJR0hUXCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9MRUZUXCJdID0gN10gPSBcIklBX0xFRlRcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX0pVTVBcIl0gPSA4XSA9IFwiSUFfSlVNUFwiO1xuICAgIElucHV0QWN0aW9uW0lucHV0QWN0aW9uW1wiSUFfV0FMS1wiXSA9IDldID0gXCJJQV9XQUxLXCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9BQ1RJT05fM1wiXSA9IDEwXSA9IFwiSUFfQUNUSU9OXzNcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX0FDVElPTl80XCJdID0gMTFdID0gXCJJQV9BQ1RJT05fNFwiO1xuICAgIElucHV0QWN0aW9uW0lucHV0QWN0aW9uW1wiSUFfQUNUSU9OXzVcIl0gPSAxMl0gPSBcIklBX0FDVElPTl81XCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9BQ1RJT05fNlwiXSA9IDEzXSA9IFwiSUFfQUNUSU9OXzZcIjtcbn0pKElucHV0QWN0aW9uIHx8IChJbnB1dEFjdGlvbiA9IHt9KSk7XG4vKiogUG9pbnRlckV2ZW50VHlwZSBpcyBhIGtpbmQgb2YgaW50ZXJhY3Rpb24gdGhhdCBjYW4gYmUgZGV0ZWN0ZWQuICovXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQb2ludGVyRXZlbnRUeXBlO1xuKGZ1bmN0aW9uIChQb2ludGVyRXZlbnRUeXBlKSB7XG4gICAgUG9pbnRlckV2ZW50VHlwZVtQb2ludGVyRXZlbnRUeXBlW1wiUEVUX1VQXCJdID0gMF0gPSBcIlBFVF9VUFwiO1xuICAgIFBvaW50ZXJFdmVudFR5cGVbUG9pbnRlckV2ZW50VHlwZVtcIlBFVF9ET1dOXCJdID0gMV0gPSBcIlBFVF9ET1dOXCI7XG4gICAgUG9pbnRlckV2ZW50VHlwZVtQb2ludGVyRXZlbnRUeXBlW1wiUEVUX0hPVkVSX0VOVEVSXCJdID0gMl0gPSBcIlBFVF9IT1ZFUl9FTlRFUlwiO1xuICAgIFBvaW50ZXJFdmVudFR5cGVbUG9pbnRlckV2ZW50VHlwZVtcIlBFVF9IT1ZFUl9MRUFWRVwiXSA9IDNdID0gXCJQRVRfSE9WRVJfTEVBVkVcIjtcbn0pKFBvaW50ZXJFdmVudFR5cGUgfHwgKFBvaW50ZXJFdmVudFR5cGUgPSB7fSkpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50cy5jb21tb25cIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIExvYWRpbmdTdGF0ZTtcbihmdW5jdGlvbiAoTG9hZGluZ1N0YXRlKSB7XG4gICAgTG9hZGluZ1N0YXRlW0xvYWRpbmdTdGF0ZVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xuICAgIExvYWRpbmdTdGF0ZVtMb2FkaW5nU3RhdGVbXCJMT0FESU5HXCJdID0gMV0gPSBcIkxPQURJTkdcIjtcbiAgICBMb2FkaW5nU3RhdGVbTG9hZGluZ1N0YXRlW1wiTk9UX0ZPVU5EXCJdID0gMl0gPSBcIk5PVF9GT1VORFwiO1xuICAgIExvYWRpbmdTdGF0ZVtMb2FkaW5nU3RhdGVbXCJGSU5JU0hFRF9XSVRIX0VSUk9SXCJdID0gM10gPSBcIkZJTklTSEVEX1dJVEhfRVJST1JcIjtcbiAgICBMb2FkaW5nU3RhdGVbTG9hZGluZ1N0YXRlW1wiRklOSVNIRURcIl0gPSA0XSA9IFwiRklOSVNIRURcIjtcbn0pKExvYWRpbmdTdGF0ZSB8fCAoTG9hZGluZ1N0YXRlID0ge30pKTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHMuY29tbW9uXCI7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBUZXh0QWxpZ25Nb2RlO1xuKGZ1bmN0aW9uIChUZXh0QWxpZ25Nb2RlKSB7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX1RPUF9MRUZUXCJdID0gMF0gPSBcIlRBTV9UT1BfTEVGVFwiO1xuICAgIFRleHRBbGlnbk1vZGVbVGV4dEFsaWduTW9kZVtcIlRBTV9UT1BfQ0VOVEVSXCJdID0gMV0gPSBcIlRBTV9UT1BfQ0VOVEVSXCI7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX1RPUF9SSUdIVFwiXSA9IDJdID0gXCJUQU1fVE9QX1JJR0hUXCI7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX01JRERMRV9MRUZUXCJdID0gM10gPSBcIlRBTV9NSURETEVfTEVGVFwiO1xuICAgIFRleHRBbGlnbk1vZGVbVGV4dEFsaWduTW9kZVtcIlRBTV9NSURETEVfQ0VOVEVSXCJdID0gNF0gPSBcIlRBTV9NSURETEVfQ0VOVEVSXCI7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX01JRERMRV9SSUdIVFwiXSA9IDVdID0gXCJUQU1fTUlERExFX1JJR0hUXCI7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX0JPVFRPTV9MRUZUXCJdID0gNl0gPSBcIlRBTV9CT1RUT01fTEVGVFwiO1xuICAgIFRleHRBbGlnbk1vZGVbVGV4dEFsaWduTW9kZVtcIlRBTV9CT1RUT01fQ0VOVEVSXCJdID0gN10gPSBcIlRBTV9CT1RUT01fQ0VOVEVSXCI7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX0JPVFRPTV9SSUdIVFwiXSA9IDhdID0gXCJUQU1fQk9UVE9NX1JJR0hUXCI7XG59KShUZXh0QWxpZ25Nb2RlIHx8IChUZXh0QWxpZ25Nb2RlID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIEZvbnQ7XG4oZnVuY3Rpb24gKEZvbnQpIHtcbiAgICBGb250W0ZvbnRbXCJGX1NBTlNfU0VSSUZcIl0gPSAwXSA9IFwiRl9TQU5TX1NFUklGXCI7XG4gICAgRm9udFtGb250W1wiRl9TRVJJRlwiXSA9IDFdID0gXCJGX1NFUklGXCI7XG4gICAgRm9udFtGb250W1wiRl9NT05PU1BBQ0VcIl0gPSAyXSA9IFwiRl9NT05PU1BBQ0VcIjtcbn0pKEZvbnQgfHwgKEZvbnQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFNjaGVtYXMgfSBmcm9tICcuLi9zY2hlbWFzJztcbi8qKlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgY29tcG9zaXRlIGlzIG5vdCBiZWluZyBzdXBwb3J0ZWQgc28gZmFyLCBwbGVhc2UgZG8gbm90IHVzZSB0aGlzIGZlYXR1cmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBvc2l0ZVJvb3RDb21wb25lbnQoZW5naW5lKSB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gZW5naW5lLmdldENvbXBvbmVudE9yTnVsbCgnY29tcG9zaXRlOjpyb290Jyk7XG4gICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgIH1cbiAgICByZXR1cm4gZW5naW5lLmRlZmluZUNvbXBvbmVudCgnY29tcG9zaXRlOjpyb290Jywge1xuICAgICAgICBzcmM6IFNjaGVtYXMuU3RyaW5nLFxuICAgICAgICBlbnRpdGllczogU2NoZW1hcy5BcnJheShTY2hlbWFzLk1hcCh7XG4gICAgICAgICAgICBzcmM6IFNjaGVtYXMuRW50aXR5LFxuICAgICAgICAgICAgZGVzdDogU2NoZW1hcy5FbnRpdHlcbiAgICAgICAgfSkpXG4gICAgfSk7XG59XG4iLCAiY29uc3QgY3VycmVudFdvcmtpbmdEaXIgPSAnLyc7XG4vKipcbiAqIFRoZSBmdW5jdGlvbnMgYG5vcm1hbGl6ZVN0cmluZ1Bvc2l4YCwgYGRpcm5hbWVgIGFuZCBgcmVzb2x2ZWBcbiAqIHdlcmUgZXh0cmFjdGVkIGZyb20gcGFja2FnZSBAYnJvd3NlcmlmeS9wYXRoXG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBub3JtYWxpemVTdHJpbmdQb3NpeChwYXRoLCBhbGxvd0Fib3ZlUm9vdCA9IGZhbHNlKSB7XG4gICAgbGV0IHJlcyA9ICcnO1xuICAgIGxldCBsYXN0U2VnbWVudExlbmd0aCA9IDA7XG4gICAgbGV0IGxhc3RTbGFzaCA9IC0xO1xuICAgIGxldCBkb3RzID0gMDtcbiAgICBsZXQgY29kZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBwYXRoLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChpIDwgcGF0aC5sZW5ndGgpXG4gICAgICAgICAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBlbHNlIGlmIChjb2RlID09PSA0NyAvKi8qLylcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBjb2RlID0gNDc7IC8qLyovXG4gICAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgICAgaWYgKGxhc3RTbGFzaCA9PT0gaSAtIDEgfHwgZG90cyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIE5PT1BcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhc3RTbGFzaCAhPT0gaSAtIDEgJiYgZG90cyA9PT0gMikge1xuICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoIDwgMiB8fFxuICAgICAgICAgICAgICAgICAgICBsYXN0U2VnbWVudExlbmd0aCAhPT0gMiB8fFxuICAgICAgICAgICAgICAgICAgICByZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMSkgIT09IDQ2IC8qLiovIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlcy5jaGFyQ29kZUF0KHJlcy5sZW5ndGggLSAyKSAhPT0gNDYgLyouKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0U2xhc2hJbmRleCA9IHJlcy5sYXN0SW5kZXhPZignLycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RTbGFzaEluZGV4ICE9PSByZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0U2xhc2hJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlcy5zbGljZSgwLCBsYXN0U2xhc2hJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gcmVzLmxlbmd0aCAtIDEgLSByZXMubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3RzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXMubGVuZ3RoID09PSAyIHx8IHJlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvdHMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyArPSAnLy4uJztcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gJy4uJztcbiAgICAgICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgcmVzICs9ICcvJyArIHBhdGguc2xpY2UobGFzdFNsYXNoICsgMSwgaSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXMgPSBwYXRoLnNsaWNlKGxhc3RTbGFzaCArIDEsIGkpO1xuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gaSAtIGxhc3RTbGFzaCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgICAgICAgZG90cyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29kZSA9PT0gNDYgLyouKi8gJiYgZG90cyAhPT0gLTEpIHtcbiAgICAgICAgICAgICsrZG90cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvdHMgPSAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlKC4uLmFyZ3MpIHtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gJyc7XG4gICAgbGV0IHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcbiAgICBsZXQgY3dkO1xuICAgIGZvciAobGV0IGkgPSBhcmdzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgICAgICBsZXQgcGF0aDtcbiAgICAgICAgaWYgKGkgPj0gMClcbiAgICAgICAgICAgIHBhdGggPSBhcmdzW2ldO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjd2QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBjd2QgPSBjdXJyZW50V29ya2luZ0RpcjtcbiAgICAgICAgICAgIHBhdGggPSBjd2Q7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2tpcCBlbXB0eSBlbnRyaWVzXG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICAgICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IHBhdGguY2hhckNvZGVBdCgwKSA9PT0gNDc7IC8qLyovXG4gICAgfVxuICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcbiAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVTdHJpbmdQb3NpeChyZXNvbHZlZFBhdGgsICFyZXNvbHZlZEFic29sdXRlKTtcbiAgICBpZiAocmVzb2x2ZWRBYnNvbHV0ZSkge1xuICAgICAgICBpZiAocmVzb2x2ZWRQYXRoLmxlbmd0aCA+IDApXG4gICAgICAgICAgICByZXR1cm4gJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gJy8nO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXNvbHZlZFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZWRQYXRoO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcuJztcbiAgICB9XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpcm5hbWUocGF0aCkge1xuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuICcuJztcbiAgICBsZXQgY29kZSA9IHBhdGguY2hhckNvZGVBdCgwKTtcbiAgICBjb25zdCBoYXNSb290ID0gY29kZSA9PT0gNDc7IC8qLyovXG4gICAgbGV0IGVuZCA9IC0xO1xuICAgIGxldCBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMTsgLS1pKSB7XG4gICAgICAgIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3JcbiAgICAgICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChlbmQgPT09IC0xKVxuICAgICAgICByZXR1cm4gaGFzUm9vdCA/ICcvJyA6ICcuJztcbiAgICBpZiAoaGFzUm9vdCAmJiBlbmQgPT09IDEpXG4gICAgICAgIHJldHVybiAnLy8nO1xuICAgIHJldHVybiBwYXRoLnNsaWNlKDAsIGVuZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUNvbXBvc2l0ZShwYXRoLCBjd2QpIHtcbiAgICBjb25zdCBhYnNvbHV0ZVBhdGggPSBwYXRoLnN0YXJ0c1dpdGgoJy4nKSA/IHJlc29sdmUoY3dkLCBwYXRoKSA6IHJlc29sdmUocGF0aCk7XG4gICAgcmV0dXJuIGFic29sdXRlUGF0aC5zdWJzdHJpbmcoMSk7XG59XG4iLCAiaW1wb3J0IHsgY29tcG9uZW50RGVmaW5pdGlvbkJ5TmFtZSB9IGZyb20gJy4uL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgY29tcG9uZW50TnVtYmVyRnJvbU5hbWUgfSBmcm9tICcuLi9jb21wb25lbnRzL2NvbXBvbmVudC1udW1iZXInO1xuaW1wb3J0IHsgU2NoZW1hcyB9IGZyb20gJy4uL3NjaGVtYXMnO1xuaW1wb3J0IHsgUmVhZFdyaXRlQnl0ZUJ1ZmZlciB9IGZyb20gJy4uL3NlcmlhbGl6YXRpb24vQnl0ZUJ1ZmZlcic7XG5pbXBvcnQgeyBnZXRDb21wb3NpdGVSb290Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAnLi9wYXRoJztcbi8qKiBAcHVibGljICovXG4vKiBAX19QVVJFX18gKi9cbmV4cG9ydCB2YXIgRW50aXR5TWFwcGluZ01vZGU7XG4oZnVuY3Rpb24gKEVudGl0eU1hcHBpbmdNb2RlKSB7XG4gICAgRW50aXR5TWFwcGluZ01vZGVbRW50aXR5TWFwcGluZ01vZGVbXCJFTU1fTk9ORVwiXSA9IDBdID0gXCJFTU1fTk9ORVwiO1xuICAgIEVudGl0eU1hcHBpbmdNb2RlW0VudGl0eU1hcHBpbmdNb2RlW1wiRU1NX05FWFRfQVZBSUxBQkxFXCJdID0gMV0gPSBcIkVNTV9ORVhUX0FWQUlMQUJMRVwiO1xuICAgIEVudGl0eU1hcHBpbmdNb2RlW0VudGl0eU1hcHBpbmdNb2RlW1wiRU1NX0RJUkVDVF9NQVBQSU5HXCJdID0gMl0gPSBcIkVNTV9ESVJFQ1RfTUFQUElOR1wiO1xufSkoRW50aXR5TWFwcGluZ01vZGUgfHwgKEVudGl0eU1hcHBpbmdNb2RlID0ge30pKTtcbi8qKlxuICogUmV0dXJuIHRoZSBjb21wb25lbnQgdmFsdWUgZnJvbSBjb21wb3NpdGUgZGF0YVxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21wb25lbnRWYWx1ZShjb21wb25lbnREZWZpbml0aW9uLCBjb21wb25lbnQpIHtcbiAgICBpZiAoY29tcG9uZW50LmRhdGE/LiRjYXNlID09PSAnanNvbicpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudC5kYXRhLmpzb247XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50RGVmaW5pdGlvbi5zY2hlbWEuZGVzZXJpYWxpemUobmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoY29tcG9uZW50LmRhdGE/LmJpbmFyeSkpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJuIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvbiBmcm9tIGNvbXBvc2l0ZSBpbmZvXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBvbmVudERlZmluaXRpb24oZW5naW5lLCBjb21wb25lbnQpIHtcbiAgICBjb25zdCBleGlzdGluZ0NvbXBvbmVudERlZmluaXRpb24gPSBlbmdpbmUuZ2V0Q29tcG9uZW50T3JOdWxsKGNvbXBvbmVudC5uYW1lKTtcbiAgICBpZiAoIWV4aXN0aW5nQ29tcG9uZW50RGVmaW5pdGlvbikge1xuICAgICAgICBpZiAoY29tcG9uZW50Lm5hbWUuc3RhcnRzV2l0aCgnY29yZTo6JykpIHtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQubmFtZSBpbiBjb21wb25lbnREZWZpbml0aW9uQnlOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudERlZmluaXRpb25CeU5hbWVbY29tcG9uZW50Lm5hbWVdKGVuZ2luZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBjb3JlIGNvbXBvbmVudCAke2NvbXBvbmVudC5uYW1lfSB3YXMgbm90IGZvdW5kLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbXBvbmVudC5qc29uU2NoZW1hKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoY29tcG9uZW50Lm5hbWUsIFNjaGVtYXMuZnJvbUpzb24oY29tcG9uZW50Lmpzb25TY2hlbWEpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtjb21wb25lbnQubmFtZX0gaXMgbm90IGRlZmluZWQgYW5kIHRoZXJlIGlzIG5vIHNjaGVtYSB0byBkZWZpbmUgaXQuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBleGlzdGluZ0NvbXBvbmVudERlZmluaXRpb247XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGVudGl0eSBtYXBwaW5nIG9yIGZhaWwgaWYgdGhlcmUgaXMgbm8gbW9yZVxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnRpdHlNYXBwaW5nKGVuZ2luZSwgY29tcG9zaXRlRW50aXR5LCBtYXBwZWRFbnRpdGllcywgeyBlbnRpdHlNYXBwaW5nIH0pIHtcbiAgICBjb25zdCBleGlzdGluZ0VudGl0eSA9IG1hcHBlZEVudGl0aWVzLmdldChjb21wb3NpdGVFbnRpdHkpO1xuICAgIGlmIChleGlzdGluZ0VudGl0eSkge1xuICAgICAgICByZXR1cm4gZXhpc3RpbmdFbnRpdHk7XG4gICAgfVxuICAgIGlmIChlbnRpdHlNYXBwaW5nPy50eXBlID09PSBFbnRpdHlNYXBwaW5nTW9kZS5FTU1fRElSRUNUX01BUFBJTkcpIHtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gZW50aXR5TWFwcGluZy5nZXRDb21wb3NpdGVFbnRpdHkoY29tcG9zaXRlRW50aXR5KTtcbiAgICAgICAgbWFwcGVkRW50aXRpZXMuc2V0KGNvbXBvc2l0ZUVudGl0eSwgZW50aXR5KTtcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICB9XG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpbiBydW50aW1lIGNhbiBiZSBqdXN0IGBlbmdpbmUuYWRkRW50aXR5KClgXG4gICAgY29uc3QgbmV3RW50aXR5ID0gZW50aXR5TWFwcGluZz8udHlwZSA9PT0gRW50aXR5TWFwcGluZ01vZGUuRU1NX05FWFRfQVZBSUxBQkxFXG4gICAgICAgID8gZW50aXR5TWFwcGluZy5nZXROZXh0QXZhaWxhYmxlRW50aXR5KClcbiAgICAgICAgOiBlbmdpbmUuYWRkRW50aXR5KCk7XG4gICAgaWYgKG5ld0VudGl0eSA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIG1vcmUgZW50aXRpZXMgdG8gYWxsb2NhdGUnKTtcbiAgICB9XG4gICAgbWFwcGVkRW50aXRpZXMuc2V0KGNvbXBvc2l0ZUVudGl0eSwgbmV3RW50aXR5KTtcbiAgICByZXR1cm4gbmV3RW50aXR5O1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFuY2VDb21wb3NpdGUoZW5naW5lLCBjb21wb3NpdGVSZXNvdXJjZSwgY29tcG9zaXRlUHJvdmlkZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHJvb3RFbnRpdHksIGFscmVhZHlSZXF1ZXN0ZWRTcmM6IG9wdGlvbmFsQWxyZWFkeVJlcXVlc3RlZFNyYywgZW50aXR5TWFwcGluZyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBhbHJlYWR5UmVxdWVzdGVkU3JjID0gb3B0aW9uYWxBbHJlYWR5UmVxdWVzdGVkU3JjIHx8IG5ldyBTZXQoKTtcbiAgICBjb25zdCBjb21wb3NpdGVEaXJlY3RvcnlQYXRoID0gcGF0aC5kaXJuYW1lKHBhdGgucmVzb2x2ZShjb21wb3NpdGVSZXNvdXJjZS5zcmMpKTtcbiAgICBjb25zdCBUcmFuc2Zvcm1Db21wb25lbnROdW1iZXIgPSBjb21wb25lbnROdW1iZXJGcm9tTmFtZSgnY29yZTo6VHJhbnNmb3JtJyk7XG4gICAgY29uc3QgQ29tcG9zaXRlUm9vdENvbXBvbmVudCA9IGdldENvbXBvc2l0ZVJvb3RDb21wb25lbnQoZW5naW5lKTtcbiAgICAvLyBLZXkgPT4gRW50aXR5TnVtYmVyIGZyb20gdGhlIGNvbXBvc2l0ZVxuICAgIC8vIFZhbHVlID0+IEVudGl0eU51bWJlciBpbiBjdXJyZW50IGVuZ2luZVxuICAgIGNvbnN0IG1hcHBlZEVudGl0aWVzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGdldENvbXBvc2l0ZUVudGl0eSA9IChjb21wb3NpdGVFbnRpdHkpID0+IGdldEVudGl0eU1hcHBpbmcoZW5naW5lLCBjb21wb3NpdGVFbnRpdHksIG1hcHBlZEVudGl0aWVzLCBvcHRpb25zKTtcbiAgICAvLyAjIyAxICMjXG4gICAgLy8gRmlyc3QgZW50aXR5IHRoYXQgSSB3YW50IHRvIG1hcCwgdGhlIHJvb3QgZW50aXR5IGZyb20gdGhlIGNvbXBvc2l0ZSB0byB0aGUgdGFyZ2V0IGVudGl0eSBpbiB0aGUgZW5naW5lXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gYHJvb3RFbnRpdHlgIHBhc3NlZCwgd2UgYXNzaWduIG9uZSBmcm9tIGBnZXROZXh0QXZhaWxhYmxlRW50aXR5YFxuICAgIGNvbnN0IGNvbXBvc2l0ZVJvb3RFbnRpdHkgPSByb290RW50aXR5ID8/IGdldENvbXBvc2l0ZUVudGl0eSgwKTtcbiAgICBpZiAocm9vdEVudGl0eSkge1xuICAgICAgICBtYXBwZWRFbnRpdGllcy5zZXQoMCwgcm9vdEVudGl0eSk7XG4gICAgfVxuICAgIC8vICMjIDIgIyNcbiAgICAvLyBJZiB0aGVyZSBhcmUgbW9yZSBjb21wb3NpdGUgaW5zaWRlIHRoaXMgb25lLCB3ZSBpbnN0YW5jZSBmaXJzdC5cbiAgICAvLyA9PiBUaGlzIGlzIG5vdCBvbmx5IGEgY29weSwgd2UgbmVlZCB0byBpbnN0YW5jZS4gT3RoZXJ3aXNlLCB3ZSdkIGJlIG1pc3NpbmcgdGhhdCBicmFuY2hlc1xuICAgIC8vID0+IFRPRE86IGluIHRoZSBmdXR1cmUsIHRoZSBpbnN0YW5jaWF0aW9uIGlzIGZpcnN0LCB0aGVuIHRoZSBvdmVyaWRlcyAodG8gcGFyYW1ldGVyaXplIENvbXBvc2l0ZSwgZS5nLiBob3VzZSB3aXRoIGRpZmZlcmVudCB3YWxsIGNvbG9ycylcbiAgICBjb25zdCBjaGlsZHJlbkNvbXBvc2l0ZSA9IGNvbXBvc2l0ZVJlc291cmNlLmNvbXBvc2l0ZS5jb21wb25lbnRzLmZpbmQoKGl0ZW0pID0+IGl0ZW0ubmFtZSA9PT0gQ29tcG9zaXRlUm9vdENvbXBvbmVudC5jb21wb25lbnROYW1lKTtcbiAgICBpZiAoY2hpbGRyZW5Db21wb3NpdGUpIHtcbiAgICAgICAgZm9yIChjb25zdCBbY2hpbGRDb21wb3NpdGVFbnRpdHksIGNvbXBvc2l0ZVJhd0RhdGFdIG9mIGNoaWxkcmVuQ29tcG9zaXRlLmRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkQ29tcG9zaXRlID0gZ2V0Q29tcG9uZW50VmFsdWUoQ29tcG9zaXRlUm9vdENvbXBvbmVudCwgY29tcG9zaXRlUmF3RGF0YSk7XG4gICAgICAgICAgICBjb25zdCBjaGlsZENvbXBvc2l0ZVBhdGggPSBwYXRoLnJlc29sdmVDb21wb3NpdGUoY2hpbGRDb21wb3NpdGUuc3JjLCBjb21wb3NpdGVEaXJlY3RvcnlQYXRoKTtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkQ29tcG9zaXRlUmVzb3VyY2UgPSBjb21wb3NpdGVQcm92aWRlci5nZXRDb21wb3NpdGVPck51bGwoY2hpbGRDb21wb3NpdGVQYXRoKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEVudGl0eSA9IGdldENvbXBvc2l0ZUVudGl0eShjaGlsZENvbXBvc2l0ZUVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY2hpbGRDb21wb3NpdGVSZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGlmIChhbHJlYWR5UmVxdWVzdGVkU3JjLmhhcyhjaGlsZENvbXBvc2l0ZVJlc291cmNlLnNyYykgfHxcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDb21wb3NpdGVSZXNvdXJjZS5zcmMgPT09IGNvbXBvc2l0ZVJlc291cmNlLnNyYykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbXBvc2l0ZSAke2NvbXBvc2l0ZVJlc291cmNlLnNyY30gaGFzIGEgcmVjdXJzaXZlIGluc3RhbmNpYXRpb24gd2hpbGUgdHJ5IHRvIGluc3RhbmNlICR7Y2hpbGRDb21wb3NpdGVSZXNvdXJjZS5zcmN9LiBQcmV2aW91cyBpbnN0YW5jZXM6ICR7YWxyZWFkeVJlcXVlc3RlZFNyYy50b1N0cmluZygpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnN0YW5jZUNvbXBvc2l0ZShlbmdpbmUsIGNoaWxkQ29tcG9zaXRlUmVzb3VyY2UsIGNvbXBvc2l0ZVByb3ZpZGVyLCB7XG4gICAgICAgICAgICAgICAgICAgIHJvb3RFbnRpdHk6IHRhcmdldEVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgYWxyZWFkeVJlcXVlc3RlZFNyYzogbmV3IFNldChhbHJlYWR5UmVxdWVzdGVkU3JjKS5hZGQoY2hpbGRDb21wb3NpdGVSZXNvdXJjZS5zcmMpLFxuICAgICAgICAgICAgICAgICAgICBlbnRpdHlNYXBwaW5nOiBlbnRpdHlNYXBwaW5nPy50eXBlID09PSBFbnRpdHlNYXBwaW5nTW9kZS5FTU1fTkVYVF9BVkFJTEFCTEUgPyBlbnRpdHlNYXBwaW5nIDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gIyMgMyAjI1xuICAgIC8vIFRoZW4sIHdlIGNvcHkgdGhlIGFsbCByZXN0IG9mIHRoZSBjb21wb25lbnRzIChza2lwcGluZyB0aGUgQ29tcG9zaXRlIG9uZXMpXG4gICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgY29tcG9zaXRlUmVzb3VyY2UuY29tcG9zaXRlLmNvbXBvbmVudHMpIHtcbiAgICAgICAgLy8gV2UgYWxyZWFkeSBpbnN0YW5jZWQgdGhlIGNvbXBvc2l0ZVxuICAgICAgICBpZiAoY29tcG9uZW50Lm5hbWUgPT09IENvbXBvc2l0ZVJvb3RDb21wb25lbnQuY29tcG9uZW50TmFtZSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAvLyAjIyAzYSAjI1xuICAgICAgICAvLyBXZSBmaW5kIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvblxuICAgICAgICBjb25zdCBjb21wb25lbnREZWZpbml0aW9uID0gZ2V0Q29tcG9uZW50RGVmaW5pdGlvbihlbmdpbmUsIGNvbXBvbmVudCk7XG4gICAgICAgIC8vICMjIDNiICMjXG4gICAgICAgIC8vIEl0ZXJhdGluZyBvdmVyIGFsbCB0aGUgZW50aXRpZXMgd2l0aCB0aGlzIGNvbXBvbmVudCBhbmQgY3JlYXRlIHRoZSByZXBsaWNhXG4gICAgICAgIGZvciAoY29uc3QgW2VudGl0eSwgY29tcG9zaXRlQ29tcG9uZW50VmFsdWVdIG9mIGNvbXBvbmVudC5kYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRWYWx1ZURlc2VyaWFsaXplZCA9IGdldENvbXBvbmVudFZhbHVlKGNvbXBvbmVudERlZmluaXRpb24sIGNvbXBvc2l0ZUNvbXBvbmVudFZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEVudGl0eSA9IGdldENvbXBvc2l0ZUVudGl0eShlbnRpdHkpO1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50VmFsdWUgPSBjb21wb25lbnREZWZpbml0aW9uLmNyZWF0ZSh0YXJnZXRFbnRpdHksIGNvbXBvbmVudFZhbHVlRGVzZXJpYWxpemVkKTtcbiAgICAgICAgICAgIC8vICMjIDNjICMjXG4gICAgICAgICAgICAvLyBBbGwgZW50aXRpZXMgcmVmZXJlbmNlZCBpbiB0aGUgY29tcG9zaXRlIHByb2JhYmx5IGhhcyBhIGRpZmZlcmVudCByZXNvbHZlZCBFbnRpdHlOdW1iZXJcbiAgICAgICAgICAgIC8vIFdlJ2xsIGtub3cgd2l0aCB0aGUgbWFwcGVkRW50aXR5ZXNcbiAgICAgICAgICAgIGlmIChjb21wb25lbnREZWZpbml0aW9uLmNvbXBvbmVudElkID09PSBUcmFuc2Zvcm1Db21wb25lbnROdW1iZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBjb21wb25lbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtLnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucGFyZW50ID0gZ2V0Q29tcG9zaXRlRW50aXR5KHRyYW5zZm9ybS5wYXJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLnBhcmVudCA9IGdldENvbXBvc2l0ZUVudGl0eSgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogaXMgaXQgZ29pbmcgdG8gYmUgbmVjZXNzYXJ5IHRvIHJlbWFwIGFzc2V0cz8gZS5nLiBzcmMgcGFyYW0gZnJvbSBBdWRpb1NvdXJjZSBhbmQgR2x0ZkNvbnRhaW5lclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgU2NoZW1hcy5tdXRhdGVOZXN0ZWRWYWx1ZXMoY29tcG9uZW50RGVmaW5pdGlvbi5zY2hlbWEuanNvblNjaGVtYSwgY29tcG9uZW50VmFsdWUsICh2YWx1ZSwgdmFsdWVUeXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVR5cGUuc2VyaWFsaXphdGlvblR5cGUgPT09ICdlbnRpdHknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBjaGFuZ2VkOiB0cnVlLCB2YWx1ZTogZ2V0Q29tcG9zaXRlRW50aXR5KHZhbHVlKSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlZDogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNvbXBvc2l0ZSA9IENvbXBvc2l0ZVJvb3RDb21wb25lbnQuZ2V0TXV0YWJsZU9yTnVsbChjb21wb3NpdGVSb290RW50aXR5KSB8fCBDb21wb3NpdGVSb290Q29tcG9uZW50LmNyZWF0ZShjb21wb3NpdGVSb290RW50aXR5KTtcbiAgICBmb3IgKGNvbnN0IFtlbnRpdHlTb3VyY2UsIHRhcmdldEVudGl0eV0gb2YgbWFwcGVkRW50aXRpZXMpIHtcbiAgICAgICAgY29tcG9zaXRlLmVudGl0aWVzLnB1c2goe1xuICAgICAgICAgICAgc3JjOiBlbnRpdHlTb3VyY2UsXG4gICAgICAgICAgICBkZXN0OiB0YXJnZXRFbnRpdHlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbXBvc2l0ZS5zcmMgPSBjb21wb3NpdGVSZXNvdXJjZS5zcmM7XG4gICAgcmV0dXJuIGNvbXBvc2l0ZVJvb3RFbnRpdHk7XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi9nb29nbGUvcHJvdG9idWYvc3RydWN0LmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDb21wb25lbnREYXRhKCkge1xuICAgIHJldHVybiB7IGRhdGE6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQ29tcG9uZW50RGF0YTtcbihmdW5jdGlvbiAoQ29tcG9uZW50RGF0YSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5kYXRhPy4kY2FzZSkge1xuICAgICAgICAgICAgY2FzZSBcImpzb25cIjpcbiAgICAgICAgICAgICAgICBWYWx1ZS5lbmNvZGUoVmFsdWUud3JhcChtZXNzYWdlLmRhdGEuanNvbiksIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYmluYXJ5XCI6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuYnl0ZXMobWVzc2FnZS5kYXRhLmJpbmFyeSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgQ29tcG9uZW50RGF0YS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbXBvbmVudERhdGEoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kYXRhID0geyAkY2FzZTogXCJqc29uXCIsIGpzb246IFZhbHVlLnVud3JhcChWYWx1ZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRhdGEgPSB7ICRjYXNlOiBcImJpbmFyeVwiLCBiaW5hcnk6IHJlYWRlci5ieXRlcygpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQ29tcG9uZW50RGF0YS5kZWNvZGUgPSBkZWNvZGU7XG4gICAgZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiBpc1NldChvYmplY3QuanNvbilcbiAgICAgICAgICAgICAgICA/IHsgJGNhc2U6IFwianNvblwiLCBqc29uOiBvYmplY3QuanNvbiB9XG4gICAgICAgICAgICAgICAgOiBpc1NldChvYmplY3QuYmluYXJ5KVxuICAgICAgICAgICAgICAgICAgICA/IHsgJGNhc2U6IFwiYmluYXJ5XCIsIGJpbmFyeTogYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5iaW5hcnkpIH1cbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIENvbXBvbmVudERhdGEuZnJvbUpTT04gPSBmcm9tSlNPTjtcbiAgICBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5kYXRhPy4kY2FzZSA9PT0gXCJqc29uXCIgJiYgKG9iai5qc29uID0gbWVzc2FnZS5kYXRhPy5qc29uKTtcbiAgICAgICAgbWVzc2FnZS5kYXRhPy4kY2FzZSA9PT0gXCJiaW5hcnlcIiAmJlxuICAgICAgICAgICAgKG9iai5iaW5hcnkgPSBtZXNzYWdlLmRhdGE/LmJpbmFyeSAhPT0gdW5kZWZpbmVkID8gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuZGF0YT8uYmluYXJ5KSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIENvbXBvbmVudERhdGEudG9KU09OID0gdG9KU09OO1xufSkoQ29tcG9uZW50RGF0YSB8fCAoQ29tcG9uZW50RGF0YSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlQ29tcG9zaXRlQ29tcG9uZW50KCkge1xuICAgIHJldHVybiB7IG5hbWU6IFwiXCIsIGpzb25TY2hlbWE6IHVuZGVmaW5lZCwgZGF0YTogbmV3IE1hcCgpIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBDb21wb3NpdGVDb21wb25lbnQ7XG4oZnVuY3Rpb24gKENvbXBvc2l0ZUNvbXBvbmVudCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLm5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmpzb25TY2hlbWEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmFsdWUuZW5jb2RlKFZhbHVlLndyYXAobWVzc2FnZS5qc29uU2NoZW1hKSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICAobWVzc2FnZS5kYXRhKS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5LmVuY29kZSh7IGtleToga2V5LCB2YWx1ZSB9LCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgQ29tcG9zaXRlQ29tcG9uZW50LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29tcG9zaXRlQ29tcG9uZW50KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFtZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5qc29uU2NoZW1hID0gVmFsdWUudW53cmFwKFZhbHVlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnRyeTMgPSBDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeTMudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kYXRhLnNldChlbnRyeTMua2V5LCBlbnRyeTMudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQ29tcG9zaXRlQ29tcG9uZW50LmRlY29kZSA9IGRlY29kZTtcbiAgICBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IGlzU2V0KG9iamVjdC5uYW1lKSA/IFN0cmluZyhvYmplY3QubmFtZSkgOiBcIlwiLFxuICAgICAgICAgICAganNvblNjaGVtYTogaXNTZXQob2JqZWN0Py5qc29uU2NoZW1hKSA/IG9iamVjdC5qc29uU2NoZW1hIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGF0YTogaXNPYmplY3Qob2JqZWN0LmRhdGEpXG4gICAgICAgICAgICAgICAgPyBPYmplY3QuZW50cmllcyhvYmplY3QuZGF0YSkucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2Muc2V0KE51bWJlcihrZXkpLCBDb21wb25lbnREYXRhLmZyb21KU09OKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgfSwgbmV3IE1hcCgpKVxuICAgICAgICAgICAgICAgIDogbmV3IE1hcCgpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBDb21wb3NpdGVDb21wb25lbnQuZnJvbUpTT04gPSBmcm9tSlNPTjtcbiAgICBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5uYW1lICE9PSB1bmRlZmluZWQgJiYgKG9iai5uYW1lID0gbWVzc2FnZS5uYW1lKTtcbiAgICAgICAgbWVzc2FnZS5qc29uU2NoZW1hICE9PSB1bmRlZmluZWQgJiYgKG9iai5qc29uU2NoZW1hID0gbWVzc2FnZS5qc29uU2NoZW1hKTtcbiAgICAgICAgb2JqLmRhdGEgPSB7fTtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YSkge1xuICAgICAgICAgICAgbWVzc2FnZS5kYXRhLmZvckVhY2goKHYsIGspID0+IHtcbiAgICAgICAgICAgICAgICBvYmouZGF0YVtrXSA9IENvbXBvbmVudERhdGEudG9KU09OKHYpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgQ29tcG9zaXRlQ29tcG9uZW50LnRvSlNPTiA9IHRvSlNPTjtcbn0pKENvbXBvc2l0ZUNvbXBvbmVudCB8fCAoQ29tcG9zaXRlQ29tcG9uZW50ID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5KCkge1xuICAgIHJldHVybiB7IGtleTogMCwgdmFsdWU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeTtcbihmdW5jdGlvbiAoQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmtleSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29tcG9uZW50RGF0YS5lbmNvZGUobWVzc2FnZS52YWx1ZSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2V5ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSBDb21wb25lbnREYXRhLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeS5kZWNvZGUgPSBkZWNvZGU7XG4gICAgZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IGlzU2V0KG9iamVjdC5rZXkpID8gTnVtYmVyKG9iamVjdC5rZXkpIDogMCxcbiAgICAgICAgICAgIHZhbHVlOiBpc1NldChvYmplY3QudmFsdWUpID8gQ29tcG9uZW50RGF0YS5mcm9tSlNPTihvYmplY3QudmFsdWUpIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5LmZyb21KU09OID0gZnJvbUpTT047XG4gICAgZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2Uua2V5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5rZXkgPSBNYXRoLnJvdW5kKG1lc3NhZ2Uua2V5KSk7XG4gICAgICAgIG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnZhbHVlID0gbWVzc2FnZS52YWx1ZSA/IENvbXBvbmVudERhdGEudG9KU09OKG1lc3NhZ2UudmFsdWUpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeS50b0pTT04gPSB0b0pTT047XG59KShDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5IHx8IChDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5ID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDb21wb3NpdGVEZWZpbml0aW9uKCkge1xuICAgIHJldHVybiB7IHZlcnNpb246IDAsIGNvbXBvbmVudHM6IFtdIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBDb21wb3NpdGVEZWZpbml0aW9uO1xuKGZ1bmN0aW9uIChDb21wb3NpdGVEZWZpbml0aW9uKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudmVyc2lvbiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLnZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIENvbXBvc2l0ZUNvbXBvbmVudC5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBDb21wb3NpdGVEZWZpbml0aW9uLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29tcG9zaXRlRGVmaW5pdGlvbigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmVyc2lvbiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbXBvbmVudHMucHVzaChDb21wb3NpdGVDb21wb25lbnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQ29tcG9zaXRlRGVmaW5pdGlvbi5kZWNvZGUgPSBkZWNvZGU7XG4gICAgZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBpc1NldChvYmplY3QudmVyc2lvbikgPyBOdW1iZXIob2JqZWN0LnZlcnNpb24pIDogMCxcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5jb21wb25lbnRzKVxuICAgICAgICAgICAgICAgID8gb2JqZWN0LmNvbXBvbmVudHMubWFwKChlKSA9PiBDb21wb3NpdGVDb21wb25lbnQuZnJvbUpTT04oZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgQ29tcG9zaXRlRGVmaW5pdGlvbi5mcm9tSlNPTiA9IGZyb21KU09OO1xuICAgIGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLnZlcnNpb24gIT09IHVuZGVmaW5lZCAmJiAob2JqLnZlcnNpb24gPSBNYXRoLnJvdW5kKG1lc3NhZ2UudmVyc2lvbikpO1xuICAgICAgICBpZiAobWVzc2FnZS5jb21wb25lbnRzKSB7XG4gICAgICAgICAgICBvYmouY29tcG9uZW50cyA9IG1lc3NhZ2UuY29tcG9uZW50cy5tYXAoKGUpID0+IGUgPyBDb21wb3NpdGVDb21wb25lbnQudG9KU09OKGUpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5jb21wb25lbnRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgQ29tcG9zaXRlRGVmaW5pdGlvbi50b0pTT04gPSB0b0pTT047XG59KShDb21wb3NpdGVEZWZpbml0aW9uIHx8IChDb21wb3NpdGVEZWZpbml0aW9uID0ge30pKTtcbnZhciB0c1Byb3RvR2xvYmFsVGhpcyA9ICgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWw7XG4gICAgfVxuICAgIHRocm93IFwiVW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0XCI7XG59KSgpO1xuZnVuY3Rpb24gYnl0ZXNGcm9tQmFzZTY0KGI2NCkge1xuICAgIGlmICh0c1Byb3RvR2xvYmFsVGhpcy5CdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbSh0c1Byb3RvR2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiNjQsIFwiYmFzZTY0XCIpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGJpbiA9IHRzUHJvdG9HbG9iYWxUaGlzLmF0b2IoYjY0KTtcbiAgICAgICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYmluLmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmluLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBhcnJbaV0gPSBiaW4uY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJhc2U2NEZyb21CeXRlcyhhcnIpIHtcbiAgICBpZiAodHNQcm90b0dsb2JhbFRoaXMuQnVmZmVyKSB7XG4gICAgICAgIHJldHVybiB0c1Byb3RvR2xvYmFsVGhpcy5CdWZmZXIuZnJvbShhcnIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgYmluID0gW107XG4gICAgICAgIGFyci5mb3JFYWNoKChieXRlKSA9PiB7XG4gICAgICAgICAgICBiaW4ucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGUpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0c1Byb3RvR2xvYmFsVGhpcy5idG9hKGJpbi5qb2luKFwiXCIpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGw7XG59XG5mdW5jdGlvbiBpc1NldCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZ29vZ2xlLnByb3RvYnVmXCI7XG4vKipcbiAqIGBOdWxsVmFsdWVgIGlzIGEgc2luZ2xldG9uIGVudW1lcmF0aW9uIHRvIHJlcHJlc2VudCB0aGUgbnVsbCB2YWx1ZSBmb3IgdGhlXG4gKiBgVmFsdWVgIHR5cGUgdW5pb24uXG4gKlxuICogIFRoZSBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBgTnVsbFZhbHVlYCBpcyBKU09OIGBudWxsYC5cbiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgTnVsbFZhbHVlO1xuKGZ1bmN0aW9uIChOdWxsVmFsdWUpIHtcbiAgICAvKiogTlVMTF9WQUxVRSAtIE51bGwgdmFsdWUuICovXG4gICAgTnVsbFZhbHVlW051bGxWYWx1ZVtcIk5VTExfVkFMVUVcIl0gPSAwXSA9IFwiTlVMTF9WQUxVRVwiO1xufSkoTnVsbFZhbHVlIHx8IChOdWxsVmFsdWUgPSB7fSkpO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudWxsVmFsdWVGcm9tSlNPTihvYmplY3QpIHtcbiAgICBzd2l0Y2ggKG9iamVjdCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgXCJOVUxMX1ZBTFVFXCI6XG4gICAgICAgICAgICByZXR1cm4gMCAvKiBOdWxsVmFsdWUuTlVMTF9WQUxVRSAqLztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyB0c1Byb3RvR2xvYmFsVGhpcy5FcnJvcihcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gTnVsbFZhbHVlXCIpO1xuICAgIH1cbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gbnVsbFZhbHVlVG9KU09OKG9iamVjdCkge1xuICAgIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgICAgIGNhc2UgMCAvKiBOdWxsVmFsdWUuTlVMTF9WQUxVRSAqLzpcbiAgICAgICAgICAgIHJldHVybiBcIk5VTExfVkFMVUVcIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyB0c1Byb3RvR2xvYmFsVGhpcy5FcnJvcihcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gTnVsbFZhbHVlXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VTdHJ1Y3QoKSB7XG4gICAgcmV0dXJuIHsgZmllbGRzOiBuZXcgTWFwKCkgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFN0cnVjdDtcbihmdW5jdGlvbiAoU3RydWN0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgKG1lc3NhZ2UuZmllbGRzKS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIFN0cnVjdF9GaWVsZHNFbnRyeS5lbmNvZGUoeyBrZXk6IGtleSwgdmFsdWUgfSwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFN0cnVjdC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVN0cnVjdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnRyeTEgPSBTdHJ1Y3RfRmllbGRzRW50cnkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5MS52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZpZWxkcy5zZXQoZW50cnkxLmtleSwgZW50cnkxLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFN0cnVjdC5kZWNvZGUgPSBkZWNvZGU7XG4gICAgZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaWVsZHM6IGlzT2JqZWN0KG9iamVjdC5maWVsZHMpXG4gICAgICAgICAgICAgICAgPyBPYmplY3QuZW50cmllcyhvYmplY3QuZmllbGRzKS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFjYy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgfSwgbmV3IE1hcCgpKVxuICAgICAgICAgICAgICAgIDogbmV3IE1hcCgpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBTdHJ1Y3QuZnJvbUpTT04gPSBmcm9tSlNPTjtcbiAgICBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgb2JqLmZpZWxkcyA9IHt9O1xuICAgICAgICBpZiAobWVzc2FnZS5maWVsZHMpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuZmllbGRzLmZvckVhY2goKHYsIGspID0+IHtcbiAgICAgICAgICAgICAgICBvYmouZmllbGRzW2tdID0gdjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIFN0cnVjdC50b0pTT04gPSB0b0pTT047XG4gICAgZnVuY3Rpb24gd3JhcChvYmplY3QpIHtcbiAgICAgICAgY29uc3Qgc3RydWN0ID0gY3JlYXRlQmFzZVN0cnVjdCgpO1xuICAgICAgICBpZiAob2JqZWN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9iamVjdCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgc3RydWN0LmZpZWxkcy5zZXQoa2V5LCBvYmplY3Rba2V5XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RydWN0O1xuICAgIH1cbiAgICBTdHJ1Y3Qud3JhcCA9IHdyYXA7XG4gICAgZnVuY3Rpb24gdW53cmFwKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqZWN0ID0ge307XG4gICAgICAgIFsuLi5tZXNzYWdlLmZpZWxkcy5rZXlzKCldLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgb2JqZWN0W2tleV0gPSBtZXNzYWdlLmZpZWxkcy5nZXQoa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuICAgIFN0cnVjdC51bndyYXAgPSB1bndyYXA7XG59KShTdHJ1Y3QgfHwgKFN0cnVjdCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlU3RydWN0X0ZpZWxkc0VudHJ5KCkge1xuICAgIHJldHVybiB7IGtleTogXCJcIiwgdmFsdWU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgU3RydWN0X0ZpZWxkc0VudHJ5O1xuKGZ1bmN0aW9uIChTdHJ1Y3RfRmllbGRzRW50cnkpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5rZXkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmFsdWUuZW5jb2RlKFZhbHVlLndyYXAobWVzc2FnZS52YWx1ZSksIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgU3RydWN0X0ZpZWxkc0VudHJ5LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU3RydWN0X0ZpZWxkc0VudHJ5KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2V5ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbHVlID0gVmFsdWUudW53cmFwKFZhbHVlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFN0cnVjdF9GaWVsZHNFbnRyeS5kZWNvZGUgPSBkZWNvZGU7XG4gICAgZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7IGtleTogaXNTZXQob2JqZWN0LmtleSkgPyBTdHJpbmcob2JqZWN0LmtleSkgOiBcIlwiLCB2YWx1ZTogaXNTZXQob2JqZWN0Py52YWx1ZSkgPyBvYmplY3QudmFsdWUgOiB1bmRlZmluZWQgfTtcbiAgICB9XG4gICAgU3RydWN0X0ZpZWxkc0VudHJ5LmZyb21KU09OID0gZnJvbUpTT047XG4gICAgZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2Uua2V5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5rZXkgPSBtZXNzYWdlLmtleSk7XG4gICAgICAgIG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnZhbHVlID0gbWVzc2FnZS52YWx1ZSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIFN0cnVjdF9GaWVsZHNFbnRyeS50b0pTT04gPSB0b0pTT047XG59KShTdHJ1Y3RfRmllbGRzRW50cnkgfHwgKFN0cnVjdF9GaWVsZHNFbnRyeSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlVmFsdWUoKSB7XG4gICAgcmV0dXJuIHsga2luZDogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBWYWx1ZTtcbihmdW5jdGlvbiAoVmFsdWUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2Uua2luZD8uJGNhc2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudWxsVmFsdWVcIjpcbiAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2Uua2luZC5udWxsVmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclZhbHVlXCI6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNykuZG91YmxlKG1lc3NhZ2Uua2luZC5udW1iZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3RyaW5nVmFsdWVcIjpcbiAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5raW5kLnN0cmluZ1ZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJib29sVmFsdWVcIjpcbiAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS5ib29sKG1lc3NhZ2Uua2luZC5ib29sVmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInN0cnVjdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgU3RydWN0LmVuY29kZShTdHJ1Y3Qud3JhcChtZXNzYWdlLmtpbmQuc3RydWN0VmFsdWUpLCB3cml0ZXIudWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImxpc3RWYWx1ZVwiOlxuICAgICAgICAgICAgICAgIExpc3RWYWx1ZS5lbmNvZGUoTGlzdFZhbHVlLndyYXAobWVzc2FnZS5raW5kLmxpc3RWYWx1ZSksIHdyaXRlci51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgVmFsdWUuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VWYWx1ZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2luZCA9IHsgJGNhc2U6IFwibnVsbFZhbHVlXCIsIG51bGxWYWx1ZTogcmVhZGVyLmludDMyKCkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5raW5kID0geyAkY2FzZTogXCJudW1iZXJWYWx1ZVwiLCBudW1iZXJWYWx1ZTogcmVhZGVyLmRvdWJsZSgpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2luZCA9IHsgJGNhc2U6IFwic3RyaW5nVmFsdWVcIiwgc3RyaW5nVmFsdWU6IHJlYWRlci5zdHJpbmcoKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtpbmQgPSB7ICRjYXNlOiBcImJvb2xWYWx1ZVwiLCBib29sVmFsdWU6IHJlYWRlci5ib29sKCkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5raW5kID0geyAkY2FzZTogXCJzdHJ1Y3RWYWx1ZVwiLCBzdHJ1Y3RWYWx1ZTogU3RydWN0LnVud3JhcChTdHJ1Y3QuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5raW5kID0geyAkY2FzZTogXCJsaXN0VmFsdWVcIiwgbGlzdFZhbHVlOiBMaXN0VmFsdWUudW53cmFwKExpc3RWYWx1ZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFZhbHVlLmRlY29kZSA9IGRlY29kZTtcbiAgICBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtpbmQ6IGlzU2V0KG9iamVjdC5udWxsVmFsdWUpXG4gICAgICAgICAgICAgICAgPyB7ICRjYXNlOiBcIm51bGxWYWx1ZVwiLCBudWxsVmFsdWU6IG51bGxWYWx1ZUZyb21KU09OKG9iamVjdC5udWxsVmFsdWUpIH1cbiAgICAgICAgICAgICAgICA6IGlzU2V0KG9iamVjdC5udW1iZXJWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgPyB7ICRjYXNlOiBcIm51bWJlclZhbHVlXCIsIG51bWJlclZhbHVlOiBOdW1iZXIob2JqZWN0Lm51bWJlclZhbHVlKSB9XG4gICAgICAgICAgICAgICAgICAgIDogaXNTZXQob2JqZWN0LnN0cmluZ1ZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyB7ICRjYXNlOiBcInN0cmluZ1ZhbHVlXCIsIHN0cmluZ1ZhbHVlOiBTdHJpbmcob2JqZWN0LnN0cmluZ1ZhbHVlKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IGlzU2V0KG9iamVjdC5ib29sVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7ICRjYXNlOiBcImJvb2xWYWx1ZVwiLCBib29sVmFsdWU6IEJvb2xlYW4ob2JqZWN0LmJvb2xWYWx1ZSkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXNTZXQob2JqZWN0LnN0cnVjdFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgJGNhc2U6IFwic3RydWN0VmFsdWVcIiwgc3RydWN0VmFsdWU6IG9iamVjdC5zdHJ1Y3RWYWx1ZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXNTZXQob2JqZWN0Lmxpc3RWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geyAkY2FzZTogXCJsaXN0VmFsdWVcIiwgbGlzdFZhbHVlOiBbLi4ub2JqZWN0Lmxpc3RWYWx1ZV0gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIFZhbHVlLmZyb21KU09OID0gZnJvbUpTT047XG4gICAgZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwibnVsbFZhbHVlXCIgJiZcbiAgICAgICAgICAgIChvYmoubnVsbFZhbHVlID0gbWVzc2FnZS5raW5kPy5udWxsVmFsdWUgIT09IHVuZGVmaW5lZCA/IG51bGxWYWx1ZVRvSlNPTihtZXNzYWdlLmtpbmQ/Lm51bGxWYWx1ZSkgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLmtpbmQ/LiRjYXNlID09PSBcIm51bWJlclZhbHVlXCIgJiYgKG9iai5udW1iZXJWYWx1ZSA9IG1lc3NhZ2Uua2luZD8ubnVtYmVyVmFsdWUpO1xuICAgICAgICBtZXNzYWdlLmtpbmQ/LiRjYXNlID09PSBcInN0cmluZ1ZhbHVlXCIgJiYgKG9iai5zdHJpbmdWYWx1ZSA9IG1lc3NhZ2Uua2luZD8uc3RyaW5nVmFsdWUpO1xuICAgICAgICBtZXNzYWdlLmtpbmQ/LiRjYXNlID09PSBcImJvb2xWYWx1ZVwiICYmIChvYmouYm9vbFZhbHVlID0gbWVzc2FnZS5raW5kPy5ib29sVmFsdWUpO1xuICAgICAgICBtZXNzYWdlLmtpbmQ/LiRjYXNlID09PSBcInN0cnVjdFZhbHVlXCIgJiYgKG9iai5zdHJ1Y3RWYWx1ZSA9IG1lc3NhZ2Uua2luZD8uc3RydWN0VmFsdWUpO1xuICAgICAgICBtZXNzYWdlLmtpbmQ/LiRjYXNlID09PSBcImxpc3RWYWx1ZVwiICYmIChvYmoubGlzdFZhbHVlID0gbWVzc2FnZS5raW5kPy5saXN0VmFsdWUpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBWYWx1ZS50b0pTT04gPSB0b0pTT047XG4gICAgZnVuY3Rpb24gd3JhcCh2YWx1ZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGVCYXNlVmFsdWUoKTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXN1bHQua2luZCA9IHsgJGNhc2U6IFwibnVsbFZhbHVlXCIsIG51bGxWYWx1ZTogMCAvKiBOdWxsVmFsdWUuTlVMTF9WQUxVRSAqLyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5raW5kID0geyAkY2FzZTogXCJib29sVmFsdWVcIiwgYm9vbFZhbHVlOiB2YWx1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgcmVzdWx0LmtpbmQgPSB7ICRjYXNlOiBcIm51bWJlclZhbHVlXCIsIG51bWJlclZhbHVlOiB2YWx1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmVzdWx0LmtpbmQgPSB7ICRjYXNlOiBcInN0cmluZ1ZhbHVlXCIsIHN0cmluZ1ZhbHVlOiB2YWx1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICByZXN1bHQua2luZCA9IHsgJGNhc2U6IFwibGlzdFZhbHVlXCIsIGxpc3RWYWx1ZTogdmFsdWUgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5raW5kID0geyAkY2FzZTogXCJzdHJ1Y3RWYWx1ZVwiLCBzdHJ1Y3RWYWx1ZTogdmFsdWUgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGFueSB2YWx1ZSB0eXBlOiBcIiArIHR5cGVvZiB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgVmFsdWUud3JhcCA9IHdyYXA7XG4gICAgZnVuY3Rpb24gdW53cmFwKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwibnVsbFZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwibnVtYmVyVmFsdWVcIikge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2Uua2luZD8ubnVtYmVyVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWVzc2FnZS5raW5kPy4kY2FzZSA9PT0gXCJzdHJpbmdWYWx1ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZS5raW5kPy5zdHJpbmdWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtZXNzYWdlLmtpbmQ/LiRjYXNlID09PSBcImJvb2xWYWx1ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZS5raW5kPy5ib29sVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWVzc2FnZS5raW5kPy4kY2FzZSA9PT0gXCJzdHJ1Y3RWYWx1ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZS5raW5kPy5zdHJ1Y3RWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtZXNzYWdlLmtpbmQ/LiRjYXNlID09PSBcImxpc3RWYWx1ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZS5raW5kPy5saXN0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIFZhbHVlLnVud3JhcCA9IHVud3JhcDtcbn0pKFZhbHVlIHx8IChWYWx1ZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlTGlzdFZhbHVlKCkge1xuICAgIHJldHVybiB7IHZhbHVlczogW10gfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIExpc3RWYWx1ZTtcbihmdW5jdGlvbiAoTGlzdFZhbHVlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UudmFsdWVzKSB7XG4gICAgICAgICAgICBWYWx1ZS5lbmNvZGUoVmFsdWUud3JhcCh2KSwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBMaXN0VmFsdWUuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VMaXN0VmFsdWUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWx1ZXMucHVzaChWYWx1ZS51bndyYXAoVmFsdWUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIExpc3RWYWx1ZS5kZWNvZGUgPSBkZWNvZGU7XG4gICAgZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7IHZhbHVlczogQXJyYXkuaXNBcnJheShvYmplY3Q/LnZhbHVlcykgPyBbLi4ub2JqZWN0LnZhbHVlc10gOiBbXSB9O1xuICAgIH1cbiAgICBMaXN0VmFsdWUuZnJvbUpTT04gPSBmcm9tSlNPTjtcbiAgICBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWVzKSB7XG4gICAgICAgICAgICBvYmoudmFsdWVzID0gbWVzc2FnZS52YWx1ZXMubWFwKChlKSA9PiBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai52YWx1ZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBMaXN0VmFsdWUudG9KU09OID0gdG9KU09OO1xuICAgIGZ1bmN0aW9uIHdyYXAoYXJyYXkpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlQmFzZUxpc3RWYWx1ZSgpO1xuICAgICAgICByZXN1bHQudmFsdWVzID0gYXJyYXkgPz8gW107XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIExpc3RWYWx1ZS53cmFwID0gd3JhcDtcbiAgICBmdW5jdGlvbiB1bndyYXAobWVzc2FnZSkge1xuICAgICAgICBpZiAobWVzc2FnZT8uaGFzT3duUHJvcGVydHkoXCJ2YWx1ZXNcIikgJiYgQXJyYXkuaXNBcnJheShtZXNzYWdlLnZhbHVlcykpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLnZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICB9XG4gICAgfVxuICAgIExpc3RWYWx1ZS51bndyYXAgPSB1bndyYXA7XG59KShMaXN0VmFsdWUgfHwgKExpc3RWYWx1ZSA9IHt9KSk7XG52YXIgdHNQcm90b0dsb2JhbFRoaXMgPSAoKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gZ2xvYmFsO1xuICAgIH1cbiAgICB0aHJvdyBcIlVuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdFwiO1xufSkoKTtcbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzU2V0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG4iLCAiaW1wb3J0IHsgZ2V0Q29tcG9zaXRlUm9vdENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cyc7XG5pbXBvcnQgeyBFbnRpdHlNYXBwaW5nTW9kZSwgaW5zdGFuY2VDb21wb3NpdGUgfSBmcm9tICcuL2luc3RhbmNlJztcbmltcG9ydCB7IHJlc29sdmVDb21wb3NpdGUgfSBmcm9tICcuL3BhdGgnO1xuaW1wb3J0IHsgQ29tcG9zaXRlRGVmaW5pdGlvbiB9IGZyb20gJy4vcHJvdG8vZ2VuL2NvbXBvc2l0ZS5nZW4nO1xuZXhwb3J0IHsgRW50aXR5TWFwcGluZ01vZGUgfTtcbmV4cG9ydCB7IGdldENvbXBvc2l0ZVJvb3RDb21wb25lbnQgfTtcbi8qKlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgY29tcG9zaXRlIGlzIG5vdCBiZWluZyBzdXBwb3J0ZWQgc28gZmFyLCBwbGVhc2UgZG8gbm90IHVzZSB0aGlzIGZlYXR1cmVcbiAqL1xuZXhwb3J0IHZhciBDb21wb3NpdGU7XG4oZnVuY3Rpb24gKENvbXBvc2l0ZSkge1xuICAgIC8qKiBAcHVibGljICovXG4gICAgZnVuY3Rpb24gZnJvbUpzb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBDb21wb3NpdGVEZWZpbml0aW9uLmZyb21KU09OKG9iamVjdCk7XG4gICAgfVxuICAgIENvbXBvc2l0ZS5mcm9tSnNvbiA9IGZyb21Kc29uO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgZnVuY3Rpb24gZnJvbUJpbmFyeShidWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIENvbXBvc2l0ZURlZmluaXRpb24uZGVjb2RlKGJ1ZmZlcik7XG4gICAgfVxuICAgIENvbXBvc2l0ZS5mcm9tQmluYXJ5ID0gZnJvbUJpbmFyeTtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIGZ1bmN0aW9uIHRvSnNvbihjb21wb3NpdGUpIHtcbiAgICAgICAgcmV0dXJuIENvbXBvc2l0ZURlZmluaXRpb24udG9KU09OKGNvbXBvc2l0ZSk7XG4gICAgfVxuICAgIENvbXBvc2l0ZS50b0pzb24gPSB0b0pzb247XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBmdW5jdGlvbiB0b0JpbmFyeShjb21wb3NpdGUpIHtcbiAgICAgICAgcmV0dXJuIENvbXBvc2l0ZURlZmluaXRpb24uZW5jb2RlKGNvbXBvc2l0ZSkuZmluaXNoKCk7XG4gICAgfVxuICAgIENvbXBvc2l0ZS50b0JpbmFyeSA9IHRvQmluYXJ5O1xuICAgIC8qKlxuICAgICAqIEluc3RhbmNlIGEgY29tcG9zaXRlIGFuZCByZXR1cm5zIGl0cyByb290IGVudGl0eVxuICAgICAqIEBwYXJhbSBjb21wb3NpdGVEYXRhIC0gc3RhdGUgc2VyaWFsaXplZCBieSB0aGUgQ1JEVCBwcm90b2NvbFxuICAgICAqIEBwYXJhbSBnZXROZXh0QXZhaWxhYmxlRW50aXR5IC0gZnVuY3Rpb24gdGhhdCBnaXZlcyB1bnVzZWQgZW50aXRpZXNcbiAgICAgKiBAcGFyYW0gcm9vdEVudGl0eSAtIChvcHRpb25hbCkgc3VnZ2VzdGVkIG1hcHBlZCByb290RW50aXR5IGZvciB0aGUgY29tcG9zaXRlXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgLyojX19QVVJFX18qLyBmdW5jdGlvbiBpbnN0YW5jZShlbmdpbmUsIGNvbXBvc2l0ZURhdGEsIGNvbXBvc2l0ZVByb3ZpZGVyLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgaW5zdGFuY2VDb21wb3NpdGUoZW5naW5lLCBjb21wb3NpdGVEYXRhLCBjb21wb3NpdGVQcm92aWRlciwgb3B0aW9ucyk7XG4gICAgfVxuICAgIENvbXBvc2l0ZS5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgIC8qKlxuICAgICAqIFJlc29sdmUgYW5kIG5vcm1hbGl6ZSBhIGNvbXBvc2l0ZSBwYXRoXG4gICAgICogQHBhcmFtIHNyYyAtIHRoZSBzb3VyY2UgcGF0aFxuICAgICAqIEBwYXJhbSBjd2QgLSB0aGUgZGlyZWN0b3J5IGZyb20gdGhlIHJlc29sdmUgc2hvdWxkIHN0YXJ0IHRvIHJlc29sdmVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRoZSBhYnNvbHV0ZSByZXNvbHZlZCBwYXRoIHdpdGhvdXQgc2xhc2ggYXQgdGhlIGJlZ2lubmluZ1xuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICAvKiNfX1BVUkVfXyovIGZ1bmN0aW9uIHJlc29sdmVBbmROb3JtYWxpemVQYXRoKHNyYywgY3dkID0gJy8nKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlQ29tcG9zaXRlKHNyYywgY3dkKTtcbiAgICB9XG4gICAgQ29tcG9zaXRlLnJlc29sdmVBbmROb3JtYWxpemVQYXRoID0gcmVzb2x2ZUFuZE5vcm1hbGl6ZVBhdGg7XG59KShDb21wb3NpdGUgfHwgKENvbXBvc2l0ZSA9IHt9KSk7XG4iLCAiLy8gVGhlIG9yZGVyIG9mIHRoZSBmb2xsb3dpbmcgaW1wb3J0cyBtYXR0ZXJzLiBQbGVhc2UgZG8gbm90IGF1dG8tc29ydFxuZXhwb3J0ICogZnJvbSAnLi9lbmdpbmUnO1xuZXhwb3J0ICogZnJvbSAnLi9zY2hlbWFzJztcbmV4cG9ydCAqIGZyb20gJy4vcnVudGltZS9pbml0aWFsaXphdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL3J1bnRpbWUvdHlwZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9ydW50aW1lL2hlbHBlcnMnO1xuZXhwb3J0IHsgY3ljbGljUGFyZW50aW5nQ2hlY2tlciB9IGZyb20gJy4vc3lzdGVtcy9jeWNsaWNQYXJlbnRpbmdDaGVja2VyJztcbmV4cG9ydCAqIGZyb20gJy4vc3lzdGVtcy9ldmVudHMnO1xuZXhwb3J0ICogZnJvbSAnLi9zeXN0ZW1zL3JheWNhc3QnO1xuZXhwb3J0ICogZnJvbSAnLi9zeXN0ZW1zL3ZpZGVvRXZlbnRzJztcbmV4cG9ydCAqIGZyb20gJy4vc3lzdGVtcy9hc3luYy10YXNrJztcbmV4cG9ydCAqIGZyb20gJy4vZW5naW5lL2VudGl0eSc7XG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvdHlwZXMnO1xuLy8gQGludGVybmFsXG5pbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gJy4vY29tcG9uZW50cyc7XG4vLyBAaW50ZXJuYWxcbmV4cG9ydCB7IGNvbXBvbmVudHMgfTtcbmltcG9ydCB7IGVuZ2luZSB9IGZyb20gJy4vcnVudGltZS9pbml0aWFsaXphdGlvbic7XG4vLyBleHBvcnQgY29tcG9uZW50cyBmb3IgZ2xvYmFsIGVuZ2luZVxuZXhwb3J0IGNvbnN0IFRyYW5zZm9ybSA9IC8qIEBfX1BVUkVfXyovIGNvbXBvbmVudHMuVHJhbnNmb3JtKGVuZ2luZSk7XG5leHBvcnQgY29uc3QgQW5pbWF0b3IgPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLkFuaW1hdG9yKGVuZ2luZSk7XG5leHBvcnQgY29uc3QgTWF0ZXJpYWwgPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLk1hdGVyaWFsKGVuZ2luZSk7XG5leHBvcnQgY29uc3QgTWVzaFJlbmRlcmVyID0gLyogQF9fUFVSRV9fKi8gY29tcG9uZW50cy5NZXNoUmVuZGVyZXIoZW5naW5lKTtcbmV4cG9ydCBjb25zdCBNZXNoQ29sbGlkZXIgPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLk1lc2hDb2xsaWRlcihlbmdpbmUpO1xuZXhwb3J0IGNvbnN0IE5hbWUgPSBjb21wb25lbnRzLk5hbWUoZW5naW5lKTtcbi8vIGV4cG9ydCBjb21wb25lbnRzIGZvciBnbG9iYWwgZW5naW5lXG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvZ2VuZXJhdGVkL2dsb2JhbC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnRzL2dlbmVyYXRlZC90eXBlcy5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9zZXJpYWxpemF0aW9uL2NyZHQnO1xuZXhwb3J0ICogZnJvbSAnLi9jb21wb3NpdGUnO1xuIiwgIi8qKlxuICogQ29uc3RhbnQgdXNlZCB0byBjb252ZXJ0IGEgdmFsdWUgdG8gZ2FtbWEgc3BhY2VcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IFRvR2FtbWFTcGFjZSA9IDEgLyAyLjI7XG4vKipcbiAqIENvbnN0YW50IHVzZWQgdG8gY29udmVydCBhIHZhbHVlIHRvIGxpbmVhciBzcGFjZVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgVG9MaW5lYXJTcGFjZSA9IDIuMjtcbi8qKlxuICogQ29uc3RhbnQgdXNlZCB0byBkZWZpbmUgdGhlIG1pbmltYWwgbnVtYmVyIHZhbHVlIGluIEJhYnlsb24uanNcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IEVwc2lsb24gPSAwLjAwMDAwMTtcbi8qKlxuICogQ29uc3RhbnQgdXNlZCB0byBjb252ZXJ0IGZyb20gRXVsZXIgZGVncmVlcyB0byByYWRpYW5zXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBERUcyUkFEID0gTWF0aC5QSSAvIDE4MDtcbi8qKlxuICogQ29uc3RhbnQgdXNlZCB0byBjb252ZXJ0IGZyb20gcmFkaWFucyB0byBFdWxlciBkZWdyZWVzXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBSQUQyREVHID0gMzYwIC8gKE1hdGguUEkgKiAyKTtcbiIsICIvKipcbiAqIFNjYWxhciBjb21wdXRhdGlvbiBsaWJyYXJ5XG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgU2NhbGFyO1xuKGZ1bmN0aW9uIChTY2FsYXIpIHtcbiAgICAvKipcbiAgICAgKiBUd28gcGkgY29uc3RhbnRzIGNvbnZlbmllbnQgZm9yIGNvbXB1dGF0aW9uLlxuICAgICAqL1xuICAgIFNjYWxhci5Ud29QaSA9IE1hdGguUEkgKiAyO1xuICAgIC8qKlxuICAgICAqIEJvb2xlYW4gOiB0cnVlIGlmIHRoZSBhYnNvbHV0ZSBkaWZmZXJlbmNlIGJldHdlZW4gYSBhbmQgYiBpcyBsb3dlciB0aGFuIGVwc2lsb24gKGRlZmF1bHQgPSAxLjQwMTI5OEUtNDUpXG4gICAgICogQHBhcmFtIGEgLSBudW1iZXJcbiAgICAgKiBAcGFyYW0gYiAtIG51bWJlclxuICAgICAqIEBwYXJhbSBlcHNpbG9uIC0gKGRlZmF1bHQgPSAxLjQwMTI5OEUtNDUpXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgYWJzb2x1dGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGEgYW5kIGIgaXMgbG93ZXIgdGhhbiBlcHNpbG9uIChkZWZhdWx0ID0gMS40MDEyOThFLTQ1KVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdpdGhpbkVwc2lsb24oYSwgYiwgZXBzaWxvbiA9IDEuNDAxMjk4ZS00NSkge1xuICAgICAgICBjb25zdCBudW0gPSBhIC0gYjtcbiAgICAgICAgcmV0dXJuIC1lcHNpbG9uIDw9IG51bSAmJiBudW0gPD0gZXBzaWxvbjtcbiAgICB9XG4gICAgU2NhbGFyLndpdGhpbkVwc2lsb24gPSB3aXRoaW5FcHNpbG9uO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgOiB0aGUgdXBwZXIgY2FzZSB0cmFuc2xhdGlvbiBvZiB0aGUgbnVtYmVyIGkgdG8gaGV4YWRlY2ltYWwuXG4gICAgICogQHBhcmFtIGkgLSBudW1iZXJcbiAgICAgKiBAcmV0dXJucyB0aGUgdXBwZXIgY2FzZSB0cmFuc2xhdGlvbiBvZiB0aGUgbnVtYmVyIGkgdG8gaGV4YWRlY2ltYWwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9IZXgoaSkge1xuICAgICAgICBjb25zdCBzdHIgPSBpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgaWYgKGkgPD0gMTUpIHtcbiAgICAgICAgICAgIHJldHVybiAoJzAnICsgc3RyKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHIudG9VcHBlckNhc2UoKTtcbiAgICB9XG4gICAgU2NhbGFyLnRvSGV4ID0gdG9IZXg7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyAtMSBpZiB2YWx1ZSBpcyBuZWdhdGl2ZSBhbmQgKzEgaXMgdmFsdWUgaXMgcG9zaXRpdmUuXG4gICAgICogQHBhcmFtIF92YWx1ZSAtIHRoZSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHRoZSB2YWx1ZSBpdHNlbGYgaWYgaXQncyBlcXVhbCB0byB6ZXJvLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpZ24odmFsdWUpIHtcbiAgICAgICAgY29uc3QgX3ZhbHVlID0gK3ZhbHVlOyAvLyBjb252ZXJ0IHRvIGEgbnVtYmVyXG4gICAgICAgIGlmIChfdmFsdWUgPT09IDAgfHwgaXNOYU4oX3ZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIF92YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3ZhbHVlID4gMCA/IDEgOiAtMTtcbiAgICB9XG4gICAgU2NhbGFyLnNpZ24gPSBzaWduO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIGl0c2VsZiBpZiBpdCdzIGJldHdlZW4gbWluIGFuZCBtYXguXG4gICAgICogUmV0dXJucyBtaW4gaWYgdGhlIHZhbHVlIGlzIGxvd2VyIHRoYW4gbWluLlxuICAgICAqIFJldHVybnMgbWF4IGlmIHRoZSB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gbWF4LlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIHRoZSB2YWx1ZSB0byBjbG1hcFxuICAgICAqIEBwYXJhbSBtaW4gLSB0aGUgbWluIHZhbHVlIHRvIGNsYW1wIHRvIChkZWZhdWx0OiAwKVxuICAgICAqIEBwYXJhbSBtYXggLSB0aGUgbWF4IHZhbHVlIHRvIGNsYW1wIHRvIChkZWZhdWx0OiAxKVxuICAgICAqIEByZXR1cm5zIHRoZSBjbGFtcGVkIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiA9IDAsIG1heCA9IDEpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKG1heCwgTWF0aC5tYXgobWluLCB2YWx1ZSkpO1xuICAgIH1cbiAgICBTY2FsYXIuY2xhbXAgPSBjbGFtcDtcbiAgICAvKipcbiAgICAgKiB0aGUgbG9nMiBvZiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0gdmFsdWUgLSB0aGUgdmFsdWUgdG8gY29tcHV0ZSBsb2cyIG9mXG4gICAgICogQHJldHVybnMgdGhlIGxvZzIgb2YgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9nMih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gTWF0aC5sb2codmFsdWUpICogTWF0aC5MT0cyRTtcbiAgICB9XG4gICAgU2NhbGFyLmxvZzIgPSBsb2cyO1xuICAgIC8qKlxuICAgICAqIExvb3BzIHRoZSB2YWx1ZSwgc28gdGhhdCBpdCBpcyBuZXZlciBsYXJnZXIgdGhhbiBsZW5ndGggYW5kIG5ldmVyIHNtYWxsZXIgdGhhbiAwLlxuICAgICAqXG4gICAgICogVGhpcyBpcyBzaW1pbGFyIHRvIHRoZSBtb2R1bG8gb3BlcmF0b3IgYnV0IGl0IHdvcmtzIHdpdGggZmxvYXRpbmcgcG9pbnQgbnVtYmVycy5cbiAgICAgKiBGb3IgZXhhbXBsZSwgdXNpbmcgMy4wIGZvciB0IGFuZCAyLjUgZm9yIGxlbmd0aCwgdGhlIHJlc3VsdCB3b3VsZCBiZSAwLjUuXG4gICAgICogV2l0aCB0ID0gNSBhbmQgbGVuZ3RoID0gMi41LCB0aGUgcmVzdWx0IHdvdWxkIGJlIDAuMC5cbiAgICAgKiBOb3RlLCBob3dldmVyLCB0aGF0IHRoZSBiZWhhdmlvdXIgaXMgbm90IGRlZmluZWQgZm9yIG5lZ2F0aXZlIG51bWJlcnMgYXMgaXQgaXMgZm9yIHRoZSBtb2R1bG8gb3BlcmF0b3JcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSB0aGUgdmFsdWVcbiAgICAgKiBAcGFyYW0gbGVuZ3RoIC0gdGhlIGxlbmd0aFxuICAgICAqIEByZXR1cm5zIHRoZSBsb29wZWQgdmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBlYXQodmFsdWUsIGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdmFsdWUgLSBNYXRoLmZsb29yKHZhbHVlIC8gbGVuZ3RoKSAqIGxlbmd0aDtcbiAgICB9XG4gICAgU2NhbGFyLnJlcGVhdCA9IHJlcGVhdDtcbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemUgdGhlIHZhbHVlIGJldHdlZW4gMC4wIGFuZCAxLjAgdXNpbmcgbWluIGFuZCBtYXggdmFsdWVzXG4gICAgICogQHBhcmFtIHZhbHVlIC0gdmFsdWUgdG8gbm9ybWFsaXplXG4gICAgICogQHBhcmFtIG1pbiAtIG1heCB0byBub3JtYWxpemUgYmV0d2VlblxuICAgICAqIEBwYXJhbSBtYXggLSBtaW4gdG8gbm9ybWFsaXplIGJldHdlZW5cbiAgICAgKiBAcmV0dXJucyB0aGUgbm9ybWFsaXplZCB2YWx1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZSh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKTtcbiAgICB9XG4gICAgU2NhbGFyLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcbiAgICAvKipcbiAgICAgKiBEZW5vcm1hbGl6ZSB0aGUgdmFsdWUgZnJvbSAwLjAgYW5kIDEuMCB1c2luZyBtaW4gYW5kIG1heCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gbm9ybWFsaXplZCAtIHZhbHVlIHRvIGRlbm9ybWFsaXplXG4gICAgICogQHBhcmFtIG1pbiAtIG1heCB0byBkZW5vcm1hbGl6ZSBiZXR3ZWVuXG4gICAgICogQHBhcmFtIG1heCAtIG1pbiB0byBkZW5vcm1hbGl6ZSBiZXR3ZWVuXG4gICAgICogQHJldHVybnMgdGhlIGRlbm9ybWFsaXplZCB2YWx1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlbm9ybWFsaXplKG5vcm1hbGl6ZWQsIG1pbiwgbWF4KSB7XG4gICAgICAgIHJldHVybiBub3JtYWxpemVkICogKG1heCAtIG1pbikgKyBtaW47XG4gICAgfVxuICAgIFNjYWxhci5kZW5vcm1hbGl6ZSA9IGRlbm9ybWFsaXplO1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIHNob3J0ZXN0IGRpZmZlcmVuY2UgYmV0d2VlbiB0d28gZ2l2ZW4gYW5nbGVzIGdpdmVuIGluIGRlZ3JlZXMuXG4gICAgICogQHBhcmFtIGN1cnJlbnQgLSBjdXJyZW50IGFuZ2xlIGluIGRlZ3JlZXNcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gdGFyZ2V0IGFuZ2xlIGluIGRlZ3JlZXNcbiAgICAgKiBAcmV0dXJucyB0aGUgZGVsdGFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWx0YUFuZ2xlKGN1cnJlbnQsIHRhcmdldCkge1xuICAgICAgICBsZXQgbnVtID0gcmVwZWF0KHRhcmdldCAtIGN1cnJlbnQsIDM2MC4wKTtcbiAgICAgICAgaWYgKG51bSA+IDE4MC4wKSB7XG4gICAgICAgICAgICBudW0gLT0gMzYwLjA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bTtcbiAgICB9XG4gICAgU2NhbGFyLmRlbHRhQW5nbGUgPSBkZWx0YUFuZ2xlO1xuICAgIC8qKlxuICAgICAqIFBpbmdQb25ncyB0aGUgdmFsdWUgdCwgc28gdGhhdCBpdCBpcyBuZXZlciBsYXJnZXIgdGhhbiBsZW5ndGggYW5kIG5ldmVyIHNtYWxsZXIgdGhhbiAwLlxuICAgICAqIEBwYXJhbSB0eCAtIHZhbHVlXG4gICAgICogQHBhcmFtIGxlbmd0aCAtIGxlbmd0aFxuICAgICAqIEByZXR1cm5zIFRoZSByZXR1cm5lZCB2YWx1ZSB3aWxsIG1vdmUgYmFjayBhbmQgZm9ydGggYmV0d2VlbiAwIGFuZCBsZW5ndGhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaW5nUG9uZyh0eCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHQgPSByZXBlYXQodHgsIGxlbmd0aCAqIDIuMCk7XG4gICAgICAgIHJldHVybiBsZW5ndGggLSBNYXRoLmFicyh0IC0gbGVuZ3RoKTtcbiAgICB9XG4gICAgU2NhbGFyLnBpbmdQb25nID0gcGluZ1Bvbmc7XG4gICAgLyoqXG4gICAgICogSW50ZXJwb2xhdGVzIGJldHdlZW4gbWluIGFuZCBtYXggd2l0aCBzbW9vdGhpbmcgYXQgdGhlIGxpbWl0cy5cbiAgICAgKlxuICAgICAqIFRoaXMgZXhwb3J0IGZ1bmN0aW9uIGludGVycG9sYXRlcyBiZXR3ZWVuIG1pbiBhbmQgbWF4IGluIGEgc2ltaWxhciB3YXkgdG8gTGVycC4gSG93ZXZlciwgdGhlIGludGVycG9sYXRpb24gd2lsbCBncmFkdWFsbHkgc3BlZWQgdXBcbiAgICAgKiBmcm9tIHRoZSBzdGFydCBhbmQgc2xvdyBkb3duIHRvd2FyZCB0aGUgZW5kLiBUaGlzIGlzIHVzZWZ1bCBmb3IgY3JlYXRpbmcgbmF0dXJhbC1sb29raW5nIGFuaW1hdGlvbiwgZmFkaW5nIGFuZCBvdGhlciB0cmFuc2l0aW9ucy5cbiAgICAgKiBAcGFyYW0gZnJvbSAtIGZyb21cbiAgICAgKiBAcGFyYW0gdG8gLSB0b1xuICAgICAqIEBwYXJhbSB0eCAtIHZhbHVlXG4gICAgICogQHJldHVybnMgdGhlIHNtb290aCBzdGVwcGVkIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc21vb3RoU3RlcChmcm9tLCB0bywgdHgpIHtcbiAgICAgICAgbGV0IHQgPSBjbGFtcCh0eCk7XG4gICAgICAgIHQgPSAtMi4wICogdCAqIHQgKiB0ICsgMy4wICogdCAqIHQ7XG4gICAgICAgIHJldHVybiB0byAqIHQgKyBmcm9tICogKDEuMCAtIHQpO1xuICAgIH1cbiAgICBTY2FsYXIuc21vb3RoU3RlcCA9IHNtb290aFN0ZXA7XG4gICAgLyoqXG4gICAgICogTW92ZXMgYSB2YWx1ZSBjdXJyZW50IHRvd2FyZHMgdGFyZ2V0LlxuICAgICAqXG4gICAgICogVGhpcyBpcyBlc3NlbnRpYWxseSB0aGUgc2FtZSBhcyBNYXRoZi5MZXJwIGJ1dCBpbnN0ZWFkIHRoZSBleHBvcnQgZnVuY3Rpb24gd2lsbCBlbnN1cmUgdGhhdCB0aGUgc3BlZWQgbmV2ZXIgZXhjZWVkcyBtYXhEZWx0YS5cbiAgICAgKiBOZWdhdGl2ZSB2YWx1ZXMgb2YgbWF4RGVsdGEgcHVzaGVzIHRoZSB2YWx1ZSBhd2F5IGZyb20gdGFyZ2V0LlxuICAgICAqIEBwYXJhbSBjdXJyZW50IC0gY3VycmVudCB2YWx1ZVxuICAgICAqIEBwYXJhbSB0YXJnZXQgLSB0YXJnZXQgdmFsdWVcbiAgICAgKiBAcGFyYW0gbWF4RGVsdGEgLSBtYXggZGlzdGFuY2UgdG8gbW92ZVxuICAgICAqIEByZXR1cm5zIHJlc3VsdGluZyB2YWx1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1vdmVUb3dhcmRzKGN1cnJlbnQsIHRhcmdldCwgbWF4RGVsdGEpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgICAgIGlmIChNYXRoLmFicyh0YXJnZXQgLSBjdXJyZW50KSA8PSBtYXhEZWx0YSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gY3VycmVudCArIHNpZ24odGFyZ2V0IC0gY3VycmVudCkgKiBtYXhEZWx0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBTY2FsYXIubW92ZVRvd2FyZHMgPSBtb3ZlVG93YXJkcztcbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIE1vdmVUb3dhcmRzIGJ1dCBtYWtlcyBzdXJlIHRoZSB2YWx1ZXMgaW50ZXJwb2xhdGUgY29ycmVjdGx5IHdoZW4gdGhleSB3cmFwIGFyb3VuZCAzNjAgZGVncmVlcy5cbiAgICAgKlxuICAgICAqIFZhcmlhYmxlcyBjdXJyZW50IGFuZCB0YXJnZXQgYXJlIGFzc3VtZWQgdG8gYmUgaW4gZGVncmVlcy4gRm9yIG9wdGltaXphdGlvbiByZWFzb25zLCBuZWdhdGl2ZSB2YWx1ZXMgb2YgbWF4RGVsdGFcbiAgICAgKiAgYXJlIG5vdCBzdXBwb3J0ZWQgYW5kIG1heSBjYXVzZSBvc2NpbGxhdGlvbi4gVG8gcHVzaCBjdXJyZW50IGF3YXkgZnJvbSBhIHRhcmdldCBhbmdsZSwgYWRkIDE4MCB0byB0aGF0IGFuZ2xlIGluc3RlYWQuXG4gICAgICogQHBhcmFtIGN1cnJlbnQgLSBjdXJyZW50IHZhbHVlXG4gICAgICogQHBhcmFtIHRhcmdldCAtIHRhcmdldCB2YWx1ZVxuICAgICAqIEBwYXJhbSBtYXhEZWx0YSAtIG1heCBkaXN0YW5jZSB0byBtb3ZlXG4gICAgICogQHJldHVybnMgcmVzdWx0aW5nIGFuZ2xlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbW92ZVRvd2FyZHNBbmdsZShjdXJyZW50LCB0YXJnZXQsIG1heERlbHRhKSB7XG4gICAgICAgIGNvbnN0IG51bSA9IGRlbHRhQW5nbGUoY3VycmVudCwgdGFyZ2V0KTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgICAgIGlmICgtbWF4RGVsdGEgPCBudW0gJiYgbnVtIDwgbWF4RGVsdGEpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG1vdmVUb3dhcmRzKGN1cnJlbnQsIGN1cnJlbnQgKyBudW0sIG1heERlbHRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBTY2FsYXIubW92ZVRvd2FyZHNBbmdsZSA9IG1vdmVUb3dhcmRzQW5nbGU7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzY2FsYXIgd2l0aCB2YWx1ZXMgbGluZWFybHkgaW50ZXJwb2xhdGVkIG9mIFwiYW1vdW50XCIgYmV0d2VlbiB0aGUgc3RhcnQgc2NhbGFyIGFuZCB0aGUgZW5kIHNjYWxhclxuICAgICAqIEBwYXJhbSBzdGFydCAtIHN0YXJ0IHZhbHVlXG4gICAgICogQHBhcmFtIGVuZCAtIHRhcmdldCB2YWx1ZVxuICAgICAqIEBwYXJhbSBhbW91bnQgLSBhbW91bnQgdG8gbGVycCBiZXR3ZWVuXG4gICAgICogQHJldHVybnMgdGhlIGxlcnBlZCB2YWx1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxlcnAoc3RhcnQsIGVuZCwgYW1vdW50KSB7XG4gICAgICAgIHJldHVybiBzdGFydCArIChlbmQgLSBzdGFydCkgKiBhbW91bnQ7XG4gICAgfVxuICAgIFNjYWxhci5sZXJwID0gbGVycDtcbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIExlcnAgYnV0IG1ha2VzIHN1cmUgdGhlIHZhbHVlcyBpbnRlcnBvbGF0ZSBjb3JyZWN0bHkgd2hlbiB0aGV5IHdyYXAgYXJvdW5kIDM2MCBkZWdyZWVzLlxuICAgICAqIFRoZSBwYXJhbWV0ZXIgdCBpcyBjbGFtcGVkIHRvIHRoZSByYW5nZSBbMCwgMV0uIFZhcmlhYmxlcyBhIGFuZCBiIGFyZSBhc3N1bWVkIHRvIGJlIGluIGRlZ3JlZXMuXG4gICAgICogQHBhcmFtIHN0YXJ0IC0gc3RhcnQgdmFsdWVcbiAgICAgKiBAcGFyYW0gZW5kIC0gdGFyZ2V0IHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIGFtb3VudCB0byBsZXJwIGJldHdlZW5cbiAgICAgKiBAcmV0dXJucyB0aGUgbGVycGVkIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVycEFuZ2xlKHN0YXJ0LCBlbmQsIGFtb3VudCkge1xuICAgICAgICBsZXQgbnVtID0gcmVwZWF0KGVuZCAtIHN0YXJ0LCAzNjAuMCk7XG4gICAgICAgIGlmIChudW0gPiAxODAuMCkge1xuICAgICAgICAgICAgbnVtIC09IDM2MC4wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGFydCArIG51bSAqIGNsYW1wKGFtb3VudCk7XG4gICAgfVxuICAgIFNjYWxhci5sZXJwQW5nbGUgPSBsZXJwQW5nbGU7XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbGluZWFyIHBhcmFtZXRlciB0IHRoYXQgcHJvZHVjZXMgdGhlIGludGVycG9sYW50IHZhbHVlIHdpdGhpbiB0aGUgcmFuZ2UgW2EsIGJdLlxuICAgICAqIEBwYXJhbSBhIC0gc3RhcnQgdmFsdWVcbiAgICAgKiBAcGFyYW0gYiAtIHRhcmdldCB2YWx1ZVxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIHZhbHVlIGJldHdlZW4gYSBhbmQgYlxuICAgICAqIEByZXR1cm5zIHRoZSBpbnZlcnNlTGVycCB2YWx1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGludmVyc2VMZXJwKGEsIGIsIHZhbHVlKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSAwO1xuICAgICAgICBpZiAoYSAhPT0gYikge1xuICAgICAgICAgICAgcmVzdWx0ID0gY2xhbXAoKHZhbHVlIC0gYSkgLyAoYiAtIGEpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IDAuMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBTY2FsYXIuaW52ZXJzZUxlcnAgPSBpbnZlcnNlTGVycDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHNjYWxhciBsb2NhdGVkIGZvciBcImFtb3VudFwiIChmbG9hdCkgb24gdGhlIEhlcm1pdGUgc3BsaW5lIGRlZmluZWQgYnkgdGhlIHNjYWxhcnMgXCJ2YWx1ZTFcIiwgXCJ2YWx1ZTNcIiwgXCJ0YW5nZW50MVwiLCBcInRhbmdlbnQyXCIuXG4gICAgICoge0BsaW5rIGh0dHA6Ly9tYXRod29ybGQud29sZnJhbS5jb20vSGVybWl0ZVBvbHlub21pYWwuaHRtbH1cbiAgICAgKiBAcGFyYW0gdmFsdWUxIC0gc3BsaW5lIHZhbHVlXG4gICAgICogQHBhcmFtIHRhbmdlbnQxIC0gc3BsaW5lIHZhbHVlXG4gICAgICogQHBhcmFtIHZhbHVlMiAtIHNwbGluZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB0YW5nZW50MiAtIHNwbGluZSB2YWx1ZVxuICAgICAqIEBwYXJhbSBhbW91bnQgLSBpbnB1dCB2YWx1ZVxuICAgICAqIEByZXR1cm5zIGhlcm1pdGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gaGVybWl0ZSh2YWx1ZTEsIHRhbmdlbnQxLCB2YWx1ZTIsIHRhbmdlbnQyLCBhbW91bnQpIHtcbiAgICAgICAgY29uc3Qgc3F1YXJlZCA9IGFtb3VudCAqIGFtb3VudDtcbiAgICAgICAgY29uc3QgY3ViZWQgPSBhbW91bnQgKiBzcXVhcmVkO1xuICAgICAgICBjb25zdCBwYXJ0MSA9IDIuMCAqIGN1YmVkIC0gMy4wICogc3F1YXJlZCArIDEuMDtcbiAgICAgICAgY29uc3QgcGFydDIgPSAtMi4wICogY3ViZWQgKyAzLjAgKiBzcXVhcmVkO1xuICAgICAgICBjb25zdCBwYXJ0MyA9IGN1YmVkIC0gMi4wICogc3F1YXJlZCArIGFtb3VudDtcbiAgICAgICAgY29uc3QgcGFydDQgPSBjdWJlZCAtIHNxdWFyZWQ7XG4gICAgICAgIHJldHVybiB2YWx1ZTEgKiBwYXJ0MSArIHZhbHVlMiAqIHBhcnQyICsgdGFuZ2VudDEgKiBwYXJ0MyArIHRhbmdlbnQyICogcGFydDQ7XG4gICAgfVxuICAgIFNjYWxhci5oZXJtaXRlID0gaGVybWl0ZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmFuZG9tIGZsb2F0IG51bWJlciBiZXR3ZWVuIGFuZCBtaW4gYW5kIG1heCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gbWluIC0gbWluIHZhbHVlIG9mIHJhbmRvbVxuICAgICAqIEBwYXJhbSBtYXggLSBtYXggdmFsdWUgb2YgcmFuZG9tXG4gICAgICogQHJldHVybnMgcmFuZG9tIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmFuZG9tUmFuZ2UobWluLCBtYXgpIHtcbiAgICAgICAgaWYgKG1pbiA9PT0gbWF4KSB7XG4gICAgICAgICAgICByZXR1cm4gbWluO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XG4gICAgfVxuICAgIFNjYWxhci5yYW5kb21SYW5nZSA9IHJhbmRvbVJhbmdlO1xuICAgIC8qKlxuICAgICAqIFRoaXMgZXhwb3J0IGZ1bmN0aW9uIHJldHVybnMgcGVyY2VudGFnZSBvZiBhIG51bWJlciBpbiBhIGdpdmVuIHJhbmdlLlxuICAgICAqXG4gICAgICogUmFuZ2VUb1BlcmNlbnQoNDAsMjAsNjApIHdpbGwgcmV0dXJuIDAuNSAoNTAlKVxuICAgICAqIFJhbmdlVG9QZXJjZW50KDM0LDAsMTAwKSB3aWxsIHJldHVybiAwLjM0ICgzNCUpXG4gICAgICogQHBhcmFtIG51bSAtIHRvIGNvbnZlcnQgdG8gcGVyY2VudGFnZVxuICAgICAqIEBwYXJhbSBtaW4gLSBtaW4gcmFuZ2VcbiAgICAgKiBAcGFyYW0gbWF4IC0gbWF4IHJhbmdlXG4gICAgICogQHJldHVybnMgdGhlIHBlcmNlbnRhZ2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByYW5nZVRvUGVyY2VudChudW0sIG1pbiwgbWF4KSB7XG4gICAgICAgIHJldHVybiAobnVtIC0gbWluKSAvIChtYXggLSBtaW4pO1xuICAgIH1cbiAgICBTY2FsYXIucmFuZ2VUb1BlcmNlbnQgPSByYW5nZVRvUGVyY2VudDtcbiAgICAvKipcbiAgICAgKiBUaGlzIGV4cG9ydCBmdW5jdGlvbiByZXR1cm5zIG51bWJlciB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBwZXJjZW50YWdlIGluIGEgZ2l2ZW4gcmFuZ2UuXG4gICAgICpcbiAgICAgKiBQZXJjZW50VG9SYW5nZSgwLjM0LDAsMTAwKSB3aWxsIHJldHVybiAzNC5cbiAgICAgKiBAcGFyYW0gcGVyY2VudCAtIHRvIGNvbnZlcnQgdG8gbnVtYmVyXG4gICAgICogQHBhcmFtIG1pbiAtIG1pbiByYW5nZVxuICAgICAqIEBwYXJhbSBtYXggLSBtYXggcmFuZ2VcbiAgICAgKiBAcmV0dXJucyB0aGUgbnVtYmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGVyY2VudFRvUmFuZ2UocGVyY2VudCwgbWluLCBtYXgpIHtcbiAgICAgICAgcmV0dXJuIChtYXggLSBtaW4pICogcGVyY2VudCArIG1pbjtcbiAgICB9XG4gICAgU2NhbGFyLnBlcmNlbnRUb1JhbmdlID0gcGVyY2VudFRvUmFuZ2U7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYW5nbGUgY29udmVydGVkIHRvIGVxdWl2YWxlbnQgdmFsdWUgYmV0d2VlbiAtTWF0aC5QSSBhbmQgTWF0aC5QSSByYWRpYW5zLlxuICAgICAqIEBwYXJhbSBhbmdsZSAtIFRoZSBhbmdsZSB0byBub3JtYWxpemUgaW4gcmFkaWFuLlxuICAgICAqIEByZXR1cm5zIFRoZSBjb252ZXJ0ZWQgYW5nbGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplUmFkaWFucyhhbmdsZSkge1xuICAgICAgICAvLyBNb3JlIHByZWNpc2UgYnV0IHNsb3dlciB2ZXJzaW9uIGtlcHQgZm9yIHJlZmVyZW5jZS5cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6bm8tY29tbWVudGVkLW91dC1jb2RlXG4gICAgICAgIC8qXG4gICAgICAgIC8vIGFuZ2xlID0gYW5nbGUgJSBUb29scy5Ud29QaTtcbiAgICAgICAgLy8gYW5nbGUgPSAoYW5nbGUgKyBUb29scy5Ud29QaSkgJSBUb29scy5Ud29QaTtcbiAgICBcbiAgICAgICAgLy9pZiAoYW5nbGUgPiBNYXRoLlBJKSB7XG4gICAgICAgIC8vXHRhbmdsZSAtPSBUb29scy5Ud29QaTtcbiAgICAgICAgLy99XG4gICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIGFuZ2xlIC0gU2NhbGFyLlR3b1BpICogTWF0aC5mbG9vcigoYW5nbGUgKyBNYXRoLlBJKSAvIFNjYWxhci5Ud29QaSk7XG4gICAgfVxuICAgIFNjYWxhci5ub3JtYWxpemVSYWRpYW5zID0gbm9ybWFsaXplUmFkaWFucztcbn0pKFNjYWxhciB8fCAoU2NhbGFyID0ge30pKTtcbiIsICJpbXBvcnQgeyBFcHNpbG9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBRdWF0ZXJuaW9uIH0gZnJvbSAnLi9RdWF0ZXJuaW9uJztcbmltcG9ydCB7IFNjYWxhciB9IGZyb20gJy4vU2NhbGFyJztcbi8qKlxuICogQHB1YmxpY1xuICogVmVjdG9yMyBpcyBhIHR5cGUgYW5kIGEgbmFtZXNwYWNlLlxuICogYGBgXG4gKiAvLyBUaGUgbmFtZXNwYWNlIGNvbnRhaW5zIGFsbCB0eXBlcyBhbmQgZnVuY3Rpb25zIHRvIG9wZXJhdGVzIHdpdGggVmVjdG9yM1xuICogY29uc3QgbmV4dCA9IFZlY3RvcjMuYWRkKHBvaW50QSwgdmVsb2NpdHlBKVxuICogLy8gVGhlIHR5cGUgVmVjdG9yMyBpcyBhbiBhbGlhcyB0byBWZWN0b3IzLlJlYWRvbmx5VmVjdG9yM1xuICogY29uc3QgcmVhZG9ubHlQb3NpdGlvbjogVmVjdG9yMyA9IFZlY3RvcjMuWmVybygpXG4gKiByZWFkb25seVBvc2l0aW9uLnggPSAwLjEgLy8gdGhpcyBGQUlMU1xuICpcbiAqIC8vIEZvciBtdXRhYmxlIHVzYWdlLCB1c2UgYFZlY3RvcjMuTXV0YWJsZWBcbiAqIGNvbnN0IHBvc2l0aW9uOiBWZWN0b3IzLk11dGFibGUgPSBWZWN0b3IzLk9uZSgpXG4gKiBwb3NpdGlvbi54ID0gMy4wIC8vIHRoaXMgV09SS1NcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIFZlY3RvcjM7XG4oZnVuY3Rpb24gKFZlY3RvcjMpIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHRoYXQgdGhlIHZlY3RvciBpcyBub24gdW5pZm9ybSBtZWFuaW5nIHgsIHkgb3IgeiBhcmUgbm90IGFsbCB0aGUgc2FtZVxuICAgICAqIEBwYXJhbSB2ZWN0b3IgLSB2ZWN0b3IgdG8gY2hlY2tcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05vblVuaWZvcm0odmVjdG9yKSB7XG4gICAgICAgIGNvbnN0IGFic1ggPSBNYXRoLmFicyh2ZWN0b3IueCk7XG4gICAgICAgIGNvbnN0IGFic1kgPSBNYXRoLmFicyh2ZWN0b3IueSk7XG4gICAgICAgIGlmIChhYnNYICE9PSBhYnNZKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhYnNaID0gTWF0aC5hYnModmVjdG9yLnopO1xuICAgICAgICBpZiAoYWJzWCAhPT0gYWJzWikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBWZWN0b3IzLmlzTm9uVW5pZm9ybSA9IGlzTm9uVW5pZm9ybTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFZlY3RvcjMgb2JqZWN0IGZyb20gdGhlIGdpdmVuIHgsIHksIHogKGZsb2F0cykgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSBmaXJzdCBjb29yZGluYXRlcyAob24gWCBheGlzKVxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgc2Vjb25kIGNvb3JkaW5hdGVzIChvbiBZIGF4aXMpXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB0aGlyZCBjb29yZGluYXRlcyAob24gWiBheGlzKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBmaXJzdCBjb29yZGluYXRlcyAob24gWCBheGlzKVxuICAgICAqL1xuICAgIHggPSAwLCBcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBzZWNvbmQgY29vcmRpbmF0ZXMgKG9uIFkgYXhpcylcbiAgICAgKi9cbiAgICB5ID0gMCwgXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgdGhpcmQgY29vcmRpbmF0ZXMgKG9uIFogYXhpcylcbiAgICAgKi9cbiAgICB6ID0gMCkge1xuICAgICAgICByZXR1cm4geyB4LCB5LCB6IH07XG4gICAgfVxuICAgIFZlY3RvcjMuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBhcyB0aGUgcmVzdWx0IG9mIHRoZSBhZGRpdGlvbiBvZiB0aGUgdHdvIGdpdmVuIHZlY3RvcnMuXG4gICAgICogQHBhcmFtIHZlY3RvcjEgLSB0aGUgZmlyc3QgdmVjdG9yXG4gICAgICogQHBhcmFtIHZlY3RvcjIgLSB0aGUgc2Vjb25kIHZlY3RvclxuICAgICAqIEByZXR1cm5zIHRoZSByZXN1bHRpbmcgdmVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkKHZlY3RvcjEsIHZlY3RvcjIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHZlY3RvcjEueCArIHZlY3RvcjIueCxcbiAgICAgICAgICAgIHk6IHZlY3RvcjEueSArIHZlY3RvcjIueSxcbiAgICAgICAgICAgIHo6IHZlY3RvcjEueiArIHZlY3RvcjIuelxuICAgICAgICB9O1xuICAgIH1cbiAgICBWZWN0b3IzLmFkZCA9IGFkZDtcbiAgICAvKipcbiAgICAgKiBBZGQgY29tcG9uZW50IGJ5IGNvbXBvbmVudCB0aGUgdmVjdG9yMiBpbnRvIGRlc3RcbiAgICAgKiBAcGFyYW0gZGVzdCAtIHRoZSBmaXJzdCB2ZWN0b3IgYW5kIGRlc3RpbmF0aW9uIG9mIGFkZGl0aW9uXG4gICAgICogQHBhcmFtIHZlY3RvcjIgLSB0aGUgc2Vjb25kIHZlY3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZFRvUmVmKHZlY3RvcjEsIHZlY3RvcjIsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQueCA9IHZlY3RvcjEueCArIHZlY3RvcjIueDtcbiAgICAgICAgcmVzdWx0LnkgPSB2ZWN0b3IxLnkgKyB2ZWN0b3IyLnk7XG4gICAgICAgIHJlc3VsdC56ID0gdmVjdG9yMS56ICsgdmVjdG9yMi56O1xuICAgIH1cbiAgICBWZWN0b3IzLmFkZFRvUmVmID0gYWRkVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGFzIHRoZSByZXN1bHQgb2YgdGhlIHN1YnN0cmFjdGlvbiBvZiB0aGUgdHdvIGdpdmVuIHZlY3RvcnMuXG4gICAgICogQHJldHVybnMgdGhlIHJlc3VsdGluZyB2ZWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdWJ0cmFjdCh2ZWN0b3IxLCB2ZWN0b3IyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB2ZWN0b3IxLnggLSB2ZWN0b3IyLngsXG4gICAgICAgICAgICB5OiB2ZWN0b3IxLnkgLSB2ZWN0b3IyLnksXG4gICAgICAgICAgICB6OiB2ZWN0b3IxLnogLSB2ZWN0b3IyLnpcbiAgICAgICAgfTtcbiAgICB9XG4gICAgVmVjdG9yMy5zdWJ0cmFjdCA9IHN1YnRyYWN0O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBhcyB0aGUgcmVzdWx0IG9mIHRoZSBzdWJzdHJhY3Rpb24gb2YgdGhlIHR3byBnaXZlbiB2ZWN0b3JzLlxuICAgICAqIEByZXR1cm5zIHRoZSByZXN1bHRpbmcgdmVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VidHJhY3RUb1JlZih2ZWN0b3IxLCB2ZWN0b3IyLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSB2ZWN0b3IxLnggLSB2ZWN0b3IyLng7XG4gICAgICAgIHJlc3VsdC55ID0gdmVjdG9yMS55IC0gdmVjdG9yMi55O1xuICAgICAgICByZXN1bHQueiA9IHZlY3RvcjEueiAtIHZlY3RvcjIuejtcbiAgICB9XG4gICAgVmVjdG9yMy5zdWJ0cmFjdFRvUmVmID0gc3VidHJhY3RUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgdGhlIGdpdmVuIGZsb2F0cyBmcm9tIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYW5kIHNldCB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGlzIHJlc3VsdFxuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VidHJhY3RGcm9tRmxvYXRzVG9SZWYodmVjdG9yMSwgeCwgeSwgeiwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gdmVjdG9yMS54IC0geDtcbiAgICAgICAgcmVzdWx0LnkgPSB2ZWN0b3IxLnkgLSB5O1xuICAgICAgICByZXN1bHQueiA9IHZlY3RvcjEueiAtIHo7XG4gICAgfVxuICAgIFZlY3RvcjMuc3VidHJhY3RGcm9tRmxvYXRzVG9SZWYgPSBzdWJ0cmFjdEZyb21GbG9hdHNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgd2l0aCB0aGUgb3RoZXIgc2lnblxuICAgICAqIEByZXR1cm5zIHRoZSByZXN1bHRpbmcgdmVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmVnYXRlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7IHg6IC12YWx1ZS54LCB5OiAtdmFsdWUueSwgejogLXZhbHVlLnogfTtcbiAgICB9XG4gICAgVmVjdG9yMy5uZWdhdGUgPSBuZWdhdGU7XG4gICAgLyoqXG4gICAgICogQ29weSBzb3VyY2UgaW50byBkZXN0XG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5RnJvbShzb3VyY2UsIGRlc3QpIHtcbiAgICAgICAgZGVzdC54ID0gc291cmNlLng7XG4gICAgICAgIGRlc3QueSA9IHNvdXJjZS55O1xuICAgICAgICBkZXN0LnogPSBzb3VyY2UuejtcbiAgICB9XG4gICAgVmVjdG9yMy5jb3B5RnJvbSA9IGNvcHlGcm9tO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcImRlc3RcIiB3aXRoIHRoZSBnaXZlbiBmbG9hdHMuXG4gICAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIHNvdXJjZVxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgeSBjb29yZGluYXRlIG9mIHRoZSBzb3VyY2VcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgc291cmNlXG4gICAgICogQHBhcmFtIGRlc3QgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5RnJvbUZsb2F0cyh4LCB5LCB6LCBkZXN0KSB7XG4gICAgICAgIGRlc3QueCA9IHg7XG4gICAgICAgIGRlc3QueSA9IHk7XG4gICAgICAgIGRlc3QueiA9IHo7XG4gICAgfVxuICAgIFZlY3RvcjMuY29weUZyb21GbG9hdHMgPSBjb3B5RnJvbUZsb2F0cztcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgd2l0aCB0aGUgc2FtZSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHRoZSByZXN1bHRpbmcgdmVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoc291cmNlLngsIHNvdXJjZS55LCBzb3VyY2Uueik7XG4gICAgfVxuICAgIFZlY3RvcjMuY2xvbmUgPSBjbG9uZTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNsaXAgZmFjdG9yIGJldHdlZW4gdHdvIHZlY3RvcnNcbiAgICAgKiBAcGFyYW0gdmVjdG9yMCAtIGRlZmluZXMgdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gdmVjdG9yMSAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIGF4aXMgLSBkZWZpbmVzIHRoZSBheGlzIHRvIHVzZVxuICAgICAqIEBwYXJhbSBzaXplIC0gZGVmaW5lcyB0aGUgc2l6ZSBhbG9uZyB0aGUgYXhpc1xuICAgICAqIEByZXR1cm5zIHRoZSBjbGlwIGZhY3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldENsaXBGYWN0b3IodmVjdG9yMCwgdmVjdG9yMSwgYXhpcywgc2l6ZSkge1xuICAgICAgICBjb25zdCBkMCA9IGRvdCh2ZWN0b3IwLCBheGlzKSAtIHNpemU7XG4gICAgICAgIGNvbnN0IGQxID0gZG90KHZlY3RvcjEsIGF4aXMpIC0gc2l6ZTtcbiAgICAgICAgY29uc3QgcyA9IGQwIC8gKGQwIC0gZDEpO1xuICAgICAgICByZXR1cm4gcztcbiAgICB9XG4gICAgVmVjdG9yMy5nZXRDbGlwRmFjdG9yID0gZ2V0Q2xpcEZhY3RvcjtcbiAgICAvKipcbiAgICAgKiBHZXQgYW5nbGUgYmV0d2VlbiB0d28gdmVjdG9yc1xuICAgICAqIEBwYXJhbSB2ZWN0b3IwIC0gYW5nbGUgYmV0d2VlbiB2ZWN0b3IwIGFuZCB2ZWN0b3IxXG4gICAgICogQHBhcmFtIHZlY3RvcjEgLSBhbmdsZSBiZXR3ZWVuIHZlY3RvcjAgYW5kIHZlY3RvcjFcbiAgICAgKiBAcGFyYW0gbm9ybWFsIC0gZGlyZWN0aW9uIG9mIHRoZSBub3JtYWxcbiAgICAgKiBAcmV0dXJucyB0aGUgYW5nbGUgYmV0d2VlbiB2ZWN0b3IwIGFuZCB2ZWN0b3IxXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QW5nbGVCZXR3ZWVuVmVjdG9ycyh2ZWN0b3IwLCB2ZWN0b3IxLCBub3JtYWwpIHtcbiAgICAgICAgY29uc3QgdjAgPSBub3JtYWxpemUodmVjdG9yMCk7XG4gICAgICAgIGNvbnN0IHYxID0gbm9ybWFsaXplKHZlY3RvcjEpO1xuICAgICAgICBjb25zdCB2MHYxZG90ID0gZG90KHYwLCB2MSk7XG4gICAgICAgIGNvbnN0IG4gPSBjcmVhdGUoKTtcbiAgICAgICAgY3Jvc3NUb1JlZih2MCwgdjEsIG4pO1xuICAgICAgICBpZiAoZG90KG4sIG5vcm1hbCkgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hY29zKHYwdjFkb3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtTWF0aC5hY29zKHYwdjFkb3QpO1xuICAgIH1cbiAgICBWZWN0b3IzLmdldEFuZ2xlQmV0d2VlblZlY3RvcnMgPSBnZXRBbmdsZUJldHdlZW5WZWN0b3JzO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgZnJvbSB0aGUgaW5kZXggXCJvZmZzZXRcIiBvZiB0aGUgZ2l2ZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXksIG9mZnNldCA9IDApIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShhcnJheVtvZmZzZXRdLCBhcnJheVtvZmZzZXQgKyAxXSwgYXJyYXlbb2Zmc2V0ICsgMl0pO1xuICAgIH1cbiAgICBWZWN0b3IzLmZyb21BcnJheSA9IGZyb21BcnJheTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IGZyb20gdGhlIGluZGV4IFwib2Zmc2V0XCIgb2YgdGhlIGdpdmVuIEZsb2F0QXJyYXlcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQuICBVc2UgRnJvbUFycmF5IGluc3RlYWRcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tRmxvYXRBcnJheShhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBmcm9tQXJyYXkoYXJyYXksIG9mZnNldCk7XG4gICAgfVxuICAgIFZlY3RvcjMuZnJvbUZsb2F0QXJyYXkgPSBmcm9tRmxvYXRBcnJheTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoZSBlbGVtZW50IHZhbHVlcyBmcm9tIHRoZSBpbmRleCBcIm9mZnNldFwiIG9mIHRoZSBnaXZlbiBhcnJheVxuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQXJyYXlUb1JlZihhcnJheSwgb2Zmc2V0LCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSBhcnJheVtvZmZzZXRdO1xuICAgICAgICByZXN1bHQueSA9IGFycmF5W29mZnNldCArIDFdO1xuICAgICAgICByZXN1bHQueiA9IGFycmF5W29mZnNldCArIDJdO1xuICAgIH1cbiAgICBWZWN0b3IzLmZyb21BcnJheVRvUmVmID0gZnJvbUFycmF5VG9SZWY7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGUgZWxlbWVudCB2YWx1ZXMgZnJvbSB0aGUgaW5kZXggXCJvZmZzZXRcIiBvZiB0aGUgZ2l2ZW4gRmxvYXRBcnJheVxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZC4gIFVzZSBGcm9tQXJyYXlUb1JlZiBpbnN0ZWFkLlxuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tRmxvYXRBcnJheVRvUmVmKGFycmF5LCBvZmZzZXQsIHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gZnJvbUFycmF5VG9SZWYoYXJyYXksIG9mZnNldCwgcmVzdWx0KTtcbiAgICB9XG4gICAgVmVjdG9yMy5mcm9tRmxvYXRBcnJheVRvUmVmID0gZnJvbUZsb2F0QXJyYXlUb1JlZjtcbiAgICAvLyBQcm9wZXJ0aWVzXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGVuZ3RoIG9mIHRoZSBWZWN0b3IzXG4gICAgICogQHJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGUgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxlbmd0aCh2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh2ZWN0b3IueCAqIHZlY3Rvci54ICsgdmVjdG9yLnkgKiB2ZWN0b3IueSArIHZlY3Rvci56ICogdmVjdG9yLnopO1xuICAgIH1cbiAgICBWZWN0b3IzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiB0aGUgVmVjdG9yM1xuICAgICAqIEByZXR1cm5zIHNxdWFyZWQgbGVuZ3RoIG9mIHRoZSBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVuZ3RoU3F1YXJlZCh2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZlY3Rvci54ICogdmVjdG9yLnggKyB2ZWN0b3IueSAqIHZlY3Rvci55ICsgdmVjdG9yLnogKiB2ZWN0b3IuejtcbiAgICB9XG4gICAgVmVjdG9yMy5sZW5ndGhTcXVhcmVkID0gbGVuZ3RoU3F1YXJlZDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIGN1cnJlbnQgVmVjdG9yMyBjb29yZGluYXRlcyBtdWx0aXBsaWVkIGJ5IHRoZSBmbG9hdCBcInNjYWxlXCJcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBtdWx0aXBsaWVyIGZhY3RvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY2FsZVRvUmVmKHZlY3Rvciwgc2NhbGUsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQueCA9IHZlY3Rvci54ICogc2NhbGU7XG4gICAgICAgIHJlc3VsdC55ID0gdmVjdG9yLnkgKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LnogPSB2ZWN0b3IueiAqIHNjYWxlO1xuICAgIH1cbiAgICBWZWN0b3IzLnNjYWxlVG9SZWYgPSBzY2FsZVRvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgd2l0aCB0aGUgY3VycmVudCBWZWN0b3IzIGNvb3JkaW5hdGVzIG11bHRpcGxpZWQgYnkgdGhlIGZsb2F0IFwic2NhbGVcIlxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIG11bHRpcGxpZXIgZmFjdG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlKHZlY3Rvciwgc2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSh2ZWN0b3IueCAqIHNjYWxlLCB2ZWN0b3IueSAqIHNjYWxlLCB2ZWN0b3IueiAqIHNjYWxlKTtcbiAgICB9XG4gICAgVmVjdG9yMy5zY2FsZSA9IHNjYWxlO1xuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZSB0aGUgY3VycmVudCBWZWN0b3IzIHdpdGggdGhlIGdpdmVuIGlucHV0IGxlbmd0aC5cbiAgICAgKiBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgaXMgYW4gaW4gcGxhY2Ugb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSBsZW4gLSB0aGUgbGVuZ3RoIG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemVGcm9tTGVuZ3RoKHZlY3RvciwgbGVuKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgwLCAwLCAwKTtcbiAgICAgICAgbm9ybWFsaXplRnJvbUxlbmd0aFRvUmVmKHZlY3RvciwgbGVuLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBWZWN0b3IzLm5vcm1hbGl6ZUZyb21MZW5ndGggPSBub3JtYWxpemVGcm9tTGVuZ3RoO1xuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZSB0aGUgY3VycmVudCBWZWN0b3IzIHdpdGggdGhlIGdpdmVuIGlucHV0IGxlbmd0aC5cbiAgICAgKiBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgaXMgYW4gaW4gcGxhY2Ugb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSBsZW4gLSB0aGUgbGVuZ3RoIG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemVGcm9tTGVuZ3RoVG9SZWYodmVjdG9yLCBsZW4sIHJlc3VsdCkge1xuICAgICAgICBpZiAobGVuID09PSAwIHx8IGxlbiA9PT0gMS4wKSB7XG4gICAgICAgICAgICBjb3B5RnJvbSh2ZWN0b3IsIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2NhbGVUb1JlZih2ZWN0b3IsIDEuMCAvIGxlbiwgcmVzdWx0KTtcbiAgICB9XG4gICAgVmVjdG9yMy5ub3JtYWxpemVGcm9tTGVuZ3RoVG9SZWYgPSBub3JtYWxpemVGcm9tTGVuZ3RoVG9SZWY7XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplIHRoZSBjdXJyZW50IFZlY3RvcjMuXG4gICAgICogUGxlYXNlIG5vdGUgdGhhdCB0aGlzIGlzIGFuIGluIHBsYWNlIG9wZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemUodmVjdG9yKSB7XG4gICAgICAgIHJldHVybiBub3JtYWxpemVGcm9tTGVuZ3RoKHZlY3RvciwgbGVuZ3RoKHZlY3RvcikpO1xuICAgIH1cbiAgICBWZWN0b3IzLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemUgdGhlIGN1cnJlbnQgVmVjdG9yMy5cbiAgICAgKiBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgaXMgYW4gaW4gcGxhY2Ugb3BlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZVRvUmVmKHZlY3RvciwgcmVzdWx0KSB7XG4gICAgICAgIG5vcm1hbGl6ZUZyb21MZW5ndGhUb1JlZih2ZWN0b3IsIGxlbmd0aCh2ZWN0b3IpLCByZXN1bHQpO1xuICAgIH1cbiAgICBWZWN0b3IzLm5vcm1hbGl6ZVRvUmVmID0gbm9ybWFsaXplVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZG90IHByb2R1Y3QgKGZsb2F0KSBiZXR3ZWVuIHRoZSB2ZWN0b3JzIFwibGVmdFwiIGFuZCBcInJpZ2h0XCJcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIGxlZnQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHJpZ2h0IG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgZG90IHByb2R1Y3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkb3QobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgcmV0dXJuIGxlZnQueCAqIHJpZ2h0LnggKyBsZWZ0LnkgKiByaWdodC55ICsgbGVmdC56ICogcmlnaHQuejtcbiAgICB9XG4gICAgVmVjdG9yMy5kb3QgPSBkb3Q7XG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0aGlzIHZlY3RvciAod2l0aCBhbiBpbXBsaWNpdCAxIGluIHRoZSA0dGggZGltZW5zaW9uKSBhbmQgbSwgYW5kIGRpdmlkZXMgYnkgcGVyc3BlY3RpdmVcbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gVGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIHJlc3VsdCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXBwbHlNYXRyaXg0KHZlY3RvciwgbWF0cml4KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNsb25lKHZlY3Rvcik7XG4gICAgICAgIGFwcGx5TWF0cml4NFRvUmVmKHZlY3RvciwgbWF0cml4LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBWZWN0b3IzLmFwcGx5TWF0cml4NCA9IGFwcGx5TWF0cml4NDtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHRoaXMgdmVjdG9yICh3aXRoIGFuIGltcGxpY2l0IDEgaW4gdGhlIDR0aCBkaW1lbnNpb24pIGFuZCBtLCBhbmQgZGl2aWRlcyBieSBwZXJzcGVjdGl2ZSBhbmQgc2V0IHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoaXMgcmVzdWx0XG4gICAgICogQHBhcmFtIG1hdHJpeCAtIFRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFwcGx5TWF0cml4NFRvUmVmKHZlY3RvciwgbWF0cml4LCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgeyB4LCB5LCB6IH0gPSB2ZWN0b3I7XG4gICAgICAgIGNvbnN0IG0gPSBtYXRyaXguX207XG4gICAgICAgIGNvbnN0IHcgPSAxIC8gKG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XSk7XG4gICAgICAgIHJlc3VsdC54ID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdKSAqIHc7XG4gICAgICAgIHJlc3VsdC55ID0gKG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdKSAqIHc7XG4gICAgICAgIHJlc3VsdC56ID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgKiB3O1xuICAgIH1cbiAgICBWZWN0b3IzLmFwcGx5TWF0cml4NFRvUmVmID0gYXBwbHlNYXRyaXg0VG9SZWY7XG4gICAgLyoqXG4gICAgICogUm90YXRlcyB0aGUgY3VycmVudCBWZWN0b3IzIGJhc2VkIG9uIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHEgLSBkZWZpbmVzIHRoZSBRdWF0ZXJuaW9uXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0ZSh2ZWN0b3IsIHEpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIHJvdGF0ZVRvUmVmKHZlY3RvciwgcSwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgVmVjdG9yMy5yb3RhdGUgPSByb3RhdGU7XG4gICAgLyoqXG4gICAgICogUm90YXRlcyBjdXJyZW50IFZlY3RvcjMgYmFzZWQgb24gdGhlIGdpdmVuIHF1YXRlcm5pb24sIGJ1dCBhcHBsaWVzIHRoZSByb3RhdGlvbiB0byB0YXJnZXQgVmVjdG9yMy5cbiAgICAgKiBAcGFyYW0gcSAtIGRlZmluZXMgdGhlIFF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IFZlY3RvcjNcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRlVG9SZWYodmVjdG9yLCBxLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgeyB4LCB5LCB6IH0gPSB2ZWN0b3I7XG4gICAgICAgIGNvbnN0IHsgeDogcXgsIHk6IHF5LCB6OiBxeiwgdzogcXcgfSA9IHE7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBxdWF0ICogdmVjdG9yXG4gICAgICAgIGNvbnN0IGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5O1xuICAgICAgICBjb25zdCBpeSA9IHF3ICogeSArIHF6ICogeCAtIHF4ICogejtcbiAgICAgICAgY29uc3QgaXogPSBxdyAqIHogKyBxeCAqIHkgLSBxeSAqIHg7XG4gICAgICAgIGNvbnN0IGl3ID0gLXF4ICogeCAtIHF5ICogeSAtIHF6ICogejtcbiAgICAgICAgLy8gY2FsY3VsYXRlIHJlc3VsdCAqIGludmVyc2UgcXVhdFxuICAgICAgICByZXN1bHQueCA9IGl4ICogcXcgKyBpdyAqIC1xeCArIGl5ICogLXF6IC0gaXogKiAtcXk7XG4gICAgICAgIHJlc3VsdC55ID0gaXkgKiBxdyArIGl3ICogLXF5ICsgaXogKiAtcXggLSBpeCAqIC1xejtcbiAgICAgICAgcmVzdWx0LnogPSBpeiAqIHF3ICsgaXcgKiAtcXogKyBpeCAqIC1xeSAtIGl5ICogLXF4O1xuICAgIH1cbiAgICBWZWN0b3IzLnJvdGF0ZVRvUmVmID0gcm90YXRlVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGxvY2F0ZWQgZm9yIFwiYW1vdW50XCIgKGZsb2F0KSBvbiB0aGUgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0aGUgdmVjdG9ycyBcInN0YXJ0XCIgYW5kIFwiZW5kXCJcbiAgICAgKiBAcGFyYW0gc3RhcnQgLSBkZWZpbmVzIHRoZSBzdGFydCB2YWx1ZVxuICAgICAqIEBwYXJhbSBlbmQgLSBkZWZpbmVzIHRoZSBlbmQgdmFsdWVcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gbWF4IGRlZmluZXMgYW1vdW50IGJldHdlZW4gYm90aCAoYmV0d2VlbiAwIGFuZCAxKVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxlcnAoc3RhcnQsIGVuZCwgYW1vdW50KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgwLCAwLCAwKTtcbiAgICAgICAgbGVycFRvUmVmKHN0YXJ0LCBlbmQsIGFtb3VudCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgVmVjdG9yMy5sZXJwID0gbGVycDtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIGxpbmVhciBpbnRlcnBvbGF0aW9uIGZyb20gdGhlIHZlY3RvciBcInN0YXJ0XCIgZm9yIFwiYW1vdW50XCIgdG8gdGhlIHZlY3RvciBcImVuZFwiXG4gICAgICogQHBhcmFtIHN0YXJ0IC0gZGVmaW5lcyB0aGUgc3RhcnQgdmFsdWVcbiAgICAgKiBAcGFyYW0gZW5kIC0gZGVmaW5lcyB0aGUgZW5kIHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIG1heCBkZWZpbmVzIGFtb3VudCBiZXR3ZWVuIGJvdGggKGJldHdlZW4gMCBhbmQgMSlcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVycFRvUmVmKHN0YXJ0LCBlbmQsIGFtb3VudCwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gc3RhcnQueCArIChlbmQueCAtIHN0YXJ0LngpICogYW1vdW50O1xuICAgICAgICByZXN1bHQueSA9IHN0YXJ0LnkgKyAoZW5kLnkgLSBzdGFydC55KSAqIGFtb3VudDtcbiAgICAgICAgcmVzdWx0LnogPSBzdGFydC56ICsgKGVuZC56IC0gc3RhcnQueikgKiBhbW91bnQ7XG4gICAgfVxuICAgIFZlY3RvcjMubGVycFRvUmVmID0gbGVycFRvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBhcyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0aGUgdmVjdG9ycyBcImxlZnRcIiBhbmQgXCJyaWdodFwiXG4gICAgICogVGhlIGNyb3NzIHByb2R1Y3QgaXMgdGhlbiBvcnRob2dvbmFsIHRvIGJvdGggXCJsZWZ0XCIgYW5kIFwicmlnaHRcIlxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgbGVmdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgcmlnaHQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBjcm9zcyBwcm9kdWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gY3Jvc3MobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWmVybygpO1xuICAgICAgICBjcm9zc1RvUmVmKGxlZnQsIHJpZ2h0LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBWZWN0b3IzLmNyb3NzID0gY3Jvc3M7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGUgY3Jvc3MgcHJvZHVjdCBvZiBcImxlZnRcIiBhbmQgXCJyaWdodFwiXG4gICAgICogVGhlIGNyb3NzIHByb2R1Y3QgaXMgdGhlbiBvcnRob2dvbmFsIHRvIGJvdGggXCJsZWZ0XCIgYW5kIFwicmlnaHRcIlxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgbGVmdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgcmlnaHQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcm9zc1RvUmVmKGxlZnQsIHJpZ2h0LCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSBsZWZ0LnkgKiByaWdodC56IC0gbGVmdC56ICogcmlnaHQueTtcbiAgICAgICAgcmVzdWx0LnkgPSBsZWZ0LnogKiByaWdodC54IC0gbGVmdC54ICogcmlnaHQuejtcbiAgICAgICAgcmVzdWx0LnogPSBsZWZ0LnggKiByaWdodC55IC0gbGVmdC55ICogcmlnaHQueDtcbiAgICB9XG4gICAgVmVjdG9yMy5jcm9zc1RvUmVmID0gY3Jvc3NUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgdHJhbnNmb3JtYXRpb24gYnkgdGhlIGdpdmVuIG1hdHJpeCBvZiB0aGUgZ2l2ZW4gdmVjdG9yLlxuICAgICAqIFRoaXMgbWV0aG9kIGNvbXB1dGVzIHRyYW5mb3JtZWQgY29vcmRpbmF0ZXMgb25seSwgbm90IHRyYW5zZm9ybWVkIGRpcmVjdGlvbiB2ZWN0b3JzIChpZS4gaXQgdGFrZXMgdHJhbnNsYXRpb24gaW4gYWNjb3VudClcbiAgICAgKiBAcGFyYW0gdmVjdG9yIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyB0aGUgdHJhbnNmb3JtZWQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybUNvb3JkaW5hdGVzKHZlY3RvciwgdHJhbnNmb3JtYXRpb24pIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWmVybygpO1xuICAgICAgICB0cmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHZlY3RvciwgdHJhbnNmb3JtYXRpb24sIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFZlY3RvcjMudHJhbnNmb3JtQ29vcmRpbmF0ZXMgPSB0cmFuc2Zvcm1Db29yZGluYXRlcztcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiBjb29yZGluYXRlcyB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIHZlY3RvclxuICAgICAqIFRoaXMgbWV0aG9kIGNvbXB1dGVzIHRyYW5mb3JtZWQgY29vcmRpbmF0ZXMgb25seSwgbm90IHRyYW5zZm9ybWVkIGRpcmVjdGlvbiB2ZWN0b3JzIChpZS4gaXQgdGFrZXMgdHJhbnNsYXRpb24gaW4gYWNjb3VudClcbiAgICAgKiBAcGFyYW0gdmVjdG9yIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih2ZWN0b3IsIHRyYW5zZm9ybWF0aW9uLCByZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHZlY3Rvci54LCB2ZWN0b3IueSwgdmVjdG9yLnosIHRyYW5zZm9ybWF0aW9uLCByZXN1bHQpO1xuICAgIH1cbiAgICBWZWN0b3IzLnRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYgPSB0cmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIGNvb3JkaW5hdGVzIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgdHJhbnNmb3JtYXRpb24gYnkgdGhlIGdpdmVuIG1hdHJpeCBvZiB0aGUgZ2l2ZW4gZmxvYXRzICh4LCB5LCB6KVxuICAgICAqIFRoaXMgbWV0aG9kIGNvbXB1dGVzIHRyYW5mb3JtZWQgY29vcmRpbmF0ZXMgb25seSwgbm90IHRyYW5zZm9ybWVkIGRpcmVjdGlvbiB2ZWN0b3JzXG4gICAgICogQHBhcmFtIHggLSBkZWZpbmUgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgc291cmNlIHZlY3RvclxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHNvdXJjZSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZSB0aGUgeiBjb29yZGluYXRlIG9mIHRoZSBzb3VyY2UgdmVjdG9yXG4gICAgICogQHBhcmFtIHRyYW5zZm9ybWF0aW9uIC0gZGVmaW5lcyB0aGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHgsIHksIHosIHRyYW5zZm9ybWF0aW9uLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgbSA9IHRyYW5zZm9ybWF0aW9uLl9tO1xuICAgICAgICBjb25zdCByeCA9IHggKiBtWzBdICsgeSAqIG1bNF0gKyB6ICogbVs4XSArIG1bMTJdO1xuICAgICAgICBjb25zdCByeSA9IHggKiBtWzFdICsgeSAqIG1bNV0gKyB6ICogbVs5XSArIG1bMTNdO1xuICAgICAgICBjb25zdCByeiA9IHggKiBtWzJdICsgeSAqIG1bNl0gKyB6ICogbVsxMF0gKyBtWzE0XTtcbiAgICAgICAgY29uc3QgcncgPSAxIC8gKHggKiBtWzNdICsgeSAqIG1bN10gKyB6ICogbVsxMV0gKyBtWzE1XSk7XG4gICAgICAgIHJlc3VsdC54ID0gcnggKiBydztcbiAgICAgICAgcmVzdWx0LnkgPSByeSAqIHJ3O1xuICAgICAgICByZXN1bHQueiA9IHJ6ICogcnc7XG4gICAgfVxuICAgIFZlY3RvcjMudHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYgPSB0cmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbm9ybWFsIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIHZlY3RvclxuICAgICAqIFRoaXMgbWV0aG9kcyBjb21wdXRlcyB0cmFuc2Zvcm1lZCBub3JtYWxpemVkIGRpcmVjdGlvbiB2ZWN0b3JzIG9ubHkgKGllLiBpdCBkb2VzIG5vdCBhcHBseSB0cmFuc2xhdGlvbilcbiAgICAgKiBAcGFyYW0gdmVjdG9yIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm1Ob3JtYWwodmVjdG9yLCB0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBaZXJvKCk7XG4gICAgICAgIHRyYW5zZm9ybU5vcm1hbFRvUmVmKHZlY3RvciwgdHJhbnNmb3JtYXRpb24sIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFZlY3RvcjMudHJhbnNmb3JtTm9ybWFsID0gdHJhbnNmb3JtTm9ybWFsO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbm9ybWFsIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIHZlY3RvclxuICAgICAqIFRoaXMgbWV0aG9kcyBjb21wdXRlcyB0cmFuc2Zvcm1lZCBub3JtYWxpemVkIGRpcmVjdGlvbiB2ZWN0b3JzIG9ubHkgKGllLiBpdCBkb2VzIG5vdCBhcHBseSB0cmFuc2xhdGlvbilcbiAgICAgKiBAcGFyYW0gdmVjdG9yIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtTm9ybWFsVG9SZWYodmVjdG9yLCB0cmFuc2Zvcm1hdGlvbiwgcmVzdWx0KSB7XG4gICAgICAgIHRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZih2ZWN0b3IueCwgdmVjdG9yLnksIHZlY3Rvci56LCB0cmFuc2Zvcm1hdGlvbiwgcmVzdWx0KTtcbiAgICB9XG4gICAgVmVjdG9yMy50cmFuc2Zvcm1Ob3JtYWxUb1JlZiA9IHRyYW5zZm9ybU5vcm1hbFRvUmVmO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbm9ybWFsIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIGZsb2F0cyAoeCwgeSwgeilcbiAgICAgKiBUaGlzIG1ldGhvZHMgY29tcHV0ZXMgdHJhbnNmb3JtZWQgbm9ybWFsaXplZCBkaXJlY3Rpb24gdmVjdG9ycyBvbmx5IChpZS4gaXQgZG9lcyBub3QgYXBwbHkgdHJhbnNsYXRpb24pXG4gICAgICogQHBhcmFtIHggLSBkZWZpbmUgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgc291cmNlIHZlY3RvclxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHNvdXJjZSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZSB0aGUgeiBjb29yZGluYXRlIG9mIHRoZSBzb3VyY2UgdmVjdG9yXG4gICAgICogQHBhcmFtIHRyYW5zZm9ybWF0aW9uIC0gZGVmaW5lcyB0aGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZih4LCB5LCB6LCB0cmFuc2Zvcm1hdGlvbiwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IG0gPSB0cmFuc2Zvcm1hdGlvbi5fbTtcbiAgICAgICAgcmVzdWx0LnggPSB4ICogbVswXSArIHkgKiBtWzRdICsgeiAqIG1bOF07XG4gICAgICAgIHJlc3VsdC55ID0geCAqIG1bMV0gKyB5ICogbVs1XSArIHogKiBtWzldO1xuICAgICAgICByZXN1bHQueiA9IHggKiBtWzJdICsgeSAqIG1bNl0gKyB6ICogbVsxMF07XG4gICAgfVxuICAgIFZlY3RvcjMudHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmID0gdHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBsb2NhdGVkIGZvciBcImFtb3VudFwiIG9uIHRoZSBDYXRtdWxsUm9tIGludGVycG9sYXRpb24gc3BsaW5lIGRlZmluZWQgYnkgdGhlIHZlY3RvcnMgXCJ2YWx1ZTFcIiwgXCJ2YWx1ZTJcIiwgXCJ2YWx1ZTNcIiwgXCJ2YWx1ZTRcIlxuICAgICAqIEBwYXJhbSB2YWx1ZTEgLSBkZWZpbmVzIHRoZSBmaXJzdCBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHZhbHVlMiAtIGRlZmluZXMgdGhlIHNlY29uZCBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHZhbHVlMyAtIGRlZmluZXMgdGhlIHRoaXJkIGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0gdmFsdWU0IC0gZGVmaW5lcyB0aGUgZm91cnRoIGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gZGVmaW5lcyB0aGUgYW1vdW50IG9uIHRoZSBzcGxpbmUgdG8gdXNlXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2F0bXVsbFJvbSh2YWx1ZTEsIHZhbHVlMiwgdmFsdWUzLCB2YWx1ZTQsIGFtb3VudCkge1xuICAgICAgICBjb25zdCBzcXVhcmVkID0gYW1vdW50ICogYW1vdW50O1xuICAgICAgICBjb25zdCBjdWJlZCA9IGFtb3VudCAqIHNxdWFyZWQ7XG4gICAgICAgIGNvbnN0IHggPSAwLjUgKlxuICAgICAgICAgICAgKDIuMCAqIHZhbHVlMi54ICtcbiAgICAgICAgICAgICAgICAoLXZhbHVlMS54ICsgdmFsdWUzLngpICogYW1vdW50ICtcbiAgICAgICAgICAgICAgICAoMi4wICogdmFsdWUxLnggLSA1LjAgKiB2YWx1ZTIueCArIDQuMCAqIHZhbHVlMy54IC0gdmFsdWU0LngpICpcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZCArXG4gICAgICAgICAgICAgICAgKC12YWx1ZTEueCArIDMuMCAqIHZhbHVlMi54IC0gMy4wICogdmFsdWUzLnggKyB2YWx1ZTQueCkgKiBjdWJlZCk7XG4gICAgICAgIGNvbnN0IHkgPSAwLjUgKlxuICAgICAgICAgICAgKDIuMCAqIHZhbHVlMi55ICtcbiAgICAgICAgICAgICAgICAoLXZhbHVlMS55ICsgdmFsdWUzLnkpICogYW1vdW50ICtcbiAgICAgICAgICAgICAgICAoMi4wICogdmFsdWUxLnkgLSA1LjAgKiB2YWx1ZTIueSArIDQuMCAqIHZhbHVlMy55IC0gdmFsdWU0LnkpICpcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZCArXG4gICAgICAgICAgICAgICAgKC12YWx1ZTEueSArIDMuMCAqIHZhbHVlMi55IC0gMy4wICogdmFsdWUzLnkgKyB2YWx1ZTQueSkgKiBjdWJlZCk7XG4gICAgICAgIGNvbnN0IHogPSAwLjUgKlxuICAgICAgICAgICAgKDIuMCAqIHZhbHVlMi56ICtcbiAgICAgICAgICAgICAgICAoLXZhbHVlMS56ICsgdmFsdWUzLnopICogYW1vdW50ICtcbiAgICAgICAgICAgICAgICAoMi4wICogdmFsdWUxLnogLSA1LjAgKiB2YWx1ZTIueiArIDQuMCAqIHZhbHVlMy56IC0gdmFsdWU0LnopICpcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZCArXG4gICAgICAgICAgICAgICAgKC12YWx1ZTEueiArIDMuMCAqIHZhbHVlMi56IC0gMy4wICogdmFsdWUzLnogKyB2YWx1ZTQueikgKiBjdWJlZCk7XG4gICAgICAgIHJldHVybiBjcmVhdGUoeCwgeSwgeik7XG4gICAgfVxuICAgIFZlY3RvcjMuY2F0bXVsbFJvbSA9IGNhdG11bGxSb207XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB3aXRoIHRoZSBjb29yZGluYXRlcyBvZiBcInZhbHVlXCIsIGlmIHRoZSB2ZWN0b3IgXCJ2YWx1ZVwiIGlzIGluIHRoZSBjdWJlIGRlZmluZWQgYnkgdGhlIHZlY3RvcnMgXCJtaW5cIiBhbmQgXCJtYXhcIlxuICAgICAqIElmIGEgY29vcmRpbmF0ZSB2YWx1ZSBvZiBcInZhbHVlXCIgaXMgbG93ZXIgdGhhbiBvbmUgb2YgdGhlIFwibWluXCIgY29vcmRpbmF0ZSwgdGhlbiB0aGlzIFwidmFsdWVcIiBjb29yZGluYXRlIGlzIHNldCB3aXRoIHRoZSBcIm1pblwiIG9uZVxuICAgICAqIElmIGEgY29vcmRpbmF0ZSB2YWx1ZSBvZiBcInZhbHVlXCIgaXMgZ3JlYXRlciB0aGFuIG9uZSBvZiB0aGUgXCJtYXhcIiBjb29yZGluYXRlLCB0aGVuIHRoaXMgXCJ2YWx1ZVwiIGNvb3JkaW5hdGUgaXMgc2V0IHdpdGggdGhlIFwibWF4XCIgb25lXG4gICAgICogQHBhcmFtIHZhbHVlIC0gZGVmaW5lcyB0aGUgY3VycmVudCB2YWx1ZVxuICAgICAqIEBwYXJhbSBtaW4gLSBkZWZpbmVzIHRoZSBsb3dlciByYW5nZSB2YWx1ZVxuICAgICAqIEBwYXJhbSBtYXggLSBkZWZpbmVzIHRoZSB1cHBlciByYW5nZSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsYW1wKHZhbHVlLCBtaW4sIG1heCkge1xuICAgICAgICBjb25zdCB2ID0gY3JlYXRlKCk7XG4gICAgICAgIGNsYW1wVG9SZWYodmFsdWUsIG1pbiwgbWF4LCB2KTtcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgfVxuICAgIFZlY3RvcjMuY2xhbXAgPSBjbGFtcDtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoZSBjb29yZGluYXRlcyBvZiBcInZhbHVlXCIsIGlmIHRoZSB2ZWN0b3IgXCJ2YWx1ZVwiIGlzIGluIHRoZSBjdWJlIGRlZmluZWQgYnkgdGhlIHZlY3RvcnMgXCJtaW5cIiBhbmQgXCJtYXhcIlxuICAgICAqIElmIGEgY29vcmRpbmF0ZSB2YWx1ZSBvZiBcInZhbHVlXCIgaXMgbG93ZXIgdGhhbiBvbmUgb2YgdGhlIFwibWluXCIgY29vcmRpbmF0ZSwgdGhlbiB0aGlzIFwidmFsdWVcIiBjb29yZGluYXRlIGlzIHNldCB3aXRoIHRoZSBcIm1pblwiIG9uZVxuICAgICAqIElmIGEgY29vcmRpbmF0ZSB2YWx1ZSBvZiBcInZhbHVlXCIgaXMgZ3JlYXRlciB0aGFuIG9uZSBvZiB0aGUgXCJtYXhcIiBjb29yZGluYXRlLCB0aGVuIHRoaXMgXCJ2YWx1ZVwiIGNvb3JkaW5hdGUgaXMgc2V0IHdpdGggdGhlIFwibWF4XCIgb25lXG4gICAgICogQHBhcmFtIHZhbHVlIC0gZGVmaW5lcyB0aGUgY3VycmVudCB2YWx1ZVxuICAgICAqIEBwYXJhbSBtaW4gLSBkZWZpbmVzIHRoZSBsb3dlciByYW5nZSB2YWx1ZVxuICAgICAqIEBwYXJhbSBtYXggLSBkZWZpbmVzIHRoZSB1cHBlciByYW5nZSB2YWx1ZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcFRvUmVmKHZhbHVlLCBtaW4sIG1heCwgcmVzdWx0KSB7XG4gICAgICAgIGxldCB4ID0gdmFsdWUueDtcbiAgICAgICAgeCA9IHggPiBtYXgueCA/IG1heC54IDogeDtcbiAgICAgICAgeCA9IHggPCBtaW4ueCA/IG1pbi54IDogeDtcbiAgICAgICAgbGV0IHkgPSB2YWx1ZS55O1xuICAgICAgICB5ID0geSA+IG1heC55ID8gbWF4LnkgOiB5O1xuICAgICAgICB5ID0geSA8IG1pbi55ID8gbWluLnkgOiB5O1xuICAgICAgICBsZXQgeiA9IHZhbHVlLno7XG4gICAgICAgIHogPSB6ID4gbWF4LnogPyBtYXgueiA6IHo7XG4gICAgICAgIHogPSB6IDwgbWluLnogPyBtaW4ueiA6IHo7XG4gICAgICAgIGNvcHlGcm9tRmxvYXRzKHgsIHksIHosIHJlc3VsdCk7XG4gICAgfVxuICAgIFZlY3RvcjMuY2xhbXBUb1JlZiA9IGNsYW1wVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGxvY2F0ZWQgZm9yIFwiYW1vdW50XCIgKGZsb2F0KSBvbiB0aGUgSGVybWl0ZSBpbnRlcnBvbGF0aW9uIHNwbGluZSBkZWZpbmVkIGJ5IHRoZSB2ZWN0b3JzIFwidmFsdWUxXCIsIFwidGFuZ2VudDFcIiwgXCJ2YWx1ZTJcIiwgXCJ0YW5nZW50MlwiXG4gICAgICogQHBhcmFtIHZhbHVlMSAtIGRlZmluZXMgdGhlIGZpcnN0IGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0gdGFuZ2VudDEgLSBkZWZpbmVzIHRoZSBmaXJzdCB0YW5nZW50IHZlY3RvclxuICAgICAqIEBwYXJhbSB2YWx1ZTIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgY29udHJvbCBwb2ludFxuICAgICAqIEBwYXJhbSB0YW5nZW50MiAtIGRlZmluZXMgdGhlIHNlY29uZCB0YW5nZW50IHZlY3RvclxuICAgICAqIEBwYXJhbSBhbW91bnQgLSBkZWZpbmVzIHRoZSBhbW91bnQgb24gdGhlIGludGVycG9sYXRpb24gc3BsaW5lIChiZXR3ZWVuIDAgYW5kIDEpXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGVybWl0ZSh2YWx1ZTEsIHRhbmdlbnQxLCB2YWx1ZTIsIHRhbmdlbnQyLCBhbW91bnQpIHtcbiAgICAgICAgY29uc3Qgc3F1YXJlZCA9IGFtb3VudCAqIGFtb3VudDtcbiAgICAgICAgY29uc3QgY3ViZWQgPSBhbW91bnQgKiBzcXVhcmVkO1xuICAgICAgICBjb25zdCBwYXJ0MSA9IDIuMCAqIGN1YmVkIC0gMy4wICogc3F1YXJlZCArIDEuMDtcbiAgICAgICAgY29uc3QgcGFydDIgPSAtMi4wICogY3ViZWQgKyAzLjAgKiBzcXVhcmVkO1xuICAgICAgICBjb25zdCBwYXJ0MyA9IGN1YmVkIC0gMi4wICogc3F1YXJlZCArIGFtb3VudDtcbiAgICAgICAgY29uc3QgcGFydDQgPSBjdWJlZCAtIHNxdWFyZWQ7XG4gICAgICAgIGNvbnN0IHggPSB2YWx1ZTEueCAqIHBhcnQxICtcbiAgICAgICAgICAgIHZhbHVlMi54ICogcGFydDIgK1xuICAgICAgICAgICAgdGFuZ2VudDEueCAqIHBhcnQzICtcbiAgICAgICAgICAgIHRhbmdlbnQyLnggKiBwYXJ0NDtcbiAgICAgICAgY29uc3QgeSA9IHZhbHVlMS55ICogcGFydDEgK1xuICAgICAgICAgICAgdmFsdWUyLnkgKiBwYXJ0MiArXG4gICAgICAgICAgICB0YW5nZW50MS55ICogcGFydDMgK1xuICAgICAgICAgICAgdGFuZ2VudDIueSAqIHBhcnQ0O1xuICAgICAgICBjb25zdCB6ID0gdmFsdWUxLnogKiBwYXJ0MSArXG4gICAgICAgICAgICB2YWx1ZTIueiAqIHBhcnQyICtcbiAgICAgICAgICAgIHRhbmdlbnQxLnogKiBwYXJ0MyArXG4gICAgICAgICAgICB0YW5nZW50Mi56ICogcGFydDQ7XG4gICAgICAgIHJldHVybiBjcmVhdGUoeCwgeSwgeik7XG4gICAgfVxuICAgIFZlY3RvcjMuaGVybWl0ZSA9IGhlcm1pdGU7XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWluaW1hbCBjb29yZGluYXRlIHZhbHVlcyBiZXR3ZWVuIHR3byBWZWN0b3IzXG4gICAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5pbWl6ZShsZWZ0LCByaWdodCkge1xuICAgICAgICBjb25zdCBtaW4gPSBjcmVhdGUoKTtcbiAgICAgICAgbWluaW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmKHJpZ2h0LCBsZWZ0LngsIGxlZnQueSwgbGVmdC56LCBtaW4pO1xuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBWZWN0b3IzLm1pbmltaXplID0gbWluaW1pemU7XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWF4aW1hbCBjb29yZGluYXRlIHZhbHVlcyBiZXR3ZWVuIHR3byBWZWN0b3IzXG4gICAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhpbWl6ZShsZWZ0LCByaWdodCkge1xuICAgICAgICBjb25zdCBtYXggPSBjcmVhdGUoKTtcbiAgICAgICAgbWF4aW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmKGxlZnQsIHJpZ2h0LngsIHJpZ2h0LnksIHJpZ2h0LnosIG1heCk7XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxuICAgIFZlY3RvcjMubWF4aW1pemUgPSBtYXhpbWl6ZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB2ZWN0b3JzIFwidmFsdWUxXCIgYW5kIFwidmFsdWUyXCJcbiAgICAgKiBAcGFyYW0gdmFsdWUxIC0gZGVmaW5lcyB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB2YWx1ZTIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBkaXN0YW5jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpc3RhbmNlKHZhbHVlMSwgdmFsdWUyKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZGlzdGFuY2VTcXVhcmVkKHZhbHVlMSwgdmFsdWUyKSk7XG4gICAgfVxuICAgIFZlY3RvcjMuZGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gdGhlIHZlY3RvcnMgXCJ2YWx1ZTFcIiBhbmQgXCJ2YWx1ZTJcIlxuICAgICAqIEBwYXJhbSB2YWx1ZTEgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHZhbHVlMiAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdGhlIHNxdWFyZWQgZGlzdGFuY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkaXN0YW5jZVNxdWFyZWQodmFsdWUxLCB2YWx1ZTIpIHtcbiAgICAgICAgY29uc3QgeCA9IHZhbHVlMS54IC0gdmFsdWUyLng7XG4gICAgICAgIGNvbnN0IHkgPSB2YWx1ZTEueSAtIHZhbHVlMi55O1xuICAgICAgICBjb25zdCB6ID0gdmFsdWUxLnogLSB2YWx1ZTIuejtcbiAgICAgICAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcbiAgICB9XG4gICAgVmVjdG9yMy5kaXN0YW5jZVNxdWFyZWQgPSBkaXN0YW5jZVNxdWFyZWQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGxvY2F0ZWQgYXQgdGhlIGNlbnRlciBiZXR3ZWVuIFwidmFsdWUxXCIgYW5kIFwidmFsdWUyXCJcbiAgICAgKiBAcGFyYW0gdmFsdWUxIC0gZGVmaW5lcyB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB2YWx1ZTIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNlbnRlcih2YWx1ZTEsIHZhbHVlMikge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBhZGQodmFsdWUxLCB2YWx1ZTIpO1xuICAgICAgICBzY2FsZVRvUmVmKGNlbnRlciwgMC41LCBjZW50ZXIpO1xuICAgICAgICByZXR1cm4gY2VudGVyO1xuICAgIH1cbiAgICBWZWN0b3IzLmNlbnRlciA9IGNlbnRlcjtcbiAgICAvKipcbiAgICAgKiBHaXZlbiB0aHJlZSBvcnRob2dvbmFsIG5vcm1hbGl6ZWQgbGVmdC1oYW5kZWQgb3JpZW50ZWQgVmVjdG9yMyBheGlzIGluIHNwYWNlICh0YXJnZXQgc3lzdGVtKSxcbiAgICAgKiBSb3RhdGlvbkZyb21BeGlzKCkgcmV0dXJucyB0aGUgcm90YXRpb24gRXVsZXIgYW5nbGVzIChleCA6IHJvdGF0aW9uLngsIHJvdGF0aW9uLnksIHJvdGF0aW9uLnopIHRvIGFwcGx5XG4gICAgICogdG8gc29tZXRoaW5nIGluIG9yZGVyIHRvIHJvdGF0ZSBpdCBmcm9tIGl0cyBsb2NhbCBzeXN0ZW0gdG8gdGhlIGdpdmVuIHRhcmdldCBzeXN0ZW1cbiAgICAgKiBOb3RlOiBheGlzMSwgYXhpczIgYW5kIGF4aXMzIGFyZSBub3JtYWxpemVkIGR1cmluZyB0aGlzIG9wZXJhdGlvblxuICAgICAqIEBwYXJhbSBheGlzMSAtIGRlZmluZXMgdGhlIGZpcnN0IGF4aXNcbiAgICAgKiBAcGFyYW0gYXhpczIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgYXhpc1xuICAgICAqIEBwYXJhbSBheGlzMyAtIGRlZmluZXMgdGhlIHRoaXJkIGF4aXNcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25Gcm9tQXhpcyhheGlzMSwgYXhpczIsIGF4aXMzKSB7XG4gICAgICAgIGNvbnN0IHJvdGF0aW9uID0gWmVybygpO1xuICAgICAgICByb3RhdGlvbkZyb21BeGlzVG9SZWYoYXhpczEsIGF4aXMyLCBheGlzMywgcm90YXRpb24pO1xuICAgICAgICByZXR1cm4gcm90YXRpb247XG4gICAgfVxuICAgIFZlY3RvcjMucm90YXRpb25Gcm9tQXhpcyA9IHJvdGF0aW9uRnJvbUF4aXM7XG4gICAgLyoqXG4gICAgICogVGhlIHNhbWUgdGhhbiBSb3RhdGlvbkZyb21BeGlzIGJ1dCB1cGRhdGVzIHRoZSBnaXZlbiByZWYgVmVjdG9yMyBwYXJhbWV0ZXIgaW5zdGVhZCBvZiByZXR1cm5pbmcgYSBuZXcgVmVjdG9yM1xuICAgICAqIEBwYXJhbSBheGlzMSAtIGRlZmluZXMgdGhlIGZpcnN0IGF4aXNcbiAgICAgKiBAcGFyYW0gYXhpczIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgYXhpc1xuICAgICAqIEBwYXJhbSBheGlzMyAtIGRlZmluZXMgdGhlIHRoaXJkIGF4aXNcbiAgICAgKiBAcGFyYW0gcmVmIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25Gcm9tQXhpc1RvUmVmKGF4aXMxLCBheGlzMiwgYXhpczMsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBxdWF0ID0gUXVhdGVybmlvbi5jcmVhdGUoKTtcbiAgICAgICAgUXVhdGVybmlvbi5mcm9tQXhpc1RvUm90YXRpb25RdWF0ZXJuaW9uVG9SZWYoYXhpczEsIGF4aXMyLCBheGlzMywgcXVhdCk7XG4gICAgICAgIGNvcHlGcm9tKFF1YXRlcm5pb24udG9FdWxlckFuZ2xlcyhxdWF0KSwgcmVzdWx0KTtcbiAgICB9XG4gICAgVmVjdG9yMy5yb3RhdGlvbkZyb21BeGlzVG9SZWYgPSByb3RhdGlvbkZyb21BeGlzVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgVmVjdG9yM1xuICAgICAqIEByZXR1cm5zIGEgc3RyaW5nIHdpdGggdGhlIFZlY3RvcjMgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmVjdG9yKSB7XG4gICAgICAgIHJldHVybiBgKCR7dmVjdG9yLnh9LCAke3ZlY3Rvci55fSwgJHt2ZWN0b3Iuen0pYDtcbiAgICB9XG4gICAgVmVjdG9yMy50b1N0cmluZyA9IHRvU3RyaW5nO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIFZlY3RvcjMgaGFzaCBjb2RlXG4gICAgICogQHJldHVybnMgYSBudW1iZXIgd2hpY2ggdGVuZHMgdG8gYmUgdW5pcXVlIGJldHdlZW4gVmVjdG9yMyBpbnN0YW5jZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIYXNoQ29kZSh2ZWN0b3IpIHtcbiAgICAgICAgbGV0IGhhc2ggPSB2ZWN0b3IueCB8fCAwO1xuICAgICAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHZlY3Rvci55IHx8IDApO1xuICAgICAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHZlY3Rvci56IHx8IDApO1xuICAgICAgICByZXR1cm4gaGFzaDtcbiAgICB9XG4gICAgVmVjdG9yMy5nZXRIYXNoQ29kZSA9IGdldEhhc2hDb2RlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmVjdG9yMSBhbmQgdGhlIHZlY3RvcjIgY29vcmRpbmF0ZXMgYXJlIHN0cmljdGx5IGVxdWFsXG4gICAgICogQHBhcmFtIHZlY3RvcjEgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHZlY3RvcjIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgYm90aCB2ZWN0b3JzIGFyZSBlcXVhbHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbHModmVjdG9yMSwgdmVjdG9yMikge1xuICAgICAgICByZXR1cm4gKHZlY3RvcjEueCA9PT0gdmVjdG9yMi54ICYmXG4gICAgICAgICAgICB2ZWN0b3IxLnkgPT09IHZlY3RvcjIueSAmJlxuICAgICAgICAgICAgdmVjdG9yMS56ID09PSB2ZWN0b3IyLnopO1xuICAgIH1cbiAgICBWZWN0b3IzLmVxdWFscyA9IGVxdWFscztcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGN1cnJlbnQgVmVjdG9yMyBhbmQgdGhlIGdpdmVuIHZlY3RvciBjb29yZGluYXRlcyBhcmUgZGlzdGFudCBsZXNzIHRoYW4gZXBzaWxvblxuICAgICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIGVwc2lsb24gLSBkZWZpbmVzIHRoZSBtaW5pbWFsIGRpc3RhbmNlIHRvIGRlZmluZSB2YWx1ZXMgYXMgZXF1YWxzXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiBib3RoIHZlY3RvcnMgYXJlIGRpc3RhbnQgbGVzcyB0aGFuIGVwc2lsb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbHNXaXRoRXBzaWxvbih2ZWN0b3IxLCB2ZWN0b3IyLCBlcHNpbG9uID0gRXBzaWxvbikge1xuICAgICAgICByZXR1cm4gKFNjYWxhci53aXRoaW5FcHNpbG9uKHZlY3RvcjEueCwgdmVjdG9yMi54LCBlcHNpbG9uKSAmJlxuICAgICAgICAgICAgU2NhbGFyLndpdGhpbkVwc2lsb24odmVjdG9yMS55LCB2ZWN0b3IyLnksIGVwc2lsb24pICYmXG4gICAgICAgICAgICBTY2FsYXIud2l0aGluRXBzaWxvbih2ZWN0b3IxLnosIHZlY3RvcjIueiwgZXBzaWxvbikpO1xuICAgIH1cbiAgICBWZWN0b3IzLmVxdWFsc1dpdGhFcHNpbG9uID0gZXF1YWxzV2l0aEVwc2lsb247XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgZXF1YWxzIHRoZSBnaXZlbiBmbG9hdHNcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgeSBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB6IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIGJvdGggdmVjdG9ycyBhcmUgZXF1YWxzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxzVG9GbG9hdHModmVjdG9yLCB4LCB5LCB6KSB7XG4gICAgICAgIHJldHVybiB2ZWN0b3IueCA9PT0geCAmJiB2ZWN0b3IueSA9PT0geSAmJiB2ZWN0b3IueiA9PT0gejtcbiAgICB9XG4gICAgVmVjdG9yMy5lcXVhbHNUb0Zsb2F0cyA9IGVxdWFsc1RvRmxvYXRzO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMywgcmVzdWx0IG9mIHRoZSBtdWx0aXBsaWNhdGlvbiBvZiB2ZWN0b3IxIGJ5IHRoZSB2ZWN0b3IyXG4gICAgICogQHBhcmFtIHZlY3RvcjEgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHZlY3RvcjIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5KHZlY3RvcjEsIHZlY3RvcjIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIG11bHRpcGx5VG9SZWYodmVjdG9yMSwgdmVjdG9yMiwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgVmVjdG9yMy5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdGhlIGN1cnJlbnQgVmVjdG9yMyBieSB0aGUgZ2l2ZW4gb25lIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5VG9SZWYodmVjdG9yMSwgdmVjdG9yMiwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gdmVjdG9yMS54ICogdmVjdG9yMi54O1xuICAgICAgICByZXN1bHQueSA9IHZlY3RvcjEueSAqIHZlY3RvcjIueTtcbiAgICAgICAgcmVzdWx0LnogPSB2ZWN0b3IxLnogKiB2ZWN0b3IyLno7XG4gICAgfVxuICAgIFZlY3RvcjMubXVsdGlwbHlUb1JlZiA9IG11bHRpcGx5VG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIG11bGxpcGxpY2F0aW9uIG9mIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYnkgdGhlIGdpdmVuIGZsb2F0c1xuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5QnlGbG9hdHNUb1JlZih2ZWN0b3IxLCB4LCB5LCB6LCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSB2ZWN0b3IxLnggKiB4O1xuICAgICAgICByZXN1bHQueSA9IHZlY3RvcjEueSAqIHk7XG4gICAgICAgIHJlc3VsdC56ID0gdmVjdG9yMS56ICogejtcbiAgICB9XG4gICAgVmVjdG9yMy5tdWx0aXBseUJ5RmxvYXRzVG9SZWYgPSBtdWx0aXBseUJ5RmxvYXRzVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIG11bGxpcGxpY2F0aW9uIG9mIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYnkgdGhlIGdpdmVuIGZsb2F0c1xuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5QnlGbG9hdHModmVjdG9yMSwgeCwgeSwgeikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgbXVsdGlwbHlCeUZsb2F0c1RvUmVmKHZlY3RvcjEsIHgsIHksIHosIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFZlY3RvcjMubXVsdGlwbHlCeUZsb2F0cyA9IG11bHRpcGx5QnlGbG9hdHM7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIGRpdmlzaW9uIG9mIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYnkgdGhlIGdpdmVuIG9uZXNcbiAgICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpdmlkZSh2ZWN0b3IxLCB2ZWN0b3IyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB2ZWN0b3IxLnggLyB2ZWN0b3IyLngsXG4gICAgICAgICAgICB5OiB2ZWN0b3IxLnkgLyB2ZWN0b3IyLnksXG4gICAgICAgICAgICB6OiB2ZWN0b3IxLnogLyB2ZWN0b3IyLnpcbiAgICAgICAgfTtcbiAgICB9XG4gICAgVmVjdG9yMy5kaXZpZGUgPSBkaXZpZGU7XG4gICAgLyoqXG4gICAgICogRGl2aWRlcyB0aGUgY3VycmVudCBWZWN0b3IzIGNvb3JkaW5hdGVzIGJ5IHRoZSBnaXZlbiBvbmVzIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpdmlkZVRvUmVmKHZlY3RvcjEsIHZlY3RvcjIsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQueCA9IHZlY3RvcjEueCAvIHZlY3RvcjIueDtcbiAgICAgICAgcmVzdWx0LnkgPSB2ZWN0b3IxLnkgLyB2ZWN0b3IyLnk7XG4gICAgICAgIHJlc3VsdC56ID0gdmVjdG9yMS56IC8gdmVjdG9yMi56O1xuICAgIH1cbiAgICBWZWN0b3IzLmRpdmlkZVRvUmVmID0gZGl2aWRlVG9SZWY7XG4gICAgLyoqXG4gICAgICogU2V0IHJlc3VsdCBWZWN0b3IzIHdpdGggdGhlIG1heGltYWwgY29vcmRpbmF0ZSB2YWx1ZXMgYmV0d2VlbiB2ZWN0b3IxIGFuZCB0aGUgZ2l2ZW4gY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgeSBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB6IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gdGhlIHNldCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4aW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmKHZlY3RvcjEsIHgsIHksIHosIHJlc3VsdCkge1xuICAgICAgICBpZiAoeCA+IHZlY3RvcjEueCkge1xuICAgICAgICAgICAgcmVzdWx0LnggPSB4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnggPSB2ZWN0b3IxLng7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHkgPiB2ZWN0b3IxLnkpIHtcbiAgICAgICAgICAgIHJlc3VsdC55ID0geTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC55ID0gdmVjdG9yMS55O1xuICAgICAgICB9XG4gICAgICAgIGlmICh6ID4gdmVjdG9yMS56KSB7XG4gICAgICAgICAgICByZXN1bHQueiA9IHo7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQueiA9IHZlY3RvcjEuejtcbiAgICAgICAgfVxuICAgIH1cbiAgICBWZWN0b3IzLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHNUb1JlZiA9IG1heGltaXplSW5QbGFjZUZyb21GbG9hdHNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTZXQgcmVzdWx0IFZlY3RvcjMgd2l0aCB0aGUgbWluaW1hbCBjb29yZGluYXRlIHZhbHVlcyBiZXR3ZWVuIHZlY3RvcjEgYW5kIHRoZSBnaXZlbiBjb29yZGluYXRlc1xuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSB0aGUgc2V0IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzVG9SZWYodmVjdG9yMSwgeCwgeSwgeiwgcmVzdWx0KSB7XG4gICAgICAgIGlmICh4IDwgdmVjdG9yMS54KSB7XG4gICAgICAgICAgICByZXN1bHQueCA9IHg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQueCA9IHZlY3RvcjEueDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeSA8IHZlY3RvcjEueSkge1xuICAgICAgICAgICAgcmVzdWx0LnkgPSB5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnkgPSB2ZWN0b3IxLnk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHogPCB2ZWN0b3IxLnopIHtcbiAgICAgICAgICAgIHJlc3VsdC56ID0gejtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC56ID0gdmVjdG9yMS56O1xuICAgICAgICB9XG4gICAgfVxuICAgIFZlY3RvcjMubWluaW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmID0gbWluaW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmO1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBuZXcgVmVjdG9yMyBmcm9tIHZlY3RvcjEgZmxvb3JlZCB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxvb3IodmVjdG9yMSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKE1hdGguZmxvb3IodmVjdG9yMS54KSwgTWF0aC5mbG9vcih2ZWN0b3IxLnkpLCBNYXRoLmZsb29yKHZlY3RvcjEueikpO1xuICAgIH1cbiAgICBWZWN0b3IzLmZsb29yID0gZmxvb3I7XG4gICAgLyoqXG4gICAgICogR2V0cyBhIG5ldyBWZWN0b3IzIGZyb20gdmVjdG9yMSBmbG9vcmVkIHZhbHVlc1xuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcmFjdCh2ZWN0b3IxKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUodmVjdG9yMS54IC0gTWF0aC5mbG9vcih2ZWN0b3IxLngpLCB2ZWN0b3IxLnkgLSBNYXRoLmZsb29yKHZlY3RvcjEueSksIHZlY3RvcjEueiAtIE1hdGguZmxvb3IodmVjdG9yMS56KSk7XG4gICAgfVxuICAgIFZlY3RvcjMuZnJhY3QgPSBmcmFjdDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvICgwLjAsIDAuMCwgMC4wKVxuICAgICAqIEByZXR1cm5zIGEgbmV3IGVtcHR5IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBaZXJvKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAuMCwgMC4wLCAwLjApO1xuICAgIH1cbiAgICBWZWN0b3IzLlplcm8gPSBaZXJvO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgdG8gKDEuMCwgMS4wLCAxLjApXG4gICAgICogQHJldHVybnMgYSBuZXcgdW5pdCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gT25lKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDEuMCwgMS4wLCAxLjApO1xuICAgIH1cbiAgICBWZWN0b3IzLk9uZSA9IE9uZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvbGVuZ3RoU3F1YXJlZCAoMC4wLCAxLjAsIDAuMClcbiAgICAgKiBAcmV0dXJucyBhIG5ldyB1cCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gVXAoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC4wLCAxLjAsIDAuMCk7XG4gICAgfVxuICAgIFZlY3RvcjMuVXAgPSBVcDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvICgwLjAsIC0xLjAsIDAuMClcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBkb3duIFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEb3duKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAuMCwgLTEuMCwgMC4wKTtcbiAgICB9XG4gICAgVmVjdG9yMy5Eb3duID0gRG93bjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvICgwLjAsIDAuMCwgMS4wKVxuICAgICAqIEByZXR1cm5zIGEgbmV3IGZvcndhcmQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZvcndhcmQoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC4wLCAwLjAsIDEuMCk7XG4gICAgfVxuICAgIFZlY3RvcjMuRm9yd2FyZCA9IEZvcndhcmQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB0byAoMC4wLCAwLjAsIC0xLjApXG4gICAgICogQHJldHVybnMgYSBuZXcgZm9yd2FyZCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFja3dhcmQoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC4wLCAwLjAsIC0xLjApO1xuICAgIH1cbiAgICBWZWN0b3IzLkJhY2t3YXJkID0gQmFja3dhcmQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB0byAoMS4wLCAwLjAsIDAuMClcbiAgICAgKiBAcmV0dXJucyBhIG5ldyByaWdodCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmlnaHQoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMS4wLCAwLjAsIDAuMCk7XG4gICAgfVxuICAgIFZlY3RvcjMuUmlnaHQgPSBSaWdodDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvICgtMS4wLCAwLjAsIDAuMClcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBsZWZ0IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMZWZ0KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKC0xLjAsIDAuMCwgMC4wKTtcbiAgICB9XG4gICAgVmVjdG9yMy5MZWZ0ID0gTGVmdDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHJhbmRvbSBWZWN0b3IzXG4gICAgICogQHJldHVybnMgYSByYW5kb20gVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJhbmRvbSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpKTtcbiAgICB9XG4gICAgVmVjdG9yMy5SYW5kb20gPSBSYW5kb207XG59KShWZWN0b3IzIHx8IChWZWN0b3IzID0ge30pKTtcbiIsICJpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAnLi9WZWN0b3IzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4vTWF0cml4Jztcbi8qKlxuICogUmVwcmVzZW5zIGEgcGxhbmUgYnkgdGhlIGVxdWF0aW9uIGF4ICsgYnkgKyBjeiArIGQgPSAwXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUGxhbmU7XG4oZnVuY3Rpb24gKFBsYW5lKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFBsYW5lIG9iamVjdCBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIGZsb2F0cyBhLCBiLCBjLCBkIGFuZCB0aGUgcGxhbmUgZXF1YXRpb24gOiBheCArIGJ5ICsgY3ogKyBkID0gMFxuICAgICAqIEBwYXJhbSBhIC0gYSBjb21wb25lbnQgb2YgdGhlIHBsYW5lXG4gICAgICogQHBhcmFtIGIgLSBiIGNvbXBvbmVudCBvZiB0aGUgcGxhbmVcbiAgICAgKiBAcGFyYW0gYyAtIGMgY29tcG9uZW50IG9mIHRoZSBwbGFuZVxuICAgICAqIEBwYXJhbSBkIC0gZCBjb21wb25lbnQgb2YgdGhlIHBsYW5lXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKGEsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5vcm1hbDogVmVjdG9yMy5jcmVhdGUoYSwgYiwgYyksXG4gICAgICAgICAgICBkOiBkXG4gICAgICAgIH07XG4gICAgfVxuICAgIFBsYW5lLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAvLyBTdGF0aWNzXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHBsYW5lIGZyb20gYW4gIGFycmF5XG4gICAgICogQHBhcmFtIGFycmF5IC0gdGhlIGFycmF5IHRvIGNyZWF0ZSBhIHBsYW5lIGZyb21cbiAgICAgKiBAcmV0dXJucyBhIG5ldyBQbGFuZSBmcm9tIHRoZSBnaXZlbiBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShhcnJheVswXSwgYXJyYXlbMV0sIGFycmF5WzJdLCBhcnJheVszXSk7XG4gICAgfVxuICAgIFBsYW5lLmZyb21BcnJheSA9IGZyb21BcnJheTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcGxhbmUgZnJvbSB0aHJlZSBwb2ludHNcbiAgICAgKiBAcGFyYW0gcG9pbnQxIC0gcG9pbnQgdXNlZCB0byBjcmVhdGUgdGhlIHBsYW5lXG4gICAgICogQHBhcmFtIHBvaW50MiAtIHBvaW50IHVzZWQgdG8gY3JlYXRlIHRoZSBwbGFuZVxuICAgICAqIEBwYXJhbSBwb2ludDMgLSBwb2ludCB1c2VkIHRvIGNyZWF0ZSB0aGUgcGxhbmVcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBQbGFuZSBkZWZpbmVkIGJ5IHRoZSB0aHJlZSBnaXZlbiBwb2ludHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVBvaW50cyhfcG9pbnQxLCBfcG9pbnQyLCBfcG9pbnQzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgwLjAsIDAuMCwgMC4wLCAwLjApO1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIHJlc3VsdC5jb3B5RnJvbVBvaW50cyhwb2ludDEsIHBvaW50MiwgcG9pbnQzKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBQbGFuZS5mcm9tUG9pbnRzID0gZnJvbVBvaW50cztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcGxhbmUgZnJvbSBhbiBvcmlnaW4gcG9pbnQgYW5kIGEgbm9ybWFsXG4gICAgICogQHBhcmFtIG9yaWdpbiAtIG9yaWdpbiBvZiB0aGUgcGxhbmUgdG8gYmUgY29uc3RydWN0ZWRcbiAgICAgKiBAcGFyYW0gbm9ybWFsIC0gbm9ybWFsIG9mIHRoZSBwbGFuZSB0byBiZSBjb25zdHJ1Y3RlZFxuICAgICAqIEByZXR1cm5zIGEgbmV3IFBsYW5lIHRoZSBub3JtYWwgdmVjdG9yIHRvIHRoaXMgcGxhbmUgYXQgdGhlIGdpdmVuIG9yaWdpbiBwb2ludC5cbiAgICAgKiBOb3RlIDogdGhlIHZlY3RvciBcIm5vcm1hbFwiIGlzIHVwZGF0ZWQgYmVjYXVzZSBub3JtYWxpemVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvbVBvc2l0aW9uQW5kTm9ybWFsKG9yaWdpbiwgbm9ybWFsKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgwLjAsIDAuMCwgMC4wLCAwLjApO1xuICAgICAgICByZXN1bHQubm9ybWFsID0gVmVjdG9yMy5ub3JtYWxpemUobm9ybWFsKTtcbiAgICAgICAgcmVzdWx0LmQgPSAtKG5vcm1hbC54ICogb3JpZ2luLnggK1xuICAgICAgICAgICAgbm9ybWFsLnkgKiBvcmlnaW4ueSArXG4gICAgICAgICAgICBub3JtYWwueiAqIG9yaWdpbi56KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgUGxhbmUucm9tUG9zaXRpb25BbmROb3JtYWwgPSByb21Qb3NpdGlvbkFuZE5vcm1hbDtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBkaXN0YW5jZSBmcm9tIGEgcGxhbmUgYW5kIGEgcG9pbnRcbiAgICAgKiBAcGFyYW0gb3JpZ2luIC0gb3JpZ2luIG9mIHRoZSBwbGFuZSB0byBiZSBjb25zdHJ1Y3RlZFxuICAgICAqIEBwYXJhbSBub3JtYWwgLSBub3JtYWwgb2YgdGhlIHBsYW5lIHRvIGJlIGNvbnN0cnVjdGVkXG4gICAgICogQHBhcmFtIHBvaW50IC0gcG9pbnQgdG8gY2FsY3VsYXRlIGRpc3RhbmNlIHRvXG4gICAgICogQHJldHVybnMgdGhlIHNpZ25lZCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBwbGFuZSBkZWZpbmVkIGJ5IHRoZSBub3JtYWwgdmVjdG9yIGF0IHRoZSBcIm9yaWdpblwiXCIgcG9pbnQgYW5kIHRoZSBnaXZlbiBvdGhlciBwb2ludC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaWduZWREaXN0YW5jZVRvUGxhbmVGcm9tUG9zaXRpb25BbmROb3JtYWwob3JpZ2luLCBub3JtYWwsIHBvaW50KSB7XG4gICAgICAgIGNvbnN0IGQgPSAtKG5vcm1hbC54ICogb3JpZ2luLnggKyBub3JtYWwueSAqIG9yaWdpbi55ICsgbm9ybWFsLnogKiBvcmlnaW4ueik7XG4gICAgICAgIHJldHVybiBWZWN0b3IzLmRvdChwb2ludCwgbm9ybWFsKSArIGQ7XG4gICAgfVxuICAgIFBsYW5lLnNpZ25lZERpc3RhbmNlVG9QbGFuZUZyb21Qb3NpdGlvbkFuZE5vcm1hbCA9IHNpZ25lZERpc3RhbmNlVG9QbGFuZUZyb21Qb3NpdGlvbkFuZE5vcm1hbDtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0aGUgcGxhbmUgY29vcmRpbmF0ZXMgYXMgYSBuZXcgYXJyYXkgb2YgNCBlbGVtZW50cyBbYSwgYiwgYywgZF0uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNBcnJheShwbGFuZSkge1xuICAgICAgICByZXR1cm4gW3BsYW5lLm5vcm1hbC54LCBwbGFuZS5ub3JtYWwueSwgcGxhbmUubm9ybWFsLnosIHBsYW5lLmRdO1xuICAgIH1cbiAgICBQbGFuZS5hc0FycmF5ID0gYXNBcnJheTtcbiAgICAvLyBNZXRob2RzXG4gICAgLyoqXG4gICAgICogQHJldHVybnMgYSBuZXcgcGxhbmUgY29waWVkIGZyb20gdGhlIGN1cnJlbnQgUGxhbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUocGxhbmUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShwbGFuZS5ub3JtYWwueCwgcGxhbmUubm9ybWFsLnksIHBsYW5lLm5vcm1hbC56LCBwbGFuZS5kKTtcbiAgICB9XG4gICAgUGxhbmUuY2xvbmUgPSBjbG9uZTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0aGUgUGxhbmUgaGFzaCBjb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhhc2hDb2RlKF9wbGFuZSkge1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIGxldCBoYXNoID0gcGxhbmUubm9ybWFsLmdldEhhc2hDb2RlKClcbiAgICAgICAgLy8gaGFzaCA9IChoYXNoICogMzk3KSBeIChwbGFuZS5kIHx8IDApXG4gICAgICAgIC8vIHJldHVybiBoYXNoXG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBQbGFuZS5nZXRIYXNoQ29kZSA9IGdldEhhc2hDb2RlO1xuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZSB0aGUgY3VycmVudCBQbGFuZSBpbiBwbGFjZS5cbiAgICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBQbGFuZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemUocGxhbmUpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKDAsIDAsIDAsIDApO1xuICAgICAgICBjb25zdCBub3JtID0gTWF0aC5zcXJ0KHBsYW5lLm5vcm1hbC54ICogcGxhbmUubm9ybWFsLnggK1xuICAgICAgICAgICAgcGxhbmUubm9ybWFsLnkgKiBwbGFuZS5ub3JtYWwueSArXG4gICAgICAgICAgICBwbGFuZS5ub3JtYWwueiAqIHBsYW5lLm5vcm1hbC56KTtcbiAgICAgICAgbGV0IG1hZ25pdHVkZSA9IDAuMDtcbiAgICAgICAgaWYgKG5vcm0gIT09IDApIHtcbiAgICAgICAgICAgIG1hZ25pdHVkZSA9IDEuMCAvIG5vcm07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0Lm5vcm1hbC54ID0gcGxhbmUubm9ybWFsLnggKiBtYWduaXR1ZGU7XG4gICAgICAgIHJlc3VsdC5ub3JtYWwueSA9IHBsYW5lLm5vcm1hbC55ICogbWFnbml0dWRlO1xuICAgICAgICByZXN1bHQubm9ybWFsLnogPSBwbGFuZS5ub3JtYWwueiAqIG1hZ25pdHVkZTtcbiAgICAgICAgcmVzdWx0LmQgKj0gbWFnbml0dWRlO1xuICAgICAgICByZXR1cm4gcGxhbmU7XG4gICAgfVxuICAgIFBsYW5lLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgdHJhbnNmb3JtYXRpb24gdGhlIHBsYW5lIGFuZCByZXR1cm5zIHRoZSByZXN1bHRcbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSB0aGUgdHJhbnNmb3JtYXRpb24gbWF0cml4IHRvIGJlIGFwcGxpZWQgdG8gdGhlIHBsYW5lXG4gICAgICogQHJldHVybnMgYSBuZXcgUGxhbmUgYXMgdGhlIHJlc3VsdCBvZiB0aGUgdHJhbnNmb3JtYXRpb24gb2YgdGhlIGN1cnJlbnQgUGxhbmUgYnkgdGhlIGdpdmVuIG1hdHJpeC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm0ocGxhbmUsIHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zcG9zZWRNYXRyaXggPSBNYXRyaXguY3JlYXRlKCk7XG4gICAgICAgIE1hdHJpeC50cmFuc3Bvc2VUb1JlZih0cmFuc2Zvcm1hdGlvbiwgdHJhbnNwb3NlZE1hdHJpeCk7XG4gICAgICAgIGNvbnN0IG0gPSB0cmFuc3Bvc2VkTWF0cml4Ll9tO1xuICAgICAgICBjb25zdCB4ID0gcGxhbmUubm9ybWFsLng7XG4gICAgICAgIGNvbnN0IHkgPSBwbGFuZS5ub3JtYWwueTtcbiAgICAgICAgY29uc3QgeiA9IHBsYW5lLm5vcm1hbC56O1xuICAgICAgICBjb25zdCBkID0gcGxhbmUuZDtcbiAgICAgICAgY29uc3Qgbm9ybWFsWCA9IHggKiBtWzBdICsgeSAqIG1bMV0gKyB6ICogbVsyXSArIGQgKiBtWzNdO1xuICAgICAgICBjb25zdCBub3JtYWxZID0geCAqIG1bNF0gKyB5ICogbVs1XSArIHogKiBtWzZdICsgZCAqIG1bN107XG4gICAgICAgIGNvbnN0IG5vcm1hbFogPSB4ICogbVs4XSArIHkgKiBtWzldICsgeiAqIG1bMTBdICsgZCAqIG1bMTFdO1xuICAgICAgICBjb25zdCBmaW5hbEQgPSB4ICogbVsxMl0gKyB5ICogbVsxM10gKyB6ICogbVsxNF0gKyBkICogbVsxNV07XG4gICAgICAgIHJldHVybiBjcmVhdGUobm9ybWFsWCwgbm9ybWFsWSwgbm9ybWFsWiwgZmluYWxEKTtcbiAgICB9XG4gICAgUGxhbmUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIC8qKlxuICAgICAqIENhbGN1YWx0dGUgdGhlIGRvdCBwcm9kdWN0IGJldHdlZW4gdGhlIHBvaW50IGFuZCB0aGUgcGxhbmUgbm9ybWFsXG4gICAgICogQHBhcmFtIHBvaW50IC0gcG9pbnQgdG8gY2FsY3VsYXRlIHRoZSBkb3QgcHJvZHVjdCB3aXRoXG4gICAgICogQHJldHVybnMgdGhlIGRvdCBwcm9kdWN0IChmbG9hdCkgb2YgdGhlIHBvaW50IGNvb3JkaW5hdGVzIGFuZCB0aGUgcGxhbmUgbm9ybWFsLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRvdENvb3JkaW5hdGUocGxhbmUsIHBvaW50KSB7XG4gICAgICAgIHJldHVybiAocGxhbmUubm9ybWFsLnggKiBwb2ludC54ICtcbiAgICAgICAgICAgIHBsYW5lLm5vcm1hbC55ICogcG9pbnQueSArXG4gICAgICAgICAgICBwbGFuZS5ub3JtYWwueiAqIHBvaW50LnogK1xuICAgICAgICAgICAgcGxhbmUuZCk7XG4gICAgfVxuICAgIFBsYW5lLmRvdENvb3JkaW5hdGUgPSBkb3RDb29yZGluYXRlO1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGN1cnJlbnQgUGxhbmUgZnJvbSB0aGUgcGxhbmUgZGVmaW5lZCBieSB0aGUgdGhyZWUgZ2l2ZW4gcG9pbnRzLlxuICAgICAqIEBwYXJhbSBwb2ludDEgLSBvbmUgb2YgdGhlIHBvaW50cyB1c2VkIHRvIGNvbnRydWN0IHRoZSBwbGFuZVxuICAgICAqIEBwYXJhbSBwb2ludDIgLSBvbmUgb2YgdGhlIHBvaW50cyB1c2VkIHRvIGNvbnRydWN0IHRoZSBwbGFuZVxuICAgICAqIEBwYXJhbSBwb2ludDMgLSBvbmUgb2YgdGhlIHBvaW50cyB1c2VkIHRvIGNvbnRydWN0IHRoZSBwbGFuZVxuICAgICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIFBsYW5lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlGcm9tUG9pbnRzKHBvaW50MSwgcG9pbnQyLCBwb2ludDMpIHtcbiAgICAgICAgY29uc3QgeDEgPSBwb2ludDIueCAtIHBvaW50MS54O1xuICAgICAgICBjb25zdCB5MSA9IHBvaW50Mi55IC0gcG9pbnQxLnk7XG4gICAgICAgIGNvbnN0IHoxID0gcG9pbnQyLnogLSBwb2ludDEuejtcbiAgICAgICAgY29uc3QgeDIgPSBwb2ludDMueCAtIHBvaW50MS54O1xuICAgICAgICBjb25zdCB5MiA9IHBvaW50My55IC0gcG9pbnQxLnk7XG4gICAgICAgIGNvbnN0IHoyID0gcG9pbnQzLnogLSBwb2ludDEuejtcbiAgICAgICAgY29uc3QgeXogPSB5MSAqIHoyIC0gejEgKiB5MjtcbiAgICAgICAgY29uc3QgeHogPSB6MSAqIHgyIC0geDEgKiB6MjtcbiAgICAgICAgY29uc3QgeHkgPSB4MSAqIHkyIC0geTEgKiB4MjtcbiAgICAgICAgY29uc3QgcHl0aCA9IE1hdGguc3FydCh5eiAqIHl6ICsgeHogKiB4eiArIHh5ICogeHkpO1xuICAgICAgICBsZXQgaW52UHl0aDtcbiAgICAgICAgaWYgKHB5dGggIT09IDApIHtcbiAgICAgICAgICAgIGludlB5dGggPSAxLjAgLyBweXRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW52UHl0aCA9IDAuMDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub3JtYWwgPSBWZWN0b3IzLmNyZWF0ZSh5eiAqIGludlB5dGgsIHh6ICogaW52UHl0aCwgeHkgKiBpbnZQeXRoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5vcm1hbCxcbiAgICAgICAgICAgIGQ6IC0obm9ybWFsLnggKiBwb2ludDEueCArIG5vcm1hbC55ICogcG9pbnQxLnkgKyBub3JtYWwueiAqIHBvaW50MS56KVxuICAgICAgICB9O1xuICAgIH1cbiAgICBQbGFuZS5jb3B5RnJvbVBvaW50cyA9IGNvcHlGcm9tUG9pbnRzO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgcGxhbmUgaXMgZmFjaW5nIGEgZ2l2ZW4gZGlyZWN0aW9uXG4gICAgICogQHBhcmFtIGRpcmVjdGlvbiAtIHRoZSBkaXJlY3Rpb24gdG8gY2hlY2sgaWYgdGhlIHBsYW5lIGlzIGZhY2luZ1xuICAgICAqIEBwYXJhbSBlcHNpbG9uIC0gdmFsdWUgdGhlIGRvdCBwcm9kdWN0IGlzIGNvbXBhcmVkIGFnYWluc3QgKHJldHVybnMgdHJ1ZSBpZiBkb3QgJmx0Oz0gZXBzaWxvbilcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlzIHRoZSB2ZWN0b3IgXCJkaXJlY3Rpb25cIiAgaXMgdGhlIHNhbWUgc2lkZSB0aGFuIHRoZSBwbGFuZSBub3JtYWwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGcm9udEZhY2luZ1RvKHBsYW5lLCBkaXJlY3Rpb24sIGVwc2lsb24pIHtcbiAgICAgICAgY29uc3QgZG90ID0gVmVjdG9yMy5kb3QocGxhbmUubm9ybWFsLCBkaXJlY3Rpb24pO1xuICAgICAgICByZXR1cm4gZG90IDw9IGVwc2lsb247XG4gICAgfVxuICAgIFBsYW5lLmlzRnJvbnRGYWNpbmdUbyA9IGlzRnJvbnRGYWNpbmdUbztcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBkaXN0YW5jZSB0byBhIHBvaW50XG4gICAgICogQHBhcmFtIHBvaW50IC0gcG9pbnQgdG8gY2FsY3VsYXRlIGRpc3RhbmNlIHRvXG4gICAgICogQHJldHVybnMgdGhlIHNpZ25lZCBkaXN0YW5jZSAoZmxvYXQpIGZyb20gdGhlIGdpdmVuIHBvaW50IHRvIHRoZSBQbGFuZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaWduZWREaXN0YW5jZVRvKHBsYW5lLCBwb2ludCkge1xuICAgICAgICByZXR1cm4gVmVjdG9yMy5kb3QocG9pbnQsIHBsYW5lLm5vcm1hbCkgKyBwbGFuZS5kO1xuICAgIH1cbiAgICBQbGFuZS5zaWduZWREaXN0YW5jZVRvID0gc2lnbmVkRGlzdGFuY2VUbztcbn0pKFBsYW5lIHx8IChQbGFuZSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMyc7XG5pbXBvcnQgeyBRdWF0ZXJuaW9uIH0gZnJvbSAnLi9RdWF0ZXJuaW9uJztcbmltcG9ydCB7IFBsYW5lIH0gZnJvbSAnLi9QbGFuZSc7XG4vKipcbiAqIENsYXNzIHVzZWQgdG8gc3RvcmUgbWF0cml4IGRhdGEgKDR4NClcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBNYXRyaXg7XG4oZnVuY3Rpb24gKE1hdHJpeCkge1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludGVybmFsIGRhdGEgb2YgdGhlIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG0oc2VsZikge1xuICAgICAgICByZXR1cm4gc2VsZi5fbTtcbiAgICB9XG4gICAgTWF0cml4Lm0gPSBtO1xuICAgIGxldCBfdXBkYXRlRmxhZ1NlZWQgPSAwO1xuICAgIGNvbnN0IF9pZGVudGl0eVJlYWRvbmx5ID0ge307XG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBpZGVudGl0eSBtYXRyaXggdGhhdCBtdXN0IG5vdCBiZSB1cGRhdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gSWRlbnRpdHlSZWFkb25seSgpIHtcbiAgICAgICAgcmV0dXJuIF9pZGVudGl0eVJlYWRvbmx5O1xuICAgIH1cbiAgICBNYXRyaXguSWRlbnRpdHlSZWFkb25seSA9IElkZW50aXR5UmVhZG9ubHk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBlbXB0eSBtYXRyaXggKGZpbGxlZCB3aXRoIHplcm9zKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgbmV3TWF0cml4ID0ge1xuICAgICAgICAgICAgdXBkYXRlRmxhZzogMCxcbiAgICAgICAgICAgIGlzSWRlbnRpdHk6IGZhbHNlLFxuICAgICAgICAgICAgaXNJZGVudGl0eTN4MjogdHJ1ZSxcbiAgICAgICAgICAgIF9pc0lkZW50aXR5RGlydHk6IHRydWUsXG4gICAgICAgICAgICBfaXNJZGVudGl0eTN4MkRpcnR5OiB0cnVlLFxuICAgICAgICAgICAgX206IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgICAgICB9O1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMobmV3TWF0cml4LCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBuZXdNYXRyaXg7XG4gICAgfVxuICAgIE1hdHJpeC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLy8gU3RhdGljc1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhbiBhcnJheVxuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIGFuIG9mZnNldCBpbiB0aGUgc291cmNlIGFycmF5XG4gICAgICogQHJldHVybnMgYSBuZXcgTWF0cml4IHNldCBmcm9tIHRoZSBzdGFydGluZyBpbmRleCBvZiB0aGUgZ2l2ZW4gYXJyYXlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXksIG9mZnNldCA9IDApIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGZyb21BcnJheVRvUmVmKGFycmF5LCBvZmZzZXQsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5mcm9tQXJyYXkgPSBmcm9tQXJyYXk7XG4gICAgLyoqXG4gICAgICogQ29weSB0aGUgY29udGVudCBvZiBhbiBhcnJheSBpbnRvIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgc291cmNlIGFycmF5XG4gICAgICogQHBhcmFtIG9mZnNldCAtIGRlZmluZXMgYW4gb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21BcnJheVRvUmVmKGFycmF5LCBvZmZzZXQsIHJlc3VsdCkge1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgMTY7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5fbVtpbmRleF0gPSBhcnJheVtpbmRleCArIG9mZnNldF07XG4gICAgICAgIH1cbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4LmZyb21BcnJheVRvUmVmID0gZnJvbUFycmF5VG9SZWY7XG4gICAgLyoqXG4gICAgICogU3RvcmVzIGFuIGFycmF5IGludG8gYSBtYXRyaXggYWZ0ZXIgaGF2aW5nIG11bHRpcGxpZWQgZWFjaCBjb21wb25lbnQgYnkgYSBnaXZlbiBmYWN0b3JcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsaW5nIGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUZsb2F0QXJyYXlUb1JlZlNjYWxlZChhcnJheSwgb2Zmc2V0LCBzY2FsZSwgcmVzdWx0KSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgcmVzdWx0Ll9tW2luZGV4XSA9IGFycmF5W2luZGV4ICsgb2Zmc2V0XSAqIHNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5mcm9tRmxvYXRBcnJheVRvUmVmU2NhbGVkID0gZnJvbUZsb2F0QXJyYXlUb1JlZlNjYWxlZDtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgYSBsaXN0IG9mIHZhbHVlcyAoMTYpIGluc2lkZSBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSBpbml0aWFsTTExIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgMXN0IHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTEyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgMXN0IHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTEzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgMXN0IHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTE0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgMXN0IHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTIxIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgMm5kIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTIyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgMm5kIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTIzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgMm5kIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTI0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgMm5kIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTMxIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgM3JkIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTMyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgM3JkIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTMzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgM3JkIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTM0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgM3JkIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTQxIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgNHRoIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTQyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgNHRoIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTQzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgNHRoIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTQ0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgNHRoIHJvd1xuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVZhbHVlc1RvUmVmKGluaXRpYWxNMTEsIGluaXRpYWxNMTIsIGluaXRpYWxNMTMsIGluaXRpYWxNMTQsIGluaXRpYWxNMjEsIGluaXRpYWxNMjIsIGluaXRpYWxNMjMsIGluaXRpYWxNMjQsIGluaXRpYWxNMzEsIGluaXRpYWxNMzIsIGluaXRpYWxNMzMsIGluaXRpYWxNMzQsIGluaXRpYWxNNDEsIGluaXRpYWxNNDIsIGluaXRpYWxNNDMsIGluaXRpYWxNNDQsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBtID0gcmVzdWx0Ll9tO1xuICAgICAgICBtWzBdID0gaW5pdGlhbE0xMTtcbiAgICAgICAgbVsxXSA9IGluaXRpYWxNMTI7XG4gICAgICAgIG1bMl0gPSBpbml0aWFsTTEzO1xuICAgICAgICBtWzNdID0gaW5pdGlhbE0xNDtcbiAgICAgICAgbVs0XSA9IGluaXRpYWxNMjE7XG4gICAgICAgIG1bNV0gPSBpbml0aWFsTTIyO1xuICAgICAgICBtWzZdID0gaW5pdGlhbE0yMztcbiAgICAgICAgbVs3XSA9IGluaXRpYWxNMjQ7XG4gICAgICAgIG1bOF0gPSBpbml0aWFsTTMxO1xuICAgICAgICBtWzldID0gaW5pdGlhbE0zMjtcbiAgICAgICAgbVsxMF0gPSBpbml0aWFsTTMzO1xuICAgICAgICBtWzExXSA9IGluaXRpYWxNMzQ7XG4gICAgICAgIG1bMTJdID0gaW5pdGlhbE00MTtcbiAgICAgICAgbVsxM10gPSBpbml0aWFsTTQyO1xuICAgICAgICBtWzE0XSA9IGluaXRpYWxNNDM7XG4gICAgICAgIG1bMTVdID0gaW5pdGlhbE00NDtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4LmZyb21WYWx1ZXNUb1JlZiA9IGZyb21WYWx1ZXNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG5ldyBtYXRyaXggZnJvbSBhIGxpc3Qgb2YgdmFsdWVzICgxNilcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0xMSAtIGRlZmluZXMgMXN0IHZhbHVlIG9mIDFzdCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0xMiAtIGRlZmluZXMgMm5kIHZhbHVlIG9mIDFzdCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0xMyAtIGRlZmluZXMgM3JkIHZhbHVlIG9mIDFzdCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0xNCAtIGRlZmluZXMgNHRoIHZhbHVlIG9mIDFzdCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0yMSAtIGRlZmluZXMgMXN0IHZhbHVlIG9mIDJuZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0yMiAtIGRlZmluZXMgMm5kIHZhbHVlIG9mIDJuZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0yMyAtIGRlZmluZXMgM3JkIHZhbHVlIG9mIDJuZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0yNCAtIGRlZmluZXMgNHRoIHZhbHVlIG9mIDJuZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0zMSAtIGRlZmluZXMgMXN0IHZhbHVlIG9mIDNyZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0zMiAtIGRlZmluZXMgMm5kIHZhbHVlIG9mIDNyZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0zMyAtIGRlZmluZXMgM3JkIHZhbHVlIG9mIDNyZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0zNCAtIGRlZmluZXMgNHRoIHZhbHVlIG9mIDNyZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE00MSAtIGRlZmluZXMgMXN0IHZhbHVlIG9mIDR0aCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE00MiAtIGRlZmluZXMgMm5kIHZhbHVlIG9mIDR0aCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE00MyAtIGRlZmluZXMgM3JkIHZhbHVlIG9mIDR0aCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE00NCAtIGRlZmluZXMgNHRoIHZhbHVlIG9mIDR0aCByb3dcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21WYWx1ZXMoaW5pdGlhbE0xMSwgaW5pdGlhbE0xMiwgaW5pdGlhbE0xMywgaW5pdGlhbE0xNCwgaW5pdGlhbE0yMSwgaW5pdGlhbE0yMiwgaW5pdGlhbE0yMywgaW5pdGlhbE0yNCwgaW5pdGlhbE0zMSwgaW5pdGlhbE0zMiwgaW5pdGlhbE0zMywgaW5pdGlhbE0zNCwgaW5pdGlhbE00MSwgaW5pdGlhbE00MiwgaW5pdGlhbE00MywgaW5pdGlhbE00NCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgY29uc3QgbSA9IHJlc3VsdC5fbTtcbiAgICAgICAgbVswXSA9IGluaXRpYWxNMTE7XG4gICAgICAgIG1bMV0gPSBpbml0aWFsTTEyO1xuICAgICAgICBtWzJdID0gaW5pdGlhbE0xMztcbiAgICAgICAgbVszXSA9IGluaXRpYWxNMTQ7XG4gICAgICAgIG1bNF0gPSBpbml0aWFsTTIxO1xuICAgICAgICBtWzVdID0gaW5pdGlhbE0yMjtcbiAgICAgICAgbVs2XSA9IGluaXRpYWxNMjM7XG4gICAgICAgIG1bN10gPSBpbml0aWFsTTI0O1xuICAgICAgICBtWzhdID0gaW5pdGlhbE0zMTtcbiAgICAgICAgbVs5XSA9IGluaXRpYWxNMzI7XG4gICAgICAgIG1bMTBdID0gaW5pdGlhbE0zMztcbiAgICAgICAgbVsxMV0gPSBpbml0aWFsTTM0O1xuICAgICAgICBtWzEyXSA9IGluaXRpYWxNNDE7XG4gICAgICAgIG1bMTNdID0gaW5pdGlhbE00MjtcbiAgICAgICAgbVsxNF0gPSBpbml0aWFsTTQzO1xuICAgICAgICBtWzE1XSA9IGluaXRpYWxNNDQ7XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5mcm9tVmFsdWVzID0gZnJvbVZhbHVlcztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IG1hdHJpeCBjb21wb3NlZCBieSBtZXJnaW5nIHNjYWxlICh2ZWN0b3IzKSwgcm90YXRpb24gKHF1YXRlcm5pb24pIGFuZCB0cmFuc2xhdGlvbiAodmVjdG9yMylcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsZSB2ZWN0b3IzXG4gICAgICogQHBhcmFtIHJvdGF0aW9uIC0gZGVmaW5lcyB0aGUgcm90YXRpb24gcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbiAtIGRlZmluZXMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvcjNcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlKHNjYWxlLCByb3RhdGlvbiwgdHJhbnNsYXRpb24pIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGNvbXBvc2VUb1JlZihzY2FsZSwgcm90YXRpb24sIHRyYW5zbGF0aW9uLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguY29tcG9zZSA9IGNvbXBvc2U7XG4gICAgLyoqXG4gICAgICogU2V0cyBhIG1hdHJpeCB0byBhIHZhbHVlIGNvbXBvc2VkIGJ5IG1lcmdpbmcgc2NhbGUgKHZlY3RvcjMpLCByb3RhdGlvbiAocXVhdGVybmlvbikgYW5kIHRyYW5zbGF0aW9uICh2ZWN0b3IzKVxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIHZlY3RvcjNcbiAgICAgKiBAcGFyYW0gcm90YXRpb24gLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uIC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yM1xuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZVRvUmVmKHNjYWxlLCByb3RhdGlvbiwgdHJhbnNsYXRpb24sIHJlc3VsdCkge1xuICAgICAgICBjb25zdCB0bXBNYXRyaXggPSBbY3JlYXRlKCksIGNyZWF0ZSgpLCBjcmVhdGUoKV07XG4gICAgICAgIHNjYWxpbmdUb1JlZihzY2FsZS54LCBzY2FsZS55LCBzY2FsZS56LCB0bXBNYXRyaXhbMV0pO1xuICAgICAgICBmcm9tUXVhdGVybmlvblRvUmVmKHJvdGF0aW9uLCB0bXBNYXRyaXhbMF0pO1xuICAgICAgICBtdWx0aXBseVRvUmVmKHRtcE1hdHJpeFsxXSwgdG1wTWF0cml4WzBdLCByZXN1bHQpO1xuICAgICAgICBzZXRUcmFuc2xhdGlvbihyZXN1bHQsIHRyYW5zbGF0aW9uKTtcbiAgICB9XG4gICAgTWF0cml4LmNvbXBvc2VUb1JlZiA9IGNvbXBvc2VUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdHJpeFxuICAgICAqIEByZXR1cm5zIGEgbmV3IGlkZW50aXR5IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIElkZW50aXR5KCkge1xuICAgICAgICBjb25zdCBpZGVudGl0eSA9IGZyb21WYWx1ZXMoMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wKTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGlkZW50aXR5LCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgIH1cbiAgICBNYXRyaXguSWRlbnRpdHkgPSBJZGVudGl0eTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdHJpeCBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIElkZW50aXR5VG9SZWYocmVzdWx0KSB7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZigxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIHJlc3VsdCk7XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhyZXN1bHQsIHRydWUpO1xuICAgIH1cbiAgICBNYXRyaXguSWRlbnRpdHlUb1JlZiA9IElkZW50aXR5VG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB6ZXJvIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIGEgbmV3IHplcm8gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gWmVybygpIHtcbiAgICAgICAgY29uc3QgemVybyA9IGZyb21WYWx1ZXMoMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wKTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHplcm8sIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHplcm87XG4gICAgfVxuICAgIE1hdHJpeC5aZXJvID0gWmVybztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCBmb3IgXCJhbmdsZVwiIHJhZGlhbnMgYXJvdW5kIHRoZSBYIGF4aXNcbiAgICAgKiBAcGFyYW0gYW5nbGUgLSBkZWZpbmVzIHRoZSBhbmdsZSAoaW4gcmFkaWFucykgdG8gdXNlXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3RhdGlvblgoYW5nbGUpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIHJvdGF0aW9uWFRvUmVmKGFuZ2xlLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguUm90YXRpb25YID0gUm90YXRpb25YO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcm90YXRpb24gbWF0cml4IGZvciBcImFuZ2xlXCIgcmFkaWFucyBhcm91bmQgdGhlIFggYXhpcyBhbmQgc3RvcmVzIGl0IGluIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGFuZ2xlIC0gZGVmaW5lcyB0aGUgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHVzZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25YVG9SZWYoYW5nbGUsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBmcm9tVmFsdWVzVG9SZWYoMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGMsIHMsIDAuMCwgMC4wLCAtcywgYywgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIHJlc3VsdCk7XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhyZXN1bHQsIGMgPT09IDEgJiYgcyA9PT0gMCk7XG4gICAgfVxuICAgIE1hdHJpeC5yb3RhdGlvblhUb1JlZiA9IHJvdGF0aW9uWFRvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcm90YXRpb24gbWF0cml4IGZvciBcImFuZ2xlXCIgcmFkaWFucyBhcm91bmQgdGhlIFkgYXhpc1xuICAgICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0aW9uWShhbmdsZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgcm90YXRpb25ZVG9SZWYoYW5nbGUsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5yb3RhdGlvblkgPSByb3RhdGlvblk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByb3RhdGlvbiBtYXRyaXggZm9yIFwiYW5nbGVcIiByYWRpYW5zIGFyb3VuZCB0aGUgWSBheGlzIGFuZCBzdG9yZXMgaXQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gYW5nbGUgLSBkZWZpbmVzIHRoZSBhbmdsZSAoaW4gcmFkaWFucykgdG8gdXNlXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByb3RhdGlvbllUb1JlZihhbmdsZSwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihjLCAwLjAsIC1zLCAwLjAsIDAuMCwgMS4wLCAwLjAsIDAuMCwgcywgMC4wLCBjLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgcmVzdWx0KTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHJlc3VsdCwgYyA9PT0gMSAmJiBzID09PSAwKTtcbiAgICB9XG4gICAgTWF0cml4LnJvdGF0aW9uWVRvUmVmID0gcm90YXRpb25ZVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByb3RhdGlvbiBtYXRyaXggZm9yIFwiYW5nbGVcIiByYWRpYW5zIGFyb3VuZCB0aGUgWiBheGlzXG4gICAgICogQHBhcmFtIGFuZ2xlIC0gZGVmaW5lcyB0aGUgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHVzZVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25aKGFuZ2xlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICByb3RhdGlvblpUb1JlZihhbmdsZSwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4LnJvdGF0aW9uWiA9IHJvdGF0aW9uWjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCBmb3IgXCJhbmdsZVwiIHJhZGlhbnMgYXJvdW5kIHRoZSBaIGF4aXMgYW5kIHN0b3JlcyBpdCBpbiBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0aW9uWlRvUmVmKGFuZ2xlLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKGMsIHMsIDAuMCwgMC4wLCAtcywgYywgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCByZXN1bHQpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMocmVzdWx0LCBjID09PSAxICYmIHMgPT09IDApO1xuICAgIH1cbiAgICBNYXRyaXgucm90YXRpb25aVG9SZWYgPSByb3RhdGlvblpUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCBmb3IgXCJhbmdsZVwiIHJhZGlhbnMgYXJvdW5kIHRoZSBnaXZlbiBheGlzXG4gICAgICogQHBhcmFtIGF4aXMgLSBkZWZpbmVzIHRoZSBheGlzIHRvIHVzZVxuICAgICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0aW9uQXhpcyhheGlzLCBhbmdsZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgcm90YXRpb25BeGlzVG9SZWYoYXhpcywgYW5nbGUsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5yb3RhdGlvbkF4aXMgPSByb3RhdGlvbkF4aXM7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByb3RhdGlvbiBtYXRyaXggZm9yIFwiYW5nbGVcIiByYWRpYW5zIGFyb3VuZCB0aGUgZ2l2ZW4gYXhpcyBhbmQgc3RvcmVzIGl0IGluIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGF4aXMgLSBkZWZpbmVzIHRoZSBheGlzIHRvIHVzZVxuICAgICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0aW9uQXhpc1RvUmVmKF9heGlzLCBhbmdsZSwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHMgPSBNYXRoLnNpbigtYW5nbGUpO1xuICAgICAgICBjb25zdCBjID0gTWF0aC5jb3MoLWFuZ2xlKTtcbiAgICAgICAgY29uc3QgYzEgPSAxIC0gYztcbiAgICAgICAgY29uc3QgYXhpcyA9IFZlY3RvcjMubm9ybWFsaXplKF9heGlzKTtcbiAgICAgICAgY29uc3QgbSA9IHJlc3VsdC5fbTtcbiAgICAgICAgbVswXSA9IGF4aXMueCAqIGF4aXMueCAqIGMxICsgYztcbiAgICAgICAgbVsxXSA9IGF4aXMueCAqIGF4aXMueSAqIGMxIC0gYXhpcy56ICogcztcbiAgICAgICAgbVsyXSA9IGF4aXMueCAqIGF4aXMueiAqIGMxICsgYXhpcy55ICogcztcbiAgICAgICAgbVszXSA9IDAuMDtcbiAgICAgICAgbVs0XSA9IGF4aXMueSAqIGF4aXMueCAqIGMxICsgYXhpcy56ICogcztcbiAgICAgICAgbVs1XSA9IGF4aXMueSAqIGF4aXMueSAqIGMxICsgYztcbiAgICAgICAgbVs2XSA9IGF4aXMueSAqIGF4aXMueiAqIGMxIC0gYXhpcy54ICogcztcbiAgICAgICAgbVs3XSA9IDAuMDtcbiAgICAgICAgbVs4XSA9IGF4aXMueiAqIGF4aXMueCAqIGMxIC0gYXhpcy55ICogcztcbiAgICAgICAgbVs5XSA9IGF4aXMueiAqIGF4aXMueSAqIGMxICsgYXhpcy54ICogcztcbiAgICAgICAgbVsxMF0gPSBheGlzLnogKiBheGlzLnogKiBjMSArIGM7XG4gICAgICAgIG1bMTFdID0gMC4wO1xuICAgICAgICBtWzEyXSA9IDAuMDtcbiAgICAgICAgbVsxM10gPSAwLjA7XG4gICAgICAgIG1bMTRdID0gMC4wO1xuICAgICAgICBtWzE1XSA9IDEuMDtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4LnJvdGF0aW9uQXhpc1RvUmVmID0gcm90YXRpb25BeGlzVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJvdGF0aW9uIG1hdHJpeFxuICAgICAqIEBwYXJhbSB5YXcgLSBkZWZpbmVzIHRoZSB5YXcgYW5nbGUgaW4gcmFkaWFucyAoWSBheGlzKVxuICAgICAqIEBwYXJhbSBwaXRjaCAtIGRlZmluZXMgdGhlIHBpdGNoIGFuZ2xlIGluIHJhZGlhbnMgKFggYXhpcylcbiAgICAgKiBAcGFyYW0gcm9sbCAtIGRlZmluZXMgdGhlIHJvbGwgYW5nbGUgaW4gcmFkaWFucyAoWCBheGlzKVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgcm90YXRpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25ZYXdQaXRjaFJvbGwoeWF3LCBwaXRjaCwgcm9sbCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgcm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih5YXcsIHBpdGNoLCByb2xsLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXgucm90YXRpb25ZYXdQaXRjaFJvbGwgPSByb3RhdGlvbllhd1BpdGNoUm9sbDtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcm90YXRpb24gbWF0cml4IGFuZCBzdG9yZXMgaXQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0geWF3IC0gZGVmaW5lcyB0aGUgeWF3IGFuZ2xlIGluIHJhZGlhbnMgKFkgYXhpcylcbiAgICAgKiBAcGFyYW0gcGl0Y2ggLSBkZWZpbmVzIHRoZSBwaXRjaCBhbmdsZSBpbiByYWRpYW5zIChYIGF4aXMpXG4gICAgICogQHBhcmFtIHJvbGwgLSBkZWZpbmVzIHRoZSByb2xsIGFuZ2xlIGluIHJhZGlhbnMgKFggYXhpcylcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoeWF3LCBwaXRjaCwgcm9sbCwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHF1YXRlcm5pb25SZXN1bHQgPSBRdWF0ZXJuaW9uLlplcm8oKTtcbiAgICAgICAgUXVhdGVybmlvbi5mcm9tUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih5YXcsIHBpdGNoLCByb2xsLCBxdWF0ZXJuaW9uUmVzdWx0KTtcbiAgICAgICAgZnJvbVF1YXRlcm5pb25Ub1JlZihxdWF0ZXJuaW9uUmVzdWx0LCByZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXgucm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZiA9IHJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNjYWxpbmcgbWF0cml4XG4gICAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3Igb24gWCBheGlzXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3Igb24gWSBheGlzXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3Igb24gWiBheGlzXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY2FsaW5nKHgsIHksIHopIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIHNjYWxpbmdUb1JlZih4LCB5LCB6LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguc2NhbGluZyA9IHNjYWxpbmc7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNjYWxpbmcgbWF0cml4IGFuZCBzdG9yZXMgaXQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvciBvbiBYIGF4aXNcbiAgICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvciBvbiBZIGF4aXNcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvciBvbiBaIGF4aXNcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxpbmdUb1JlZih4LCB5LCB6LCByZXN1bHQpIHtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKHgsIDAuMCwgMC4wLCAwLjAsIDAuMCwgeSwgMC4wLCAwLjAsIDAuMCwgMC4wLCB6LCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgcmVzdWx0KTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHJlc3VsdCwgeCA9PT0gMSAmJiB5ID09PSAxICYmIHogPT09IDEpO1xuICAgIH1cbiAgICBNYXRyaXguc2NhbGluZ1RvUmVmID0gc2NhbGluZ1RvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0cmFuc2xhdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHRyYW5zbGF0aW9uIG9uIFggYXhpc1xuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gb24gWSBheGlzXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB0cmFuc2xhdGlvbm9uIFogYXhpc1xuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNsYXRpb24oeCwgeSwgeikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgdHJhbnNsYXRpb25Ub1JlZih4LCB5LCB6LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXgudHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvbjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdHJhbnNsYXRpb24gbWF0cml4IGFuZCBzdG9yZXMgaXQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHRyYW5zbGF0aW9uIG9uIFggYXhpc1xuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gb24gWSBheGlzXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB0cmFuc2xhdGlvbm9uIFogYXhpc1xuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNsYXRpb25Ub1JlZih4LCB5LCB6LCByZXN1bHQpIHtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCAwLjAsIHgsIHksIHosIDEuMCwgcmVzdWx0KTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHJlc3VsdCwgeCA9PT0gMCAmJiB5ID09PSAwICYmIHogPT09IDApO1xuICAgIH1cbiAgICBNYXRyaXgudHJhbnNsYXRpb25Ub1JlZiA9IHRyYW5zbGF0aW9uVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBNYXRyaXggd2hvc2UgdmFsdWVzIGFyZSB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlcyBmb3IgXCJncmFkaWVudFwiIChmbG9hdCkgYmV0d2VlbiB0aGUgb25lcyBvZiB0aGUgbWF0cmljZXMgXCJzdGFydFZhbHVlXCIgYW5kIFwiZW5kVmFsdWVcIi5cbiAgICAgKiBAcGFyYW0gc3RhcnRWYWx1ZSAtIGRlZmluZXMgdGhlIHN0YXJ0IHZhbHVlXG4gICAgICogQHBhcmFtIGVuZFZhbHVlIC0gZGVmaW5lcyB0aGUgZW5kIHZhbHVlXG4gICAgICogQHBhcmFtIGdyYWRpZW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgZmFjdG9yXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZXJwKHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBncmFkaWVudCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgbGVycFRvUmVmKHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBncmFkaWVudCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4LmxlcnAgPSBsZXJwO1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZ2l2ZW4gbWF0cml4IFwicmVzdWx0XCIgYXMgdGhlIGludGVycG9sYXRlZCB2YWx1ZXMgZm9yIFwiZ3JhZGllbnRcIiAoZmxvYXQpIGJldHdlZW4gdGhlIG9uZXMgb2YgdGhlIG1hdHJpY2VzIFwic3RhcnRWYWx1ZVwiIGFuZCBcImVuZFZhbHVlXCIuXG4gICAgICogQHBhcmFtIHN0YXJ0VmFsdWUgLSBkZWZpbmVzIHRoZSBzdGFydCB2YWx1ZVxuICAgICAqIEBwYXJhbSBlbmRWYWx1ZSAtIGRlZmluZXMgdGhlIGVuZCB2YWx1ZVxuICAgICAqIEBwYXJhbSBncmFkaWVudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBNYXRyaXggb2JqZWN0IHdoZXJlIHRvIHN0b3JlIGRhdGFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZXJwVG9SZWYoc3RhcnRWYWx1ZSwgZW5kVmFsdWUsIGdyYWRpZW50LCByZXN1bHQpIHtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IDE2OyBpbmRleCsrKSB7XG4gICAgICAgICAgICByZXN1bHQuX21baW5kZXhdID1cbiAgICAgICAgICAgICAgICBzdGFydFZhbHVlLl9tW2luZGV4XSAqICgxLjAgLSBncmFkaWVudCkgKyBlbmRWYWx1ZS5fbVtpbmRleF0gKiBncmFkaWVudDtcbiAgICAgICAgfVxuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXgubGVycFRvUmVmID0gbGVycFRvUmVmO1xuICAgIC8qKlxuICAgICAqIEJ1aWxkcyBhIG5ldyBtYXRyaXggd2hvc2UgdmFsdWVzIGFyZSBjb21wdXRlZCBieTpcbiAgICAgKiAqIGRlY29tcG9zaW5nIHRoZSB0aGUgXCJzdGFydFZhbHVlXCIgYW5kIFwiZW5kVmFsdWVcIiBtYXRyaWNlcyBpbnRvIHRoZWlyIHJlc3BlY3RpdmUgc2NhbGUsIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBtYXRyaWNlc1xuICAgICAqICogaW50ZXJwb2xhdGluZyBmb3IgXCJncmFkaWVudFwiIChmbG9hdCkgdGhlIHZhbHVlcyBiZXR3ZWVuIGVhY2ggb2YgdGhlc2UgZGVjb21wb3NlZCBtYXRyaWNlcyBiZXR3ZWVuIHRoZSBzdGFydCBhbmQgdGhlIGVuZFxuICAgICAqICogcmVjb21wb3NpbmcgYSBuZXcgbWF0cml4IGZyb20gdGhlc2UgMyBpbnRlcnBvbGF0ZWQgc2NhbGUsIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBtYXRyaWNlc1xuICAgICAqIEBwYXJhbSBzdGFydFZhbHVlIC0gZGVmaW5lcyB0aGUgZmlyc3QgbWF0cml4XG4gICAgICogQHBhcmFtIGVuZFZhbHVlIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG1hdHJpeFxuICAgICAqIEBwYXJhbSBncmFkaWVudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGJldHdlZW4gdGhlIHR3byBtYXRyaWNlc1xuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVjb21wb3NlTGVycChzdGFydFZhbHVlLCBlbmRWYWx1ZSwgZ3JhZGllbnQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGRlY29tcG9zZUxlcnBUb1JlZihzdGFydFZhbHVlLCBlbmRWYWx1ZSwgZ3JhZGllbnQsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5kZWNvbXBvc2VMZXJwID0gZGVjb21wb3NlTGVycDtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYSBtYXRyaXggdG8gdmFsdWVzIHdoaWNoIGFyZSBjb21wdXRlZCBieTpcbiAgICAgKiAqIGRlY29tcG9zaW5nIHRoZSB0aGUgXCJzdGFydFZhbHVlXCIgYW5kIFwiZW5kVmFsdWVcIiBtYXRyaWNlcyBpbnRvIHRoZWlyIHJlc3BlY3RpdmUgc2NhbGUsIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBtYXRyaWNlc1xuICAgICAqICogaW50ZXJwb2xhdGluZyBmb3IgXCJncmFkaWVudFwiIChmbG9hdCkgdGhlIHZhbHVlcyBiZXR3ZWVuIGVhY2ggb2YgdGhlc2UgZGVjb21wb3NlZCBtYXRyaWNlcyBiZXR3ZWVuIHRoZSBzdGFydCBhbmQgdGhlIGVuZFxuICAgICAqICogcmVjb21wb3NpbmcgYSBuZXcgbWF0cml4IGZyb20gdGhlc2UgMyBpbnRlcnBvbGF0ZWQgc2NhbGUsIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBtYXRyaWNlc1xuICAgICAqIEBwYXJhbSBzdGFydFZhbHVlIC0gZGVmaW5lcyB0aGUgZmlyc3QgbWF0cml4XG4gICAgICogQHBhcmFtIGVuZFZhbHVlIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG1hdHJpeFxuICAgICAqIEBwYXJhbSBncmFkaWVudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGJldHdlZW4gdGhlIHR3byBtYXRyaWNlc1xuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVjb21wb3NlTGVycFRvUmVmKHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBncmFkaWVudCwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0U2NhbGUgPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgY29uc3Qgc3RhcnRSb3RhdGlvbiA9IFF1YXRlcm5pb24uWmVybygpO1xuICAgICAgICBjb25zdCBzdGFydFRyYW5zbGF0aW9uID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIGRlY29tcG9zZShzdGFydFZhbHVlLCBzdGFydFNjYWxlLCBzdGFydFJvdGF0aW9uLCBzdGFydFRyYW5zbGF0aW9uKTtcbiAgICAgICAgY29uc3QgZW5kU2NhbGUgPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgY29uc3QgZW5kUm90YXRpb24gPSBRdWF0ZXJuaW9uLlplcm8oKTtcbiAgICAgICAgY29uc3QgZW5kVHJhbnNsYXRpb24gPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgZGVjb21wb3NlKGVuZFZhbHVlLCBlbmRTY2FsZSwgZW5kUm90YXRpb24sIGVuZFRyYW5zbGF0aW9uKTtcbiAgICAgICAgY29uc3QgcmVzdWx0U2NhbGUgPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgVmVjdG9yMy5sZXJwVG9SZWYoc3RhcnRTY2FsZSwgZW5kU2NhbGUsIGdyYWRpZW50LCByZXN1bHRTY2FsZSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdFJvdGF0aW9uID0gUXVhdGVybmlvbi5aZXJvKCk7XG4gICAgICAgIFF1YXRlcm5pb24uc2xlcnBUb1JlZihzdGFydFJvdGF0aW9uLCBlbmRSb3RhdGlvbiwgZ3JhZGllbnQsIHJlc3VsdFJvdGF0aW9uKTtcbiAgICAgICAgY29uc3QgcmVzdWx0VHJhbnNsYXRpb24gPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgVmVjdG9yMy5sZXJwVG9SZWYoc3RhcnRUcmFuc2xhdGlvbiwgZW5kVHJhbnNsYXRpb24sIGdyYWRpZW50LCByZXN1bHRUcmFuc2xhdGlvbik7XG4gICAgICAgIGNvbXBvc2VUb1JlZihyZXN1bHRTY2FsZSwgcmVzdWx0Um90YXRpb24sIHJlc3VsdFRyYW5zbGF0aW9uLCByZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXguZGVjb21wb3NlTGVycFRvUmVmID0gZGVjb21wb3NlTGVycFRvUmVmO1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBuZXcgcm90YXRpb24gbWF0cml4IHVzZWQgdG8gcm90YXRlIGFuIGVudGl0eSBzbyBhcyBpdCBsb29rcyBhdCB0aGUgdGFyZ2V0IHZlY3RvcjMsIGZyb20gdGhlIGV5ZSB2ZWN0b3IzIHBvc2l0aW9uLCB0aGUgdXAgdmVjdG9yMyBiZWluZyBvcmllbnRlZCBsaWtlIFwidXBcIlxuICAgICAqIHNlbGYgZnVuY3Rpb24gd29ya3MgaW4gbGVmdCBoYW5kZWQgbW9kZVxuICAgICAqIEBwYXJhbSBleWUgLSBkZWZpbmVzIHRoZSBmaW5hbCBwb3NpdGlvbiBvZiB0aGUgZW50aXR5XG4gICAgICogQHBhcmFtIHRhcmdldCAtIGRlZmluZXMgd2hlcmUgdGhlIGVudGl0eSBzaG91bGQgbG9vayBhdFxuICAgICAqIEBwYXJhbSB1cCAtIGRlZmluZXMgdGhlIHVwIHZlY3RvciBmb3IgdGhlIGVudGl0eVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9va0F0TEgoZXllLCB0YXJnZXQsIHVwKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICBsb29rQXRMSFRvUmVmKGV5ZSwgdGFyZ2V0LCB1cCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4Lkxvb2tBdExIID0gTG9va0F0TEg7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gXCJyZXN1bHRcIiBNYXRyaXggdG8gYSByb3RhdGlvbiBtYXRyaXggdXNlZCB0byByb3RhdGUgYW4gZW50aXR5IHNvIHRoYXQgaXQgbG9va3MgYXQgdGhlIHRhcmdldCB2ZWN0b3IzLCBmcm9tIHRoZSBleWUgdmVjdG9yMyBwb3NpdGlvbiwgdGhlIHVwIHZlY3RvcjMgYmVpbmcgb3JpZW50ZWQgbGlrZSBcInVwXCIuXG4gICAgICogc2VsZiBmdW5jdGlvbiB3b3JrcyBpbiBsZWZ0IGhhbmRlZCBtb2RlXG4gICAgICogQHBhcmFtIGV5ZSAtIGRlZmluZXMgdGhlIGZpbmFsIHBvc2l0aW9uIG9mIHRoZSBlbnRpdHlcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB3aGVyZSB0aGUgZW50aXR5IHNob3VsZCBsb29rIGF0XG4gICAgICogQHBhcmFtIHVwIC0gZGVmaW5lcyB0aGUgdXAgdmVjdG9yIGZvciB0aGUgZW50aXR5XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb29rQXRMSFRvUmVmKGV5ZSwgdGFyZ2V0LCB1cCwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHhBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIGNvbnN0IHlBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIGNvbnN0IHpBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIC8vIFogYXhpc1xuICAgICAgICBWZWN0b3IzLnN1YnRyYWN0VG9SZWYodGFyZ2V0LCBleWUsIHpBeGlzKTtcbiAgICAgICAgVmVjdG9yMy5ub3JtYWxpemVUb1JlZih6QXhpcywgekF4aXMpO1xuICAgICAgICAvLyBYIGF4aXNcbiAgICAgICAgVmVjdG9yMy5jcm9zc1RvUmVmKHVwLCB6QXhpcywgeEF4aXMpO1xuICAgICAgICBjb25zdCB4U3F1YXJlTGVuZ3RoID0gVmVjdG9yMy5sZW5ndGhTcXVhcmVkKHhBeGlzKTtcbiAgICAgICAgaWYgKHhTcXVhcmVMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHhBeGlzLnggPSAxLjA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBWZWN0b3IzLm5vcm1hbGl6ZUZyb21MZW5ndGhUb1JlZih4QXhpcywgTWF0aC5zcXJ0KHhTcXVhcmVMZW5ndGgpLCB4QXhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gWSBheGlzXG4gICAgICAgIFZlY3RvcjMuY3Jvc3NUb1JlZih6QXhpcywgeEF4aXMsIHlBeGlzKTtcbiAgICAgICAgVmVjdG9yMy5ub3JtYWxpemVUb1JlZih5QXhpcywgeUF4aXMpO1xuICAgICAgICAvLyBFeWUgYW5nbGVzXG4gICAgICAgIGNvbnN0IGV4ID0gLVZlY3RvcjMuZG90KHhBeGlzLCBleWUpO1xuICAgICAgICBjb25zdCBleSA9IC1WZWN0b3IzLmRvdCh5QXhpcywgZXllKTtcbiAgICAgICAgY29uc3QgZXogPSAtVmVjdG9yMy5kb3QoekF4aXMsIGV5ZSk7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZih4QXhpcy54LCB5QXhpcy54LCB6QXhpcy54LCAwLjAsIHhBeGlzLnksIHlBeGlzLnksIHpBeGlzLnksIDAuMCwgeEF4aXMueiwgeUF4aXMueiwgekF4aXMueiwgMC4wLCBleCwgZXksIGV6LCAxLjAsIHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5sb29rQXRMSFRvUmVmID0gbG9va0F0TEhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBHZXRzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCB1c2VkIHRvIHJvdGF0ZSBhbiBlbnRpdHkgc28gYXMgaXQgbG9va3MgYXQgdGhlIHRhcmdldCB2ZWN0b3IzLCBmcm9tIHRoZSBleWUgdmVjdG9yMyBwb3NpdGlvbiwgdGhlIHVwIHZlY3RvcjMgYmVpbmcgb3JpZW50ZWQgbGlrZSBcInVwXCJcbiAgICAgKiBzZWxmIGZ1bmN0aW9uIHdvcmtzIGluIHJpZ2h0IGhhbmRlZCBtb2RlXG4gICAgICogQHBhcmFtIGV5ZSAtIGRlZmluZXMgdGhlIGZpbmFsIHBvc2l0aW9uIG9mIHRoZSBlbnRpdHlcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB3aGVyZSB0aGUgZW50aXR5IHNob3VsZCBsb29rIGF0XG4gICAgICogQHBhcmFtIHVwIC0gZGVmaW5lcyB0aGUgdXAgdmVjdG9yIGZvciB0aGUgZW50aXR5XG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb29rQXRSSChleWUsIHRhcmdldCwgdXApIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGxvb2tBdFJIVG9SZWYoZXllLCB0YXJnZXQsIHVwLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXgubG9va0F0UkggPSBsb29rQXRSSDtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiBcInJlc3VsdFwiIE1hdHJpeCB0byBhIHJvdGF0aW9uIG1hdHJpeCB1c2VkIHRvIHJvdGF0ZSBhbiBlbnRpdHkgc28gdGhhdCBpdCBsb29rcyBhdCB0aGUgdGFyZ2V0IHZlY3RvcjMsIGZyb20gdGhlIGV5ZSB2ZWN0b3IzIHBvc2l0aW9uLCB0aGUgdXAgdmVjdG9yMyBiZWluZyBvcmllbnRlZCBsaWtlIFwidXBcIi5cbiAgICAgKiBzZWxmIGZ1bmN0aW9uIHdvcmtzIGluIHJpZ2h0IGhhbmRlZCBtb2RlXG4gICAgICogQHBhcmFtIGV5ZSAtIGRlZmluZXMgdGhlIGZpbmFsIHBvc2l0aW9uIG9mIHRoZSBlbnRpdHlcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB3aGVyZSB0aGUgZW50aXR5IHNob3VsZCBsb29rIGF0XG4gICAgICogQHBhcmFtIHVwIC0gZGVmaW5lcyB0aGUgdXAgdmVjdG9yIGZvciB0aGUgZW50aXR5XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb29rQXRSSFRvUmVmKGV5ZSwgdGFyZ2V0LCB1cCwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHhBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIGNvbnN0IHlBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIGNvbnN0IHpBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIC8vIFogYXhpc1xuICAgICAgICBWZWN0b3IzLnN1YnRyYWN0VG9SZWYoZXllLCB0YXJnZXQsIHpBeGlzKTtcbiAgICAgICAgVmVjdG9yMy5ub3JtYWxpemVUb1JlZih6QXhpcywgekF4aXMpO1xuICAgICAgICAvLyBYIGF4aXNcbiAgICAgICAgVmVjdG9yMy5jcm9zc1RvUmVmKHVwLCB6QXhpcywgeEF4aXMpO1xuICAgICAgICBjb25zdCB4U3F1YXJlTGVuZ3RoID0gVmVjdG9yMy5sZW5ndGhTcXVhcmVkKHhBeGlzKTtcbiAgICAgICAgaWYgKHhTcXVhcmVMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHhBeGlzLnggPSAxLjA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBWZWN0b3IzLm5vcm1hbGl6ZUZyb21MZW5ndGhUb1JlZih4QXhpcywgTWF0aC5zcXJ0KHhTcXVhcmVMZW5ndGgpLCB4QXhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gWSBheGlzXG4gICAgICAgIFZlY3RvcjMuY3Jvc3NUb1JlZih6QXhpcywgeEF4aXMsIHlBeGlzKTtcbiAgICAgICAgVmVjdG9yMy5ub3JtYWxpemVUb1JlZih5QXhpcywgeUF4aXMpO1xuICAgICAgICAvLyBFeWUgYW5nbGVzXG4gICAgICAgIGNvbnN0IGV4ID0gLVZlY3RvcjMuZG90KHhBeGlzLCBleWUpO1xuICAgICAgICBjb25zdCBleSA9IC1WZWN0b3IzLmRvdCh5QXhpcywgZXllKTtcbiAgICAgICAgY29uc3QgZXogPSAtVmVjdG9yMy5kb3QoekF4aXMsIGV5ZSk7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZih4QXhpcy54LCB5QXhpcy54LCB6QXhpcy54LCAwLjAsIHhBeGlzLnksIHlBeGlzLnksIHpBeGlzLnksIDAuMCwgeEF4aXMueiwgeUF4aXMueiwgekF4aXMueiwgMC4wLCBleCwgZXksIGV6LCAxLjAsIHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5sb29rQXRSSFRvUmVmID0gbG9va0F0UkhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBsZWZ0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gd2lkdGggLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCB3aWR0aFxuICAgICAqIEBwYXJhbSBoZWlnaHQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBoZWlnaHRcbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIGEgbGVmdC1oYW5kZWQgb3J0aG9ncmFwaGljIHByb2plY3Rpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gb3J0aG9MSCh3aWR0aCwgaGVpZ2h0LCB6bmVhciwgemZhcikge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBjcmVhdGUoKTtcbiAgICAgICAgb3J0aG9MSFRvUmVmKHdpZHRoLCBoZWlnaHQsIHpuZWFyLCB6ZmFyLCBtYXRyaXgpO1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cbiAgICBNYXRyaXgub3J0aG9MSCA9IG9ydGhvTEg7XG4gICAgLyoqXG4gICAgICogU3RvcmUgYSBsZWZ0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiB0byBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSB3aWR0aCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHdpZHRoXG4gICAgICogQHBhcmFtIGhlaWdodCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGhlaWdodFxuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9ydGhvTEhUb1JlZih3aWR0aCwgaGVpZ2h0LCB6bmVhciwgemZhciwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB6bmVhcjtcbiAgICAgICAgY29uc3QgZiA9IHpmYXI7XG4gICAgICAgIGNvbnN0IGEgPSAyLjAgLyB3aWR0aDtcbiAgICAgICAgY29uc3QgYiA9IDIuMCAvIGhlaWdodDtcbiAgICAgICAgY29uc3QgYyA9IDIuMCAvIChmIC0gbik7XG4gICAgICAgIGNvbnN0IGQgPSAtKGYgKyBuKSAvIChmIC0gbik7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihhLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGIsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYywgMC4wLCAwLjAsIDAuMCwgZCwgMS4wLCByZXN1bHQpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMocmVzdWx0LCBhID09PSAxICYmIGIgPT09IDEgJiYgYyA9PT0gMSAmJiBkID09PSAwKTtcbiAgICB9XG4gICAgTWF0cml4Lm9ydGhvTEhUb1JlZiA9IG9ydGhvTEhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBsZWZ0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGxlZnQgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHJpZ2h0IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gYm90dG9tIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgYm90dG9tIGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gdG9wIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgdG9wIGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIGEgbGVmdC1oYW5kZWQgb3J0aG9ncmFwaGljIHByb2plY3Rpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gT3J0aG9PZmZDZW50ZXJMSChsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIHpuZWFyLCB6ZmFyKSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IGNyZWF0ZSgpO1xuICAgICAgICBvcnRob09mZkNlbnRlckxIVG9SZWYobGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCB6bmVhciwgemZhciwgbWF0cml4KTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG4gICAgTWF0cml4Lk9ydGhvT2ZmQ2VudGVyTEggPSBPcnRob09mZkNlbnRlckxIO1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyBhIGxlZnQtaGFuZGVkIG9ydGhvZ3JhcGhpYyBwcm9qZWN0aW9uIGludG8gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGxlZnQgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHJpZ2h0IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gYm90dG9tIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgYm90dG9tIGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gdG9wIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgdG9wIGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcnRob09mZkNlbnRlckxIVG9SZWYobGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCB6bmVhciwgemZhciwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB6bmVhcjtcbiAgICAgICAgY29uc3QgZiA9IHpmYXI7XG4gICAgICAgIGNvbnN0IGEgPSAyLjAgLyAocmlnaHQgLSBsZWZ0KTtcbiAgICAgICAgY29uc3QgYiA9IDIuMCAvICh0b3AgLSBib3R0b20pO1xuICAgICAgICBjb25zdCBjID0gMi4wIC8gKGYgLSBuKTtcbiAgICAgICAgY29uc3QgZCA9IC0oZiArIG4pIC8gKGYgLSBuKTtcbiAgICAgICAgY29uc3QgaTAgPSAobGVmdCArIHJpZ2h0KSAvIChsZWZ0IC0gcmlnaHQpO1xuICAgICAgICBjb25zdCBpMSA9ICh0b3AgKyBib3R0b20pIC8gKGJvdHRvbSAtIHRvcCk7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihhLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGIsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYywgMC4wLCBpMCwgaTEsIGQsIDEuMCwgcmVzdWx0KTtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4Lm9ydGhvT2ZmQ2VudGVyTEhUb1JlZiA9IG9ydGhvT2ZmQ2VudGVyTEhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcmlnaHQtaGFuZGVkIG9ydGhvZ3JhcGhpYyBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgbGVmdCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgcmlnaHQgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSBib3R0b20gLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBib3R0b20gY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB0b3AgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCB0b3AgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXggYXMgYSByaWdodC1oYW5kZWQgb3J0aG9ncmFwaGljIHByb2plY3Rpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gb3J0aG9PZmZDZW50ZXJSSChsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIHpuZWFyLCB6ZmFyKSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IGNyZWF0ZSgpO1xuICAgICAgICBvcnRob09mZkNlbnRlclJIVG9SZWYobGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCB6bmVhciwgemZhciwgbWF0cml4KTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG4gICAgTWF0cml4Lm9ydGhvT2ZmQ2VudGVyUkggPSBvcnRob09mZkNlbnRlclJIO1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyBhIHJpZ2h0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBpbnRvIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBsZWZ0IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCByaWdodCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIGJvdHRvbSAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGJvdHRvbSBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHRvcCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHRvcCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHpuZWFyIC0gZGVmaW5lcyB0aGUgbmVhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHpmYXIgLSBkZWZpbmVzIHRoZSBmYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gb3J0aG9PZmZDZW50ZXJSSFRvUmVmKGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgem5lYXIsIHpmYXIsIHJlc3VsdCkge1xuICAgICAgICBvcnRob09mZkNlbnRlckxIVG9SZWYobGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCB6bmVhciwgemZhciwgcmVzdWx0KTtcbiAgICAgICAgcmVzdWx0Ll9tWzEwXSAqPSAtMTsgLy8gTm8gbmVlZCB0byBjYWxsIF9tYXJrQXNVcGRhdGVkIGFzIHByZXZpb3VzIGZ1bmN0aW9uIGFscmVhZHkgY2FsbGVkIGl0IGFuZCBsZXQgX2lzSWRlbnRpdHlEaXJ0eSB0byB0cnVlXG4gICAgfVxuICAgIE1hdHJpeC5vcnRob09mZkNlbnRlclJIVG9SZWYgPSBvcnRob09mZkNlbnRlclJIVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGxlZnQtaGFuZGVkIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICogQHBhcmFtIHdpZHRoIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgd2lkdGhcbiAgICAgKiBAcGFyYW0gaGVpZ2h0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgaGVpZ2h0XG4gICAgICogQHBhcmFtIHpuZWFyIC0gZGVmaW5lcyB0aGUgbmVhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHpmYXIgLSBkZWZpbmVzIHRoZSBmYXIgY2xpcCBwbGFuZVxuICAgICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeCBhcyBhIGxlZnQtaGFuZGVkIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGVyc3BlY3RpdmVMSCh3aWR0aCwgaGVpZ2h0LCB6bmVhciwgemZhcikge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBjcmVhdGUoKTtcbiAgICAgICAgY29uc3QgbiA9IHpuZWFyO1xuICAgICAgICBjb25zdCBmID0gemZhcjtcbiAgICAgICAgY29uc3QgYSA9ICgyLjAgKiBuKSAvIHdpZHRoO1xuICAgICAgICBjb25zdCBiID0gKDIuMCAqIG4pIC8gaGVpZ2h0O1xuICAgICAgICBjb25zdCBjID0gKGYgKyBuKSAvIChmIC0gbik7XG4gICAgICAgIGNvbnN0IGQgPSAoLTIuMCAqIGYgKiBuKSAvIChmIC0gbik7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihhLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGIsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYywgMS4wLCAwLjAsIDAuMCwgZCwgMC4wLCBtYXRyaXgpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMobWF0cml4LCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfVxuICAgIE1hdHJpeC5wZXJzcGVjdGl2ZUxIID0gcGVyc3BlY3RpdmVMSDtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGVmdC1oYW5kZWQgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gZm92IC0gZGVmaW5lcyB0aGUgaG9yaXpvbnRhbCBmaWVsZCBvZiB2aWV3XG4gICAgICogQHBhcmFtIGFzcGVjdCAtIGRlZmluZXMgdGhlIGFzcGVjdCByYXRpb1xuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXggYXMgYSBsZWZ0LWhhbmRlZCBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBlcnNwZWN0aXZlRm92TEgoZm92LCBhc3BlY3QsIHpuZWFyLCB6ZmFyKSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IGNyZWF0ZSgpO1xuICAgICAgICBwZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZm92LCBhc3BlY3QsIHpuZWFyLCB6ZmFyLCBtYXRyaXgpO1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cbiAgICBNYXRyaXgucGVyc3BlY3RpdmVGb3ZMSCA9IHBlcnNwZWN0aXZlRm92TEg7XG4gICAgLyoqXG4gICAgICogU3RvcmVzIGEgbGVmdC1oYW5kZWQgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBpbnRvIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGZvdiAtIGRlZmluZXMgdGhlIGhvcml6b250YWwgZmllbGQgb2Ygdmlld1xuICAgICAqIEBwYXJhbSBhc3BlY3QgLSBkZWZpbmVzIHRoZSBhc3BlY3QgcmF0aW9cbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gaXNWZXJ0aWNhbEZvdkZpeGVkIC0gZGVmaW5lcyBpdCB0aGUgZm92IGlzIHZlcnRpY2FsbHkgZml4ZWQgKGRlZmF1bHQpIG9yIGhvcml6b250YWxseVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBlcnNwZWN0aXZlRm92TEhUb1JlZihmb3YsIGFzcGVjdCwgem5lYXIsIHpmYXIsIHJlc3VsdCwgaXNWZXJ0aWNhbEZvdkZpeGVkID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBuID0gem5lYXI7XG4gICAgICAgIGNvbnN0IGYgPSB6ZmFyO1xuICAgICAgICBjb25zdCB0ID0gMS4wIC8gTWF0aC50YW4oZm92ICogMC41KTtcbiAgICAgICAgY29uc3QgYSA9IGlzVmVydGljYWxGb3ZGaXhlZCA/IHQgLyBhc3BlY3QgOiB0O1xuICAgICAgICBjb25zdCBiID0gaXNWZXJ0aWNhbEZvdkZpeGVkID8gdCA6IHQgKiBhc3BlY3Q7XG4gICAgICAgIGNvbnN0IGMgPSAoZiArIG4pIC8gKGYgLSBuKTtcbiAgICAgICAgY29uc3QgZCA9ICgtMi4wICogZiAqIG4pIC8gKGYgLSBuKTtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKGEsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYiwgMC4wLCAwLjAsIDAuMCwgMC4wLCBjLCAxLjAsIDAuMCwgMC4wLCBkLCAwLjAsIHJlc3VsdCk7XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhyZXN1bHQsIGZhbHNlKTtcbiAgICB9XG4gICAgTWF0cml4LnBlcnNwZWN0aXZlRm92TEhUb1JlZiA9IHBlcnNwZWN0aXZlRm92TEhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcmlnaHQtaGFuZGVkIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICogQHBhcmFtIGZvdiAtIGRlZmluZXMgdGhlIGhvcml6b250YWwgZmllbGQgb2Ygdmlld1xuICAgICAqIEBwYXJhbSBhc3BlY3QgLSBkZWZpbmVzIHRoZSBhc3BlY3QgcmF0aW9cbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIGEgcmlnaHQtaGFuZGVkIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gUGVyc3BlY3RpdmVGb3ZSSChmb3YsIGFzcGVjdCwgem5lYXIsIHpmYXIpIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gY3JlYXRlKCk7XG4gICAgICAgIHBlcnNwZWN0aXZlRm92UkhUb1JlZihmb3YsIGFzcGVjdCwgem5lYXIsIHpmYXIsIG1hdHJpeCk7XG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfVxuICAgIE1hdHJpeC5QZXJzcGVjdGl2ZUZvdlJIID0gUGVyc3BlY3RpdmVGb3ZSSDtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgYSByaWdodC1oYW5kZWQgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBpbnRvIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGZvdiAtIGRlZmluZXMgdGhlIGhvcml6b250YWwgZmllbGQgb2Ygdmlld1xuICAgICAqIEBwYXJhbSBhc3BlY3QgLSBkZWZpbmVzIHRoZSBhc3BlY3QgcmF0aW9cbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gaXNWZXJ0aWNhbEZvdkZpeGVkIC0gZGVmaW5lcyBpdCB0aGUgZm92IGlzIHZlcnRpY2FsbHkgZml4ZWQgKGRlZmF1bHQpIG9yIGhvcml6b250YWxseVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBlcnNwZWN0aXZlRm92UkhUb1JlZihmb3YsIGFzcGVjdCwgem5lYXIsIHpmYXIsIHJlc3VsdCwgaXNWZXJ0aWNhbEZvdkZpeGVkID0gdHJ1ZSkge1xuICAgICAgICAvKiBhbHRlcm5hdGl2ZWx5IHNlbGYgY291bGQgYmUgZXhwcmVzc2VkIGFzOlxuICAgICAgICAvLyAgICBtID0gUGVyc3BlY3RpdmVGb3ZMSFRvUmVmXG4gICAgICAgIC8vICAgIG1bMTBdICo9IC0xLjA7XG4gICAgICAgIC8vICAgIG1bMTFdICo9IC0xLjA7XG4gICAgICAgICovXG4gICAgICAgIGNvbnN0IG4gPSB6bmVhcjtcbiAgICAgICAgY29uc3QgZiA9IHpmYXI7XG4gICAgICAgIGNvbnN0IHQgPSAxLjAgLyBNYXRoLnRhbihmb3YgKiAwLjUpO1xuICAgICAgICBjb25zdCBhID0gaXNWZXJ0aWNhbEZvdkZpeGVkID8gdCAvIGFzcGVjdCA6IHQ7XG4gICAgICAgIGNvbnN0IGIgPSBpc1ZlcnRpY2FsRm92Rml4ZWQgPyB0IDogdCAqIGFzcGVjdDtcbiAgICAgICAgY29uc3QgYyA9IC0oZiArIG4pIC8gKGYgLSBuKTtcbiAgICAgICAgY29uc3QgZCA9ICgtMiAqIGYgKiBuKSAvIChmIC0gbik7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihhLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGIsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYywgLTEuMCwgMC4wLCAwLjAsIGQsIDAuMCwgcmVzdWx0KTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHJlc3VsdCwgZmFsc2UpO1xuICAgIH1cbiAgICBNYXRyaXgucGVyc3BlY3RpdmVGb3ZSSFRvUmVmID0gcGVyc3BlY3RpdmVGb3ZSSFRvUmVmO1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gZm9yIFdlYlZSIGluZm8gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gZm92IC0gZGVmaW5lcyB0aGUgZmllbGQgb2Ygdmlld1xuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqIEBwYXJhbSByaWdodEhhbmRlZCAtIGRlZmluZXMgaWYgdGhlIG1hdHJpeCBtdXN0IGJlIGluIHJpZ2h0LWhhbmRlZCBtb2RlIChmYWxzZSBieSBkZWZhdWx0KVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBlcnNwZWN0aXZlRm92V2ViVlJUb1JlZihmb3YsIHpuZWFyLCB6ZmFyLCByZXN1bHQsIHJpZ2h0SGFuZGVkID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgcmlnaHRIYW5kZWRGYWN0b3IgPSByaWdodEhhbmRlZCA/IC0xIDogMTtcbiAgICAgICAgY29uc3QgdXBUYW4gPSBNYXRoLnRhbigoZm92LnVwRGVncmVlcyAqIE1hdGguUEkpIC8gMTgwLjApO1xuICAgICAgICBjb25zdCBkb3duVGFuID0gTWF0aC50YW4oKGZvdi5kb3duRGVncmVlcyAqIE1hdGguUEkpIC8gMTgwLjApO1xuICAgICAgICBjb25zdCBsZWZ0VGFuID0gTWF0aC50YW4oKGZvdi5sZWZ0RGVncmVlcyAqIE1hdGguUEkpIC8gMTgwLjApO1xuICAgICAgICBjb25zdCByaWdodFRhbiA9IE1hdGgudGFuKChmb3YucmlnaHREZWdyZWVzICogTWF0aC5QSSkgLyAxODAuMCk7XG4gICAgICAgIGNvbnN0IHhTY2FsZSA9IDIuMCAvIChsZWZ0VGFuICsgcmlnaHRUYW4pO1xuICAgICAgICBjb25zdCB5U2NhbGUgPSAyLjAgLyAodXBUYW4gKyBkb3duVGFuKTtcbiAgICAgICAgY29uc3QgbSA9IHJlc3VsdC5fbTtcbiAgICAgICAgbVswXSA9IHhTY2FsZTtcbiAgICAgICAgbVsxXSA9IG1bMl0gPSBtWzNdID0gbVs0XSA9IDAuMDtcbiAgICAgICAgbVs1XSA9IHlTY2FsZTtcbiAgICAgICAgbVs2XSA9IG1bN10gPSAwLjA7XG4gICAgICAgIG1bOF0gPSAobGVmdFRhbiAtIHJpZ2h0VGFuKSAqIHhTY2FsZSAqIDAuNTtcbiAgICAgICAgbVs5XSA9IC0oKHVwVGFuIC0gZG93blRhbikgKiB5U2NhbGUgKiAwLjUpO1xuICAgICAgICBtWzEwXSA9IC16ZmFyIC8gKHpuZWFyIC0gemZhcik7XG4gICAgICAgIG1bMTFdID0gMS4wICogcmlnaHRIYW5kZWRGYWN0b3I7XG4gICAgICAgIG1bMTJdID0gbVsxM10gPSBtWzE1XSA9IDAuMDtcbiAgICAgICAgbVsxNF0gPSAtKDIuMCAqIHpmYXIgKiB6bmVhcikgLyAoemZhciAtIHpuZWFyKTtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4LnBlcnNwZWN0aXZlRm92V2ViVlJUb1JlZiA9IHBlcnNwZWN0aXZlRm92V2ViVlJUb1JlZjtcbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyBhIDJ4MiBtYXRyaXggZnJvbSBhIGdpdmVuIG1hdHJpeCBhbmQgc3RvcmUgdGhlIHJlc3VsdCBpbiBhIEZsb2F0QXJyYXlcbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gZGVmaW5lcyB0aGUgbWF0cml4IHRvIHVzZVxuICAgICAqIEByZXR1cm5zIGEgbmV3IEZsb2F0QXJyYXkgYXJyYXkgd2l0aCA0IGVsZW1lbnRzIDogdGhlIDJ4MiBtYXRyaXggZXh0cmFjdGVkIGZyb20gdGhlIGdpdmVuIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdldEFzTWF0cml4MngyKG1hdHJpeCkge1xuICAgICAgICByZXR1cm4gW21hdHJpeC5fbVswXSwgbWF0cml4Ll9tWzFdLCBtYXRyaXguX21bNF0sIG1hdHJpeC5fbVs1XV07XG4gICAgfVxuICAgIE1hdHJpeC5HZXRBc01hdHJpeDJ4MiA9IEdldEFzTWF0cml4MngyO1xuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIGEgM3gzIG1hdHJpeCBmcm9tIGEgZ2l2ZW4gbWF0cml4IGFuZCBzdG9yZSB0aGUgcmVzdWx0IGluIGEgRmxvYXRBcnJheVxuICAgICAqIEBwYXJhbSBtYXRyaXggLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gdXNlXG4gICAgICogQHJldHVybnMgYSBuZXcgRmxvYXRBcnJheSBhcnJheSB3aXRoIDkgZWxlbWVudHMgOiB0aGUgM3gzIG1hdHJpeCBleHRyYWN0ZWQgZnJvbSB0aGUgZ2l2ZW4gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gR2V0QXNNYXRyaXgzeDMobWF0cml4KSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBtYXRyaXguX21bMF0sXG4gICAgICAgICAgICBtYXRyaXguX21bMV0sXG4gICAgICAgICAgICBtYXRyaXguX21bMl0sXG4gICAgICAgICAgICBtYXRyaXguX21bNF0sXG4gICAgICAgICAgICBtYXRyaXguX21bNV0sXG4gICAgICAgICAgICBtYXRyaXguX21bNl0sXG4gICAgICAgICAgICBtYXRyaXguX21bOF0sXG4gICAgICAgICAgICBtYXRyaXguX21bOV0sXG4gICAgICAgICAgICBtYXRyaXguX21bMTBdXG4gICAgICAgIF07XG4gICAgfVxuICAgIE1hdHJpeC5HZXRBc01hdHJpeDN4MyA9IEdldEFzTWF0cml4M3gzO1xuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIHRyYW5zcG9zZSBvZiBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSBtYXRyaXggLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gdHJhbnNwb3NlXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc3Bvc2UobWF0cml4KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICB0cmFuc3Bvc2VUb1JlZihtYXRyaXgsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC50cmFuc3Bvc2UgPSB0cmFuc3Bvc2U7XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgdHJhbnNwb3NlIG9mIGEgbWF0cml4IGFuZCBzdG9yZSBpdCBpbiBhIHRhcmdldCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gZGVmaW5lcyB0aGUgbWF0cml4IHRvIHRyYW5zcG9zZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNwb3NlVG9SZWYobWF0cml4LCByZXN1bHQpIHtcbiAgICAgICAgY29uc3Qgcm0gPSByZXN1bHQuX207XG4gICAgICAgIGNvbnN0IG1tID0gbWF0cml4Ll9tO1xuICAgICAgICBybVswXSA9IG1tWzBdO1xuICAgICAgICBybVsxXSA9IG1tWzRdO1xuICAgICAgICBybVsyXSA9IG1tWzhdO1xuICAgICAgICBybVszXSA9IG1tWzEyXTtcbiAgICAgICAgcm1bNF0gPSBtbVsxXTtcbiAgICAgICAgcm1bNV0gPSBtbVs1XTtcbiAgICAgICAgcm1bNl0gPSBtbVs5XTtcbiAgICAgICAgcm1bN10gPSBtbVsxM107XG4gICAgICAgIHJtWzhdID0gbW1bMl07XG4gICAgICAgIHJtWzldID0gbW1bNl07XG4gICAgICAgIHJtWzEwXSA9IG1tWzEwXTtcbiAgICAgICAgcm1bMTFdID0gbW1bMTRdO1xuICAgICAgICBybVsxMl0gPSBtbVszXTtcbiAgICAgICAgcm1bMTNdID0gbW1bN107XG4gICAgICAgIHJtWzE0XSA9IG1tWzExXTtcbiAgICAgICAgcm1bMTVdID0gbW1bMTVdO1xuICAgICAgICAvLyBpZGVudGl0eS1uZXNzIGRvZXMgbm90IGNoYW5nZSB3aGVuIHRyYW5zcG9zaW5nXG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhyZXN1bHQsIG1hdHJpeC5pc0lkZW50aXR5LCBtYXRyaXguX2lzSWRlbnRpdHlEaXJ0eSk7XG4gICAgfVxuICAgIE1hdHJpeC50cmFuc3Bvc2VUb1JlZiA9IHRyYW5zcG9zZVRvUmVmO1xuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGEgcmVmbGVjdGlvbiBtYXRyaXggZnJvbSBhIHBsYW5lXG4gICAgICogQHBhcmFtIHBsYW5lIC0gZGVmaW5lcyB0aGUgcmVmbGVjdGlvbiBwbGFuZVxuICAgICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZmxlY3Rpb24ocGxhbmUpIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gY3JlYXRlKCk7XG4gICAgICAgIHJlZmxlY3Rpb25Ub1JlZihwbGFuZSwgbWF0cml4KTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG4gICAgTWF0cml4LnJlZmxlY3Rpb24gPSByZWZsZWN0aW9uO1xuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGEgcmVmbGVjdGlvbiBtYXRyaXggZnJvbSBhIHBsYW5lXG4gICAgICogQHBhcmFtIHBsYW5lIC0gZGVmaW5lcyB0aGUgcmVmbGVjdGlvbiBwbGFuZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVmbGVjdGlvblRvUmVmKF9wbGFuZSwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHBsYW5lID0gUGxhbmUubm9ybWFsaXplKF9wbGFuZSk7XG4gICAgICAgIGNvbnN0IHggPSBwbGFuZS5ub3JtYWwueDtcbiAgICAgICAgY29uc3QgeSA9IHBsYW5lLm5vcm1hbC55O1xuICAgICAgICBjb25zdCB6ID0gcGxhbmUubm9ybWFsLno7XG4gICAgICAgIGNvbnN0IHRlbXAgPSAtMiAqIHg7XG4gICAgICAgIGNvbnN0IHRlbXAyID0gLTIgKiB5O1xuICAgICAgICBjb25zdCB0ZW1wMyA9IC0yICogejtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKHRlbXAgKiB4ICsgMSwgdGVtcDIgKiB4LCB0ZW1wMyAqIHgsIDAuMCwgdGVtcCAqIHksIHRlbXAyICogeSArIDEsIHRlbXAzICogeSwgMC4wLCB0ZW1wICogeiwgdGVtcDIgKiB6LCB0ZW1wMyAqIHogKyAxLCAwLjAsIHRlbXAgKiBwbGFuZS5kLCB0ZW1wMiAqIHBsYW5lLmQsIHRlbXAzICogcGxhbmUuZCwgMS4wLCByZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXgucmVmbGVjdGlvblRvUmVmID0gcmVmbGVjdGlvblRvUmVmO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIG1hdHJpeCBhcyBhIHJvdGF0aW9uIG1hdHJpeCBjb21wb3NlZCBmcm9tIHRoZSAzIGxlZnQgaGFuZGVkIGF4ZXNcbiAgICAgKiBAcGFyYW0geGF4aXMgLSBkZWZpbmVzIHRoZSB2YWx1ZSBvZiB0aGUgMXN0IGF4aXNcbiAgICAgKiBAcGFyYW0geWF4aXMgLSBkZWZpbmVzIHRoZSB2YWx1ZSBvZiB0aGUgMm5kIGF4aXNcbiAgICAgKiBAcGFyYW0gemF4aXMgLSBkZWZpbmVzIHRoZSB2YWx1ZSBvZiB0aGUgM3JkIGF4aXNcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21YWVpBeGVzVG9SZWYoeGF4aXMsIHlheGlzLCB6YXhpcywgcmVzdWx0KSB7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZih4YXhpcy54LCB4YXhpcy55LCB4YXhpcy56LCAwLjAsIHlheGlzLngsIHlheGlzLnksIHlheGlzLnosIDAuMCwgemF4aXMueCwgemF4aXMueSwgemF4aXMueiwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5mcm9tWFlaQXhlc1RvUmVmID0gZnJvbVhZWkF4ZXNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcm90YXRpb24gbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIGFuZCBzdG9yZXMgaXQgaW4gYSB0YXJnZXQgbWF0cml4XG4gICAgICogQHBhcmFtIHF1YXQgLSBkZWZpbmVzIHRoZSBxdWF0ZXJuaW9uIHRvIHVzZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVF1YXRlcm5pb25Ub1JlZihxdWF0LCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgeHggPSBxdWF0LnggKiBxdWF0Lng7XG4gICAgICAgIGNvbnN0IHl5ID0gcXVhdC55ICogcXVhdC55O1xuICAgICAgICBjb25zdCB6eiA9IHF1YXQueiAqIHF1YXQuejtcbiAgICAgICAgY29uc3QgeHkgPSBxdWF0LnggKiBxdWF0Lnk7XG4gICAgICAgIGNvbnN0IHp3ID0gcXVhdC56ICogcXVhdC53O1xuICAgICAgICBjb25zdCB6eCA9IHF1YXQueiAqIHF1YXQueDtcbiAgICAgICAgY29uc3QgeXcgPSBxdWF0LnkgKiBxdWF0Lnc7XG4gICAgICAgIGNvbnN0IHl6ID0gcXVhdC55ICogcXVhdC56O1xuICAgICAgICBjb25zdCB4dyA9IHF1YXQueCAqIHF1YXQudztcbiAgICAgICAgcmVzdWx0Ll9tWzBdID0gMS4wIC0gMi4wICogKHl5ICsgenopO1xuICAgICAgICByZXN1bHQuX21bMV0gPSAyLjAgKiAoeHkgKyB6dyk7XG4gICAgICAgIHJlc3VsdC5fbVsyXSA9IDIuMCAqICh6eCAtIHl3KTtcbiAgICAgICAgcmVzdWx0Ll9tWzNdID0gMC4wO1xuICAgICAgICByZXN1bHQuX21bNF0gPSAyLjAgKiAoeHkgLSB6dyk7XG4gICAgICAgIHJlc3VsdC5fbVs1XSA9IDEuMCAtIDIuMCAqICh6eiArIHh4KTtcbiAgICAgICAgcmVzdWx0Ll9tWzZdID0gMi4wICogKHl6ICsgeHcpO1xuICAgICAgICByZXN1bHQuX21bN10gPSAwLjA7XG4gICAgICAgIHJlc3VsdC5fbVs4XSA9IDIuMCAqICh6eCArIHl3KTtcbiAgICAgICAgcmVzdWx0Ll9tWzldID0gMi4wICogKHl6IC0geHcpO1xuICAgICAgICByZXN1bHQuX21bMTBdID0gMS4wIC0gMi4wICogKHl5ICsgeHgpO1xuICAgICAgICByZXN1bHQuX21bMTFdID0gMC4wO1xuICAgICAgICByZXN1bHQuX21bMTJdID0gMC4wO1xuICAgICAgICByZXN1bHQuX21bMTNdID0gMC4wO1xuICAgICAgICByZXN1bHQuX21bMTRdID0gMC4wO1xuICAgICAgICByZXN1bHQuX21bMTVdID0gMS4wO1xuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXguZnJvbVF1YXRlcm5pb25Ub1JlZiA9IGZyb21RdWF0ZXJuaW9uVG9SZWY7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZ1bmN0aW9uIF9tYXJrQXNVcGRhdGVkKHNlbGYpIHtcbiAgICAgICAgc2VsZi51cGRhdGVGbGFnID0gX3VwZGF0ZUZsYWdTZWVkKys7XG4gICAgICAgIHNlbGYuaXNJZGVudGl0eSA9IGZhbHNlO1xuICAgICAgICBzZWxmLmlzSWRlbnRpdHkzeDIgPSBmYWxzZTtcbiAgICAgICAgc2VsZi5faXNJZGVudGl0eURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgc2VsZi5faXNJZGVudGl0eTN4MkRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gUHJvcGVydGllc1xuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSBjdXJyZW50IG1hdHJpeCBpcyBpZGVudGl0eVxuICAgICAqIEByZXR1cm5zIHRydWUgaXMgdGhlIG1hdHJpeCBpcyB0aGUgaWRlbnRpdHkgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJZGVudGl0eVVwZGF0ZShzZWxmKSB7XG4gICAgICAgIGlmIChzZWxmLl9pc0lkZW50aXR5RGlydHkpIHtcbiAgICAgICAgICAgIHNlbGYuX2lzSWRlbnRpdHlEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgbSA9IHNlbGYuX207XG4gICAgICAgICAgICBzZWxmLmlzSWRlbnRpdHkgPVxuICAgICAgICAgICAgICAgIG1bMF0gPT09IDEuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzFdID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVsyXSA9PT0gMC4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bM10gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzRdID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVs1XSA9PT0gMS4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bNl0gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzddID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVs4XSA9PT0gMC4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bOV0gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzEwXSA9PT0gMS4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bMTFdID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVsxMl0gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzEzXSA9PT0gMC4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bMTRdID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVsxNV0gPT09IDEuMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZi5pc0lkZW50aXR5O1xuICAgIH1cbiAgICBNYXRyaXguaXNJZGVudGl0eVVwZGF0ZSA9IGlzSWRlbnRpdHlVcGRhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGN1cnJlbnQgbWF0cml4IGlzIGlkZW50aXR5IGFzIGEgdGV4dHVyZSBtYXRyaXggKDN4MiBzdG9yZSBpbiA0eDQpXG4gICAgICogQHJldHVybnMgdHJ1ZSBpcyB0aGUgbWF0cml4IGlzIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0lkZW50aXR5QXMzeDJVcGRhdGUoc2VsZikge1xuICAgICAgICBpZiAoc2VsZi5faXNJZGVudGl0eTN4MkRpcnR5KSB7XG4gICAgICAgICAgICBzZWxmLl9pc0lkZW50aXR5M3gyRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChzZWxmLl9tWzBdICE9PSAxLjAgfHwgc2VsZi5fbVs1XSAhPT0gMS4wIHx8IHNlbGYuX21bMTVdICE9PSAxLjApIHtcbiAgICAgICAgICAgICAgICBzZWxmLmlzSWRlbnRpdHkzeDIgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGYuX21bMV0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bMl0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bM10gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bNF0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bNl0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bN10gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bOF0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bOV0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bMTBdICE9PSAwLjAgfHxcbiAgICAgICAgICAgICAgICBzZWxmLl9tWzExXSAhPT0gMC4wIHx8XG4gICAgICAgICAgICAgICAgc2VsZi5fbVsxMl0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bMTNdICE9PSAwLjAgfHxcbiAgICAgICAgICAgICAgICBzZWxmLl9tWzE0XSAhPT0gMC4wKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5pc0lkZW50aXR5M3gyID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLmlzSWRlbnRpdHkzeDIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLmlzSWRlbnRpdHkzeDI7XG4gICAgfVxuICAgIE1hdHJpeC5pc0lkZW50aXR5QXMzeDJVcGRhdGUgPSBpc0lkZW50aXR5QXMzeDJVcGRhdGU7XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGV0ZXJtaW5hbnQgb2YgdGhlIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIHRoZSBtYXRyaXggZGV0ZXJtaW5hbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZXRlcm1pbmFudChzZWxmKSB7XG4gICAgICAgIGlmIChzZWxmLmlzSWRlbnRpdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG0gPSBzZWxmLl9tO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgICAgICBjb25zdCBtMDAgPSBtWzBdLCBtMDEgPSBtWzFdLCBtMDIgPSBtWzJdLCBtMDMgPSBtWzNdO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgICAgICBjb25zdCBtMTAgPSBtWzRdLCBtMTEgPSBtWzVdLCBtMTIgPSBtWzZdLCBtMTMgPSBtWzddO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgICAgICBjb25zdCBtMjAgPSBtWzhdLCBtMjEgPSBtWzldLCBtMjIgPSBtWzEwXSwgbTIzID0gbVsxMV07XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgIGNvbnN0IG0zMCA9IG1bMTJdLCBtMzEgPSBtWzEzXSwgbTMyID0gbVsxNF0sIG0zMyA9IG1bMTVdO1xuICAgICAgICAvKlxuICAgICAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXBsYWNlX2V4cGFuc2lvblxuICAgICAgICAvLyB0byBjb21wdXRlIHRoZSBkZXRlcnJtaW5hbnQgb2YgYSA0eDQgTWF0cml4IHdlIGNvbXB1dGUgdGhlIGNvZmFjdG9ycyBvZiBhbnkgcm93IG9yIGNvbHVtbixcbiAgICAgICAgLy8gdGhlbiB3ZSBtdWx0aXBseSBlYWNoIENvZmFjdG9yIGJ5IGl0cyBjb3JyZXNwb25kaW5nIG1hdHJpeCB2YWx1ZSBhbmQgc3VtIHRoZW0gYWxsIHRvIGdldCB0aGUgZGV0ZXJtaW5hbnRcbiAgICAgICAgLy8gQ29mYWN0b3IoaSwgaikgPSBzaWduKGksaikgKiBkZXQoTWlub3IoaSwgaikpXG4gICAgICAgIC8vIHdoZXJlXG4gICAgICAgIC8vICAtIHNpZ24oaSxqKSA9IChpK2opICUgMiA9PT0gMCA/IDEgOiAtMVxuICAgICAgICAvLyAgLSBNaW5vcihpLCBqKSBpcyB0aGUgM3gzIG1hdHJpeCB3ZSBnZXQgYnkgcmVtb3Zpbmcgcm93IGkgYW5kIGNvbHVtbiBqIGZyb20gY3VycmVudCBNYXRyaXhcbiAgICAgICAgLy9cbiAgICAgICAgLy8gSGVyZSB3ZSBkbyB0aGF0IGZvciB0aGUgMXN0IHJvdy5cbiAgICAgICAgKi9cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZVxuICAgICAgICBjb25zdCBkZXRfMjJfMzMgPSBtMjIgKiBtMzMgLSBtMzIgKiBtMjM7XG4gICAgICAgIGNvbnN0IGRldF8yMV8zMyA9IG0yMSAqIG0zMyAtIG0zMSAqIG0yMztcbiAgICAgICAgY29uc3QgZGV0XzIxXzMyID0gbTIxICogbTMyIC0gbTMxICogbTIyO1xuICAgICAgICBjb25zdCBkZXRfMjBfMzMgPSBtMjAgKiBtMzMgLSBtMzAgKiBtMjM7XG4gICAgICAgIGNvbnN0IGRldF8yMF8zMiA9IG0yMCAqIG0zMiAtIG0yMiAqIG0zMDtcbiAgICAgICAgY29uc3QgZGV0XzIwXzMxID0gbTIwICogbTMxIC0gbTMwICogbTIxO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMDAgPSArKG0xMSAqIGRldF8yMl8zMyAtIG0xMiAqIGRldF8yMV8zMyArIG0xMyAqIGRldF8yMV8zMik7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8wMSA9IC0obTEwICogZGV0XzIyXzMzIC0gbTEyICogZGV0XzIwXzMzICsgbTEzICogZGV0XzIwXzMyKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzAyID0gKyhtMTAgKiBkZXRfMjFfMzMgLSBtMTEgKiBkZXRfMjBfMzMgKyBtMTMgKiBkZXRfMjBfMzEpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMDMgPSAtKG0xMCAqIGRldF8yMV8zMiAtIG0xMSAqIGRldF8yMF8zMiArIG0xMiAqIGRldF8yMF8zMSk7XG4gICAgICAgIC8vIHRzbGludDplbmFibGU6dmFyaWFibGUtbmFtZVxuICAgICAgICByZXR1cm4gbTAwICogY29mYWN0XzAwICsgbTAxICogY29mYWN0XzAxICsgbTAyICogY29mYWN0XzAyICsgbTAzICogY29mYWN0XzAzO1xuICAgIH1cbiAgICBNYXRyaXguZGV0ZXJtaW5hbnQgPSBkZXRlcm1pbmFudDtcbiAgICAvLyBNZXRob2RzXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWF0cml4IGFzIGEgRmxvYXRBcnJheVxuICAgICAqIEByZXR1cm5zIHRoZSBtYXRyaXggdW5kZXJseWluZyBhcnJheVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkoc2VsZikge1xuICAgICAgICByZXR1cm4gc2VsZi5fbTtcbiAgICB9XG4gICAgTWF0cml4LnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hdHJpeCBhcyBhIEZsb2F0QXJyYXlcbiAgICAgKiBAcmV0dXJucyB0aGUgbWF0cml4IHVuZGVybHlpbmcgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNBcnJheShzZWxmKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9tO1xuICAgIH1cbiAgICBNYXRyaXguYXNBcnJheSA9IGFzQXJyYXk7XG4gICAgLyoqXG4gICAgICogU2V0cyBhbGwgdGhlIG1hdHJpeCBlbGVtZW50cyB0byB6ZXJvXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzZXQoc2VsZikge1xuICAgICAgICBmcm9tVmFsdWVzVG9SZWYoMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCBzZWxmKTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHNlbGYsIGZhbHNlKTtcbiAgICB9XG4gICAgTWF0cml4LnJlc2V0ID0gcmVzZXQ7XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBhIHNlY29uZCBvbmVcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gYWRkXG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIHRoZSBhZGRpdGlvbiBvZiB0aGUgY3VycmVudCBtYXRyaXggYW5kIHRoZSBnaXZlbiBvbmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGQoc2VsZiwgb3RoZXIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGFkZFRvUmVmKHNlbGYsIG90aGVyLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguYWRkID0gYWRkO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIG1hdHJpeCBcInJlc3VsdFwiIHRvIHRoZSBhZGRpdGlvbiBvZiB0aGUgY3VycmVudCBtYXRyaXggYW5kIHRoZSBnaXZlbiBvbmVcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gYWRkXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRUb1JlZihzZWxmLCBvdGhlciwgcmVzdWx0KSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgcmVzdWx0Ll9tW2luZGV4XSA9IHNlbGYuX21baW5kZXhdICsgb3RoZXIuX21baW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5hZGRUb1JlZiA9IGFkZFRvUmVmO1xuICAgIC8qKlxuICAgICAqIEFkZHMgaW4gcGxhY2UgdGhlIGdpdmVuIG1hdHJpeCB0byB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkVG9TZWxmKHNlbGYsIG90aGVyKSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgc2VsZi5fbVtpbmRleF0gKz0gb3RoZXIuX21baW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHNlbGYpO1xuICAgIH1cbiAgICBNYXRyaXguYWRkVG9TZWxmID0gYWRkVG9TZWxmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgbWF0cml4IGFzIHRoZSBpbnZlcnQgb2YgYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gc291cmNlIC0gZGVmaW5lcyB0aGUgc291cmNlIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gaW52ZXJ0KHNvdXJjZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgaW52ZXJ0VG9SZWYoc291cmNlLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguaW52ZXJ0ID0gaW52ZXJ0O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIG1hdHJpeCB0byB0aGUgY3VycmVudCBpbnZlcnRlZCBNYXRyaXhcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnZlcnRUb1JlZihzb3VyY2UsIHJlc3VsdCkge1xuICAgICAgICBpZiAoc291cmNlLmlzSWRlbnRpdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvcHkoc291cmNlLCByZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBpbnZlcnNlIG9mIGEgTWF0cml4IGlzIHRoZSB0cmFuc3Bvc2Ugb2YgY29mYWN0b3IgbWF0cml4IGRpdmlkZWQgYnkgdGhlIGRldGVybWluYW50XG4gICAgICAgIGNvbnN0IG0gPSBzb3VyY2UuX207XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgY29uc3QgbTAwID0gbVswXSwgbTAxID0gbVsxXSwgbTAyID0gbVsyXSwgbTAzID0gbVszXTtcbiAgICAgICAgY29uc3QgbTEwID0gbVs0XSwgbTExID0gbVs1XSwgbTEyID0gbVs2XSwgbTEzID0gbVs3XTtcbiAgICAgICAgY29uc3QgbTIwID0gbVs4XSwgbTIxID0gbVs5XSwgbTIyID0gbVsxMF0sIG0yMyA9IG1bMTFdO1xuICAgICAgICBjb25zdCBtMzAgPSBtWzEyXSwgbTMxID0gbVsxM10sIG0zMiA9IG1bMTRdLCBtMzMgPSBtWzE1XTtcbiAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOnZhcmlhYmxlLW5hbWVcbiAgICAgICAgY29uc3QgZGV0XzIyXzMzID0gbTIyICogbTMzIC0gbTMyICogbTIzO1xuICAgICAgICBjb25zdCBkZXRfMjFfMzMgPSBtMjEgKiBtMzMgLSBtMzEgKiBtMjM7XG4gICAgICAgIGNvbnN0IGRldF8yMV8zMiA9IG0yMSAqIG0zMiAtIG0zMSAqIG0yMjtcbiAgICAgICAgY29uc3QgZGV0XzIwXzMzID0gbTIwICogbTMzIC0gbTMwICogbTIzO1xuICAgICAgICBjb25zdCBkZXRfMjBfMzIgPSBtMjAgKiBtMzIgLSBtMjIgKiBtMzA7XG4gICAgICAgIGNvbnN0IGRldF8yMF8zMSA9IG0yMCAqIG0zMSAtIG0zMCAqIG0yMTtcbiAgICAgICAgY29uc3QgY29mYWN0XzAwID0gKyhtMTEgKiBkZXRfMjJfMzMgLSBtMTIgKiBkZXRfMjFfMzMgKyBtMTMgKiBkZXRfMjFfMzIpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMDEgPSAtKG0xMCAqIGRldF8yMl8zMyAtIG0xMiAqIGRldF8yMF8zMyArIG0xMyAqIGRldF8yMF8zMik7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8wMiA9ICsobTEwICogZGV0XzIxXzMzIC0gbTExICogZGV0XzIwXzMzICsgbTEzICogZGV0XzIwXzMxKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzAzID0gLShtMTAgKiBkZXRfMjFfMzIgLSBtMTEgKiBkZXRfMjBfMzIgKyBtMTIgKiBkZXRfMjBfMzEpO1xuICAgICAgICBjb25zdCBkZXQgPSBtMDAgKiBjb2ZhY3RfMDAgKyBtMDEgKiBjb2ZhY3RfMDEgKyBtMDIgKiBjb2ZhY3RfMDIgKyBtMDMgKiBjb2ZhY3RfMDM7XG4gICAgICAgIGlmIChkZXQgPT09IDApIHtcbiAgICAgICAgICAgIGNvcHkoc291cmNlLCByZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRldEludiA9IDEgLyBkZXQ7XG4gICAgICAgIGNvbnN0IGRldF8xMl8zMyA9IG0xMiAqIG0zMyAtIG0zMiAqIG0xMztcbiAgICAgICAgY29uc3QgZGV0XzExXzMzID0gbTExICogbTMzIC0gbTMxICogbTEzO1xuICAgICAgICBjb25zdCBkZXRfMTFfMzIgPSBtMTEgKiBtMzIgLSBtMzEgKiBtMTI7XG4gICAgICAgIGNvbnN0IGRldF8xMF8zMyA9IG0xMCAqIG0zMyAtIG0zMCAqIG0xMztcbiAgICAgICAgY29uc3QgZGV0XzEwXzMyID0gbTEwICogbTMyIC0gbTMwICogbTEyO1xuICAgICAgICBjb25zdCBkZXRfMTBfMzEgPSBtMTAgKiBtMzEgLSBtMzAgKiBtMTE7XG4gICAgICAgIGNvbnN0IGRldF8xMl8yMyA9IG0xMiAqIG0yMyAtIG0yMiAqIG0xMztcbiAgICAgICAgY29uc3QgZGV0XzExXzIzID0gbTExICogbTIzIC0gbTIxICogbTEzO1xuICAgICAgICBjb25zdCBkZXRfMTFfMjIgPSBtMTEgKiBtMjIgLSBtMjEgKiBtMTI7XG4gICAgICAgIGNvbnN0IGRldF8xMF8yMyA9IG0xMCAqIG0yMyAtIG0yMCAqIG0xMztcbiAgICAgICAgY29uc3QgZGV0XzEwXzIyID0gbTEwICogbTIyIC0gbTIwICogbTEyO1xuICAgICAgICBjb25zdCBkZXRfMTBfMjEgPSBtMTAgKiBtMjEgLSBtMjAgKiBtMTE7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8xMCA9IC0obTAxICogZGV0XzIyXzMzIC0gbTAyICogZGV0XzIxXzMzICsgbTAzICogZGV0XzIxXzMyKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzExID0gKyhtMDAgKiBkZXRfMjJfMzMgLSBtMDIgKiBkZXRfMjBfMzMgKyBtMDMgKiBkZXRfMjBfMzIpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMTIgPSAtKG0wMCAqIGRldF8yMV8zMyAtIG0wMSAqIGRldF8yMF8zMyArIG0wMyAqIGRldF8yMF8zMSk7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8xMyA9ICsobTAwICogZGV0XzIxXzMyIC0gbTAxICogZGV0XzIwXzMyICsgbTAyICogZGV0XzIwXzMxKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzIwID0gKyhtMDEgKiBkZXRfMTJfMzMgLSBtMDIgKiBkZXRfMTFfMzMgKyBtMDMgKiBkZXRfMTFfMzIpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMjEgPSAtKG0wMCAqIGRldF8xMl8zMyAtIG0wMiAqIGRldF8xMF8zMyArIG0wMyAqIGRldF8xMF8zMik7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8yMiA9ICsobTAwICogZGV0XzExXzMzIC0gbTAxICogZGV0XzEwXzMzICsgbTAzICogZGV0XzEwXzMxKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzIzID0gLShtMDAgKiBkZXRfMTFfMzIgLSBtMDEgKiBkZXRfMTBfMzIgKyBtMDIgKiBkZXRfMTBfMzEpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMzAgPSAtKG0wMSAqIGRldF8xMl8yMyAtIG0wMiAqIGRldF8xMV8yMyArIG0wMyAqIGRldF8xMV8yMik7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8zMSA9ICsobTAwICogZGV0XzEyXzIzIC0gbTAyICogZGV0XzEwXzIzICsgbTAzICogZGV0XzEwXzIyKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzMyID0gLShtMDAgKiBkZXRfMTFfMjMgLSBtMDEgKiBkZXRfMTBfMjMgKyBtMDMgKiBkZXRfMTBfMjEpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMzMgPSArKG0wMCAqIGRldF8xMV8yMiAtIG0wMSAqIGRldF8xMF8yMiArIG0wMiAqIGRldF8xMF8yMSk7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihjb2ZhY3RfMDAgKiBkZXRJbnYsIGNvZmFjdF8xMCAqIGRldEludiwgY29mYWN0XzIwICogZGV0SW52LCBjb2ZhY3RfMzAgKiBkZXRJbnYsIGNvZmFjdF8wMSAqIGRldEludiwgY29mYWN0XzExICogZGV0SW52LCBjb2ZhY3RfMjEgKiBkZXRJbnYsIGNvZmFjdF8zMSAqIGRldEludiwgY29mYWN0XzAyICogZGV0SW52LCBjb2ZhY3RfMTIgKiBkZXRJbnYsIGNvZmFjdF8yMiAqIGRldEludiwgY29mYWN0XzMyICogZGV0SW52LCBjb2ZhY3RfMDMgKiBkZXRJbnYsIGNvZmFjdF8xMyAqIGRldEludiwgY29mYWN0XzIzICogZGV0SW52LCBjb2ZhY3RfMzMgKiBkZXRJbnYsIHJlc3VsdCk7XG4gICAgICAgIC8vIHRzbGludDplbmFibGU6dmFyaWFibGUtbmFtZVxuICAgIH1cbiAgICBNYXRyaXguaW52ZXJ0VG9SZWYgPSBpbnZlcnRUb1JlZjtcbiAgICAvKipcbiAgICAgKiBhZGQgYSB2YWx1ZSBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uIGluIHRoZSBjdXJyZW50IE1hdHJpeFxuICAgICAqIEBwYXJhbSBpbmRleCAtIHRoZSBpbmRleCBvZiB0aGUgdmFsdWUgd2l0aGluIHRoZSBtYXRyaXguIGJldHdlZW4gMCBhbmQgMTUuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gdGhlIHZhbHVlIHRvIGJlIGFkZGVkXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRBdEluZGV4KHNlbGYsIGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBzZWxmLl9tW2luZGV4XSArPSB2YWx1ZTtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgfVxuICAgIE1hdHJpeC5hZGRBdEluZGV4ID0gYWRkQXRJbmRleDtcbiAgICAvKipcbiAgICAgKiBtdXRpcGx5IHRoZSBzcGVjaWZpZWQgcG9zaXRpb24gaW4gdGhlIGN1cnJlbnQgTWF0cml4IGJ5IGEgdmFsdWVcbiAgICAgKiBAcGFyYW0gaW5kZXggLSB0aGUgaW5kZXggb2YgdGhlIHZhbHVlIHdpdGhpbiB0aGUgbWF0cml4LiBiZXR3ZWVuIDAgYW5kIDE1LlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIHRoZSB2YWx1ZSB0byBiZSBhZGRlZFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlBdEluZGV4KHNlbGYsIGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBzZWxmLl9tW2luZGV4XSAqPSB2YWx1ZTtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cbiAgICBNYXRyaXgubXVsdGlwbHlBdEluZGV4ID0gbXVsdGlwbHlBdEluZGV4O1xuICAgIC8qKlxuICAgICAqIEluc2VydHMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvciAodXNpbmcgMyBmbG9hdHMpIGluIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgMXN0IGNvbXBvbmVudCBvZiB0aGUgdHJhbnNsYXRpb25cbiAgICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIDJuZCBjb21wb25lbnQgb2YgdGhlIHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSAzcmQgY29tcG9uZW50IG9mIHRoZSB0cmFuc2xhdGlvblxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKHNlbGYsIHgsIHksIHopIHtcbiAgICAgICAgc2VsZi5fbVsxMl0gPSB4O1xuICAgICAgICBzZWxmLl9tWzEzXSA9IHk7XG4gICAgICAgIHNlbGYuX21bMTRdID0gejtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgfVxuICAgIE1hdHJpeC5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMgPSBzZXRUcmFuc2xhdGlvbkZyb21GbG9hdHM7XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yIGluIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqIEBwYXJhbSB2ZWN0b3IzIC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gdG8gaW5zZXJ0XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRUcmFuc2xhdGlvbihzZWxmLCB2ZWN0b3IzKSB7XG4gICAgICAgIHNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhzZWxmLCB2ZWN0b3IzLngsIHZlY3RvcjMueSwgdmVjdG9yMy56KTtcbiAgICB9XG4gICAgTWF0cml4LnNldFRyYW5zbGF0aW9uID0gc2V0VHJhbnNsYXRpb247XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdHJhbnNsYXRpb24gdmFsdWUgb2YgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yMyBhcyB0aGUgZXh0cmFjdGVkIHRyYW5zbGF0aW9uIGZyb20gdGhlIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKHNlbGYpIHtcbiAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKHNlbGYuX21bMTJdLCBzZWxmLl9tWzEzXSwgc2VsZi5fbVsxNF0pO1xuICAgIH1cbiAgICBNYXRyaXguZ2V0VHJhbnNsYXRpb24gPSBnZXRUcmFuc2xhdGlvbjtcbiAgICAvKipcbiAgICAgKiBGaWxsIGEgVmVjdG9yMyB3aXRoIHRoZSBleHRyYWN0ZWQgdHJhbnNsYXRpb24gZnJvbSB0aGUgbWF0cml4XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHRyYW5zbGF0aW9uXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb25Ub1JlZihzZWxmLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSBzZWxmLl9tWzEyXTtcbiAgICAgICAgcmVzdWx0LnkgPSBzZWxmLl9tWzEzXTtcbiAgICAgICAgcmVzdWx0LnogPSBzZWxmLl9tWzE0XTtcbiAgICB9XG4gICAgTWF0cml4LmdldFRyYW5zbGF0aW9uVG9SZWYgPSBnZXRUcmFuc2xhdGlvblRvUmVmO1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSByb3RhdGlvbiBhbmQgc2NhbGluZyBwYXJ0IGZyb20gdGhlIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZVJvdGF0aW9uQW5kU2NhbGluZyhzZWxmKSB7XG4gICAgICAgIGNvbnN0IG0gPSBzZWxmLl9tO1xuICAgICAgICBmcm9tVmFsdWVzVG9SZWYoMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgbVsxMl0sIG1bMTNdLCBtWzE0XSwgbVsxNV0sIHNlbGYpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMoc2VsZiwgbVsxMl0gPT09IDAgJiYgbVsxM10gPT09IDAgJiYgbVsxNF0gPT09IDAgJiYgbVsxNV0gPT09IDEpO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gICAgTWF0cml4LnJlbW92ZVJvdGF0aW9uQW5kU2NhbGluZyA9IHJlbW92ZVJvdGF0aW9uQW5kU2NhbGluZztcbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0d28gbWF0cmljZXNcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeCBzZXQgd2l0aCB0aGUgbXVsdGlwbGljYXRpb24gcmVzdWx0IG9mIHRoZSBjdXJyZW50IE1hdHJpeCBhbmQgdGhlIGdpdmVuIG9uZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5KHNlbGYsIG90aGVyKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICBtdWx0aXBseVRvUmVmKHNlbGYsIG90aGVyLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXgubXVsdGlwbHkgPSBtdWx0aXBseTtcbiAgICAvKipcbiAgICAgKiBDb3B5IHRoZSBjdXJyZW50IG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBvbmVcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzb3VyY2UgbWF0cml4XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5KGZyb20sIGRlc3QpIHtcbiAgICAgICAgY29weVRvQXJyYXkoZnJvbSwgZGVzdC5fbSk7XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhkZXN0LCBmcm9tLmlzSWRlbnRpdHksIGZyb20uX2lzSWRlbnRpdHlEaXJ0eSwgZnJvbS5pc0lkZW50aXR5M3gyLCBmcm9tLl9pc0lkZW50aXR5M3gyRGlydHkpO1xuICAgIH1cbiAgICBNYXRyaXguY29weSA9IGNvcHk7XG4gICAgLyoqXG4gICAgICogUG9wdWxhdGVzIHRoZSBnaXZlbiBhcnJheSBmcm9tIHRoZSBzdGFydGluZyBpbmRleCB3aXRoIHRoZSBjdXJyZW50IG1hdHJpeCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSB0YXJnZXQgYXJyYXlcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSB0YXJnZXQgYXJyYXkgd2hlcmUgdG8gc3RhcnQgc3RvcmluZyB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5VG9BcnJheShzZWxmLCBhcnJheURlc3QsIG9mZnNldERlc3QgPSAwKSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgYXJyYXlEZXN0W29mZnNldERlc3QgKyBpbmRleF0gPSBzZWxmLl9tW2luZGV4XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBNYXRyaXguY29weVRvQXJyYXkgPSBjb3B5VG9BcnJheTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiBtYXRyaXggXCJyZXN1bHRcIiB3aXRoIHRoZSBtdWx0aXBsaWNhdGlvbiByZXN1bHQgb2YgdGhlIGN1cnJlbnQgTWF0cml4IGFuZCB0aGUgZ2l2ZW4gb25lXG4gICAgICogQHBhcmFtIG90aGVyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgbWF0cml4IHdoZXJlIHRvIHN0b3JlIHRoZSBtdWx0aXBsaWNhdGlvblxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5VG9SZWYoc2VsZiwgb3RoZXIsIHJlc3VsdCkge1xuICAgICAgICBpZiAoc2VsZi5pc0lkZW50aXR5KSB7XG4gICAgICAgICAgICBjb3B5KG90aGVyLCByZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlci5pc0lkZW50aXR5KSB7XG4gICAgICAgICAgICBjb3B5KHNlbGYsIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbXVsdGlwbHlUb0FycmF5KHNlbGYsIG90aGVyLCByZXN1bHQuX20sIDApO1xuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXgubXVsdGlwbHlUb1JlZiA9IG11bHRpcGx5VG9SZWY7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgRmxvYXRBcnJheSBcInJlc3VsdFwiIGZyb20gdGhlIGdpdmVuIGluZGV4IFwib2Zmc2V0XCIgd2l0aCB0aGUgbXVsdGlwbGljYXRpb24gb2YgdGhlIGN1cnJlbnQgbWF0cml4IGFuZCB0aGUgZ2l2ZW4gb25lXG4gICAgICogQHBhcmFtIG90aGVyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgYXJyYXkgd2hlcmUgdG8gc3RvcmUgdGhlIG11bHRpcGxpY2F0aW9uXG4gICAgICogQHBhcmFtIG9mZnNldCAtIGRlZmluZXMgdGhlIG9mZnNldCBpbiB0aGUgdGFyZ2V0IGFycmF5IHdoZXJlIHRvIHN0YXJ0IHN0b3JpbmcgdmFsdWVzXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlUb0FycmF5KHNlbGYsIG90aGVyLCByZXN1bHQsIG9mZnNldCkge1xuICAgICAgICBjb25zdCBtID0gc2VsZi5fbTtcbiAgICAgICAgY29uc3Qgb3RoZXJNID0gb3RoZXIuX207XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgY29uc3QgdG0wID0gbVswXSwgdG0xID0gbVsxXSwgdG0yID0gbVsyXSwgdG0zID0gbVszXTtcbiAgICAgICAgY29uc3QgdG00ID0gbVs0XSwgdG01ID0gbVs1XSwgdG02ID0gbVs2XSwgdG03ID0gbVs3XTtcbiAgICAgICAgY29uc3QgdG04ID0gbVs4XSwgdG05ID0gbVs5XSwgdG0xMCA9IG1bMTBdLCB0bTExID0gbVsxMV07XG4gICAgICAgIGNvbnN0IHRtMTIgPSBtWzEyXSwgdG0xMyA9IG1bMTNdLCB0bTE0ID0gbVsxNF0sIHRtMTUgPSBtWzE1XTtcbiAgICAgICAgY29uc3Qgb20wID0gb3RoZXJNWzBdLCBvbTEgPSBvdGhlck1bMV0sIG9tMiA9IG90aGVyTVsyXSwgb20zID0gb3RoZXJNWzNdO1xuICAgICAgICBjb25zdCBvbTQgPSBvdGhlck1bNF0sIG9tNSA9IG90aGVyTVs1XSwgb202ID0gb3RoZXJNWzZdLCBvbTcgPSBvdGhlck1bN107XG4gICAgICAgIGNvbnN0IG9tOCA9IG90aGVyTVs4XSwgb205ID0gb3RoZXJNWzldLCBvbTEwID0gb3RoZXJNWzEwXSwgb20xMSA9IG90aGVyTVsxMV07XG4gICAgICAgIGNvbnN0IG9tMTIgPSBvdGhlck1bMTJdLCBvbTEzID0gb3RoZXJNWzEzXSwgb20xNCA9IG90aGVyTVsxNF0sIG9tMTUgPSBvdGhlck1bMTVdO1xuICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgcmVzdWx0W29mZnNldF0gPSB0bTAgKiBvbTAgKyB0bTEgKiBvbTQgKyB0bTIgKiBvbTggKyB0bTMgKiBvbTEyO1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgMV0gPSB0bTAgKiBvbTEgKyB0bTEgKiBvbTUgKyB0bTIgKiBvbTkgKyB0bTMgKiBvbTEzO1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgMl0gPSB0bTAgKiBvbTIgKyB0bTEgKiBvbTYgKyB0bTIgKiBvbTEwICsgdG0zICogb20xNDtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIDNdID0gdG0wICogb20zICsgdG0xICogb203ICsgdG0yICogb20xMSArIHRtMyAqIG9tMTU7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyA0XSA9IHRtNCAqIG9tMCArIHRtNSAqIG9tNCArIHRtNiAqIG9tOCArIHRtNyAqIG9tMTI7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyA1XSA9IHRtNCAqIG9tMSArIHRtNSAqIG9tNSArIHRtNiAqIG9tOSArIHRtNyAqIG9tMTM7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyA2XSA9IHRtNCAqIG9tMiArIHRtNSAqIG9tNiArIHRtNiAqIG9tMTAgKyB0bTcgKiBvbTE0O1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgN10gPSB0bTQgKiBvbTMgKyB0bTUgKiBvbTcgKyB0bTYgKiBvbTExICsgdG03ICogb20xNTtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIDhdID0gdG04ICogb20wICsgdG05ICogb200ICsgdG0xMCAqIG9tOCArIHRtMTEgKiBvbTEyO1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgOV0gPSB0bTggKiBvbTEgKyB0bTkgKiBvbTUgKyB0bTEwICogb205ICsgdG0xMSAqIG9tMTM7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyAxMF0gPSB0bTggKiBvbTIgKyB0bTkgKiBvbTYgKyB0bTEwICogb20xMCArIHRtMTEgKiBvbTE0O1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgMTFdID0gdG04ICogb20zICsgdG05ICogb203ICsgdG0xMCAqIG9tMTEgKyB0bTExICogb20xNTtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIDEyXSA9IHRtMTIgKiBvbTAgKyB0bTEzICogb200ICsgdG0xNCAqIG9tOCArIHRtMTUgKiBvbTEyO1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgMTNdID0gdG0xMiAqIG9tMSArIHRtMTMgKiBvbTUgKyB0bTE0ICogb205ICsgdG0xNSAqIG9tMTM7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyAxNF0gPSB0bTEyICogb20yICsgdG0xMyAqIG9tNiArIHRtMTQgKiBvbTEwICsgdG0xNSAqIG9tMTQ7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyAxNV0gPSB0bTEyICogb20zICsgdG0xMyAqIG9tNyArIHRtMTQgKiBvbTExICsgdG0xNSAqIG9tMTU7XG4gICAgfVxuICAgIE1hdHJpeC5tdWx0aXBseVRvQXJyYXkgPSBtdWx0aXBseVRvQXJyYXk7XG4gICAgLyoqXG4gICAgICogQ2hlY2sgZXF1YWxpdHkgYmV0d2VlbiBzZWxmIG1hdHJpeCBhbmQgYSBzZWNvbmQgb25lXG4gICAgICogQHBhcmFtIHZhbHVlIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG1hdHJpeCB0byBjb21wYXJlXG4gICAgICogQHJldHVybnMgdHJ1ZSBpcyB0aGUgY3VycmVudCBtYXRyaXggYW5kIHRoZSBnaXZlbiBvbmUgdmFsdWVzIGFyZSBzdHJpY3RseSBlcXVhbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFscyhzZWxmLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBvdGhlciA9IHZhbHVlO1xuICAgICAgICBpZiAoIW90aGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYuaXNJZGVudGl0eSB8fCBvdGhlci5pc0lkZW50aXR5KSB7XG4gICAgICAgICAgICBpZiAoIXNlbGYuX2lzSWRlbnRpdHlEaXJ0eSAmJiAhb3RoZXIuX2lzSWRlbnRpdHlEaXJ0eSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmlzSWRlbnRpdHkgJiYgb3RoZXIuaXNJZGVudGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtID0gc2VsZi5fbTtcbiAgICAgICAgY29uc3Qgb20gPSBvdGhlci5fbTtcbiAgICAgICAgcmV0dXJuIChtWzBdID09PSBvbVswXSAmJlxuICAgICAgICAgICAgbVsxXSA9PT0gb21bMV0gJiZcbiAgICAgICAgICAgIG1bMl0gPT09IG9tWzJdICYmXG4gICAgICAgICAgICBtWzNdID09PSBvbVszXSAmJlxuICAgICAgICAgICAgbVs0XSA9PT0gb21bNF0gJiZcbiAgICAgICAgICAgIG1bNV0gPT09IG9tWzVdICYmXG4gICAgICAgICAgICBtWzZdID09PSBvbVs2XSAmJlxuICAgICAgICAgICAgbVs3XSA9PT0gb21bN10gJiZcbiAgICAgICAgICAgIG1bOF0gPT09IG9tWzhdICYmXG4gICAgICAgICAgICBtWzldID09PSBvbVs5XSAmJlxuICAgICAgICAgICAgbVsxMF0gPT09IG9tWzEwXSAmJlxuICAgICAgICAgICAgbVsxMV0gPT09IG9tWzExXSAmJlxuICAgICAgICAgICAgbVsxMl0gPT09IG9tWzEyXSAmJlxuICAgICAgICAgICAgbVsxM10gPT09IG9tWzEzXSAmJlxuICAgICAgICAgICAgbVsxNF0gPT09IG9tWzE0XSAmJlxuICAgICAgICAgICAgbVsxNV0gPT09IG9tWzE1XSk7XG4gICAgfVxuICAgIE1hdHJpeC5lcXVhbHMgPSBlcXVhbHM7XG4gICAgLyoqXG4gICAgICogQ2xvbmUgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGZyb20gdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUoc2VsZikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgY29weShzZWxmLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguY2xvbmUgPSBjbG9uZTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoYXNoIGNvZGUgb2YgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICogQHJldHVybnMgdGhlIGhhc2ggY29kZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhhc2hDb2RlKHNlbGYpIHtcbiAgICAgICAgbGV0IGhhc2ggPSBzZWxmLl9tWzBdIHx8IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgaGFzaCA9IChoYXNoICogMzk3KSBeIChzZWxmLl9tW2ldIHx8IDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cbiAgICBNYXRyaXguZ2V0SGFzaENvZGUgPSBnZXRIYXNoQ29kZTtcbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIHRoZSBjdXJyZW50IE1hdHJpeCBpbnRvIGEgdHJhbnNsYXRpb24sIHJvdGF0aW9uIGFuZCBzY2FsaW5nIGNvbXBvbmVudHNcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsZSB2ZWN0b3IzIGdpdmVuIGFzIGEgcmVmZXJlbmNlIHRvIHVwZGF0ZVxuICAgICAqIEBwYXJhbSByb3RhdGlvbiAtIGRlZmluZXMgdGhlIHJvdGF0aW9uIHF1YXRlcm5pb24gZ2l2ZW4gYXMgYSByZWZlcmVuY2UgdG8gdXBkYXRlXG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uIC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yMyBnaXZlbiBhcyBhIHJlZmVyZW5jZSB0byB1cGRhdGVcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlY29tcG9zZShzZWxmLCBzY2FsZSwgcm90YXRpb24sIHRyYW5zbGF0aW9uKSB7XG4gICAgICAgIGlmIChzZWxmLmlzSWRlbnRpdHkpIHtcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLnggPSAwO1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLnkgPSAwO1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLnogPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjYWxlKSB7XG4gICAgICAgICAgICAgICAgc2NhbGUueCA9IDE7XG4gICAgICAgICAgICAgICAgc2NhbGUueSA9IDE7XG4gICAgICAgICAgICAgICAgc2NhbGUueiA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm90YXRpb24pIHtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi53ID0gMTtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi54ID0gMDtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi55ID0gMDtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi56ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG0gPSBzZWxmLl9tO1xuICAgICAgICBpZiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uLnggPSBtWzEyXTtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uLnkgPSBtWzEzXTtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uLnogPSBtWzE0XTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VkU2NhbGUgPSBzY2FsZSB8fCBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgdXNlZFNjYWxlLnggPSBNYXRoLnNxcnQobVswXSAqIG1bMF0gKyBtWzFdICogbVsxXSArIG1bMl0gKiBtWzJdKTtcbiAgICAgICAgdXNlZFNjYWxlLnkgPSBNYXRoLnNxcnQobVs0XSAqIG1bNF0gKyBtWzVdICogbVs1XSArIG1bNl0gKiBtWzZdKTtcbiAgICAgICAgdXNlZFNjYWxlLnogPSBNYXRoLnNxcnQobVs4XSAqIG1bOF0gKyBtWzldICogbVs5XSArIG1bMTBdICogbVsxMF0pO1xuICAgICAgICBpZiAoZGV0ZXJtaW5hbnQoc2VsZikgPD0gMCkge1xuICAgICAgICAgICAgdXNlZFNjYWxlLnkgKj0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZWRTY2FsZS54ID09PSAwIHx8IHVzZWRTY2FsZS55ID09PSAwIHx8IHVzZWRTY2FsZS56ID09PSAwKSB7XG4gICAgICAgICAgICBpZiAocm90YXRpb24pIHtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi53ID0gMTtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi54ID0gMDtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi55ID0gMDtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi56ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm90YXRpb24pIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgICAgICBjb25zdCBzeCA9IDEgLyB1c2VkU2NhbGUueCwgc3kgPSAxIC8gdXNlZFNjYWxlLnksIHN6ID0gMSAvIHVzZWRTY2FsZS56O1xuICAgICAgICAgICAgY29uc3QgdG1wTWF0cml4ID0gY3JlYXRlKCk7XG4gICAgICAgICAgICBmcm9tVmFsdWVzVG9SZWYobVswXSAqIHN4LCBtWzFdICogc3gsIG1bMl0gKiBzeCwgMC4wLCBtWzRdICogc3ksIG1bNV0gKiBzeSwgbVs2XSAqIHN5LCAwLjAsIG1bOF0gKiBzeiwgbVs5XSAqIHN6LCBtWzEwXSAqIHN6LCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgdG1wTWF0cml4KTtcbiAgICAgICAgICAgIFF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4VG9SZWYodG1wTWF0cml4LCByb3RhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIE1hdHJpeC5kZWNvbXBvc2UgPSBkZWNvbXBvc2U7XG4gICAgLyoqXG4gICAgICogR2V0cyBzcGVjaWZpYyByb3cgb2YgdGhlIG1hdHJpeFxuICAgICAqIEBwYXJhbSBpbmRleCAtIGRlZmluZXMgdGhlIG51bWJlciBvZiB0aGUgcm93IHRvIGdldFxuICAgICAqIEByZXR1cm5zIHRoZSBpbmRleC10aCByb3cgb2YgdGhlIGN1cnJlbnQgbWF0cml4IGFzIGEgbmV3IFZlY3RvcjRcbiAgICAgKi9cbiAgICAvLyBUT0RPXG4gICAgLy8gZXhwb3J0IGZ1bmN0aW9uIGdldFJvdyhpbmRleDogbnVtYmVyKTogTnVsbGFibGU8VmVjdG9yND4ge1xuICAgIC8vICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IDMpIHtcbiAgICAvLyAgICAgcmV0dXJuIG51bGxcbiAgICAvLyAgIH1cbiAgICAvLyAgIGNvbnN0IGkgPSBpbmRleCAqIDRcbiAgICAvLyAgIHJldHVybiBuZXcgVmVjdG9yNChcbiAgICAvLyAgICAgc2VsZi5fbVtpICsgMF0sXG4gICAgLy8gICAgIHNlbGYuX21baSArIDFdLFxuICAgIC8vICAgICBzZWxmLl9tW2kgKyAyXSxcbiAgICAvLyAgICAgc2VsZi5fbVtpICsgM11cbiAgICAvLyAgIClcbiAgICAvLyB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaW5kZXgtdGggcm93IG9mIHRoZSBjdXJyZW50IG1hdHJpeCB0byB0aGUgdmVjdG9yNCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBkZWZpbmVzIHRoZSBudW1iZXIgb2YgdGhlIHJvdyB0byBzZXRcbiAgICAgKiBAcGFyYW0gcm93IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHZlY3RvcjRcbiAgICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBjdXJyZW50IG1hdHJpeFxuICAgICAqL1xuICAgIC8vIFRPRE9cbiAgICAvLyBleHBvcnQgZnVuY3Rpb24gc2V0Um93KGluZGV4OiBudW1iZXIsIHJvdzogVmVjdG9yNCk6IE11dGFibGVNYXRyaXgge1xuICAgIC8vICAgcmV0dXJuIHNldFJvd0Zyb21GbG9hdHMoaW5kZXgsIHJvdy54LCByb3cueSwgcm93LnosIHJvdy53KVxuICAgIC8vIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBpbmRleC10aCByb3cgb2YgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggdGhlIGdpdmVuIDQgeCBmbG9hdCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBkZWZpbmVzIHRoZSByb3cgaW5kZXhcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHggY29tcG9uZW50IHRvIHNldFxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgeSBjb21wb25lbnQgdG8gc2V0XG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB6IGNvbXBvbmVudCB0byBzZXRcbiAgICAgKiBAcGFyYW0gdyAtIGRlZmluZXMgdGhlIHcgY29tcG9uZW50IHRvIHNldFxuICAgICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Um93RnJvbUZsb2F0cyhzZWxmLCBpbmRleCwgeCwgeSwgeiwgdykge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gMykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGkgPSBpbmRleCAqIDQ7XG4gICAgICAgIHNlbGYuX21baSArIDBdID0geDtcbiAgICAgICAgc2VsZi5fbVtpICsgMV0gPSB5O1xuICAgICAgICBzZWxmLl9tW2kgKyAyXSA9IHo7XG4gICAgICAgIHNlbGYuX21baSArIDNdID0gdztcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgfVxuICAgIE1hdHJpeC5zZXRSb3dGcm9tRmxvYXRzID0gc2V0Um93RnJvbUZsb2F0cztcbiAgICAvKipcbiAgICAgKiBDb21wdXRlIGEgbmV3IG1hdHJpeCBzZXQgd2l0aCB0aGUgY3VycmVudCBtYXRyaXggdmFsdWVzIG11bHRpcGxpZWQgYnkgc2NhbGUgKGZsb2F0KVxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlKHNlbGYsIHNjYWxlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICBzY2FsZVRvUmVmKHNlbGYsIHNjYWxlLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguc2NhbGUgPSBzY2FsZTtcbiAgICAvKipcbiAgICAgKiBTY2FsZSB0aGUgY3VycmVudCBtYXRyaXggdmFsdWVzIGJ5IGEgZmFjdG9yIHRvIGEgZ2l2ZW4gcmVzdWx0IG1hdHJpeFxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlVG9SZWYoc2VsZiwgc2NhbGUsIHJlc3VsdCkge1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgMTY7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5fbVtpbmRleF0gPSBzZWxmLl9tW2luZGV4XSAqIHNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5zY2FsZVRvUmVmID0gc2NhbGVUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTY2FsZSB0aGUgY3VycmVudCBtYXRyaXggdmFsdWVzIGJ5IGEgZmFjdG9yIGFuZCBhZGQgdGhlIHJlc3VsdCB0byBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBNYXRyaXggdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlQW5kQWRkVG9SZWYoc2VsZiwgc2NhbGUsIHJlc3VsdCkge1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgMTY7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5fbVtpbmRleF0gKz0gc2VsZi5fbVtpbmRleF0gKiBzY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXguc2NhbGVBbmRBZGRUb1JlZiA9IHNjYWxlQW5kQWRkVG9SZWY7XG4gICAgLyoqXG4gICAgICogV3JpdGVzIHRvIHRoZSBnaXZlbiBtYXRyaXggYSBub3JtYWwgbWF0cml4LCBjb21wdXRlZCBmcm9tIHNlbGYgb25lICh1c2luZyB2YWx1ZXMgZnJvbSBpZGVudGl0eSBtYXRyaXggZm9yIGZvdXJ0aCByb3cgYW5kIGNvbHVtbikuXG4gICAgICogQHBhcmFtIHJlZiAtIG1hdHJpeCB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9ybWFsTWF0cml4VG9SZWYoc2VsZiwgcmVmKSB7XG4gICAgICAgIGNvbnN0IHRtcCA9IGNyZWF0ZSgpO1xuICAgICAgICBpbnZlcnRUb1JlZihzZWxmLCB0bXApO1xuICAgICAgICB0cmFuc3Bvc2VUb1JlZih0bXAsIHJlZik7XG4gICAgICAgIGNvbnN0IG0gPSByZWYuX207XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihtWzBdLCBtWzFdLCBtWzJdLCAwLjAsIG1bNF0sIG1bNV0sIG1bNl0sIDAuMCwgbVs4XSwgbVs5XSwgbVsxMF0sIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCByZWYpO1xuICAgIH1cbiAgICBNYXRyaXgubm9ybWFsTWF0cml4VG9SZWYgPSBub3JtYWxNYXRyaXhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBHZXRzIG9ubHkgcm90YXRpb24gcGFydCBvZiB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXggc2V0cyB0byB0aGUgZXh0cmFjdGVkIHJvdGF0aW9uIG1hdHJpeCBmcm9tIHRoZSBjdXJyZW50IG9uZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJvdGF0aW9uTWF0cml4KHNlbGYpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGdldFJvdGF0aW9uTWF0cml4VG9SZWYoc2VsZiwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4LmdldFJvdGF0aW9uTWF0cml4ID0gZ2V0Um90YXRpb25NYXRyaXg7XG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHJvdGF0aW9uIG1hdHJpeCBmcm9tIHRoZSBjdXJyZW50IG9uZSBhbmQgc2V0cyBpdCBhcyB0aGUgZ2l2ZW4gXCJyZXN1bHRcIlxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4IHRvIHN0b3JlIGRhdGEgdG9cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRSb3RhdGlvbk1hdHJpeFRvUmVmKHNlbGYsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBzY2FsZSA9IFZlY3RvcjMuWmVybygpO1xuICAgICAgICBpZiAoIWRlY29tcG9zZShzZWxmLCBzY2FsZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IElkZW50aXR5KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbSA9IHNlbGYuX207XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgIGNvbnN0IHN4ID0gMSAvIHNjYWxlLngsIHN5ID0gMSAvIHNjYWxlLnksIHN6ID0gMSAvIHNjYWxlLno7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihtWzBdICogc3gsIG1bMV0gKiBzeCwgbVsyXSAqIHN4LCAwLjAsIG1bNF0gKiBzeSwgbVs1XSAqIHN5LCBtWzZdICogc3ksIDAuMCwgbVs4XSAqIHN6LCBtWzldICogc3osIG1bMTBdICogc3osIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCByZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXguZ2V0Um90YXRpb25NYXRyaXhUb1JlZiA9IGdldFJvdGF0aW9uTWF0cml4VG9SZWY7XG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBtb2RlbCBtYXRyaXggZnJvbSBiZWluZyByaWdodCBoYW5kZWQgdG8gbGVmdCBoYW5kZWQgaW4gcGxhY2UgYW5kIHZpY2UgdmVyc2FcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b2dnbGVNb2RlbE1hdHJpeEhhbmRJblBsYWNlKHNlbGYpIHtcbiAgICAgICAgc2VsZi5fbVsyXSAqPSAtMTtcbiAgICAgICAgc2VsZi5fbVs2XSAqPSAtMTtcbiAgICAgICAgc2VsZi5fbVs4XSAqPSAtMTtcbiAgICAgICAgc2VsZi5fbVs5XSAqPSAtMTtcbiAgICAgICAgc2VsZi5fbVsxNF0gKj0gLTE7XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHNlbGYpO1xuICAgIH1cbiAgICBNYXRyaXgudG9nZ2xlTW9kZWxNYXRyaXhIYW5kSW5QbGFjZSA9IHRvZ2dsZU1vZGVsTWF0cml4SGFuZEluUGxhY2U7XG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBwcm9qZWN0aW9uIG1hdHJpeCBmcm9tIGJlaW5nIHJpZ2h0IGhhbmRlZCB0byBsZWZ0IGhhbmRlZCBpbiBwbGFjZSBhbmQgdmljZSB2ZXJzYVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvZ2dsZVByb2plY3Rpb25NYXRyaXhIYW5kSW5QbGFjZShzZWxmKSB7XG4gICAgICAgIHNlbGYuX21bOF0gKj0gLTE7XG4gICAgICAgIHNlbGYuX21bOV0gKj0gLTE7XG4gICAgICAgIHNlbGYuX21bMTBdICo9IC0xO1xuICAgICAgICBzZWxmLl9tWzExXSAqPSAtMTtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgfVxuICAgIE1hdHJpeC50b2dnbGVQcm9qZWN0aW9uTWF0cml4SGFuZEluUGxhY2UgPSB0b2dnbGVQcm9qZWN0aW9uTWF0cml4SGFuZEluUGxhY2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZ1bmN0aW9uIF91cGRhdGVJZGVudGl0eVN0YXR1cyhzZWxmLCBpc0lkZW50aXR5LCBpc0lkZW50aXR5RGlydHkgPSBmYWxzZSwgaXNJZGVudGl0eTN4MiA9IGZhbHNlLCBpc0lkZW50aXR5M3gyRGlydHkgPSB0cnVlKSB7XG4gICAgICAgIHNlbGYudXBkYXRlRmxhZyA9IF91cGRhdGVGbGFnU2VlZCsrO1xuICAgICAgICBzZWxmLmlzSWRlbnRpdHkgPSBpc0lkZW50aXR5O1xuICAgICAgICBzZWxmLmlzSWRlbnRpdHkzeDIgPSBpc0lkZW50aXR5IHx8IGlzSWRlbnRpdHkzeDI7XG4gICAgICAgIHNlbGYuX2lzSWRlbnRpdHlEaXJ0eSA9IHNlbGYuaXNJZGVudGl0eSA/IGZhbHNlIDogaXNJZGVudGl0eURpcnR5O1xuICAgICAgICBzZWxmLl9pc0lkZW50aXR5M3gyRGlydHkgPSBzZWxmLmlzSWRlbnRpdHkzeDIgPyBmYWxzZSA6IGlzSWRlbnRpdHkzeDJEaXJ0eTtcbiAgICB9XG59KShNYXRyaXggfHwgKE1hdHJpeCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMyc7XG5pbXBvcnQgeyBTY2FsYXIgfSBmcm9tICcuL1NjYWxhcic7XG5pbXBvcnQgeyBERUcyUkFELCBSQUQyREVHIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuL01hdHJpeCc7XG4vKipcbiAqIEBwdWJsaWNcbiAqIFF1YXRlcm5pb24gaXMgYSB0eXBlIGFuZCBhIG5hbWVzcGFjZS5cbiAqIGBgYFxuICogLy8gVGhlIG5hbWVzcGFjZSBjb250YWlucyBhbGwgdHlwZXMgYW5kIGZ1bmN0aW9ucyB0byBvcGVyYXRlcyB3aXRoIFF1YXRlcm5pb25cbiAqIGNvbnN0IG5leHQgPSBRdWF0ZXJuaW9uLmFkZChwb2ludEEsIHZlbG9jaXR5QSlcbiAqIC8vIFRoZSB0eXBlIFF1YXRlcm5pb24gaXMgYW4gYWxpYXMgdG8gUXVhdGVybmlvbi5SZWFkb25seVF1YXRlcm5pb25cbiAqIGNvbnN0IHJlYWRvbmx5Um90YXRpb246IFF1YXRlcm5pb24gPSBRdWF0ZXJuaW9uLlplcm8oKVxuICogcmVhZG9ubHlSb3RhdGlvbi54ID0gMC4xIC8vIHRoaXMgRkFJTFNcbiAqXG4gKiAvLyBGb3IgbXV0YWJsZSB1c2FnZSwgdXNlIGBRdWF0ZXJuaW9uLk11dGFibGVgXG4gKiBjb25zdCByb3RhdGlvbjogUXVhdGVybmlvbi5NdXRhYmxlID0gUXVhdGVybmlvbi5JZGVudGl0eSgpXG4gKiByb3RhdGlvbi54ID0gMy4wIC8vIHRoaXMgV09SS1NcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIFF1YXRlcm5pb247XG4oZnVuY3Rpb24gKFF1YXRlcm5pb24pIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFF1YXRlcm5pb24gZnJvbSB0aGUgZ2l2ZW4gZmxvYXRzXG4gICAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSBmaXJzdCBjb21wb25lbnQgKDAgYnkgZGVmYXVsdClcbiAgICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHNlY29uZCBjb21wb25lbnQgKDAgYnkgZGVmYXVsdClcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHRoaXJkIGNvbXBvbmVudCAoMCBieSBkZWZhdWx0KVxuICAgICAqIEBwYXJhbSB3IC0gZGVmaW5lcyB0aGUgZm91cnRoIGNvbXBvbmVudCAoMS4wIGJ5IGRlZmF1bHQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKFxuICAgIC8qKiBkZWZpbmVzIHRoZSBmaXJzdCBjb21wb25lbnQgKDAgYnkgZGVmYXVsdCkgKi9cbiAgICB4ID0gMC4wLCBcbiAgICAvKiogZGVmaW5lcyB0aGUgc2Vjb25kIGNvbXBvbmVudCAoMCBieSBkZWZhdWx0KSAqL1xuICAgIHkgPSAwLjAsIFxuICAgIC8qKiBkZWZpbmVzIHRoZSB0aGlyZCBjb21wb25lbnQgKDAgYnkgZGVmYXVsdCkgKi9cbiAgICB6ID0gMC4wLCBcbiAgICAvKiogZGVmaW5lcyB0aGUgZm91cnRoIGNvbXBvbmVudCAoMS4wIGJ5IGRlZmF1bHQpICovXG4gICAgdyA9IDEuMCkge1xuICAgICAgICByZXR1cm4geyB4LCB5LCB6LCB3IH07XG4gICAgfVxuICAgIFF1YXRlcm5pb24uY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgUXVhdGVybmlvbiBhcyB0aGUgcmVzdWx0IG9mIHRoZSBhZGRpdGlvbiBvZiB0aGUgdHdvIGdpdmVuIHF1YXRlcm5pb25zLlxuICAgICAqIEBwYXJhbSBxMSAtIHRoZSBmaXJzdCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHEyIC0gdGhlIHNlY29uZCBxdWF0ZXJuaW9uXG4gICAgICogQHJldHVybnMgdGhlIHJlc3VsdGluZyBxdWF0ZXJuaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkKHExLCBxMikge1xuICAgICAgICByZXR1cm4geyB4OiBxMS54ICsgcTIueCwgeTogcTEueSArIHEyLnksIHo6IHExLnogKyBxMi56LCB3OiBxMS53ICsgcTIudyB9O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmFkZCA9IGFkZDtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIGZyb20gdGhlIGdpdmVuIEV1bGVyIGZsb2F0IGFuZ2xlcyAoeSwgeCwgeikgYW5kIHN0b3JlcyBpdCBpbiB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0geWF3IC0gZGVmaW5lcyB0aGUgcm90YXRpb24gYXJvdW5kIFkgYXhpcyAocmFkaWFucylcbiAgICAgKiBAcGFyYW0gcGl0Y2ggLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBhcm91bmQgWCBheGlzIChyYWRpYW5zKVxuICAgICAqIEBwYXJhbSByb2xsIC0gZGVmaW5lcyB0aGUgcm90YXRpb24gYXJvdW5kIFogYXhpcyAocmFkaWFucylcbiAgICAgKiBAcmV0dXJucyByZXN1bHQgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21Sb3RhdGlvbllhd1BpdGNoUm9sbCh5YXcsIHBpdGNoLCByb2xsKSB7XG4gICAgICAgIC8vIEltcGxlbWVudGVkIHVuaXR5LWJhc2VkIGNhbGN1bGF0aW9ucyBmcm9tOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTYwNTU4MTNcbiAgICAgICAgY29uc3QgaGFsZlBpdGNoID0gcGl0Y2ggKiAwLjU7XG4gICAgICAgIGNvbnN0IGhhbGZZYXcgPSB5YXcgKiAwLjU7XG4gICAgICAgIGNvbnN0IGhhbGZSb2xsID0gcm9sbCAqIDAuNTtcbiAgICAgICAgY29uc3QgYzEgPSBNYXRoLmNvcyhoYWxmUGl0Y2gpO1xuICAgICAgICBjb25zdCBjMiA9IE1hdGguY29zKGhhbGZZYXcpO1xuICAgICAgICBjb25zdCBjMyA9IE1hdGguY29zKGhhbGZSb2xsKTtcbiAgICAgICAgY29uc3QgczEgPSBNYXRoLnNpbihoYWxmUGl0Y2gpO1xuICAgICAgICBjb25zdCBzMiA9IE1hdGguc2luKGhhbGZZYXcpO1xuICAgICAgICBjb25zdCBzMyA9IE1hdGguc2luKGhhbGZSb2xsKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShjMiAqIHMxICogYzMgKyBzMiAqIGMxICogczMsIHMyICogYzEgKiBjMyAtIGMyICogczEgKiBzMywgYzIgKiBjMSAqIHMzIC0gczIgKiBzMSAqIGMzLCBjMiAqIGMxICogYzMgKyBzMiAqIHMxICogczMpO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmZyb21Sb3RhdGlvbllhd1BpdGNoUm9sbCA9IGZyb21Sb3RhdGlvbllhd1BpdGNoUm9sbDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcm90YXRpb24gdGhhdCByb3RhdGVzIHogZGVncmVlcyBhcm91bmQgdGhlIHogYXhpcywgeCBkZWdyZWVzIGFyb3VuZCB0aGUgeCBheGlzLCBhbmQgeSBkZWdyZWVzIGFyb3VuZCB0aGUgeSBheGlzLlxuICAgICAqIEBwYXJhbSB4IC0gdGhlIHJvdGF0aW9uIG9uIHRoZSB4IGF4aXMgaW4gZXVsZXIgZGVncmVlc1xuICAgICAqIEBwYXJhbSB5IC0gdGhlIHJvdGF0aW9uIG9uIHRoZSB5IGF4aXMgaW4gZXVsZXIgZGVncmVlc1xuICAgICAqIEBwYXJhbSB6IC0gdGhlIHJvdGF0aW9uIG9uIHRoZSB6IGF4aXMgaW4gZXVsZXIgZGVncmVlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21FdWxlckRlZ3JlZXMoeCwgeSwgeikge1xuICAgICAgICByZXR1cm4gZnJvbVJvdGF0aW9uWWF3UGl0Y2hSb2xsKHkgKiBERUcyUkFELCB4ICogREVHMlJBRCwgeiAqIERFRzJSQUQpO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmZyb21FdWxlckRlZ3JlZXMgPSBmcm9tRXVsZXJEZWdyZWVzO1xuICAgIC8qKlxuICAgICAqIEdldHMgbGVuZ3RoIG9mIGN1cnJlbnQgcXVhdGVybmlvblxuICAgICAqIEByZXR1cm5zIHRoZSBxdWF0ZXJuaW9uIGxlbmd0aCAoZmxvYXQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVuZ3RoKHEpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChsZW5ndGhTcXVhcmVkKHEpKTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5sZW5ndGggPSBsZW5ndGg7XG4gICAgLyoqXG4gICAgICogR2V0cyBsZW5ndGggb2YgY3VycmVudCBxdWF0ZXJuaW9uXG4gICAgICogQHJldHVybnMgdGhlIHF1YXRlcm5pb24gbGVuZ3RoIChmbG9hdClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZW5ndGhTcXVhcmVkKHEpIHtcbiAgICAgICAgcmV0dXJuIHEueCAqIHEueCArIHEueSAqIHEueSArIHEueiAqIHEueiArIHEudyAqIHEudztcbiAgICB9XG4gICAgUXVhdGVybmlvbi5sZW5ndGhTcXVhcmVkID0gbGVuZ3RoU3F1YXJlZDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkb3QgcHJvZHVjdCAoZmxvYXQpIGJldHdlZW4gdGhlIHF1YXRlcm5pb25zIFwibGVmdFwiIGFuZCBcInJpZ2h0XCJcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIGxlZnQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHJpZ2h0IG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgZG90IHByb2R1Y3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkb3QobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgcmV0dXJuIChsZWZ0LnggKiByaWdodC54ICsgbGVmdC55ICogcmlnaHQueSArIGxlZnQueiAqIHJpZ2h0LnogKyBsZWZ0LncgKiByaWdodC53KTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5kb3QgPSBkb3Q7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYW5nbGUgaW4gZGVncmVlcyBiZXR3ZWVuIHR3byByb3RhdGlvbnMgYSBhbmQgYi5cbiAgICAgKiBAcGFyYW0gcXVhdDEgLSBkZWZpbmVzIHRoZSBmaXJzdCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHF1YXQyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIHF1YXRlcm5pb25cbiAgICAgKiBAcmV0dXJucyB0aGUgZGVncmVlcyBhbmdsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFuZ2xlKHF1YXQxLCBxdWF0Mikge1xuICAgICAgICBjb25zdCBkb3RWYWwgPSBkb3QocXVhdDEsIHF1YXQyKTtcbiAgICAgICAgcmV0dXJuIE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLmFicyhkb3RWYWwpLCAxKSkgKiAyICogUkFEMkRFRztcbiAgICB9XG4gICAgUXVhdGVybmlvbi5hbmdsZSA9IGFuZ2xlO1xuICAgIC8qKlxuICAgICAqIFRoZSBmcm9tIHF1YXRlcm5pb24gaXMgcm90YXRlZCB0b3dhcmRzIHRvIGJ5IGFuIGFuZ3VsYXIgc3RlcCBvZiBtYXhEZWdyZWVzRGVsdGEuXG4gICAgICogQHBhcmFtIGZyb20gLSBkZWZpbmVzIHRoZSBmaXJzdCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHRvIC0gZGVmaW5lcyB0aGUgc2Vjb25kIHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gbWF4RGVncmVlc0RlbHRhIC0gdGhlIGludGVydmFsIHN0ZXBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByb3RhdGVUb3dhcmRzKGZyb20sIHRvLCBtYXhEZWdyZWVzRGVsdGEpIHtcbiAgICAgICAgY29uc3QgbnVtID0gYW5nbGUoZnJvbSwgdG8pO1xuICAgICAgICBpZiAobnVtID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdG87XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdCA9IE1hdGgubWluKDEsIG1heERlZ3JlZXNEZWx0YSAvIG51bSk7XG4gICAgICAgIHJldHVybiBzbGVycChmcm9tLCB0bywgdCk7XG4gICAgfVxuICAgIFF1YXRlcm5pb24ucm90YXRlVG93YXJkcyA9IHJvdGF0ZVRvd2FyZHM7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJvdGF0aW9uIHdpdGggdGhlIHNwZWNpZmllZCBmb3J3YXJkIGFuZCB1cHdhcmRzIGRpcmVjdGlvbnMuXG4gICAgICogQHBhcmFtIGZvcndhcmQgLSB0aGUgZGlyZWN0aW9uIHRvIGxvb2sgaW5cbiAgICAgKiBAcGFyYW0gdXAgLSB0aGUgdmVjdG9yIHRoYXQgZGVmaW5lcyBpbiB3aGljaCBkaXJlY3Rpb24gdXAgaXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb29rUm90YXRpb24oZm9yd2FyZCwgdXAgPSB7IHg6IDAuMCwgeTogMS4wLCB6OiAwLjAgfSkge1xuICAgICAgICBjb25zdCBmb3J3YXJkTmV3ID0gVmVjdG9yMy5ub3JtYWxpemUoZm9yd2FyZCk7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gVmVjdG9yMy5ub3JtYWxpemUoVmVjdG9yMy5jcm9zcyh1cCwgZm9yd2FyZE5ldykpO1xuICAgICAgICBjb25zdCB1cE5ldyA9IFZlY3RvcjMuY3Jvc3MoZm9yd2FyZE5ldywgcmlnaHQpO1xuICAgICAgICBjb25zdCBtMDAgPSByaWdodC54O1xuICAgICAgICBjb25zdCBtMDEgPSByaWdodC55O1xuICAgICAgICBjb25zdCBtMDIgPSByaWdodC56O1xuICAgICAgICBjb25zdCBtMTAgPSB1cE5ldy54O1xuICAgICAgICBjb25zdCBtMTEgPSB1cE5ldy55O1xuICAgICAgICBjb25zdCBtMTIgPSB1cE5ldy56O1xuICAgICAgICBjb25zdCBtMjAgPSBmb3J3YXJkTmV3Lng7XG4gICAgICAgIGNvbnN0IG0yMSA9IGZvcndhcmROZXcueTtcbiAgICAgICAgY29uc3QgbTIyID0gZm9yd2FyZE5ldy56O1xuICAgICAgICBjb25zdCBudW04ID0gbTAwICsgbTExICsgbTIyO1xuICAgICAgICBjb25zdCBxdWF0ZXJuaW9uID0gY3JlYXRlKCk7XG4gICAgICAgIGlmIChudW04ID4gMCkge1xuICAgICAgICAgICAgbGV0IG51bSA9IE1hdGguc3FydChudW04ICsgMSk7XG4gICAgICAgICAgICBxdWF0ZXJuaW9uLncgPSBudW0gKiAwLjU7XG4gICAgICAgICAgICBudW0gPSAwLjUgLyBudW07XG4gICAgICAgICAgICBxdWF0ZXJuaW9uLnggPSAobTEyIC0gbTIxKSAqIG51bTtcbiAgICAgICAgICAgIHF1YXRlcm5pb24ueSA9IChtMjAgLSBtMDIpICogbnVtO1xuICAgICAgICAgICAgcXVhdGVybmlvbi56ID0gKG0wMSAtIG0xMCkgKiBudW07XG4gICAgICAgICAgICByZXR1cm4gcXVhdGVybmlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobTAwID49IG0xMSAmJiBtMDAgPj0gbTIyKSB7XG4gICAgICAgICAgICBjb25zdCBudW03ID0gTWF0aC5zcXJ0KDEgKyBtMDAgLSBtMTEgLSBtMjIpO1xuICAgICAgICAgICAgY29uc3QgbnVtNCA9IDAuNSAvIG51bTc7XG4gICAgICAgICAgICBxdWF0ZXJuaW9uLnggPSAwLjUgKiBudW03O1xuICAgICAgICAgICAgcXVhdGVybmlvbi55ID0gKG0wMSArIG0xMCkgKiBudW00O1xuICAgICAgICAgICAgcXVhdGVybmlvbi56ID0gKG0wMiArIG0yMCkgKiBudW00O1xuICAgICAgICAgICAgcXVhdGVybmlvbi53ID0gKG0xMiAtIG0yMSkgKiBudW00O1xuICAgICAgICAgICAgcmV0dXJuIHF1YXRlcm5pb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG0xMSA+IG0yMikge1xuICAgICAgICAgICAgY29uc3QgbnVtNiA9IE1hdGguc3FydCgxICsgbTExIC0gbTAwIC0gbTIyKTtcbiAgICAgICAgICAgIGNvbnN0IG51bTMgPSAwLjUgLyBudW02O1xuICAgICAgICAgICAgcXVhdGVybmlvbi54ID0gKG0xMCArIG0wMSkgKiBudW0zO1xuICAgICAgICAgICAgcXVhdGVybmlvbi55ID0gMC41ICogbnVtNjtcbiAgICAgICAgICAgIHF1YXRlcm5pb24ueiA9IChtMjEgKyBtMTIpICogbnVtMztcbiAgICAgICAgICAgIHF1YXRlcm5pb24udyA9IChtMjAgLSBtMDIpICogbnVtMztcbiAgICAgICAgICAgIHJldHVybiBxdWF0ZXJuaW9uO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG51bTUgPSBNYXRoLnNxcnQoMSArIG0yMiAtIG0wMCAtIG0xMSk7XG4gICAgICAgIGNvbnN0IG51bTIgPSAwLjUgLyBudW01O1xuICAgICAgICBxdWF0ZXJuaW9uLnggPSAobTIwICsgbTAyKSAqIG51bTI7XG4gICAgICAgIHF1YXRlcm5pb24ueSA9IChtMjEgKyBtMTIpICogbnVtMjtcbiAgICAgICAgcXVhdGVybmlvbi56ID0gMC41ICogbnVtNTtcbiAgICAgICAgcXVhdGVybmlvbi53ID0gKG0wMSAtIG0xMCkgKiBudW0yO1xuICAgICAgICByZXR1cm4gcXVhdGVybmlvbjtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5sb29rUm90YXRpb24gPSBsb29rUm90YXRpb247XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplIGluIHBsYWNlIHRoZSBjdXJyZW50IHF1YXRlcm5pb25cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIHF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemUocSkge1xuICAgICAgICBjb25zdCBxTGVuZ3RoID0gMS4wIC8gbGVuZ3RoKHEpO1xuICAgICAgICByZXR1cm4gY3JlYXRlKHEueCAqIHFMZW5ndGgsIHEueSAqIHFMZW5ndGgsIHEueiAqIHFMZW5ndGgsIHEudyAqIHFMZW5ndGgpO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcm90YXRpb24gd2hpY2ggcm90YXRlcyBmcm9tIGZyb21EaXJlY3Rpb24gdG8gdG9EaXJlY3Rpb24uXG4gICAgICogQHBhcmFtIGZyb20gLSBkZWZpbmVzIHRoZSBmaXJzdCBkaXJlY3Rpb24gVmVjdG9yXG4gICAgICogQHBhcmFtIHRvIC0gZGVmaW5lcyB0aGUgdGFyZ2V0IGRpcmVjdGlvbiBWZWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tVG9Sb3RhdGlvbihmcm9tLCB0bywgdXAgPSBWZWN0b3IzLlVwKCkpIHtcbiAgICAgICAgLy8gVW5pdHktYmFzZWQgY2FsY3VsYXRpb25zIGltcGxlbWVudGVkIGZyb20gaHR0cHM6Ly9mb3J1bS51bml0eS5jb20vdGhyZWFkcy9xdWF0ZXJuaW9uLWxvb2tyb3RhdGlvbi1hcm91bmQtYW4tYXhpcy42MDg0NzAvI3Bvc3QtNDA2OTg4OFxuICAgICAgICBjb25zdCB2MCA9IFZlY3RvcjMubm9ybWFsaXplKGZyb20pO1xuICAgICAgICBjb25zdCB2MSA9IFZlY3RvcjMubm9ybWFsaXplKHRvKTtcbiAgICAgICAgY29uc3QgYSA9IFZlY3RvcjMuY3Jvc3ModjAsIHYxKTtcbiAgICAgICAgY29uc3QgdyA9IE1hdGguc3FydChWZWN0b3IzLmxlbmd0aFNxdWFyZWQodjApICogVmVjdG9yMy5sZW5ndGhTcXVhcmVkKHYxKSkgK1xuICAgICAgICAgICAgVmVjdG9yMy5kb3QodjAsIHYxKTtcbiAgICAgICAgaWYgKFZlY3RvcjMubGVuZ3RoU3F1YXJlZChhKSA8IDAuMDAwMSkge1xuICAgICAgICAgICAgLy8gdGhlIHZlY3RvcnMgYXJlIHBhcmFsbGVsLCBjaGVjayB3IHRvIGZpbmQgZGlyZWN0aW9uXG4gICAgICAgICAgICAvLyBpZiB3IGlzIDAgdGhlbiB2YWx1ZXMgYXJlIG9wcG9zaXRlLCBhbmQgd2Ugc291bGQgcm90YXRlIDE4MCBkZWdyZWVzIGFyb3VuZCB0aGUgc3VwcGxpZWQgYXhpc1xuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHRoZSB2ZWN0b3JzIGluIHRoZSBzYW1lIGRpcmVjdGlvbiBhbmQgbm8gcm90YXRpb24gc2hvdWxkIG9jY3VyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModykgPCAwLjAwMDFcbiAgICAgICAgICAgICAgICA/IG5vcm1hbGl6ZShjcmVhdGUodXAueCwgdXAueSwgdXAueiwgMCkpXG4gICAgICAgICAgICAgICAgOiBJZGVudGl0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZShjcmVhdGUoYS54LCBhLnksIGEueiwgdykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZnJvbVRvUm90YXRpb24gPSBmcm9tVG9Sb3RhdGlvbjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGlkZW50aXR5IHF1YXRlcm5pb25cbiAgICAgKiBAcmV0dXJucyAtIHRoZSBpZGVudGl0eSBxdWF0ZXJuaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gSWRlbnRpdHkoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC4wLCAwLjAsIDAuMCwgMS4wKTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5JZGVudGl0eSA9IElkZW50aXR5O1xuICAgIC8qKlxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgZXVsZXIgYW5nbGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJvdGF0aW9uLlxuICAgICAqIEltcGxlbWVudGVkIHVuaXR5LWJhc2VkIGNhbGN1bGF0aW9ucyBmcm9tOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTYwNTU4MTNcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yMyB3aXRoIGV1bGVyIGFuZ2xlcyBkZWdyZWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9FdWxlckFuZ2xlcyhxKSB7XG4gICAgICAgIGNvbnN0IG91dCA9IFZlY3RvcjMuY3JlYXRlKCk7XG4gICAgICAgIC8vIGlmIHRoZSBpbnB1dCBxdWF0ZXJuaW9uIGlzIG5vcm1hbGl6ZWQsIHRoaXMgaXMgZXhhY3RseSBvbmUuIE90aGVyd2lzZSwgdGhpcyBhY3RzIGFzIGEgY29ycmVjdGlvbiBmYWN0b3IgZm9yIHRoZSBxdWF0ZXJuaW9uJ3Mgbm90LW5vcm1hbGl6ZWRuZXNzXG4gICAgICAgIGNvbnN0IHVuaXQgPSBxLnggKiBxLnggKyBxLnkgKiBxLnkgKyBxLnogKiBxLnogKyBxLncgKiBxLnc7XG4gICAgICAgIC8vIHEgd2lsbCBoYXZlIGEgbWFnbml0dWRlIG9mIDAuNSBvciBncmVhdGVyIGlmIGFuZCBvbmx5IGlmIHEgaXMgYSBzaW5ndWxhcml0eSBjYXNlXG4gICAgICAgIGNvbnN0IHRlc3QgPSBxLnggKiBxLncgLSBxLnkgKiBxLno7XG4gICAgICAgIGlmICh0ZXN0ID4gMC40OTk1ICogdW5pdCkge1xuICAgICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgbm9ydGggcG9sZVxuICAgICAgICAgICAgb3V0LnggPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgICAgIG91dC55ID0gMiAqIE1hdGguYXRhbjIocS55LCBxLngpO1xuICAgICAgICAgICAgb3V0LnogPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRlc3QgPCAtMC40OTk1ICogdW5pdCkge1xuICAgICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgc291dGggcG9sZVxuICAgICAgICAgICAgb3V0LnggPSAtTWF0aC5QSSAvIDI7XG4gICAgICAgICAgICBvdXQueSA9IC0yICogTWF0aC5hdGFuMihxLnksIHEueCk7XG4gICAgICAgICAgICBvdXQueiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBubyBzaW5ndWxhcml0eSAtIHEgaXMgdGhlIG1ham9yaXR5IG9mIGNhc2VzXG4gICAgICAgICAgICBvdXQueCA9IE1hdGguYXNpbigyICogKHEudyAqIHEueCAtIHEueSAqIHEueikpO1xuICAgICAgICAgICAgb3V0LnkgPSBNYXRoLmF0YW4yKDIgKiBxLncgKiBxLnkgKyAyICogcS56ICogcS54LCAxIC0gMiAqIChxLnggKiBxLnggKyBxLnkgKiBxLnkpKTtcbiAgICAgICAgICAgIG91dC56ID0gTWF0aC5hdGFuMigyICogcS53ICogcS56ICsgMiAqIHEueCAqIHEueSwgMSAtIDIgKiAocS56ICogcS56ICsgcS54ICogcS54KSk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0LnggKj0gUkFEMkRFRztcbiAgICAgICAgb3V0LnkgKj0gUkFEMkRFRztcbiAgICAgICAgb3V0LnogKj0gUkFEMkRFRztcbiAgICAgICAgLy8gZW5zdXJlIHRoZSBkZWdyZWUgdmFsdWVzIGFyZSBiZXR3ZWVuIDAgYW5kIDM2MFxuICAgICAgICBvdXQueCA9IFNjYWxhci5yZXBlYXQob3V0LngsIDM2MCk7XG4gICAgICAgIG91dC55ID0gU2NhbGFyLnJlcGVhdChvdXQueSwgMzYwKTtcbiAgICAgICAgb3V0LnogPSBTY2FsYXIucmVwZWF0KG91dC56LCAzNjApO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXMgPSB0b0V1bGVyQW5nbGVzO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcm90YXRpb24gZnJvbSB0aGUgZ2l2ZW4gRXVsZXIgZmxvYXQgYW5nbGVzICh5LCB4LCB6KSBhbmQgc3RvcmVzIGl0IGluIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSB5YXcgLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBhcm91bmQgWSBheGlzIChyYWRpYW5zKVxuICAgICAqIEBwYXJhbSBwaXRjaCAtIGRlZmluZXMgdGhlIHJvdGF0aW9uIGFyb3VuZCBYIGF4aXMgKHJhZGlhbnMpXG4gICAgICogQHBhcmFtIHJvbGwgLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBhcm91bmQgWiBheGlzIChyYWRpYW5zKVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHlhdywgcGl0Y2gsIHJvbGwsIHJlc3VsdCkge1xuICAgICAgICAvLyBJbXBsZW1lbnRlZCB1bml0eS1iYXNlZCBjYWxjdWxhdGlvbnMgZnJvbTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzU2MDU1ODEzXG4gICAgICAgIGNvbnN0IGhhbGZQaXRjaCA9IHBpdGNoICogMC41O1xuICAgICAgICBjb25zdCBoYWxmWWF3ID0geWF3ICogMC41O1xuICAgICAgICBjb25zdCBoYWxmUm9sbCA9IHJvbGwgKiAwLjU7XG4gICAgICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoaGFsZlBpdGNoKTtcbiAgICAgICAgY29uc3QgYzIgPSBNYXRoLmNvcyhoYWxmWWF3KTtcbiAgICAgICAgY29uc3QgYzMgPSBNYXRoLmNvcyhoYWxmUm9sbCk7XG4gICAgICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oaGFsZlBpdGNoKTtcbiAgICAgICAgY29uc3QgczIgPSBNYXRoLnNpbihoYWxmWWF3KTtcbiAgICAgICAgY29uc3QgczMgPSBNYXRoLnNpbihoYWxmUm9sbCk7XG4gICAgICAgIHJlc3VsdC54ID0gYzIgKiBzMSAqIGMzICsgczIgKiBjMSAqIHMzO1xuICAgICAgICByZXN1bHQueSA9IHMyICogYzEgKiBjMyAtIGMyICogczEgKiBzMztcbiAgICAgICAgcmVzdWx0LnogPSBjMiAqIGMxICogczMgLSBzMiAqIHMxICogYzM7XG4gICAgICAgIHJlc3VsdC53ID0gYzIgKiBjMSAqIGMzICsgczIgKiBzMSAqIHMzO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmZyb21Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmID0gZnJvbVJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWY7XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZ2l2ZW4gcXVhdGVybmlvbiB3aXRoIHRoZSBnaXZlbiByb3RhdGlvbiBtYXRyaXggdmFsdWVzXG4gICAgICogQHBhcmFtIG1hdHJpeCAtIGRlZmluZXMgdGhlIHNvdXJjZSBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tUm90YXRpb25NYXRyaXhUb1JlZihtYXRyaXgsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBkYXRhID0gbWF0cml4Ll9tO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgIGNvbnN0IG0xMSA9IGRhdGFbMF0sIG0xMiA9IGRhdGFbNF0sIG0xMyA9IGRhdGFbOF07XG4gICAgICAgIGNvbnN0IG0yMSA9IGRhdGFbMV0sIG0yMiA9IGRhdGFbNV0sIG0yMyA9IGRhdGFbOV07XG4gICAgICAgIGNvbnN0IG0zMSA9IGRhdGFbMl0sIG0zMiA9IGRhdGFbNl0sIG0zMyA9IGRhdGFbMTBdO1xuICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgY29uc3QgdHJhY2UgPSBtMTEgKyBtMjIgKyBtMzM7XG4gICAgICAgIGxldCBzO1xuICAgICAgICBpZiAodHJhY2UgPiAwKSB7XG4gICAgICAgICAgICBzID0gMC41IC8gTWF0aC5zcXJ0KHRyYWNlICsgMS4wKTtcbiAgICAgICAgICAgIHJlc3VsdC53ID0gMC4yNSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueCA9IChtMzIgLSBtMjMpICogcztcbiAgICAgICAgICAgIHJlc3VsdC55ID0gKG0xMyAtIG0zMSkgKiBzO1xuICAgICAgICAgICAgcmVzdWx0LnogPSAobTIxIC0gbTEyKSAqIHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobTExID4gbTIyICYmIG0xMSA+IG0zMykge1xuICAgICAgICAgICAgcyA9IDIuMCAqIE1hdGguc3FydCgxLjAgKyBtMTEgLSBtMjIgLSBtMzMpO1xuICAgICAgICAgICAgcmVzdWx0LncgPSAobTMyIC0gbTIzKSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueCA9IDAuMjUgKiBzO1xuICAgICAgICAgICAgcmVzdWx0LnkgPSAobTEyICsgbTIxKSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueiA9IChtMTMgKyBtMzEpIC8gcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtMjIgPiBtMzMpIHtcbiAgICAgICAgICAgIHMgPSAyLjAgKiBNYXRoLnNxcnQoMS4wICsgbTIyIC0gbTExIC0gbTMzKTtcbiAgICAgICAgICAgIHJlc3VsdC53ID0gKG0xMyAtIG0zMSkgLyBzO1xuICAgICAgICAgICAgcmVzdWx0LnggPSAobTEyICsgbTIxKSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueSA9IDAuMjUgKiBzO1xuICAgICAgICAgICAgcmVzdWx0LnogPSAobTIzICsgbTMyKSAvIHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzID0gMi4wICogTWF0aC5zcXJ0KDEuMCArIG0zMyAtIG0xMSAtIG0yMik7XG4gICAgICAgICAgICByZXN1bHQudyA9IChtMjEgLSBtMTIpIC8gcztcbiAgICAgICAgICAgIHJlc3VsdC54ID0gKG0xMyArIG0zMSkgLyBzO1xuICAgICAgICAgICAgcmVzdWx0LnkgPSAobTIzICsgbTMyKSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueiA9IDAuMjUgKiBzO1xuICAgICAgICB9XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4VG9SZWYgPSBmcm9tUm90YXRpb25NYXRyaXhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBJbnRlcnBvbGF0ZXMgYmV0d2VlbiB0d28gcXVhdGVybmlvbnNcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgZmlyc3QgcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgc2Vjb25kIHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgdG8gdXNlXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBpbnRlcnBvbGF0ZWQgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNsZXJwKGxlZnQsIHJpZ2h0LCBhbW91bnQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gUXVhdGVybmlvbi5JZGVudGl0eSgpO1xuICAgICAgICBRdWF0ZXJuaW9uLnNsZXJwVG9SZWYobGVmdCwgcmlnaHQsIGFtb3VudCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5zbGVycCA9IHNsZXJwO1xuICAgIC8qKlxuICAgICAqIEludGVycG9sYXRlcyBiZXR3ZWVuIHR3byBxdWF0ZXJuaW9ucyBhbmQgc3RvcmVzIGl0IGludG8gYSB0YXJnZXQgcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyBmaXJzdCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyBzZWNvbmQgcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSBhbW91bnQgLSBkZWZpbmVzIHRoZSBncmFkaWVudCB0byB1c2VcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGVycFRvUmVmKGxlZnQsIHJpZ2h0LCBhbW91bnQsIHJlc3VsdCkge1xuICAgICAgICBsZXQgbnVtMjtcbiAgICAgICAgbGV0IG51bTM7XG4gICAgICAgIGxldCBudW00ID0gbGVmdC54ICogcmlnaHQueCArIGxlZnQueSAqIHJpZ2h0LnkgKyBsZWZ0LnogKiByaWdodC56ICsgbGVmdC53ICogcmlnaHQudztcbiAgICAgICAgbGV0IGZsYWcgPSBmYWxzZTtcbiAgICAgICAgaWYgKG51bTQgPCAwKSB7XG4gICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIG51bTQgPSAtbnVtNDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtNCA+IDAuOTk5OTk5KSB7XG4gICAgICAgICAgICBudW0zID0gMSAtIGFtb3VudDtcbiAgICAgICAgICAgIG51bTIgPSBmbGFnID8gLWFtb3VudCA6IGFtb3VudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG51bTUgPSBNYXRoLmFjb3MobnVtNCk7XG4gICAgICAgICAgICBjb25zdCBudW02ID0gMS4wIC8gTWF0aC5zaW4obnVtNSk7XG4gICAgICAgICAgICBudW0zID0gTWF0aC5zaW4oKDEuMCAtIGFtb3VudCkgKiBudW01KSAqIG51bTY7XG4gICAgICAgICAgICBudW0yID0gZmxhZ1xuICAgICAgICAgICAgICAgID8gLU1hdGguc2luKGFtb3VudCAqIG51bTUpICogbnVtNlxuICAgICAgICAgICAgICAgIDogTWF0aC5zaW4oYW1vdW50ICogbnVtNSkgKiBudW02O1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC54ID0gbnVtMyAqIGxlZnQueCArIG51bTIgKiByaWdodC54O1xuICAgICAgICByZXN1bHQueSA9IG51bTMgKiBsZWZ0LnkgKyBudW0yICogcmlnaHQueTtcbiAgICAgICAgcmVzdWx0LnogPSBudW0zICogbGVmdC56ICsgbnVtMiAqIHJpZ2h0Lno7XG4gICAgICAgIHJlc3VsdC53ID0gbnVtMyAqIGxlZnQudyArIG51bTIgKiByaWdodC53O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLnNsZXJwVG9SZWYgPSBzbGVycFRvUmVmO1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdHdvIHF1YXRlcm5pb25zXG4gICAgICogQHBhcmFtIHNlbGYgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHExIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBxdWF0ZXJuaW9uIHNldCBhcyB0aGUgbXVsdGlwbGljYXRpb24gcmVzdWx0IG9mIHRoZSBzZWxmIG9uZSB3aXRoIHRoZSBnaXZlbiBvbmUgXCJxMVwiXG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHkoc2VsZiwgcTEpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKDAsIDAsIDAsIDEuMCk7XG4gICAgICAgIG11bHRpcGx5VG9SZWYoc2VsZiwgcTEsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFF1YXRlcm5pb24ubXVsdGlwbHkgPSBtdWx0aXBseTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiBcInJlc3VsdFwiIGFzIHRoZSB0aGUgbXVsdGlwbGljYXRpb24gcmVzdWx0IG9mIHRoZSBzZWxmIG9uZSB3aXRoIHRoZSBnaXZlbiBvbmUgXCJxMVwiXG4gICAgICogQHBhcmFtIHNlbGYgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHExIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBxdWF0ZXJuaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlUb1JlZihzZWxmLCBxMSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gc2VsZi54ICogcTEudyArIHNlbGYueSAqIHExLnogLSBzZWxmLnogKiBxMS55ICsgc2VsZi53ICogcTEueDtcbiAgICAgICAgcmVzdWx0LnkgPSAtc2VsZi54ICogcTEueiArIHNlbGYueSAqIHExLncgKyBzZWxmLnogKiBxMS54ICsgc2VsZi53ICogcTEueTtcbiAgICAgICAgcmVzdWx0LnogPSBzZWxmLnggKiBxMS55IC0gc2VsZi55ICogcTEueCArIHNlbGYueiAqIHExLncgKyBzZWxmLncgKiBxMS56O1xuICAgICAgICByZXN1bHQudyA9IC1zZWxmLnggKiBxMS54IC0gc2VsZi55ICogcTEueSAtIHNlbGYueiAqIHExLnogKyBzZWxmLncgKiBxMS53O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLm11bHRpcGx5VG9SZWYgPSBtdWx0aXBseVRvUmVmO1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGRlZ3JlZXMgLSB0aGUgYW5nbGUgZGVncmVlc1xuICAgICAqIEBwYXJhbSBheGlzIC0gdmVjdG9yM1xuICAgICAqIEByZXR1cm5zIGEgbmV3IFF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQW5nbGVBeGlzKGRlZ3JlZXMsIGF4aXMpIHtcbiAgICAgICAgaWYgKFZlY3RvcjMubGVuZ3RoU3F1YXJlZChheGlzKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFF1YXRlcm5pb24uSWRlbnRpdHkoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBJZGVudGl0eSgpO1xuICAgICAgICBsZXQgcmFkaWFucyA9IGRlZ3JlZXMgKiBERUcyUkFEO1xuICAgICAgICByYWRpYW5zICo9IDAuNTtcbiAgICAgICAgY29uc3QgYTIgPSBWZWN0b3IzLm5vcm1hbGl6ZShheGlzKTtcbiAgICAgICAgVmVjdG9yMy5zY2FsZVRvUmVmKGEyLCBNYXRoLnNpbihyYWRpYW5zKSwgYTIpO1xuICAgICAgICByZXN1bHQueCA9IGEyLng7XG4gICAgICAgIHJlc3VsdC55ID0gYTIueTtcbiAgICAgICAgcmVzdWx0LnogPSBhMi56O1xuICAgICAgICByZXN1bHQudyA9IE1hdGguY29zKHJhZGlhbnMpO1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplKHJlc3VsdCk7XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZnJvbUFuZ2xlQXhpcyA9IGZyb21BbmdsZUF4aXM7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBxdWF0ZXJuaW9uIGNvbnRhaW5pbmcgdGhlIHJvdGF0aW9uIHZhbHVlIHRvIHJlYWNoIHRoZSB0YXJnZXQgKGF4aXMxLCBheGlzMiwgYXhpczMpIG9yaWVudGF0aW9uIGFzIGEgcm90YXRlZCBYWVogc3lzdGVtIChheGlzMSwgYXhpczIgYW5kIGF4aXMzIGFyZSBub3JtYWxpemVkIGR1cmluZyB0aGlzIG9wZXJhdGlvbilcbiAgICAgKiBAcGFyYW0gYXhpczEgLSBkZWZpbmVzIHRoZSBmaXJzdCBheGlzXG4gICAgICogQHBhcmFtIGF4aXMyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIGF4aXNcbiAgICAgKiBAcGFyYW0gYXhpczMgLSBkZWZpbmVzIHRoZSB0aGlyZCBheGlzXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBxdWF0ZXJuaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUF4aXNUb1JvdGF0aW9uUXVhdGVybmlvbihheGlzMSwgYXhpczIsIGF4aXMzKSB7XG4gICAgICAgIGNvbnN0IHF1YXQgPSBRdWF0ZXJuaW9uLmNyZWF0ZSgwLjAsIDAuMCwgMC4wLCAwLjApO1xuICAgICAgICBmcm9tQXhpc1RvUm90YXRpb25RdWF0ZXJuaW9uVG9SZWYoYXhpczEsIGF4aXMyLCBheGlzMywgcXVhdCk7XG4gICAgICAgIHJldHVybiBxdWF0O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmZyb21BeGlzVG9Sb3RhdGlvblF1YXRlcm5pb24gPSBmcm9tQXhpc1RvUm90YXRpb25RdWF0ZXJuaW9uO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByb3RhdGlvbiB2YWx1ZSB0byByZWFjaCB0aGUgdGFyZ2V0IChheGlzMSwgYXhpczIsIGF4aXMzKSBvcmllbnRhdGlvbiBhcyBhIHJvdGF0ZWQgWFlaIHN5c3RlbSAoYXhpczEsIGF4aXMyIGFuZCBheGlzMyBhcmUgbm9ybWFsaXplZCBkdXJpbmcgdGhpcyBvcGVyYXRpb24pIGFuZCBzdG9yZXMgaXQgaW4gdGhlIHRhcmdldCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIGF4aXMxIC0gZGVmaW5lcyB0aGUgZmlyc3QgYXhpc1xuICAgICAqIEBwYXJhbSBheGlzMiAtIGRlZmluZXMgdGhlIHNlY29uZCBheGlzXG4gICAgICogQHBhcmFtIGF4aXMzIC0gZGVmaW5lcyB0aGUgdGhpcmQgYXhpc1xuICAgICAqIEBwYXJhbSByZWYgLSBkZWZpbmVzIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21BeGlzVG9Sb3RhdGlvblF1YXRlcm5pb25Ub1JlZihheGlzMSwgYXhpczIsIGF4aXMzLCByZWYpIHtcbiAgICAgICAgY29uc3Qgcm90TWF0ID0gTWF0cml4LmNyZWF0ZSgpO1xuICAgICAgICBNYXRyaXguZnJvbVhZWkF4ZXNUb1JlZihWZWN0b3IzLm5vcm1hbGl6ZShheGlzMSksIFZlY3RvcjMubm9ybWFsaXplKGF4aXMyKSwgVmVjdG9yMy5ub3JtYWxpemUoYXhpczMpLCByb3RNYXQpO1xuICAgICAgICBRdWF0ZXJuaW9uLmZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKHJvdE1hdCwgcmVmKTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5mcm9tQXhpc1RvUm90YXRpb25RdWF0ZXJuaW9uVG9SZWYgPSBmcm9tQXhpc1RvUm90YXRpb25RdWF0ZXJuaW9uVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHplcm8gZmlsbGVkIHF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBaZXJvKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAuMCwgMC4wLCAwLjAsIDAuMCk7XG4gICAgfVxuICAgIFF1YXRlcm5pb24uWmVybyA9IFplcm87XG4gICAgLyoqXG4gICAgICogQHB1YmxpY1xuICAgICAqIFJvdGF0ZXMgdGhlIHRyYW5zZm9ybSBzbyB0aGUgZm9yd2FyZCB2ZWN0b3IgcG9pbnRzIGF0IHRhcmdldCdzIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUxvb2tBdChwb3NpdGlvbiwgdGFyZ2V0LCB3b3JsZFVwID0gVmVjdG9yMy5VcCgpKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFF1YXRlcm5pb24uSWRlbnRpdHkoKTtcbiAgICAgICAgZnJvbUxvb2tBdFRvUmVmKHBvc2l0aW9uLCB0YXJnZXQsIHdvcmxkVXAsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZnJvbUxvb2tBdCA9IGZyb21Mb29rQXQ7XG4gICAgLyoqXG4gICAgICogQHB1YmxpY1xuICAgICAqIFJvdGF0ZXMgdGhlIHRyYW5zZm9ybSBzbyB0aGUgZm9yd2FyZCB2ZWN0b3IgcG9pbnRzIGF0IHRhcmdldCdzIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUxvb2tBdFRvUmVmKHBvc2l0aW9uLCB0YXJnZXQsIHdvcmxkVXAgPSBWZWN0b3IzLlVwKCksIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBtID0gTWF0cml4LklkZW50aXR5KCk7XG4gICAgICAgIE1hdHJpeC5sb29rQXRMSFRvUmVmKHBvc2l0aW9uLCB0YXJnZXQsIHdvcmxkVXAsIG0pO1xuICAgICAgICBNYXRyaXguaW52ZXJ0VG9SZWYobSwgbSk7XG4gICAgICAgIFF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4VG9SZWYobSwgcmVzdWx0KTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5mcm9tTG9va0F0VG9SZWYgPSBmcm9tTG9va0F0VG9SZWY7XG59KShRdWF0ZXJuaW9uIHx8IChRdWF0ZXJuaW9uID0ge30pKTtcbiIsICJpbXBvcnQgeyBTY2FsYXIgfSBmcm9tICcuL1NjYWxhcic7XG5pbXBvcnQgeyBUb0xpbmVhclNwYWNlLCBUb0dhbW1hU3BhY2UgfSBmcm9tICcuL3R5cGVzJztcbi8qKlxuICogQHB1YmxpY1xuICogQ29sb3I0IGlzIGEgdHlwZSBhbmQgYSBuYW1lc3BhY2UuXG4gKiBgYGBcbiAqIC8vIFRoZSBuYW1lc3BhY2UgY29udGFpbnMgYWxsIHR5cGVzIGFuZCBmdW5jdGlvbnMgdG8gb3BlcmF0ZXMgd2l0aCBDb2xvcjRcbiAqIENvbG9yNC5hZGQoYmx1ZSwgcmVkKSAvLyBzdW0gY29tcG9uZW50IGJ5IGNvbXBvbmVudCByZXN1bHRpbmcgcGlua1xuICogLy8gVGhlIHR5cGUgQ29sb3I0IGlzIGFuIGFsaWFzIHRvIENvbG9yNC5SZWFkb25seUNvbG9yNFxuICogY29uc3QgcmVhZG9ubHlCbHVlOiBDb2xvcjQgPSBDb2xvcjQuQmx1ZSgpXG4gKiByZWFkb25seUJsdWUuYSA9IDAuMSAvLyB0aGlzIEZBSUxTXG4gKlxuICogLy8gRm9yIG11dGFibGUgdXNhZ2UsIHVzZSBgQ29sb3I0Lk11dGFibGVgXG4gKiBjb25zdCBibHVlOiBDb2xvcjQuTXV0YWJsZSA9IENvbG9yNC5CbHVlKClcbiAqIGJsdWUuYSA9IDAuMSAvLyB0aGlzIFdPUktTXG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBDb2xvcjQ7XG4oZnVuY3Rpb24gKENvbG9yNCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgY3JlYXRlIG11dGFibGUgQ29sb3I0IGZyb20gcmVkLCBncmVlbiwgYmx1ZSB2YWx1ZXMsIGFsbCBiZXR3ZWVuIDAgYW5kIDFcbiAgICAgKiBAcGFyYW0gciAtIGRlZmluZXMgdGhlIHJlZCBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqIEBwYXJhbSBnIC0gZGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMClcbiAgICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgdGhlIGJsdWUgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMClcbiAgICAgKiBAcGFyYW0gYSAtIGRlZmluZXMgdGhlIGFscGhhIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDEpXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIHJlZCBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqL1xuICAgIHIgPSAwLCBcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBncmVlbiBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqL1xuICAgIGcgPSAwLCBcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICovXG4gICAgYiA9IDAsIFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIGFscGhhIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDEpXG4gICAgICovXG4gICAgYSA9IDEpIHtcbiAgICAgICAgcmV0dXJuIHsgciwgZywgYiwgYSB9O1xuICAgIH1cbiAgICBDb2xvcjQuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8vIFN0YXRpY3NcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgQ29sb3I0IGZyb20gdGhlIHN0cmluZyBjb250YWluaW5nIHZhbGlkIGhleGFkZWNpbWFsIHZhbHVlc1xuICAgICAqIEBwYXJhbSBoZXggLSBkZWZpbmVzIGEgc3RyaW5nIGNvbnRhaW5pbmcgdmFsaWQgaGV4YWRlY2ltYWwgdmFsdWVzXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUhleFN0cmluZyhoZXgpIHtcbiAgICAgICAgaWYgKGhleC5zdWJzdHJpbmcoMCwgMSkgIT09ICcjJyB8fCAoaGV4Lmxlbmd0aCAhPT0gNyAmJiBoZXgubGVuZ3RoICE9PSA5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLjAsIDAuMCwgMC4wLCAxLjApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDEsIDMpLCAxNik7XG4gICAgICAgIGNvbnN0IGcgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDMsIDUpLCAxNik7XG4gICAgICAgIGNvbnN0IGIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDUsIDcpLCAxNik7XG4gICAgICAgIGNvbnN0IGFTdHIgPSBoZXguc3Vic3RyaW5nKDcsIDkpO1xuICAgICAgICBjb25zdCBhID0gYVN0ciA/IHBhcnNlSW50KGFTdHIsIDE2KSA6IDI1NTtcbiAgICAgICAgcmV0dXJuIENvbG9yNC5mcm9tSW50cyhyLCBnLCBiLCBhKTtcbiAgICB9XG4gICAgQ29sb3I0LmZyb21IZXhTdHJpbmcgPSBmcm9tSGV4U3RyaW5nO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgY3JlYXRlIG11dGFibGUgQ29sb3I0ICBzZXQgd2l0aCB0aGUgbGluZWFybHkgaW50ZXJwb2xhdGVkIHZhbHVlcyBvZiBcImFtb3VudFwiIGJldHdlZW4gdGhlIGxlZnQgQ29sb3I0IG9iamVjdCBhbmQgdGhlIHJpZ2h0IENvbG9yNCBvYmplY3RcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIHN0YXJ0IHZhbHVlXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgZW5kIHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGZhY3RvclxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxlcnAobGVmdCwgcmlnaHQsIGFtb3VudCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoMC4wLCAwLjAsIDAuMCwgMC4wKTtcbiAgICAgICAgQ29sb3I0LmxlcnBUb1JlZihsZWZ0LCByaWdodCwgYW1vdW50LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBDb2xvcjQubGVycCA9IGxlcnA7XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBnaXZlbiBcInJlc3VsdFwiIHdpdGggdGhlIGxpbmVhcmx5IGludGVycG9sYXRlZCB2YWx1ZXMgb2YgXCJhbW91bnRcIiBiZXR3ZWVuIHRoZSBsZWZ0IENvbG9yNCBvYmplY3QgYW5kIHRoZSByaWdodCBDb2xvcjQgb2JqZWN0XG4gICAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSBzdGFydCB2YWx1ZVxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIGVuZCB2YWx1ZVxuICAgICAqIEBwYXJhbSBhbW91bnQgLSBkZWZpbmVzIHRoZSBncmFkaWVudCBmYWN0b3JcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgQ29sb3I0IG9iamVjdCB3aGVyZSB0byBzdG9yZSBkYXRhXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVycFRvUmVmKGxlZnQsIHJpZ2h0LCBhbW91bnQsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuciA9IGxlZnQuciArIChyaWdodC5yIC0gbGVmdC5yKSAqIGFtb3VudDtcbiAgICAgICAgcmVzdWx0LmcgPSBsZWZ0LmcgKyAocmlnaHQuZyAtIGxlZnQuZykgKiBhbW91bnQ7XG4gICAgICAgIHJlc3VsdC5iID0gbGVmdC5iICsgKHJpZ2h0LmIgLSBsZWZ0LmIpICogYW1vdW50O1xuICAgICAgICByZXN1bHQuYSA9IGxlZnQuYSArIChyaWdodC5hIC0gbGVmdC5hKSAqIGFtb3VudDtcbiAgICB9XG4gICAgQ29sb3I0LmxlcnBUb1JlZiA9IGxlcnBUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3I0IHZhbHVlIGNvbnRhaW5pbmcgYSByZWQgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZWQoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMS4wLCAwLCAwLCAxLjApO1xuICAgIH1cbiAgICBDb2xvcjQuUmVkID0gUmVkO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIGdyZWVuIGNvbG9yXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JlZW4oKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMCwgMS4wLCAwLCAxLjApO1xuICAgIH1cbiAgICBDb2xvcjQuR3JlZW4gPSBHcmVlbjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3I0IHZhbHVlIGNvbnRhaW5pbmcgYSBibHVlIGNvbG9yXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAwLCAxLjAsIDEuMCk7XG4gICAgfVxuICAgIENvbG9yNC5CbHVlID0gQmx1ZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3I0IHZhbHVlIGNvbnRhaW5pbmcgYSBibGFjayBjb2xvclxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJsYWNrKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAsIDAsIDAsIDEpO1xuICAgIH1cbiAgICBDb2xvcjQuQmxhY2sgPSBCbGFjaztcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3I0IHZhbHVlIGNvbnRhaW5pbmcgYSB3aGl0ZSBjb2xvclxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdoaXRlKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDEsIDEsIDEsIDEpO1xuICAgIH1cbiAgICBDb2xvcjQuV2hpdGUgPSBXaGl0ZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3I0IHZhbHVlIGNvbnRhaW5pbmcgYSBwdXJwbGUgY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQdXJwbGUoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC41LCAwLCAwLjUsIDEpO1xuICAgIH1cbiAgICBDb2xvcjQuUHVycGxlID0gUHVycGxlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIG1hZ2VudGEgY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYWdlbnRhKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDEsIDAsIDEsIDEpO1xuICAgIH1cbiAgICBDb2xvcjQuTWFnZW50YSA9IE1hZ2VudGE7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgeWVsbG93IGNvbG9yXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gWWVsbG93KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDEsIDEsIDAsIDEpO1xuICAgIH1cbiAgICBDb2xvcjQuWWVsbG93ID0gWWVsbG93O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIGdyYXkgY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcmF5KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAuNSwgMC41LCAwLjUsIDEuMCk7XG4gICAgfVxuICAgIENvbG9yNC5HcmF5ID0gR3JheTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3I0IHZhbHVlIGNvbnRhaW5pbmcgYSB0ZWFsIGNvbG9yXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gVGVhbCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAxLjAsIDEuMCwgMS4wKTtcbiAgICB9XG4gICAgQ29sb3I0LlRlYWwgPSBUZWFsO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIHRyYW5zcGFyZW50IGNvbG9yXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2xlYXIoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMCwgMCwgMCwgMCk7XG4gICAgfVxuICAgIENvbG9yNC5DbGVhciA9IENsZWFyO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDb2xvcjQgZnJvbSBhIENvbG9yMyBhbmQgYW4gYWxwaGEgdmFsdWVcbiAgICAgKiBAcGFyYW0gY29sb3IzIC0gZGVmaW5lcyB0aGUgc291cmNlIENvbG9yMyB0byByZWFkIGZyb21cbiAgICAgKiBAcGFyYW0gYWxwaGEgLSBkZWZpbmVzIHRoZSBhbHBoYSBjb21wb25lbnQgKDEuMCBieSBkZWZhdWx0KVxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21Db2xvcjMoY29sb3IzLCBhbHBoYSA9IDEuMCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKGNvbG9yMy5yLCBjb2xvcjMuZywgY29sb3IzLmIsIGFscGhhKTtcbiAgICB9XG4gICAgQ29sb3I0LmZyb21Db2xvcjMgPSBmcm9tQ29sb3IzO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDb2xvcjQgZnJvbSB0aGUgc3RhcnRpbmcgaW5kZXggZWxlbWVudCBvZiB0aGUgZ2l2ZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBzb3VyY2UgYXJyYXkgdG8gcmVhZCBmcm9tXG4gICAgICogQHBhcmFtIG9mZnNldCAtIGRlZmluZXMgdGhlIG9mZnNldCBpbiB0aGUgc291cmNlIGFycmF5XG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5LCBvZmZzZXQgPSAwKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoYXJyYXlbb2Zmc2V0XSwgYXJyYXlbb2Zmc2V0ICsgMV0sIGFycmF5W29mZnNldCArIDJdLCBhcnJheVtvZmZzZXQgKyAzXSk7XG4gICAgfVxuICAgIENvbG9yNC5mcm9tQXJyYXkgPSBmcm9tQXJyYXk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBDb2xvcjMgZnJvbSBpbnRlZ2VyIHZhbHVlcyAobGVzcyB0aGFuIDI1NilcbiAgICAgKiBAcGFyYW0gciAtIGRlZmluZXMgdGhlIHJlZCBjb21wb25lbnQgdG8gcmVhZCBmcm9tICh2YWx1ZSBiZXR3ZWVuIDAgYW5kIDI1NSlcbiAgICAgKiBAcGFyYW0gZyAtIGRlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgICAqIEBwYXJhbSBiIC0gZGVmaW5lcyB0aGUgYmx1ZSBjb21wb25lbnQgdG8gcmVhZCBmcm9tICh2YWx1ZSBiZXR3ZWVuIDAgYW5kIDI1NSlcbiAgICAgKiBAcGFyYW0gYSAtIGRlZmluZXMgdGhlIGFscGhhIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgICAqIEByZXR1cm5zIGEgbmV3IENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21JbnRzKHIsIGcsIGIsIGEpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShyIC8gMjU1LjAsIGcgLyAyNTUuMCwgYiAvIDI1NS4wLCBhIC8gMjU1LjApO1xuICAgIH1cbiAgICBDb2xvcjQuZnJvbUludHMgPSBmcm9tSW50cztcbiAgICAvKipcbiAgICAgKiBDaGVjayB0aGUgY29udGVudCBvZiBhIGdpdmVuIGFycmF5IGFuZCBjb252ZXJ0IGl0IHRvIGFuIGFycmF5IGNvbnRhaW5pbmcgUkdCQSBkYXRhXG4gICAgICogSWYgdGhlIG9yaWdpbmFsIGFycmF5IHdhcyBhbHJlYWR5IGNvbnRhaW5pbmcgY291bnQgKiA0IHZhbHVlcyB0aGVuIGl0IGlzIHJldHVybmVkIGRpcmVjdGx5XG4gICAgICogQHBhcmFtIGNvbG9ycyAtIGRlZmluZXMgdGhlIGFycmF5IHRvIGNoZWNrXG4gICAgICogQHBhcmFtIGNvdW50IC0gZGVmaW5lcyB0aGUgbnVtYmVyIG9mIFJHQkEgZGF0YSB0byBleHBlY3RcbiAgICAgKiBAcmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIGNvdW50ICogNCB2YWx1ZXMgKFJHQkEpXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hlY2tDb2xvcnM0KGNvbG9ycywgY291bnQpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgY29sb3IzIHdhcyB1c2VkXG4gICAgICAgIGlmIChjb2xvcnMubGVuZ3RoID09PSBjb3VudCAqIDMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yczQgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjb2xvcnMubGVuZ3RoOyBpbmRleCArPSAzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3SW5kZXggPSAoaW5kZXggLyAzKSAqIDQ7XG4gICAgICAgICAgICAgICAgY29sb3JzNFtuZXdJbmRleF0gPSBjb2xvcnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbG9yczRbbmV3SW5kZXggKyAxXSA9IGNvbG9yc1tpbmRleCArIDFdO1xuICAgICAgICAgICAgICAgIGNvbG9yczRbbmV3SW5kZXggKyAyXSA9IGNvbG9yc1tpbmRleCArIDJdO1xuICAgICAgICAgICAgICAgIGNvbG9yczRbbmV3SW5kZXggKyAzXSA9IDEuMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2xvcnM0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcnM7XG4gICAgfVxuICAgIENvbG9yNC5jaGVja0NvbG9yczQgPSBjaGVja0NvbG9yczQ7XG4gICAgLy8gT3BlcmF0b3JzXG4gICAgLyoqXG4gICAgICogQWRkcyAgdGhlIGdpdmVuIENvbG9yNCB2YWx1ZXMgdG8gdGhlIHJlZiBDb2xvcjQgb2JqZWN0XG4gICAgICogQHBhcmFtIGEgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZWYgLSBkZWZpbmVzIHRoZSByZXN1bHQgcmZlcmVuY2VcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZFRvUmVmKGEsIGIsIHJlZikge1xuICAgICAgICByZWYuciA9IGEuciArIGIucjtcbiAgICAgICAgcmVmLmcgPSBhLmcgKyBiLmc7XG4gICAgICAgIHJlZi5iID0gYS5iICsgYi5iO1xuICAgICAgICByZWYuYSA9IGEuYSArIGIuYTtcbiAgICB9XG4gICAgQ29sb3I0LmFkZFRvUmVmID0gYWRkVG9SZWY7XG4gICAgLyoqXG4gICAgICogU3RvcmVzIGZyb20gdGhlIHN0YXJ0aW5nIGluZGV4IGluIHRoZSBnaXZlbiBhcnJheSB0aGUgQ29sb3I0IHN1Y2Nlc3NpdmUgdmFsdWVzXG4gICAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgYXJyYXkgd2hlcmUgdG8gc3RvcmUgdGhlIHIsZyxiIGNvbXBvbmVudHNcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBkZWZpbmVzIGFuIG9wdGlvbmFsIGluZGV4IGluIHRoZSB0YXJnZXQgYXJyYXkgdG8gZGVmaW5lIHdoZXJlIHRvIHN0YXJ0IHN0b3JpbmcgdmFsdWVzXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgQ29sb3I0IG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUsIGFycmF5LCBpbmRleCA9IDApIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gdmFsdWUucjtcbiAgICAgICAgYXJyYXlbaW5kZXggKyAxXSA9IHZhbHVlLmc7XG4gICAgICAgIGFycmF5W2luZGV4ICsgMl0gPSB2YWx1ZS5iO1xuICAgICAgICBhcnJheVtpbmRleCArIDNdID0gdmFsdWUuYTtcbiAgICB9XG4gICAgQ29sb3I0LnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDb2xvcjQgc2V0IHdpdGggdGhlIGFkZGVkIHZhbHVlcyBvZiB0aGUgY3VycmVudCBDb2xvcjQgYW5kIG9mIHRoZSBnaXZlbiBvbmVcbiAgICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZCh2YWx1ZSwgcmlnaHQpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gQ2xlYXIoKTtcbiAgICAgICAgYWRkVG9SZWYodmFsdWUsIHJpZ2h0LCByZXQpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBDb2xvcjQuYWRkID0gYWRkO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDb2xvcjQgc2V0IHdpdGggdGhlIHN1YnRyYWN0ZWQgdmFsdWVzIG9mIHRoZSBnaXZlbiBvbmUgZnJvbSB0aGUgY3VycmVudCBDb2xvcjRcbiAgICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1YnRyYWN0KHZhbHVlLCByaWdodCkge1xuICAgICAgICBjb25zdCByZXQgPSBDbGVhcigpO1xuICAgICAgICBzdWJ0cmFjdFRvUmVmKHZhbHVlLCByaWdodCwgcmV0KTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgQ29sb3I0LnN1YnRyYWN0ID0gc3VidHJhY3Q7XG4gICAgLyoqXG4gICAgICogU3VidHJhY3RzIHRoZSBnaXZlbiBvbmVzIGZyb20gdGhlIGN1cnJlbnQgQ29sb3I0IHZhbHVlcyBhbmQgc3RvcmVzIHRoZSByZXN1bHRzIGluIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjQgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBDb2xvcjQgb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VidHJhY3RUb1JlZihhLCBiLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnIgPSBhLnIgLSBiLnI7XG4gICAgICAgIHJlc3VsdC5nID0gYS5nIC0gYi5nO1xuICAgICAgICByZXN1bHQuYiA9IGEuYiAtIGIuYjtcbiAgICAgICAgcmVzdWx0LmEgPSBhLmEgLSBiLmE7XG4gICAgfVxuICAgIENvbG9yNC5zdWJ0cmFjdFRvUmVmID0gc3VidHJhY3RUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgQ29sb3I0IHdpdGggdGhlIGN1cnJlbnQgQ29sb3I0IHZhbHVlcyBtdWx0aXBsaWVkIGJ5IHNjYWxlXG4gICAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGluZyBmYWN0b3IgdG8gYXBwbHlcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY2FsZSh2YWx1ZSwgc2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSh2YWx1ZS5yICogc2NhbGUsIHZhbHVlLmcgKiBzY2FsZSwgdmFsdWUuYiAqIHNjYWxlLCB2YWx1ZS5hICogc2NhbGUpO1xuICAgIH1cbiAgICBDb2xvcjQuc2NhbGUgPSBzY2FsZTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHRoZSBjdXJyZW50IENvbG9yNCB2YWx1ZXMgYnkgc2NhbGUgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsaW5nIGZhY3RvciB0byBhcHBseVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjQgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY2FsZVRvUmVmKHZhbHVlLCBzY2FsZSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yID0gdmFsdWUuciAqIHNjYWxlO1xuICAgICAgICByZXN1bHQuZyA9IHZhbHVlLmcgKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LmIgPSB2YWx1ZS5iICogc2NhbGU7XG4gICAgICAgIHJlc3VsdC5hID0gdmFsdWUuYSAqIHNjYWxlO1xuICAgIH1cbiAgICBDb2xvcjQuc2NhbGVUb1JlZiA9IHNjYWxlVG9SZWY7XG4gICAgLyoqXG4gICAgICogU2NhbGUgdGhlIGN1cnJlbnQgQ29sb3I0IHZhbHVlcyBieSBhIGZhY3RvciBhbmQgYWRkIHRoZSByZXN1bHQgdG8gYSBnaXZlbiBDb2xvcjRcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3JcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgQ29sb3I0IG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2NhbGVBbmRBZGRUb1JlZih2YWx1ZSwgc2NhbGUsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuciArPSB2YWx1ZS5yICogc2NhbGU7XG4gICAgICAgIHJlc3VsdC5nICs9IHZhbHVlLmcgKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LmIgKz0gdmFsdWUuYiAqIHNjYWxlO1xuICAgICAgICByZXN1bHQuYSArPSB2YWx1ZS5hICogc2NhbGU7XG4gICAgfVxuICAgIENvbG9yNC5zY2FsZUFuZEFkZFRvUmVmID0gc2NhbGVBbmRBZGRUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDbGFtcHMgdGhlIHJnYiB2YWx1ZXMgYnkgdGhlIG1pbiBhbmQgbWF4IHZhbHVlcyBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW50byBcInJlc3VsdFwiXG4gICAgICogQHBhcmFtIG1pbiAtIGRlZmluZXMgbWluaW11bSBjbGFtcGluZyB2YWx1ZSAoZGVmYXVsdCBpcyAwKVxuICAgICAqIEBwYXJhbSBtYXggLSBkZWZpbmVzIG1heGltdW0gY2xhbXBpbmcgdmFsdWUgKGRlZmF1bHQgaXMgMSlcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyBjb2xvciB0byBzdG9yZSB0aGUgcmVzdWx0IGludG8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXBUb1JlZih2YWx1ZSwgbWluID0gMCwgbWF4ID0gMSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yID0gU2NhbGFyLmNsYW1wKHZhbHVlLnIsIG1pbiwgbWF4KTtcbiAgICAgICAgcmVzdWx0LmcgPSBTY2FsYXIuY2xhbXAodmFsdWUuZywgbWluLCBtYXgpO1xuICAgICAgICByZXN1bHQuYiA9IFNjYWxhci5jbGFtcCh2YWx1ZS5iLCBtaW4sIG1heCk7XG4gICAgICAgIHJlc3VsdC5hID0gU2NhbGFyLmNsYW1wKHZhbHVlLmEsIG1pbiwgbWF4KTtcbiAgICB9XG4gICAgQ29sb3I0LmNsYW1wVG9SZWYgPSBjbGFtcFRvUmVmO1xuICAgIC8qKlxuICAgICAqIE11bHRpcHkgYW4gQ29sb3I0IHZhbHVlIGJ5IGFub3RoZXIgYW5kIHJldHVybiBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKiBAcGFyYW0gY29sb3IgLSBkZWZpbmVzIHRoZSBDb2xvcjQgdmFsdWUgdG8gbXVsdGlwbHkgYnlcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtdWx0aXBseSh2YWx1ZSwgY29sb3IpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSh2YWx1ZS5yICogY29sb3IuciwgdmFsdWUuZyAqIGNvbG9yLmcsIHZhbHVlLmIgKiBjb2xvci5iLCB2YWx1ZS5hICogY29sb3IuYSk7XG4gICAgfVxuICAgIENvbG9yNC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIC8qKlxuICAgICAqIE11bHRpcHkgYSBDb2xvcjQgdmFsdWUgYnkgYW5vdGhlciBhbmQgcHVzaCB0aGUgcmVzdWx0IGluIGEgcmVmZXJlbmNlIHZhbHVlXG4gICAgICogQHBhcmFtIGNvbG9yIC0gZGVmaW5lcyB0aGUgQ29sb3I0IHZhbHVlIHRvIG11bHRpcGx5IGJ5XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIENvbG9yNCB0byBmaWxsIHRoZSByZXN1bHQgaW5cbiAgICAgKiBAcmV0dXJucyB0aGUgcmVzdWx0IENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5VG9SZWYodmFsdWUsIGNvbG9yLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnIgPSB2YWx1ZS5yICogY29sb3IucjtcbiAgICAgICAgcmVzdWx0LmcgPSB2YWx1ZS5nICogY29sb3IuZztcbiAgICAgICAgcmVzdWx0LmIgPSB2YWx1ZS5iICogY29sb3IuYjtcbiAgICAgICAgcmVzdWx0LmEgPSB2YWx1ZS5hICogY29sb3IuYTtcbiAgICB9XG4gICAgQ29sb3I0Lm11bHRpcGx5VG9SZWYgPSBtdWx0aXBseVRvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdHJpbmcgd2l0aCB0aGUgQ29sb3I0IGN1cnJlbnQgdmFsdWVzXG4gICAgICogQHJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgQ29sb3I0IG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAoJ3tSOiAnICtcbiAgICAgICAgICAgIHZhbHVlLnIgK1xuICAgICAgICAgICAgJyBHOicgK1xuICAgICAgICAgICAgdmFsdWUuZyArXG4gICAgICAgICAgICAnIEI6JyArXG4gICAgICAgICAgICB2YWx1ZS5iICtcbiAgICAgICAgICAgICcgQTonICtcbiAgICAgICAgICAgIHZhbHVlLmEgK1xuICAgICAgICAgICAgJ30nKTtcbiAgICB9XG4gICAgQ29sb3I0LnRvU3RyaW5nID0gdG9TdHJpbmc7XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgQ29sb3I0IGhhc2ggY29kZVxuICAgICAqIEByZXR1cm5zIGFuIHVuaXF1ZSBudW1iZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBoYXNoIENvbG9yNCBvYmplY3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SGFzaENvZGUodmFsdWUpIHtcbiAgICAgICAgbGV0IGhhc2ggPSB2YWx1ZS5yIHx8IDA7XG4gICAgICAgIGhhc2ggPSAoaGFzaCAqIDM5NykgXiAodmFsdWUuZyB8fCAwKTtcbiAgICAgICAgaGFzaCA9IChoYXNoICogMzk3KSBeICh2YWx1ZS5iIHx8IDApO1xuICAgICAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHZhbHVlLmEgfHwgMCk7XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cbiAgICBDb2xvcjQuZ2V0SGFzaENvZGUgPSBnZXRIYXNoQ29kZTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgQ29sb3I0IGNvcGllZCBmcm9tIHRoZSBjdXJyZW50IG9uZVxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUodmFsdWUuciwgdmFsdWUuZywgdmFsdWUuYiwgdmFsdWUuYSk7XG4gICAgfVxuICAgIENvbG9yNC5jbG9uZSA9IGNsb25lO1xuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgZ2l2ZW4gQ29sb3I0IHZhbHVlcyBpbnRvIHRoZSBkZXN0aW5hdGlvblxuICAgICAqIEBwYXJhbSBzb3VyY2UgLSBkZWZpbmVzIHRoZSBzb3VyY2UgQ29sb3I0IG9iamVjdFxuICAgICAqIEBwYXJhbSBkZXN0IC0gZGVmaW5lcyB0aGUgZGVzdGluYXRpb24gQ29sb3I0IG9iamVjdFxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weUZyb20oc291cmNlLCBkZXN0KSB7XG4gICAgICAgIGRlc3QuciA9IHNvdXJjZS5yO1xuICAgICAgICBkZXN0LmcgPSBzb3VyY2UuZztcbiAgICAgICAgZGVzdC5iID0gc291cmNlLmI7XG4gICAgICAgIGRlc3QuYSA9IHNvdXJjZS5hO1xuICAgIH1cbiAgICBDb2xvcjQuY29weUZyb20gPSBjb3B5RnJvbTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIGdpdmVuIGZsb2F0IHZhbHVlcyBpbnRvIHRoZSBjdXJyZW50IG9uZVxuICAgICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICAgKiBAcGFyYW0gZyAtIGRlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgdGhlIGJsdWUgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBhIC0gZGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgQ29sb3I0IG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlGcm9tRmxvYXRzKHIsIGcsIGIsIGEsIGRlc3QpIHtcbiAgICAgICAgZGVzdC5yID0gcjtcbiAgICAgICAgZGVzdC5nID0gZztcbiAgICAgICAgZGVzdC5iID0gYjtcbiAgICAgICAgZGVzdC5hID0gYTtcbiAgICB9XG4gICAgQ29sb3I0LmNvcHlGcm9tRmxvYXRzID0gY29weUZyb21GbG9hdHM7XG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoZSBnaXZlbiBmbG9hdCB2YWx1ZXMgaW50byB0aGUgY3VycmVudCBvbmVcbiAgICAgKiBAcGFyYW0gciAtIGRlZmluZXMgdGhlIHJlZCBjb21wb25lbnQgdG8gcmVhZCBmcm9tXG4gICAgICogQHBhcmFtIGcgLSBkZWZpbmVzIHRoZSBncmVlbiBjb21wb25lbnQgdG8gcmVhZCBmcm9tXG4gICAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICAgKiBAcGFyYW0gYSAtIGRlZmluZXMgdGhlIGFscGhhIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIENvbG9yNCBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXQociwgZywgYiwgYSwgZGVzdCkge1xuICAgICAgICBkZXN0LnIgPSByO1xuICAgICAgICBkZXN0LmcgPSBnO1xuICAgICAgICBkZXN0LmIgPSBiO1xuICAgICAgICBkZXN0LmEgPSBhO1xuICAgIH1cbiAgICBDb2xvcjQuc2V0ID0gc2V0O1xuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIENvbG9yNCBoZXhhZGVjaW1hbCBjb2RlIGFzIGEgc3RyaW5nXG4gICAgICogQHJldHVybnMgYSBzdHJpbmcgY29udGFpbmluZyB0aGUgaGV4YWRlY2ltYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIENvbG9yNCBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0hleFN0cmluZyh2YWx1ZSkge1xuICAgICAgICBjb25zdCBpbnRSID0gKHZhbHVlLnIgKiAyNTUpIHwgMDtcbiAgICAgICAgY29uc3QgaW50RyA9ICh2YWx1ZS5nICogMjU1KSB8IDA7XG4gICAgICAgIGNvbnN0IGludEIgPSAodmFsdWUuYiAqIDI1NSkgfCAwO1xuICAgICAgICBjb25zdCBpbnRBID0gKHZhbHVlLmEgKiAyNTUpIHwgMDtcbiAgICAgICAgcmV0dXJuICgnIycgK1xuICAgICAgICAgICAgU2NhbGFyLnRvSGV4KGludFIpICtcbiAgICAgICAgICAgIFNjYWxhci50b0hleChpbnRHKSArXG4gICAgICAgICAgICBTY2FsYXIudG9IZXgoaW50QikgK1xuICAgICAgICAgICAgU2NhbGFyLnRvSGV4KGludEEpKTtcbiAgICB9XG4gICAgQ29sb3I0LnRvSGV4U3RyaW5nID0gdG9IZXhTdHJpbmc7XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYSBDb2xvcjQgY29udmVydGVkIGZyb20gdGhlIGN1cnJlbnQgb25lIHRvIGxpbmVhciBzcGFjZVxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGluZWFyU3BhY2UodmFsdWUpIHtcbiAgICAgICAgY29uc3QgY29udmVydGVkQ29sb3IgPSBjcmVhdGUoKTtcbiAgICAgICAgdG9MaW5lYXJTcGFjZVRvUmVmKHZhbHVlLCBjb252ZXJ0ZWRDb2xvcik7XG4gICAgICAgIHJldHVybiBjb252ZXJ0ZWRDb2xvcjtcbiAgICB9XG4gICAgQ29sb3I0LnRvTGluZWFyU3BhY2UgPSB0b0xpbmVhclNwYWNlO1xuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBDb2xvcjQgdmFsdWVzIHRvIGxpbmVhciBzcGFjZSBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW4gXCJjb252ZXJ0ZWRDb2xvclwiXG4gICAgICogQHBhcmFtIGNvbnZlcnRlZENvbG9yIC0gZGVmaW5lcyB0aGUgQ29sb3I0IG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgbGluZWFyIHNwYWNlIHZlcnNpb25cbiAgICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xpbmVhclNwYWNlVG9SZWYodmFsdWUsIHJlZikge1xuICAgICAgICByZWYuciA9IE1hdGgucG93KHZhbHVlLnIsIFRvTGluZWFyU3BhY2UpO1xuICAgICAgICByZWYuZyA9IE1hdGgucG93KHZhbHVlLmcsIFRvTGluZWFyU3BhY2UpO1xuICAgICAgICByZWYuYiA9IE1hdGgucG93KHZhbHVlLmIsIFRvTGluZWFyU3BhY2UpO1xuICAgICAgICByZWYuYSA9IHZhbHVlLmE7XG4gICAgfVxuICAgIENvbG9yNC50b0xpbmVhclNwYWNlVG9SZWYgPSB0b0xpbmVhclNwYWNlVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYSBDb2xvcjQgY29udmVydGVkIGZyb20gdGhlIGN1cnJlbnQgb25lIHRvIGdhbW1hIHNwYWNlXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9HYW1tYVNwYWNlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZENvbG9yID0gY3JlYXRlKCk7XG4gICAgICAgIHRvR2FtbWFTcGFjZVRvUmVmKHZhbHVlLCBjb252ZXJ0ZWRDb2xvcik7XG4gICAgICAgIHJldHVybiBjb252ZXJ0ZWRDb2xvcjtcbiAgICB9XG4gICAgQ29sb3I0LnRvR2FtbWFTcGFjZSA9IHRvR2FtbWFTcGFjZTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgQ29sb3I0IHZhbHVlcyB0byBnYW1tYSBzcGFjZSBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW4gXCJjb252ZXJ0ZWRDb2xvclwiXG4gICAgICogQHBhcmFtIGNvbnZlcnRlZENvbG9yIC0gZGVmaW5lcyB0aGUgQ29sb3I0IG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgZ2FtbWEgc3BhY2UgdmVyc2lvblxuICAgICAqIEByZXR1cm5zIHRoZSB1bm1vZGlmaWVkIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvR2FtbWFTcGFjZVRvUmVmKHZhbHVlLCBjb252ZXJ0ZWRDb2xvcikge1xuICAgICAgICBjb252ZXJ0ZWRDb2xvci5yID0gTWF0aC5wb3codmFsdWUuciwgVG9HYW1tYVNwYWNlKTtcbiAgICAgICAgY29udmVydGVkQ29sb3IuZyA9IE1hdGgucG93KHZhbHVlLmcsIFRvR2FtbWFTcGFjZSk7XG4gICAgICAgIGNvbnZlcnRlZENvbG9yLmIgPSBNYXRoLnBvdyh2YWx1ZS5iLCBUb0dhbW1hU3BhY2UpO1xuICAgICAgICBjb252ZXJ0ZWRDb2xvci5hID0gdmFsdWUuYTtcbiAgICB9XG4gICAgQ29sb3I0LnRvR2FtbWFTcGFjZVRvUmVmID0gdG9HYW1tYVNwYWNlVG9SZWY7XG59KShDb2xvcjQgfHwgKENvbG9yNCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgVG9MaW5lYXJTcGFjZSwgVG9HYW1tYVNwYWNlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBDb2xvcjQgfSBmcm9tICcuL0NvbG9yNCc7XG5pbXBvcnQgeyBTY2FsYXIgfSBmcm9tICcuL1NjYWxhcic7XG4vKipcbiAqIEBwdWJsaWNcbiAqIENvbG9yMyBpcyBhIHR5cGUgYW5kIGEgbmFtZXNwYWNlLlxuICogYGBgXG4gKiAvLyBUaGUgbmFtZXNwYWNlIGNvbnRhaW5zIGFsbCB0eXBlcyBhbmQgZnVuY3Rpb25zIHRvIG9wZXJhdGVzIHdpdGggQ29sb3IzXG4gKiBDb2xvcjMuYWRkKGJsdWUsIHJlZCkgLy8gc3VtIGNvbXBvbmVudCBieSBjb21wb25lbnQgcmVzdWx0aW5nIHBpbmtcbiAqIC8vIFRoZSB0eXBlIENvbG9yMyBpcyBhbiBhbGlhcyB0byBDb2xvcjMuUmVhZG9ubHlDb2xvcjNcbiAqIGNvbnN0IHJlYWRvbmx5Qmx1ZTogQ29sb3IzID0gQ29sb3IzLkJsdWUoKVxuICogcmVhZG9ubHlCbHVlLnIgPSAwLjEgLy8gdGhpcyBGQUlMU1xuICpcbiAqIC8vIEZvciBtdXRhYmxlIHVzYWdlLCB1c2UgYENvbG9yMy5NdXRhYmxlYFxuICogY29uc3QgYmx1ZTogQ29sb3IzLk11dGFibGUgPSBDb2xvcjMuQmx1ZSgpXG4gKiBibHVlLnIgPSAwLjEgLy8gdGhpcyBXT1JLU1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgQ29sb3IzO1xuKGZ1bmN0aW9uIChDb2xvcjMpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIENvbG9yMyBvYmplY3QgZnJvbSByZWQsIGdyZWVuLCBibHVlIHZhbHVlcywgYWxsIGJldHdlZW4gMCBhbmQgMVxuICAgICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICogQHBhcmFtIGcgLSBkZWZpbmVzIHRoZSBncmVlbiBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqIEBwYXJhbSBiIC0gZGVmaW5lcyB0aGUgYmx1ZSBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMClcbiAgICAgKi9cbiAgICByID0gMCwgXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMClcbiAgICAgKi9cbiAgICBnID0gMCwgXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgYmx1ZSBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqL1xuICAgIGIgPSAwKSB7XG4gICAgICAgIHJldHVybiB7IHIsIGcsIGIgfTtcbiAgICB9XG4gICAgQ29sb3IzLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgVmVjdG9yMyBmcm9tIHRoZSBzdHJpbmcgY29udGFpbmluZyB2YWxpZCBoZXhhZGVjaW1hbCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gaGV4IC0gZGVmaW5lcyBhIHN0cmluZyBjb250YWluaW5nIHZhbGlkIGhleGFkZWNpbWFsIHZhbHVlc1xuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tSGV4U3RyaW5nKGhleCkge1xuICAgICAgICBpZiAoaGV4LnN1YnN0cmluZygwLCAxKSAhPT0gJyMnIHx8IGhleC5sZW5ndGggIT09IDcpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGUoMCwgMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgciA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMSwgMyksIDE2KTtcbiAgICAgICAgY29uc3QgZyA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMywgNSksIDE2KTtcbiAgICAgICAgY29uc3QgYiA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoNSwgNyksIDE2KTtcbiAgICAgICAgcmV0dXJuIGZyb21JbnRzKHIsIGcsIGIpO1xuICAgIH1cbiAgICBDb2xvcjMuZnJvbUhleFN0cmluZyA9IGZyb21IZXhTdHJpbmc7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBWZWN0b3IzIGZyb20gdGhlIHN0YXJ0aW5nIGluZGV4IG9mIHRoZSBnaXZlbiBhcnJheVxuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIGFuIG9mZnNldCBpbiB0aGUgc291cmNlIGFycmF5XG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21BcnJheShhcnJheSwgb2Zmc2V0ID0gMCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKGFycmF5W29mZnNldF0sIGFycmF5W29mZnNldCArIDFdLCBhcnJheVtvZmZzZXQgKyAyXSk7XG4gICAgfVxuICAgIENvbG9yMy5mcm9tQXJyYXkgPSBmcm9tQXJyYXk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFZlY3RvcjMgZnJvbSBpbnRlZ2VyIHZhbHVlcyAobGVzcyB0aGFuIDI1NilcbiAgICAgKiBAcGFyYW0gciAtIGRlZmluZXMgdGhlIHJlZCBjb21wb25lbnQgdG8gcmVhZCBmcm9tICh2YWx1ZSBiZXR3ZWVuIDAgYW5kIDI1NSlcbiAgICAgKiBAcGFyYW0gZyAtIGRlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgICAqIEBwYXJhbSBiIC0gZGVmaW5lcyB0aGUgYmx1ZSBjb21wb25lbnQgdG8gcmVhZCBmcm9tICh2YWx1ZSBiZXR3ZWVuIDAgYW5kIDI1NSlcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUludHMociwgZywgYikge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHIgLyAyNTUuMCwgZyAvIDI1NS4wLCBiIC8gMjU1LjApO1xuICAgIH1cbiAgICBDb2xvcjMuZnJvbUludHMgPSBmcm9tSW50cztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgVmVjdG9yMyB3aXRoIHZhbHVlcyBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgb2YgXCJhbW91bnRcIiBiZXR3ZWVuIHRoZSBzdGFydCBDb2xvcjMgYW5kIHRoZSBlbmQgQ29sb3IzXG4gICAgICogQHBhcmFtIHN0YXJ0IC0gZGVmaW5lcyB0aGUgc3RhcnQgQ29sb3IzIHZhbHVlXG4gICAgICogQHBhcmFtIGVuZCAtIGRlZmluZXMgdGhlIGVuZCBDb2xvcjMgdmFsdWVcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgdmFsdWUgYmV0d2VlbiBzdGFydCBhbmQgZW5kXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxlcnAoc3RhcnQsIGVuZCwgYW1vdW50KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgwLjAsIDAuMCwgMC4wKTtcbiAgICAgICAgQ29sb3IzLmxlcnBUb1JlZihzdGFydCwgZW5kLCBhbW91bnQsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIENvbG9yMy5sZXJwID0gbGVycDtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgVmVjdG9yMyB3aXRoIHZhbHVlcyBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgb2YgXCJhbW91bnRcIiBiZXR3ZWVuIHRoZSBzdGFydCBDb2xvcjMgYW5kIHRoZSBlbmQgQ29sb3IzXG4gICAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSBzdGFydCB2YWx1ZVxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIGVuZCB2YWx1ZVxuICAgICAqIEBwYXJhbSBhbW91bnQgLSBkZWZpbmVzIHRoZSBncmFkaWVudCBmYWN0b3JcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgQ29sb3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVycFRvUmVmKGxlZnQsIHJpZ2h0LCBhbW91bnQsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuciA9IGxlZnQuciArIChyaWdodC5yIC0gbGVmdC5yKSAqIGFtb3VudDtcbiAgICAgICAgcmVzdWx0LmcgPSBsZWZ0LmcgKyAocmlnaHQuZyAtIGxlZnQuZykgKiBhbW91bnQ7XG4gICAgICAgIHJlc3VsdC5iID0gbGVmdC5iICsgKHJpZ2h0LmIgLSBsZWZ0LmIpICogYW1vdW50O1xuICAgIH1cbiAgICBDb2xvcjMubGVycFRvUmVmID0gbGVycFRvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjMgdmFsdWUgY29udGFpbmluZyBhIHJlZCBjb2xvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZWQoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMSwgMCwgMCk7XG4gICAgfVxuICAgIENvbG9yMy5SZWQgPSBSZWQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgZ3JlZW4gY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JlZW4oKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMCwgMSwgMCk7XG4gICAgfVxuICAgIENvbG9yMy5HcmVlbiA9IEdyZWVuO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjMgdmFsdWUgY29udGFpbmluZyBhIGJsdWUgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAwLCAxKTtcbiAgICB9XG4gICAgQ29sb3IzLkJsdWUgPSBCbHVlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjMgdmFsdWUgY29udGFpbmluZyBhIGJsYWNrIGNvbG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJsYWNrKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAsIDAsIDApO1xuICAgIH1cbiAgICBDb2xvcjMuQmxhY2sgPSBCbGFjaztcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSB3aGl0ZSBjb2xvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXaGl0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgxLCAxLCAxKTtcbiAgICB9XG4gICAgQ29sb3IzLldoaXRlID0gV2hpdGU7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgcHVycGxlIGNvbG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFB1cnBsZSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLjUsIDAsIDAuNSk7XG4gICAgfVxuICAgIENvbG9yMy5QdXJwbGUgPSBQdXJwbGU7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgbWFnZW50YSBjb2xvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYWdlbnRhKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDEsIDAsIDEpO1xuICAgIH1cbiAgICBDb2xvcjMuTWFnZW50YSA9IE1hZ2VudGE7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgeWVsbG93IGNvbG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFllbGxvdygpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgxLCAxLCAwKTtcbiAgICB9XG4gICAgQ29sb3IzLlllbGxvdyA9IFllbGxvdztcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSBncmF5IGNvbG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdyYXkoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC41LCAwLjUsIDAuNSk7XG4gICAgfVxuICAgIENvbG9yMy5HcmF5ID0gR3JheTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSB0ZWFsIGNvbG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRlYWwoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMCwgMS4wLCAxLjApO1xuICAgIH1cbiAgICBDb2xvcjMuVGVhbCA9IFRlYWw7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgcmFuZG9tIGNvbG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJhbmRvbSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpKTtcbiAgICB9XG4gICAgQ29sb3IzLlJhbmRvbSA9IFJhbmRvbTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc3RyaW5nIHdpdGggdGhlIENvbG9yMyBjdXJyZW50IHZhbHVlc1xuICAgICAqIEByZXR1cm5zIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIENvbG9yMyBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gJ3tSOiAnICsgdmFsdWUuciArICcgRzonICsgdmFsdWUuZyArICcgQjonICsgdmFsdWUuYiArICd9JztcbiAgICB9XG4gICAgQ29sb3IzLnRvU3RyaW5nID0gdG9TdHJpbmc7XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgQ29sb3IzIGhhc2ggY29kZVxuICAgICAqIEByZXR1cm5zIGFuIHVuaXF1ZSBudW1iZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBoYXNoIENvbG9yMyBvYmplY3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SGFzaENvZGUodmFsdWUpIHtcbiAgICAgICAgbGV0IGhhc2ggPSB2YWx1ZS5yIHx8IDA7XG4gICAgICAgIGhhc2ggPSAoaGFzaCAqIDM5NykgXiAodmFsdWUuZyB8fCAwKTtcbiAgICAgICAgaGFzaCA9IChoYXNoICogMzk3KSBeICh2YWx1ZS5iIHx8IDApO1xuICAgICAgICByZXR1cm4gaGFzaDtcbiAgICB9XG4gICAgQ29sb3IzLmdldEhhc2hDb2RlID0gZ2V0SGFzaENvZGU7XG4gICAgLy8gT3BlcmF0b3JzXG4gICAgLyoqXG4gICAgICogU3RvcmVzIGluIHRoZSBnaXZlbiBhcnJheSBmcm9tIHRoZSBnaXZlbiBzdGFydGluZyBpbmRleCB0aGUgcmVkLCBncmVlbiwgYmx1ZSB2YWx1ZXMgYXMgc3VjY2Vzc2l2ZSBlbGVtZW50c1xuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIGFycmF5IHdoZXJlIHRvIHN0b3JlIHRoZSByLGcsYiBjb21wb25lbnRzXG4gICAgICogQHBhcmFtIGluZGV4IC0gZGVmaW5lcyBhbiBvcHRpb25hbCBpbmRleCBpbiB0aGUgdGFyZ2V0IGFycmF5IHRvIGRlZmluZSB3aGVyZSB0byBzdGFydCBzdG9yaW5nIHZhbHVlc1xuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSwgYXJyYXksIGluZGV4ID0gMCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZS5yO1xuICAgICAgICBhcnJheVtpbmRleCArIDFdID0gdmFsdWUuZztcbiAgICAgICAgYXJyYXlbaW5kZXggKyAyXSA9IHZhbHVlLmI7XG4gICAgfVxuICAgIENvbG9yMy50b0FycmF5ID0gdG9BcnJheTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IENvbG9yNCBvYmplY3QgZnJvbSB0aGUgY3VycmVudCBDb2xvcjMgYW5kIHRoZSBnaXZlbiBhbHBoYVxuICAgICAqIEBwYXJhbSBhbHBoYSAtIGRlZmluZXMgdGhlIGFscGhhIGNvbXBvbmVudCBvbiB0aGUgbmV3IENvbG9yNCBvYmplY3QgKGRlZmF1bHQgaXMgMSlcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBDb2xvcjQgb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Db2xvcjQodmFsdWUsIGFscGhhID0gMSkge1xuICAgICAgICByZXR1cm4gQ29sb3I0LmNyZWF0ZSh2YWx1ZS5yLCB2YWx1ZS5nLCB2YWx1ZS5iLCBhbHBoYSk7XG4gICAgfVxuICAgIENvbG9yMy50b0NvbG9yNCA9IHRvQ29sb3I0O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgYXJyYXkgcG9wdWxhdGVkIHdpdGggMyBudW1lcmljIGVsZW1lbnRzIDogcmVkLCBncmVlbiBhbmQgYmx1ZSB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IGFycmF5XG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNBcnJheSh2YWx1ZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdG9BcnJheSh2YWx1ZSwgcmVzdWx0LCAwKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgQ29sb3IzLmFzQXJyYXkgPSBhc0FycmF5O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGx1bWluYW5jZSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIGEgZmxvYXQgdmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0x1bWluYW5jZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUuciAqIDAuMyArIHZhbHVlLmcgKiAwLjU5ICsgdmFsdWUuYiAqIDAuMTE7XG4gICAgfVxuICAgIENvbG9yMy50b0x1bWluYW5jZSA9IHRvTHVtaW5hbmNlO1xuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IGVhY2ggQ29sb3IzIHJnYiB2YWx1ZXMgYnkgdGhlIGdpdmVuIENvbG9yMyByZ2IgdmFsdWVzIGluIENvbG9yMyBvYmplY3RcbiAgICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdGhlIGNyZWF0ZSBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtdWx0aXBseSh2YWx1ZSwgb3RoZXJDb2xvcikge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHZhbHVlLnIgKiBvdGhlckNvbG9yLnIsIHZhbHVlLmcgKiBvdGhlckNvbG9yLmcsIHZhbHVlLmIgKiBvdGhlckNvbG9yLmIpO1xuICAgIH1cbiAgICBDb2xvcjMubXVsdGlwbHkgPSBtdWx0aXBseTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGUgcmdiIHZhbHVlcyBvZiB0aGUgQ29sb3IzIGFuZCB0aGUgZ2l2ZW4gQ29sb3IzIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiB0aGUgb2JqZWN0IFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIENvbG9yMyBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5VG9SZWYodmFsdWUsIG90aGVyQ29sb3IsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuciA9IHZhbHVlLnIgKiBvdGhlckNvbG9yLnI7XG4gICAgICAgIHJlc3VsdC5nID0gdmFsdWUuZyAqIG90aGVyQ29sb3IuZztcbiAgICAgICAgcmVzdWx0LmIgPSB2YWx1ZS5iICogb3RoZXJDb2xvci5iO1xuICAgIH1cbiAgICBDb2xvcjMubXVsdGlwbHlUb1JlZiA9IG11bHRpcGx5VG9SZWY7XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBlcXVhbGl0eSBiZXR3ZWVuIENvbG9yMyBvYmplY3RzXG4gICAgICogQHBhcmFtIG90aGVyQ29sb3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHJnYiB2YWx1ZXMgYXJlIGVxdWFsIHRvIHRoZSBnaXZlbiBvbmVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxzKHZhbHVlLCBvdGhlckNvbG9yKSB7XG4gICAgICAgIHJldHVybiAob3RoZXJDb2xvciAmJlxuICAgICAgICAgICAgdmFsdWUuciA9PT0gb3RoZXJDb2xvci5yICYmXG4gICAgICAgICAgICB2YWx1ZS5nID09PSBvdGhlckNvbG9yLmcgJiZcbiAgICAgICAgICAgIHZhbHVlLmIgPT09IG90aGVyQ29sb3IuYik7XG4gICAgfVxuICAgIENvbG9yMy5lcXVhbHMgPSBlcXVhbHM7XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBlcXVhbGl0eSBiZXR3ZWVuIHRoZSBjdXJyZW50IENvbG9yMyBvYmplY3QgYW5kIGEgc2V0IG9mIHIsYixnIHZhbHVlc1xuICAgICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCB0byBjaGVja1xuICAgICAqIEBwYXJhbSBnIC0gZGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IHRvIGNoZWNrXG4gICAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHJnYiB2YWx1ZXMgYXJlIGVxdWFsIHRvIHRoZSBnaXZlbiBvbmVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxzRmxvYXRzKHZhbHVlLCByLCBnLCBiKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5yID09PSByICYmIHZhbHVlLmcgPT09IGcgJiYgdmFsdWUuYiA9PT0gYjtcbiAgICB9XG4gICAgQ29sb3IzLmVxdWFsc0Zsb2F0cyA9IGVxdWFsc0Zsb2F0cztcbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIGluIHBsYWNlIGVhY2ggcmdiIHZhbHVlIGJ5IHNjYWxlXG4gICAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGluZyBmYWN0b3JcbiAgICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBDb2xvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY2FsZSh2YWx1ZSwgc2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSh2YWx1ZS5yICogc2NhbGUsIHZhbHVlLmcgKiBzY2FsZSwgdmFsdWUuYiAqIHNjYWxlKTtcbiAgICB9XG4gICAgQ29sb3IzLnNjYWxlID0gc2NhbGU7XG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0aGUgcmdiIHZhbHVlcyBieSBzY2FsZSBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW50byBcInJlc3VsdFwiXG4gICAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGluZyBmYWN0b3JcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgQ29sb3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgY3VycmVudCBDb2xvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY2FsZVRvUmVmKHZhbHVlLCBzY2FsZSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yID0gdmFsdWUuciAqIHNjYWxlO1xuICAgICAgICByZXN1bHQuZyA9IHZhbHVlLmcgKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LmIgPSB2YWx1ZS5iICogc2NhbGU7XG4gICAgfVxuICAgIENvbG9yMy5zY2FsZVRvUmVmID0gc2NhbGVUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTY2FsZSB0aGUgY3VycmVudCBDb2xvcjMgdmFsdWVzIGJ5IGEgZmFjdG9yIGFuZCBhZGQgdGhlIHJlc3VsdCB0byBhIGdpdmVuIENvbG9yM1xuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIGNvbG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW50b1xuICAgICAqIEByZXR1cm5zIHRoZSB1bm1vZGlmaWVkIGN1cnJlbnQgQ29sb3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2NhbGVBbmRBZGRUb1JlZih2YWx1ZSwgc2NhbGUsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuciArPSB2YWx1ZS5yICogc2NhbGU7XG4gICAgICAgIHJlc3VsdC5nICs9IHZhbHVlLmcgKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LmIgKz0gdmFsdWUuYiAqIHNjYWxlO1xuICAgIH1cbiAgICBDb2xvcjMuc2NhbGVBbmRBZGRUb1JlZiA9IHNjYWxlQW5kQWRkVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ2xhbXBzIHRoZSByZ2IgdmFsdWVzIGJ5IHRoZSBtaW4gYW5kIG1heCB2YWx1ZXMgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGludG8gXCJyZXN1bHRcIlxuICAgICAqIEBwYXJhbSBtaW4gLSBkZWZpbmVzIG1pbmltdW0gY2xhbXBpbmcgdmFsdWUgKGRlZmF1bHQgaXMgMClcbiAgICAgKiBAcGFyYW0gbWF4IC0gZGVmaW5lcyBtYXhpbXVtIGNsYW1waW5nIHZhbHVlIChkZWZhdWx0IGlzIDEpXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgY29sb3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbnRvXG4gICAgICogQHJldHVybnMgdGhlIG9yaWdpbmFsIENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsYW1wVG9SZWYodmFsdWUsIG1pbiA9IDAsIG1heCA9IDEsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuciA9IFNjYWxhci5jbGFtcCh2YWx1ZS5yLCBtaW4sIG1heCk7XG4gICAgICAgIHJlc3VsdC5nID0gU2NhbGFyLmNsYW1wKHZhbHVlLmcsIG1pbiwgbWF4KTtcbiAgICAgICAgcmVzdWx0LmIgPSBTY2FsYXIuY2xhbXAodmFsdWUuYiwgbWluLCBtYXgpO1xuICAgIH1cbiAgICBDb2xvcjMuY2xhbXBUb1JlZiA9IGNsYW1wVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ2xhbXBzIHRoZSByZ2IgdmFsdWVzIGJ5IHRoZSBtaW4gYW5kIG1heCB2YWx1ZXMgYW5kIHJldHVybnMgdGhlIHJlc3VsdFxuICAgICAqIEBwYXJhbSBtaW4gLSBkZWZpbmVzIG1pbmltdW0gY2xhbXBpbmcgdmFsdWUgKGRlZmF1bHQgaXMgMClcbiAgICAgKiBAcGFyYW0gbWF4IC0gZGVmaW5lcyBtYXhpbXVtIGNsYW1waW5nIHZhbHVlIChkZWZhdWx0IGlzIDEpXG4gICAgICogQHJldHVybnMgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiA9IDAsIG1heCA9IDEpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gQ29sb3IzLkJsYWNrKCk7XG4gICAgICAgIGNsYW1wVG9SZWYodmFsdWUsIG1pbiwgbWF4LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBDb2xvcjMuY2xhbXAgPSBjbGFtcDtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIENvbG9yMyBzZXQgd2l0aCB0aGUgYWRkZWQgdmFsdWVzIG9mIHRoZSBjdXJyZW50IENvbG9yMyBhbmQgb2YgdGhlIGdpdmVuIG9uZVxuICAgICAqIEBwYXJhbSBvdGhlckNvbG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgY3JlYXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkKHZhbHVlLCBvdGhlckNvbG9yKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUodmFsdWUuciArIG90aGVyQ29sb3IuciwgdmFsdWUuZyArIG90aGVyQ29sb3IuZywgdmFsdWUuYiArIG90aGVyQ29sb3IuYik7XG4gICAgfVxuICAgIENvbG9yMy5hZGQgPSBhZGQ7XG4gICAgLyoqXG4gICAgICogU3RvcmVzIHRoZSByZXN1bHQgb2YgdGhlIGFkZGl0aW9uIG9mIHRoZSBjdXJyZW50IENvbG9yMyBhbmQgZ2l2ZW4gb25lIHJnYiB2YWx1ZXMgaW50byBcInJlc3VsdFwiXG4gICAgICogQHBhcmFtIG90aGVyQ29sb3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIENvbG9yMyBvYmplY3QgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbnRvXG4gICAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgY3VycmVudCBDb2xvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRUb1JlZih2YWx1ZSwgb3RoZXJDb2xvciwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yID0gdmFsdWUuciArIG90aGVyQ29sb3IucjtcbiAgICAgICAgcmVzdWx0LmcgPSB2YWx1ZS5nICsgb3RoZXJDb2xvci5nO1xuICAgICAgICByZXN1bHQuYiA9IHZhbHVlLmIgKyBvdGhlckNvbG9yLmI7XG4gICAgfVxuICAgIENvbG9yMy5hZGRUb1JlZiA9IGFkZFRvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgQ29sb3IzIHNldCB3aXRoIHRoZSBzdWJ0cmFjdGVkIHZhbHVlcyBvZiB0aGUgZ2l2ZW4gb25lIGZyb20gdGhlIGN1cnJlbnQgQ29sb3IzXG4gICAgICogQHBhcmFtIG90aGVyQ29sb3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBjcmVhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdWJ0cmFjdCh2YWx1ZSwgb3RoZXJDb2xvcikge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHZhbHVlLnIgLSBvdGhlckNvbG9yLnIsIHZhbHVlLmcgLSBvdGhlckNvbG9yLmcsIHZhbHVlLmIgLSBvdGhlckNvbG9yLmIpO1xuICAgIH1cbiAgICBDb2xvcjMuc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgdGhlIHJlc3VsdCBvZiB0aGUgc3VidHJhY3Rpb24gb2YgZ2l2ZW4gb25lIGZyb20gdGhlIGN1cnJlbnQgQ29sb3IzIHJnYiB2YWx1ZXMgaW50byBcInJlc3VsdFwiXG4gICAgICogQHBhcmFtIG90aGVyQ29sb3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIENvbG9yMyBvYmplY3QgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbnRvXG4gICAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgY3VycmVudCBDb2xvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdWJ0cmFjdFRvUmVmKHZhbHVlLCBvdGhlckNvbG9yLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnIgPSB2YWx1ZS5yIC0gb3RoZXJDb2xvci5yO1xuICAgICAgICByZXN1bHQuZyA9IHZhbHVlLmcgLSBvdGhlckNvbG9yLmc7XG4gICAgICAgIHJlc3VsdC5iID0gdmFsdWUuYiAtIG90aGVyQ29sb3IuYjtcbiAgICB9XG4gICAgQ29sb3IzLnN1YnRyYWN0VG9SZWYgPSBzdWJ0cmFjdFRvUmVmO1xuICAgIC8qKlxuICAgICAqIENvcHkgdGhlIGN1cnJlbnQgb2JqZWN0XG4gICAgICogQHJldHVybnMgQ29sb3IzIGNvcGllZCB0aGUgY3VycmVudCBvbmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHZhbHVlLnIsIHZhbHVlLmcsIHZhbHVlLmIpO1xuICAgIH1cbiAgICBDb2xvcjMuY2xvbmUgPSBjbG9uZTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIHJnYiB2YWx1ZXMgZnJvbSB0aGUgc291cmNlIGluIHRoZSBjdXJyZW50IENvbG9yM1xuICAgICAqIEBwYXJhbSBzb3VyY2UgLSBkZWZpbmVzIHRoZSBzb3VyY2UgQ29sb3IzIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIENvbG9yMyBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5RnJvbShzb3VyY2UsIGRlc3QpIHtcbiAgICAgICAgZGVzdC5yID0gc291cmNlLnI7XG4gICAgICAgIGRlc3QuZyA9IHNvdXJjZS5nO1xuICAgICAgICBkZXN0LmIgPSBzb3VyY2UuYjtcbiAgICB9XG4gICAgQ29sb3IzLmNvcHlGcm9tID0gY29weUZyb207XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgQ29sb3IzIHJnYiB2YWx1ZXMgZnJvbSB0aGUgZ2l2ZW4gZmxvYXRzXG4gICAgICogQHBhcmFtIGRlc3QgLVxuICAgICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICAgKiBAcGFyYW0gZyAtIGRlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgdGhlIGJsdWUgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0KGRlc3QsIHIsIGcsIGIpIHtcbiAgICAgICAgZGVzdC5yID0gcjtcbiAgICAgICAgZGVzdC5nID0gZztcbiAgICAgICAgZGVzdC5iID0gYjtcbiAgICB9XG4gICAgQ29sb3IzLnNldCA9IHNldDtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHRoZSBDb2xvcjMgaGV4YWRlY2ltYWwgY29kZSBhcyBhIHN0cmluZ1xuICAgICAqIEByZXR1cm5zIGEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIGhleGFkZWNpbWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBDb2xvcjMgb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9IZXhTdHJpbmcodmFsdWUpIHtcbiAgICAgICAgY29uc3QgaW50UiA9ICh2YWx1ZS5yICogMjU1KSB8IDA7XG4gICAgICAgIGNvbnN0IGludEcgPSAodmFsdWUuZyAqIDI1NSkgfCAwO1xuICAgICAgICBjb25zdCBpbnRCID0gKHZhbHVlLmIgKiAyNTUpIHwgMDtcbiAgICAgICAgcmV0dXJuICcjJyArIFNjYWxhci50b0hleChpbnRSKSArIFNjYWxhci50b0hleChpbnRHKSArIFNjYWxhci50b0hleChpbnRCKTtcbiAgICB9XG4gICAgQ29sb3IzLnRvSGV4U3RyaW5nID0gdG9IZXhTdHJpbmc7XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgQ29sb3IzIGNvbnZlcnRlZCBmcm9tIHRoZSBjdXJyZW50IG9uZSB0byBsaW5lYXIgc3BhY2VcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9MaW5lYXJTcGFjZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBjb252ZXJ0ZWRDb2xvciA9IGNyZWF0ZSgpO1xuICAgICAgICB0b0xpbmVhclNwYWNlVG9SZWYodmFsdWUsIGNvbnZlcnRlZENvbG9yKTtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRlZENvbG9yO1xuICAgIH1cbiAgICBDb2xvcjMudG9MaW5lYXJTcGFjZSA9IHRvTGluZWFyU3BhY2U7XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIENvbG9yMyB2YWx1ZXMgdG8gbGluZWFyIHNwYWNlIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiBcImNvbnZlcnRlZENvbG9yXCJcbiAgICAgKiBAcGFyYW0gY29udmVydGVkQ29sb3IgLSBkZWZpbmVzIHRoZSBDb2xvcjMgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSBsaW5lYXIgc3BhY2UgdmVyc2lvblxuICAgICAqIEByZXR1cm5zIHRoZSB1bm1vZGlmaWVkIENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGluZWFyU3BhY2VUb1JlZih2YWx1ZSwgY29udmVydGVkQ29sb3IpIHtcbiAgICAgICAgY29udmVydGVkQ29sb3IuciA9IE1hdGgucG93KHZhbHVlLnIsIFRvTGluZWFyU3BhY2UpO1xuICAgICAgICBjb252ZXJ0ZWRDb2xvci5nID0gTWF0aC5wb3codmFsdWUuZywgVG9MaW5lYXJTcGFjZSk7XG4gICAgICAgIGNvbnZlcnRlZENvbG9yLmIgPSBNYXRoLnBvdyh2YWx1ZS5iLCBUb0xpbmVhclNwYWNlKTtcbiAgICB9XG4gICAgQ29sb3IzLnRvTGluZWFyU3BhY2VUb1JlZiA9IHRvTGluZWFyU3BhY2VUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBDb2xvcjMgY29udmVydGVkIGZyb20gdGhlIGN1cnJlbnQgb25lIHRvIGdhbW1hIHNwYWNlXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvR2FtbWFTcGFjZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBjb252ZXJ0ZWRDb2xvciA9IGNyZWF0ZSgpO1xuICAgICAgICB0b0dhbW1hU3BhY2VUb1JlZih2YWx1ZSwgY29udmVydGVkQ29sb3IpO1xuICAgICAgICByZXR1cm4gY29udmVydGVkQ29sb3I7XG4gICAgfVxuICAgIENvbG9yMy50b0dhbW1hU3BhY2UgPSB0b0dhbW1hU3BhY2U7XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIENvbG9yMyB2YWx1ZXMgdG8gZ2FtbWEgc3BhY2UgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIFwiY29udmVydGVkQ29sb3JcIlxuICAgICAqIEBwYXJhbSBjb252ZXJ0ZWRDb2xvciAtIGRlZmluZXMgdGhlIENvbG9yMyBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIGdhbW1hIHNwYWNlIHZlcnNpb25cbiAgICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBDb2xvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0dhbW1hU3BhY2VUb1JlZih2YWx1ZSwgY29udmVydGVkQ29sb3IpIHtcbiAgICAgICAgY29udmVydGVkQ29sb3IuciA9IE1hdGgucG93KHZhbHVlLnIsIFRvR2FtbWFTcGFjZSk7XG4gICAgICAgIGNvbnZlcnRlZENvbG9yLmcgPSBNYXRoLnBvdyh2YWx1ZS5nLCBUb0dhbW1hU3BhY2UpO1xuICAgICAgICBjb252ZXJ0ZWRDb2xvci5iID0gTWF0aC5wb3codmFsdWUuYiwgVG9HYW1tYVNwYWNlKTtcbiAgICB9XG4gICAgQ29sb3IzLnRvR2FtbWFTcGFjZVRvUmVmID0gdG9HYW1tYVNwYWNlVG9SZWY7XG59KShDb2xvcjMgfHwgKENvbG9yMyA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgU2NoZW1hcywgZW5naW5lIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuXG4vLyBXZSB1c2UgdGhpcyBjb21wb25lbnQgdG8gdHJhY2sgYW5kIGdyb3VwIGFsbCB0aGUgY3ViZXMuXG4vLyBlbmdpbmUuZ2V0RW50aXRpZXNXaXRoKEN1YmUpXG5leHBvcnQgY29uc3QgQ3ViZSA9IGVuZ2luZS5kZWZpbmVDb21wb25lbnQoJ2N1YmUtaWQnLCB7fSlcblxuLy8gV2UgdXNlIHRoaXMgY29tcG9uZW50IHRvIHRyYWNrIGFuZCBncm91cCBhbGwgdGhlIGN1YmVzLlxuLy8gZW5naW5lLmdldEVudGl0aWVzV2l0aChDdWJlKVxuZXhwb3J0IGNvbnN0IFNwaW5uZXIgPSBlbmdpbmUuZGVmaW5lQ29tcG9uZW50KCdzcGlubmVyJywgeyBzcGVlZDogU2NoZW1hcy5OdW1iZXIgfSkiLCAiaW1wb3J0IHtcbiAgZW5naW5lLFxuICBUcmFuc2Zvcm0sXG4gIFNjaGVtYXMsXG59IGZyb20gJ0BkY2wvc2RrL2VjcydcbmltcG9ydCB7IFF1YXRlcm5pb24sIFZlY3RvcjMgfSBmcm9tICdAZGNsL3Nkay9tYXRoJ1xuaW1wb3J0IHsgU3Bpbm5lciB9IGZyb20gJy4vY29tcG9uZW50cydcblxuLyoqXG4gKiBCb3VuY2VTY2FsaW5nIGlzIHRoZSBmbGFnLWNvbXBvbmVudCB3aXRoIHRoZSB0aW1lIGVsYXBzZWQgc2luY2UgY3JlYXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBCb3VuY2VTY2FsaW5nID0gZW5naW5lLmRlZmluZUNvbXBvbmVudCgnQm91bmNlU2NhbGluZycsIHsgdDogU2NoZW1hcy5OdW1iZXIgfSlcblxuLyoqXG4gKiBBbGwgY3ViZXMgcm90YXRpbmcgYmVoYXZpb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNpcmN1bGFyU3lzdGVtKGR0OiBudW1iZXIpIHtcbiAgY29uc3QgZW50aXRpZXNXaXRoU3Bpbm5lciA9IGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoU3Bpbm5lciwgVHJhbnNmb3JtKVxuICBmb3IgKGNvbnN0IFtlbnRpdHksIF9zcGlubmVyLCBfdHJhbnNmb3JtXSBvZiBlbnRpdGllc1dpdGhTcGlubmVyKSB7XG4gICAgY29uc3QgbXV0YWJsZVRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRNdXRhYmxlKGVudGl0eSlcbiAgICBjb25zdCBzcGlubmVyRGF0YSA9IFNwaW5uZXIuZ2V0KGVudGl0eSlcblxuICAgIG11dGFibGVUcmFuc2Zvcm0ucm90YXRpb24gPSBRdWF0ZXJuaW9uLm11bHRpcGx5KFxuICAgICAgbXV0YWJsZVRyYW5zZm9ybS5yb3RhdGlvbixcbiAgICAgIFF1YXRlcm5pb24uZnJvbUFuZ2xlQXhpcyhkdCAqIHNwaW5uZXJEYXRhLnNwZWVkLCBWZWN0b3IzLlVwKCkpXG4gICAgKVxuICB9XG59XG5cblxuLyoqXG4gKiBBZGQgdGhpcyBzeXN0ZW0gYW5kIGV2ZXJ5IGVudGl0eSB3aXRoIEJvdW5jZVNjYWxpbmcgd2lsbCBib3VuY2UgZm9yIDUgc2Vjb25kc1xuICogQHBhcmFtIGR0IC0gZGV0YWwgdGltZSBpbiBzZWNvbmRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib3VuY2VTY2FsaW5nU3lzdGVtKGR0OiBudW1iZXIpIHtcbiAgY29uc3QgY2xpY2tlZEN1YmVzID0gZW5naW5lLmdldEVudGl0aWVzV2l0aChCb3VuY2VTY2FsaW5nLCBUcmFuc2Zvcm0pXG4gIGZvciAoY29uc3QgW2VudGl0eV0gb2YgY2xpY2tlZEN1YmVzKSB7XG4gICAgY29uc3QgbSA9IEJvdW5jZVNjYWxpbmcuZ2V0TXV0YWJsZShlbnRpdHkpXG4gICAgbS50ICs9IGR0XG5cbiAgICBpZiAobS50ID4gNSkge1xuICAgICAgVHJhbnNmb3JtLmdldE11dGFibGUoZW50aXR5KS5zY2FsZSA9IFZlY3RvcjMuT25lKClcbiAgICAgIEJvdW5jZVNjYWxpbmcuZGVsZXRlRnJvbShlbnRpdHkpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGZhY3RvciA9IDAuOSArIDAuMiAqIE1hdGguZXhwKC0xLjUgKiBtLnQpICogTWF0aC5zaW4oMTAgKiBtLnQpXG4gICAgICBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShlbnRpdHkpLnNjYWxlID0gVmVjdG9yMy5zY2FsZShWZWN0b3IzLk9uZSgpLCBmYWN0b3IpXG4gICAgfVxuICB9XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUhleENvbG9yKCk6IHN0cmluZyB7XG4gIGNvbnN0IGxldHRlcnMgPSBcIjAxMjM0NTY3ODlBQkNERUZcIjtcbiAgbGV0IGNvbG9yID0gXCIjXCI7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgY29sb3IgKz0gbGV0dGVyc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNildO1xuICB9XG4gIHJldHVybiBjb2xvcjtcbn1cblxuIiwgImltcG9ydCB7XG4gIEVudGl0eSxcbiAgZW5naW5lLFxuICBUcmFuc2Zvcm0sXG4gIE1lc2hSZW5kZXJlcixcbiAgTWVzaENvbGxpZGVyLFxuICBQb2ludGVyRXZlbnRzLFxuICBQb2ludGVyRXZlbnRUeXBlLFxuICBJbnB1dEFjdGlvbixcbiAgTWF0ZXJpYWxcbn0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0IHsgQ3ViZSwgU3Bpbm5lciB9IGZyb20gJy4vY29tcG9uZW50cydcbmltcG9ydCB7IENvbG9yNCB9IGZyb20gJ0BkY2wvc2RrL21hdGgnXG5pbXBvcnQgeyBnZXRSYW5kb21IZXhDb2xvciB9IGZyb20gJy4vdXRpbHMnXG5cbi8vIEN1YmUgZmFjdG9yeVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUN1YmUoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlciwgc3Bhd25lciA9IHRydWUpOiBFbnRpdHkge1xuICBjb25zdCBlbnRpdHkgPSBlbmdpbmUuYWRkRW50aXR5KClcblxuICAvLyBVc2VkIHRvIHRyYWNrIHRoZSBjdWJlc1xuICBDdWJlLmNyZWF0ZShlbnRpdHkpXG5cbiAgVHJhbnNmb3JtLmNyZWF0ZShlbnRpdHksIHsgcG9zaXRpb246IHsgeCwgeSwgeiB9IH0pXG5cbiAgLy8gc2V0IGhvdyB0aGUgY3ViZSBsb29rcyBhbmQgY29sbGlkZXNcbiAgTWVzaFJlbmRlcmVyLnNldEJveChlbnRpdHkpXG4gIE1lc2hDb2xsaWRlci5zZXRCb3goZW50aXR5KVxuICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChlbnRpdHksIHsgYWxiZWRvQ29sb3I6IENvbG9yNC5mcm9tSGV4U3RyaW5nKGdldFJhbmRvbUhleENvbG9yKCkpIH0pXG5cbiAgLy8gTWFrZSB0aGUgY3ViZSBzcGluLCB3aXRoIHRoZSBjaXJjdWxhclN5c3RlbVxuICBTcGlubmVyLmNyZWF0ZShlbnRpdHksIHsgc3BlZWQ6IDEwICogTWF0aC5yYW5kb20oKSB9KVxuXG4gIC8vIGlmIGl0IGlzIGEgc3Bhd25lciwgdGhlbiB3ZSBzZXQgdGhlIHBvaW50ZXIgaG92ZXIgZmVlZGJhY2tcbiAgaWYgKHNwYXduZXIpIHtcbiAgICBQb2ludGVyRXZlbnRzLmNyZWF0ZShlbnRpdHksIHtcbiAgICAgIHBvaW50ZXJFdmVudHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGV2ZW50VHlwZTogUG9pbnRlckV2ZW50VHlwZS5QRVRfRE9XTixcbiAgICAgICAgICBldmVudEluZm86IHtcbiAgICAgICAgICAgIGJ1dHRvbjogSW5wdXRBY3Rpb24uSUFfUFJJTUFSWSxcbiAgICAgICAgICAgIGhvdmVyVGV4dDogJ1ByZXNzIEUgdG8gc3Bhd24nLFxuICAgICAgICAgICAgbWF4RGlzdGFuY2U6IDEwMCxcbiAgICAgICAgICAgIHNob3dGZWVkYmFjazogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pXG4gIH1cblxuICByZXR1cm4gZW50aXR5XG59XG4iLCAiaW1wb3J0IHsgZW5naW5lLCBJbnB1dEFjdGlvbiwgUG9pbnRlckV2ZW50cywgcG9pbnRlckV2ZW50c1N5c3RlbSwgUG9pbnRlckV2ZW50VHlwZSB9IGZyb20gJ0BkY2wvc2RrL2VjcydcbmltcG9ydCB7IGNpcmN1bGFyU3lzdGVtIH0gZnJvbSAnLi9zeXN0ZW1zJ1xuXG5pbXBvcnQgeyBjcmVhdGVDdWJlIH0gZnJvbSAnLi9mYWN0b3J5J1xuaW1wb3J0IHsgc3Bhd24sIGtpbGwsIFNwYXduUmVzcG9uc2UgfSBmcm9tICd+c3lzdGVtL1BvcnRhYmxlRXhwZXJpZW5jZXMnXG5cbi8vIERlZmluaW5nIGJlaGF2aW9yLiBTZWUgYHNyYy9zeXN0ZW1zLnRzYCBmaWxlLlxuZW5naW5lLmFkZFN5c3RlbShjaXJjdWxhclN5c3RlbSlcbmxldCBweElkOiBTcGF3blJlc3BvbnNlXG5cbmV4cG9ydCBmdW5jdGlvbiBtYWluKCkge1xuICAvLyBmZXRjaCBjdWJlIGZyb20gSW5zcGVjdG9yXG4gIGNvbnN0IGN1YmUgPSBjcmVhdGVDdWJlKDEsIDEsIDEpXG5cbiAgUG9pbnRlckV2ZW50cy5jcmVhdGVPclJlcGxhY2UoY3ViZSwge1xuICAgIHBvaW50ZXJFdmVudHM6IFtcbiAgICAgIHtcbiAgICAgICAgZXZlbnRUeXBlOiBQb2ludGVyRXZlbnRUeXBlLlBFVF9ET1dOLFxuICAgICAgICBldmVudEluZm86IHtcbiAgICAgICAgICBidXR0b246IElucHV0QWN0aW9uLklBX1BSSU1BUlksXG4gICAgICAgICAgaG92ZXJUZXh0OiAnU3Bhd24gUFgnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGV2ZW50VHlwZTogUG9pbnRlckV2ZW50VHlwZS5QRVRfRE9XTixcbiAgICAgICAgZXZlbnRJbmZvOiB7XG4gICAgICAgICAgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9TRUNPTkRBUlksXG4gICAgICAgICAgaG92ZXJUZXh0OiAnS2lsbCBQWCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfSlcbiAgLy8gQWRkIGEgY2xpY2sgYmVoYXZpb3IgdG8gdGhlIGN1YmUsIHNwYXduaW5nIG5ldyBjdWJlcyBpbiByYW5kb20gcGxhY2VzLCBhbmQgYWRkaW5nIGEgYm91bmN5IGVmZmVjdCBmb3IgZmVlZGJhY2tcbiAgcG9pbnRlckV2ZW50c1N5c3RlbS5vblBvaW50ZXJEb3duKFxuICAgIHsgZW50aXR5OiBjdWJlLCBvcHRzOiB7IGJ1dHRvbjogSW5wdXRBY3Rpb24uSUFfQU5ZIH0gfSxcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIGNyZWF0ZUN1YmUoMSArIE1hdGgucmFuZG9tKCkgKiA4LCBNYXRoLnJhbmRvbSgpICogOCwgMSArIE1hdGgucmFuZG9tKCkgKiA4LCBmYWxzZSlcblxuICAgICAgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gSW5wdXRBY3Rpb24uSUFfUFJJTUFSWSkge1xuICAgICAgICBzcGF3bih7IGVuczogJ2JvZWRvLmRjbC5ldGgnIH0pLnRoZW4oKGUpID0+IHtcbiAgICAgICAgICBweElkID0gZVxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC5idXR0b24gPT09IElucHV0QWN0aW9uLklBX1NFQ09OREFSWSAmJiAhIXB4SWQ/LnBpZCkge1xuICAgICAgICBraWxsKHsgcGlkOiBweElkLnBpZCB9KS50aGVuKGNvbnNvbGUubG9nKS5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgICAgfVxuICAgIH1cbiAgKVxufVxuIiwgIi8qKiBAYWxwaGEgVEhJUyBGSUxFIElOSVRJQUxJWkVTIFRIRSBERUNFTlRSQUxBTkQgUlVOVElNRS4gV0lMTCBDSEFOR0UgU09PTiAqL1xuaW1wb3J0IHsgQ29tcG9zaXRlLCBlbmdpbmUgfSBmcm9tICdAZGNsL2VjcydcbmltcG9ydCB7IGNyZHRHZXRTdGF0ZSwgY3JkdFNlbmRUb1JlbmRlcmVyLCBzZW5kQmF0Y2ggfSBmcm9tICd+c3lzdGVtL0VuZ2luZUFwaSdcbmltcG9ydCB7IGNyZWF0ZVJlbmRlcmVyVHJhbnNwb3J0IH0gZnJvbSAnLi9pbnRlcm5hbC90cmFuc3BvcnRzL3JlbmRlcmVyVHJhbnNwb3J0J1xuaW1wb3J0IHsgcG9sbEV2ZW50cyB9IGZyb20gJy4vb2JzZXJ2YWJsZXMnXG5pbXBvcnQgeyBjb21wb3NpdGVQcm92aWRlciB9IGZyb20gJy4vY29tcG9zaXRlLXByb3ZpZGVyJ1xuXG4vLyBBdHRhY2ggQ1JEVCB0cmFuc3BvcnRcbi8vIEBpbnRlcm5hbFxuZXhwb3J0IGNvbnN0IHJlbmRlcmVyVHJhbnNwb3J0ID0gY3JlYXRlUmVuZGVyZXJUcmFuc3BvcnQoeyBjcmR0U2VuZFRvUmVuZGVyZXIgfSlcbmVuZ2luZS5hZGRUcmFuc3BvcnQocmVuZGVyZXJUcmFuc3BvcnQpXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBvblVwZGF0ZShkZWx0YVRpbWU6IG51bWJlcikge1xuICBlbmdpbmUuc2VhbCgpXG4gIGF3YWl0IGVuZ2luZS51cGRhdGUoZGVsdGFUaW1lKVxuICBhd2FpdCBwb2xsRXZlbnRzKHNlbmRCYXRjaClcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIGJlZm9yZSB0aGUgZmlyc3QgdXBkYXRlIGFuZCBhZnRlciB0aGUgZXZhbHVhdGlvbiBvZiB0aGUgY29kZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG9uU3RhcnQoKSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY3JkdEdldFN0YXRlKHsgZGF0YTogbmV3IFVpbnQ4QXJyYXkoKSB9KVxuXG4gIC8vIHdoZW4gdGhpcyBjb25kaXRpb24gaXMgdHJ1ZSBzb21ldGhpbmcgbGlrZSBgbWFpbi5jcmR0YCB3YXMgcHJlLWxvYWRlZCBmcm9tIHRoZSBydW50aW1lLCB3ZSBkb24ndCBuZWVkIHRvIGluc3RhbmNlIHRoZSBtYWluLmNvbXBvc2l0ZVxuICBpZiAoIXJlc3BvbnNlLmhhc0VudGl0aWVzKSB7XG4gICAgY29uc3QgbWFpbkNvbXBvc2l0ZSA9IGNvbXBvc2l0ZVByb3ZpZGVyLmdldENvbXBvc2l0ZU9yTnVsbCgnbWFpbi5jb21wb3NpdGUnKVxuICAgIGlmIChtYWluQ29tcG9zaXRlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBDb21wb3NpdGUuaW5zdGFuY2UoZW5naW5lLCBtYWluQ29tcG9zaXRlLCBjb21wb3NpdGVQcm92aWRlcilcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhgV2FybmluZzogbWFpbi5jb21wb3NpdGUgY291bGRuJ3QgYmUgaW5zdGFuY2VkLmApXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICghIXJlbmRlcmVyVHJhbnNwb3J0Lm9ubWVzc2FnZSkge1xuICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEubGVuZ3RoKSB7XG4gICAgICBmb3IgKGNvbnN0IGJ5dGVBcnJheSBvZiByZXNwb25zZS5kYXRhKSB7XG4gICAgICAgIHJlbmRlcmVyVHJhbnNwb3J0Lm9ubWVzc2FnZShieXRlQXJyYXkpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgVHJhbnNwb3J0LCBUcmFuc3BvcnRNZXNzYWdlIH0gZnJvbSAnQGRjbC9lY3MnXG5pbXBvcnQgeyBNQVhfU1RBVElDX0NPTVBPTkVOVCB9IGZyb20gJ0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9jb21wb25lbnQtbnVtYmVyJ1xuaW1wb3J0IHR5cGUgeyBDcmR0U2VuZFRvUmVuZGVyZXJSZXF1ZXN0LCBDcmR0U2VuZFRvUmVzcG9uc2UgfSBmcm9tICd+c3lzdGVtL0VuZ2luZUFwaSdcblxuZXhwb3J0IHR5cGUgRW5naW5lQXBpRm9yVHJhbnNwb3J0ID0ge1xuICBjcmR0U2VuZFRvUmVuZGVyZXIoYm9keTogQ3JkdFNlbmRUb1JlbmRlcmVyUmVxdWVzdCk6IFByb21pc2U8Q3JkdFNlbmRUb1Jlc3BvbnNlPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXJUcmFuc3BvcnQoZW5naW5lQXBpOiBFbmdpbmVBcGlGb3JUcmFuc3BvcnQpOiBUcmFuc3BvcnQge1xuICBhc3luYyBmdW5jdGlvbiBzZW5kVG9SZW5kZXJlcihtZXNzYWdlOiBVaW50OEFycmF5KSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBlbmdpbmVBcGkuY3JkdFNlbmRUb1JlbmRlcmVyKHtcbiAgICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KG1lc3NhZ2UpXG4gICAgfSlcblxuICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEubGVuZ3RoKSB7XG4gICAgICBpZiAocmVuZGVyZXJUcmFuc3BvcnQub25tZXNzYWdlKSB7XG4gICAgICAgIGZvciAoY29uc3QgYnl0ZUFycmF5IG9mIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICByZW5kZXJlclRyYW5zcG9ydC5vbm1lc3NhZ2UoYnl0ZUFycmF5KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVuZGVyZXJUcmFuc3BvcnQ6IFRyYW5zcG9ydCA9IHtcbiAgICBhc3luYyBzZW5kKG1lc3NhZ2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHNlbmRUb1JlbmRlcmVyKG1lc3NhZ2UpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSBjb25zb2xlLmVycm9yIG9mIHRoZSBzY2VuZVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxuICAgICAgICBkZWJ1Z2dlclxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsdGVyKG1lc3NhZ2U6IFRyYW5zcG9ydE1lc3NhZ2UpIHtcbiAgICAgIC8vIE9ubHkgc2VuZCByZW5kZXJlciBjb21wb25lbnRzIChQcm90byBHZW5lcmF0ZWQpXG4gICAgICBpZiAoXG4gICAgICAgIC8vIGZpbHRlciBvdXQgbWVzc2FnZXMgZm9yIG5vbi1jb3JlIGNvbXBvbmVudHNcbiAgICAgICAgKG1lc3NhZ2UgYXMgYW55KS5jb21wb25lbnRJZCA+IE1BWF9TVEFUSUNfQ09NUE9ORU5UXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIHJldHVybiAhIW1lc3NhZ2VcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVuZGVyZXJUcmFuc3BvcnRcbn1cbiIsICIvKiBpc3RhbmJ1bCBpZ25vcmUgZmlsZSAqL1xuLyoqXG4gKiBBIGNsYXNzIHNlcnZlcyBhcyBhIG1lZGl1bSBiZXR3ZWVuIHRoZSBvYnNlcnZhYmxlIGFuZCBpdHMgb2JzZXJ2ZXJzXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkXG4gKi9cbmV4cG9ydCBjbGFzcyBPYnNlcnZlckV2ZW50U3RhdGUge1xuICAvKipcbiAgICogQW4gT2JzZXJ2ZXIgY2FuIHNldCB0aGlzIHByb3BlcnR5IHRvIHRydWUgdG8gcHJldmVudCBzdWJzZXF1ZW50IG9ic2VydmVycyBvZiBiZWluZyBub3RpZmllZFxuICAgKi9cbiAgcHVibGljIHNraXBOZXh0T2JzZXJ2ZXJzITogYm9vbGVhblxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hc2sgdmFsdWUgdGhhdCB3ZXJlIHVzZWQgdG8gdHJpZ2dlciB0aGUgZXZlbnQgY29ycmVzcG9uZGluZyB0byB0aGlzIEV2ZW50U3RhdGUgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgbWFzayE6IG51bWJlclxuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHRoYXQgb3JpZ2luYWxseSBub3RpZmllZCB0aGUgZXZlbnRcbiAgICovXG4gIHB1YmxpYyB0YXJnZXQ/OiBhbnlcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgb2JqZWN0IGluIHRoZSBidWJibGluZyBwaGFzZVxuICAgKi9cbiAgcHVibGljIGN1cnJlbnRUYXJnZXQ/OiBhbnlcblxuICAvKipcbiAgICogVGhpcyB3aWxsIGJlIHBvcHVsYXRlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGxhc3QgZnVuY3Rpb24gdGhhdCB3YXMgZXhlY3V0ZWQuXG4gICAqIElmIGl0IGlzIHRoZSBmaXJzdCBmdW5jdGlvbiBpbiB0aGUgY2FsbGJhY2sgY2hhaW4gaXQgd2lsbCBiZSB0aGUgZXZlbnQgZGF0YS5cbiAgICovXG4gIHB1YmxpYyBsYXN0UmV0dXJuVmFsdWU/OiBhbnlcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEV2ZW50U3RhdGVcbiAgICogQHBhcmFtIG1hc2sgLSBkZWZpbmVzIHRoZSBtYXNrIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHN0YXRlXG4gICAqIEBwYXJhbSBza2lwTmV4dE9ic2VydmVycyAtIGRlZmluZXMgYSBmbGFnIHdoaWNoIHdpbGwgaW5zdHJ1Y3QgdGhlIG9ic2VydmFibGUgdG8gc2tpcCBmb2xsb3dpbmcgb2JzZXJ2ZXJzIHdoZW4gc2V0IHRvIHRydWVcbiAgICogQHBhcmFtIHRhcmdldCAtIGRlZmluZXMgdGhlIG9yaWdpbmFsIHRhcmdldCBvZiB0aGUgc3RhdGVcbiAgICogQHBhcmFtIGN1cnJlbnRUYXJnZXQgLSBkZWZpbmVzIHRoZSBjdXJyZW50IHRhcmdldCBvZiB0aGUgc3RhdGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKG1hc2s6IG51bWJlciwgc2tpcE5leHRPYnNlcnZlcnMgPSBmYWxzZSwgdGFyZ2V0PzogYW55LCBjdXJyZW50VGFyZ2V0PzogYW55KSB7XG4gICAgdGhpcy5pbml0YWxpemUobWFzaywgc2tpcE5leHRPYnNlcnZlcnMsIHRhcmdldCwgY3VycmVudFRhcmdldClcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBjdXJyZW50IGV2ZW50IHN0YXRlXG4gICAqIEBwYXJhbSBtYXNrIC0gZGVmaW5lcyB0aGUgbWFzayBhc3NvY2lhdGVkIHdpdGggdGhpcyBzdGF0ZVxuICAgKiBAcGFyYW0gc2tpcE5leHRPYnNlcnZlcnMgLSBkZWZpbmVzIGEgZmxhZyB3aGljaCB3aWxsIGluc3RydWN0IHRoZSBvYnNlcnZhYmxlIHRvIHNraXAgZm9sbG93aW5nIG9ic2VydmVycyB3aGVuIHNldCB0byB0cnVlXG4gICAqIEBwYXJhbSB0YXJnZXQgLSBkZWZpbmVzIHRoZSBvcmlnaW5hbCB0YXJnZXQgb2YgdGhlIHN0YXRlXG4gICAqIEBwYXJhbSBjdXJyZW50VGFyZ2V0IC0gZGVmaW5lcyB0aGUgY3VycmVudCB0YXJnZXQgb2YgdGhlIHN0YXRlXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IGV2ZW50IHN0YXRlXG4gICAqL1xuICBwdWJsaWMgaW5pdGFsaXplKG1hc2s6IG51bWJlciwgc2tpcE5leHRPYnNlcnZlcnMgPSBmYWxzZSwgdGFyZ2V0PzogYW55LCBjdXJyZW50VGFyZ2V0PzogYW55KTogT2JzZXJ2ZXJFdmVudFN0YXRlIHtcbiAgICB0aGlzLm1hc2sgPSBtYXNrXG4gICAgdGhpcy5za2lwTmV4dE9ic2VydmVycyA9IHNraXBOZXh0T2JzZXJ2ZXJzXG4gICAgdGhpcy50YXJnZXQgPSB0YXJnZXRcbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudCBhbiBPYnNlcnZlciByZWdpc3RlcmVkIHRvIGEgZ2l2ZW4gT2JzZXJ2YWJsZSBvYmplY3QuXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkXG4gKi9cbmV4cG9ydCBjbGFzcyBPYnNlcnZlcjxUPiB7XG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgYSBwcm9wZXJ0eSBkZWZpbmluZyB0aGF0IHRoZSBvYnNlcnZlciBhcyB0byBiZSB1bnJlZ2lzdGVyZWQgYWZ0ZXIgdGhlIG5leHQgbm90aWZpY2F0aW9uXG4gICAqL1xuICBwdWJsaWMgdW5yZWdpc3Rlck9uTmV4dENhbGwgPSBmYWxzZVxuXG4gIC8qKiBGb3IgaW50ZXJuYWwgdXNhZ2UgKi9cbiAgcHVibGljIF93aWxsQmVVbnJlZ2lzdGVyZWQgPSBmYWxzZVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IG9ic2VydmVyXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGRlZmluZXMgdGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbiB0aGUgb2JzZXJ2ZXIgaXMgbm90aWZpZWRcbiAgICogQHBhcmFtIG1hc2sgLSBkZWZpbmVzIHRoZSBtYXNrIG9mIHRoZSBvYnNlcnZlciAodXNlZCB0byBmaWx0ZXIgbm90aWZpY2F0aW9ucylcbiAgICogQHBhcmFtIHNjb3BlIC0gZGVmaW5lcyB0aGUgY3VycmVudCBzY29wZSB1c2VkIHRvIHJlc3RvcmUgdGhlIEpTIGNvbnRleHRcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbiB0aGUgb2JzZXJ2ZXIgaXMgbm90aWZpZWRcbiAgICAgKi9cbiAgICBwdWJsaWMgY2FsbGJhY2s6IChldmVudERhdGE6IFQsIGV2ZW50U3RhdGU6IE9ic2VydmVyRXZlbnRTdGF0ZSkgPT4gdm9pZCxcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBtYXNrIG9mIHRoZSBvYnNlcnZlciAodXNlZCB0byBmaWx0ZXIgbm90aWZpY2F0aW9ucylcbiAgICAgKi9cbiAgICBwdWJsaWMgbWFzazogbnVtYmVyLFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIGN1cnJlbnQgc2NvcGUgdXNlZCB0byByZXN0b3JlIHRoZSBKUyBjb250ZXh0XG4gICAgICovXG4gICAgcHVibGljIHNjb3BlOiBhbnkgPSBudWxsXG4gICkge31cbn1cblxuLyoqXG4gKiBUaGUgT2JzZXJ2YWJsZSBjbGFzcyBpcyBhIHNpbXBsZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgT2JzZXJ2YWJsZSBwYXR0ZXJuLlxuICpcbiAqIFRoZXJlJ3Mgb25lIHNsaWdodCBwYXJ0aWN1bGFyaXR5IHRob3VnaDogYSBnaXZlbiBPYnNlcnZhYmxlIGNhbiBub3RpZnkgaXRzIG9ic2VydmVyIHVzaW5nIGEgcGFydGljdWxhciBtYXNrIHZhbHVlLCBvbmx5IHRoZSBPYnNlcnZlcnMgcmVnaXN0ZXJlZCB3aXRoIHRoaXMgbWFzayB2YWx1ZSB3aWxsIGJlIG5vdGlmaWVkLlxuICogVGhpcyBlbmFibGUgYSBtb3JlIGZpbmUgZ3JhaW5lZCBleGVjdXRpb24gd2l0aG91dCBoYXZpbmcgdG8gcmVseSBvbiBtdWx0aXBsZSBkaWZmZXJlbnQgT2JzZXJ2YWJsZSBvYmplY3RzLlxuICogRm9yIGluc3RhbmNlIHlvdSBtYXkgaGF2ZSBhIGdpdmVuIE9ic2VydmFibGUgdGhhdCBoYXZlIGZvdXIgZGlmZmVyZW50IHR5cGVzIG9mIG5vdGlmaWNhdGlvbnM6IE1vdmUgKG1hc2sgPSAweDAxKSwgU3RvcCAobWFzayA9IDB4MDIpLCBUdXJuIFJpZ2h0IChtYXNrID0gMFgwNCksIFR1cm4gTGVmdCAobWFzayA9IDBYMDgpLlxuICogQSBnaXZlbiBvYnNlcnZlciBjYW4gcmVnaXN0ZXIgaXRzZWxmIHdpdGggb25seSBNb3ZlIGFuZCBTdG9wIChtYXNrID0gMHgwMyksIHRoZW4gaXQgd2lsbCBvbmx5IGJlIG5vdGlmaWVkIHdoZW4gb25lIG9mIHRoZXNlIHR3byBvY2N1cnMgYW5kIHdpbGwgbmV2ZXIgYmUgZm9yIFR1cm4gTGVmdC9SaWdodC5cbiAqXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkXG4gKi9cbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlPFQ+IHtcbiAgcHJpdmF0ZSBfb2JzZXJ2ZXJzID0gbmV3IEFycmF5PE9ic2VydmVyPFQ+PigpXG5cbiAgcHJpdmF0ZSBfZXZlbnRTdGF0ZTogT2JzZXJ2ZXJFdmVudFN0YXRlXG5cbiAgcHJpdmF0ZSBfb25PYnNlcnZlckFkZGVkOiBudWxsIHwgKChvYnNlcnZlcjogT2JzZXJ2ZXI8VD4pID0+IHZvaWQpID0gbnVsbFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IG9ic2VydmFibGVcbiAgICogQHBhcmFtIG9uT2JzZXJ2ZXJBZGRlZCAtIGRlZmluZXMgYSBjYWxsYmFjayB0byBjYWxsIHdoZW4gYSBuZXcgb2JzZXJ2ZXIgaXMgYWRkZWRcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9uT2JzZXJ2ZXJBZGRlZD86IChvYnNlcnZlcjogT2JzZXJ2ZXI8VD4pID0+IHZvaWQpIHtcbiAgICB0aGlzLl9ldmVudFN0YXRlID0gbmV3IE9ic2VydmVyRXZlbnRTdGF0ZSgwKVxuXG4gICAgaWYgKG9uT2JzZXJ2ZXJBZGRlZCkge1xuICAgICAgdGhpcy5fb25PYnNlcnZlckFkZGVkID0gb25PYnNlcnZlckFkZGVkXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBPYnNlcnZlciB3aXRoIHRoZSBzcGVjaWZpZWQgY2FsbGJhY2tcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gdGhlIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBmb3IgdGhhdCBPYnNlcnZlclxuICAgKiBAcGFyYW0gbWFzayAtIHRoZSBtYXNrIHVzZWQgdG8gZmlsdGVyIG9ic2VydmVyc1xuICAgKiBAcGFyYW0gaW5zZXJ0Rmlyc3QgLSBpZiB0cnVlIHRoZSBjYWxsYmFjayB3aWxsIGJlIGluc2VydGVkIGF0IHRoZSBmaXJzdCBwb3NpdGlvbiwgaGVuY2UgZXhlY3V0ZWQgYmVmb3JlIHRoZSBvdGhlcnMgb25lcy4gSWYgZmFsc2UgKGRlZmF1bHQgYmVoYXZpb3IpIHRoZSBjYWxsYmFjayB3aWxsIGJlIGluc2VydGVkIGF0IHRoZSBsYXN0IHBvc2l0aW9uLCBleGVjdXRlZCBhZnRlciBhbGwgdGhlIG90aGVycyBhbHJlYWR5IHByZXNlbnQuXG4gICAqIEBwYXJhbSBzY29wZSAtIG9wdGlvbmFsIHNjb3BlIGZvciB0aGUgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIGZyb21cbiAgICogQHBhcmFtIHVucmVnaXN0ZXJPbkZpcnN0Q2FsbCAtIGRlZmluZXMgaWYgdGhlIG9ic2VydmVyIGFzIHRvIGJlIHVucmVnaXN0ZXJlZCBhZnRlciB0aGUgbmV4dCBub3RpZmljYXRpb25cbiAgICogQHJldHVybnMgdGhlIG5ldyBvYnNlcnZlciBjcmVhdGVkIGZvciB0aGUgY2FsbGJhY2tcbiAgICovXG4gIHB1YmxpYyBhZGQoXG4gICAgY2FsbGJhY2s6IChldmVudERhdGE6IFQsIGV2ZW50U3RhdGU6IE9ic2VydmVyRXZlbnRTdGF0ZSkgPT4gdm9pZCxcbiAgICBtYXNrOiBudW1iZXIgPSAtMSxcbiAgICBpbnNlcnRGaXJzdCA9IGZhbHNlLFxuICAgIHNjb3BlOiBhbnkgPSBudWxsLFxuICAgIHVucmVnaXN0ZXJPbkZpcnN0Q2FsbCA9IGZhbHNlXG4gICk6IG51bGwgfCBPYnNlcnZlcjxUPiB7XG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBPYnNlcnZlcihjYWxsYmFjaywgbWFzaywgc2NvcGUpXG4gICAgb2JzZXJ2ZXIudW5yZWdpc3Rlck9uTmV4dENhbGwgPSB1bnJlZ2lzdGVyT25GaXJzdENhbGxcblxuICAgIGlmIChpbnNlcnRGaXJzdCkge1xuICAgICAgdGhpcy5fb2JzZXJ2ZXJzLnVuc2hpZnQob2JzZXJ2ZXIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX29ic2VydmVycy5wdXNoKG9ic2VydmVyKVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9vbk9ic2VydmVyQWRkZWQpIHtcbiAgICAgIHRoaXMuX29uT2JzZXJ2ZXJBZGRlZChvYnNlcnZlcilcbiAgICB9XG5cbiAgICByZXR1cm4gb2JzZXJ2ZXJcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgT2JzZXJ2ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIGNhbGxiYWNrIGFuZCB1bnJlZ2lzdGVycyBhZnRlciB0aGUgbmV4dCBub3RpZmljYXRpb25cbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gdGhlIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBmb3IgdGhhdCBPYnNlcnZlclxuICAgKiBAcmV0dXJucyB0aGUgbmV3IG9ic2VydmVyIGNyZWF0ZWQgZm9yIHRoZSBjYWxsYmFja1xuICAgKi9cbiAgcHVibGljIGFkZE9uY2UoY2FsbGJhY2s6IChldmVudERhdGE6IFQsIGV2ZW50U3RhdGU6IE9ic2VydmVyRXZlbnRTdGF0ZSkgPT4gdm9pZCk6IG51bGwgfCBPYnNlcnZlcjxUPiB7XG4gICAgcmV0dXJuIHRoaXMuYWRkKGNhbGxiYWNrLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0cnVlKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBPYnNlcnZlciBmcm9tIHRoZSBPYnNlcnZhYmxlIG9iamVjdFxuICAgKiBAcGFyYW0gb2JzZXJ2ZXIgLSB0aGUgaW5zdGFuY2Ugb2YgdGhlIE9ic2VydmVyIHRvIHJlbW92ZVxuICAgKiBAcmV0dXJucyBmYWxzZSBpZiBpdCBkb2Vzbid0IGJlbG9uZyB0byB0aGlzIE9ic2VydmFibGVcbiAgICovXG4gIHB1YmxpYyByZW1vdmUob2JzZXJ2ZXI6IG51bGwgfCBPYnNlcnZlcjxUPik6IGJvb2xlYW4ge1xuICAgIGlmICghb2JzZXJ2ZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fb2JzZXJ2ZXJzLmluZGV4T2Yob2JzZXJ2ZXIpXG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLl9kZWZlclVucmVnaXN0ZXIob2JzZXJ2ZXIpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGNhbGxiYWNrIGZyb20gdGhlIE9ic2VydmFibGUgb2JqZWN0XG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIHRoZSBjYWxsYmFjayB0byByZW1vdmVcbiAgICogQHBhcmFtIHNjb3BlIC0gb3B0aW9uYWwgc2NvcGUuIElmIHVzZWQgb25seSB0aGUgY2FsbGJhY2tzIHdpdGggdGhpcyBzY29wZSB3aWxsIGJlIHJlbW92ZWRcbiAgICogQHJldHVybnMgZmFsc2UgaWYgaXQgZG9lc24ndCBiZWxvbmcgdG8gdGhpcyBPYnNlcnZhYmxlXG4gICAqL1xuICBwdWJsaWMgcmVtb3ZlQ2FsbGJhY2soY2FsbGJhY2s6IChldmVudERhdGE6IFQsIGV2ZW50U3RhdGU6IE9ic2VydmVyRXZlbnRTdGF0ZSkgPT4gdm9pZCwgc2NvcGU/OiBhbnkpOiBib29sZWFuIHtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgaWYgKHRoaXMuX29ic2VydmVyc1tpbmRleF0uY2FsbGJhY2sgPT09IGNhbGxiYWNrICYmICghc2NvcGUgfHwgc2NvcGUgPT09IHRoaXMuX29ic2VydmVyc1tpbmRleF0uc2NvcGUpKSB7XG4gICAgICAgIHRoaXMuX2RlZmVyVW5yZWdpc3Rlcih0aGlzLl9vYnNlcnZlcnNbaW5kZXhdKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLyoqXG4gICAqIE5vdGlmeSBhbGwgT2JzZXJ2ZXJzIGJ5IGNhbGxpbmcgdGhlaXIgcmVzcGVjdGl2ZSBjYWxsYmFjayB3aXRoIHRoZSBnaXZlbiBkYXRhXG4gICAqIFdpbGwgcmV0dXJuIHRydWUgaWYgYWxsIG9ic2VydmVycyB3ZXJlIGV4ZWN1dGVkLCBmYWxzZSBpZiBhbiBvYnNlcnZlciBzZXQgc2tpcE5leHRPYnNlcnZlcnMgdG8gdHJ1ZSwgdGhlbiBwcmV2ZW50IHRoZSBzdWJzZXF1ZW50IG9uZXMgdG8gZXhlY3V0ZVxuICAgKiBAcGFyYW0gZXZlbnREYXRhIC0gZGVmaW5lcyB0aGUgZGF0YSB0byBzZW5kIHRvIGFsbCBvYnNlcnZlcnNcbiAgICogQHBhcmFtIG1hc2sgLSBkZWZpbmVzIHRoZSBtYXNrIG9mIHRoZSBjdXJyZW50IG5vdGlmaWNhdGlvbiAob2JzZXJ2ZXJzIHdpdGggaW5jb21wYXRpYmxlIG1hc2sgKGllIG1hc2sgJiBvYnNlcnZlci5tYXNrID09PSAwKSB3aWxsIG5vdCBiZSBub3RpZmllZClcbiAgICogQHBhcmFtIHRhcmdldCAtIGRlZmluZXMgdGhlIG9yaWdpbmFsIHRhcmdldCBvZiB0aGUgc3RhdGVcbiAgICogQHBhcmFtIGN1cnJlbnRUYXJnZXQgLSBkZWZpbmVzIHRoZSBjdXJyZW50IHRhcmdldCBvZiB0aGUgc3RhdGVcbiAgICogQHJldHVybnMgZmFsc2UgaWYgdGhlIGNvbXBsZXRlIG9ic2VydmVyIGNoYWluIHdhcyBub3QgcHJvY2Vzc2VkIChiZWNhdXNlIG9uZSBvYnNlcnZlciBzZXQgdGhlIHNraXBOZXh0T2JzZXJ2ZXJzIHRvIHRydWUpXG4gICAqL1xuICBwdWJsaWMgbm90aWZ5T2JzZXJ2ZXJzKGV2ZW50RGF0YTogVCwgbWFzazogbnVtYmVyID0gLTEsIHRhcmdldD86IGFueSwgY3VycmVudFRhcmdldD86IGFueSk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX2V2ZW50U3RhdGVcbiAgICBzdGF0ZS5tYXNrID0gbWFza1xuICAgIHN0YXRlLnRhcmdldCA9IHRhcmdldFxuICAgIHN0YXRlLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0XG4gICAgc3RhdGUuc2tpcE5leHRPYnNlcnZlcnMgPSBmYWxzZVxuICAgIHN0YXRlLmxhc3RSZXR1cm5WYWx1ZSA9IGV2ZW50RGF0YVxuXG4gICAgZm9yIChjb25zdCBvYnMgb2YgdGhpcy5fb2JzZXJ2ZXJzKSB7XG4gICAgICBpZiAob2JzLl93aWxsQmVVbnJlZ2lzdGVyZWQpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgaWYgKG9icy5tYXNrICYgbWFzaykge1xuICAgICAgICBpZiAob2JzLnNjb3BlKSB7XG4gICAgICAgICAgc3RhdGUubGFzdFJldHVyblZhbHVlID0gb2JzLmNhbGxiYWNrLmFwcGx5KG9icy5zY29wZSwgW2V2ZW50RGF0YSwgc3RhdGVdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlLmxhc3RSZXR1cm5WYWx1ZSA9IG9icy5jYWxsYmFjayhldmVudERhdGEsIHN0YXRlKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9icy51bnJlZ2lzdGVyT25OZXh0Q2FsbCkge1xuICAgICAgICAgIHRoaXMuX2RlZmVyVW5yZWdpc3RlcihvYnMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5za2lwTmV4dE9ic2VydmVycykge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsaW5nIHRoaXMgd2lsbCBleGVjdXRlIGVhY2ggY2FsbGJhY2ssIGV4cGVjdGluZyBpdCB0byBiZSBhIHByb21pc2Ugb3IgcmV0dXJuIGEgdmFsdWUuXG4gICAqIElmIGF0IGFueSBwb2ludCBpbiB0aGUgY2hhaW4gb25lIGZ1bmN0aW9uIGZhaWxzLCB0aGUgcHJvbWlzZSB3aWxsIGZhaWwgYW5kIHRoZSBleGVjdXRpb24gd2lsbCBub3QgY29udGludWUuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHdoZW4gYSBjaGFpbiBvZiBldmVudHMgKHNvbWV0aW1lcyBhc3luYyBldmVudHMpIGlzIG5lZWRlZCB0byBpbml0aWFsaXplIGEgY2VydGFpbiBvYmplY3RcbiAgICogYW5kIGl0IGlzIGNydWNpYWwgdGhhdCBhbGwgY2FsbGJhY2tzIHdpbGwgYmUgZXhlY3V0ZWQuXG4gICAqIFRoZSBvcmRlciBvZiB0aGUgY2FsbGJhY2tzIGlzIGtlcHQsIGNhbGxiYWNrcyBhcmUgbm90IGV4ZWN1dGVkIHBhcmFsbGVsLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnREYXRhIC0gVGhlIGRhdGEgdG8gYmUgc2VudCB0byBlYWNoIGNhbGxiYWNrXG4gICAqIEBwYXJhbSBtYXNrIC0gaXMgdXNlZCB0byBmaWx0ZXIgb2JzZXJ2ZXJzIGRlZmF1bHRzIHRvIC0xXG4gICAqIEBwYXJhbSB0YXJnZXQgLSBkZWZpbmVzIHRoZSBjYWxsYmFjayB0YXJnZXQgKHNlZSBFdmVudFN0YXRlKVxuICAgKiBAcGFyYW0gY3VycmVudFRhcmdldCAtIGRlZmluZXMgaGUgY3VycmVudCBvYmplY3QgaW4gdGhlIGJ1YmJsaW5nIHBoYXNlXG4gICAqIEByZXR1cm5zIHdpbGwgcmV0dXJuIGEgUHJvbWlzZSB0aGFuIHJlc29sdmVzIHdoZW4gYWxsIGNhbGxiYWNrcyBleGVjdXRlZCBzdWNjZXNzZnVsbHkuXG4gICAqL1xuICBwdWJsaWMgbm90aWZ5T2JzZXJ2ZXJzV2l0aFByb21pc2UoZXZlbnREYXRhOiBULCBtYXNrOiBudW1iZXIgPSAtMSwgdGFyZ2V0PzogYW55LCBjdXJyZW50VGFyZ2V0PzogYW55KTogUHJvbWlzZTxUPiB7XG4gICAgLy8gY3JlYXRlIGFuIGVtcHR5IHByb21pc2VcbiAgICBsZXQgcDogUHJvbWlzZTxhbnk+ID0gUHJvbWlzZS5yZXNvbHZlKGV2ZW50RGF0YSlcblxuICAgIC8vIG5vIG9ic2VydmVycz8gcmV0dXJuIHRoaXMgcHJvbWlzZS5cbiAgICBpZiAoIXRoaXMuX29ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBwXG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9ldmVudFN0YXRlXG4gICAgc3RhdGUubWFzayA9IG1hc2tcbiAgICBzdGF0ZS50YXJnZXQgPSB0YXJnZXRcbiAgICBzdGF0ZS5jdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldFxuICAgIHN0YXRlLnNraXBOZXh0T2JzZXJ2ZXJzID0gZmFsc2VcblxuICAgIC8vIGV4ZWN1dGUgb25lIGNhbGxiYWNrIGFmdGVyIGFub3RoZXIgKG5vdCB1c2luZyBQcm9taXNlLmFsbCwgdGhlIG9yZGVyIGlzIGltcG9ydGFudClcbiAgICB0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaCgob2JzKSA9PiB7XG4gICAgICBpZiAoc3RhdGUuc2tpcE5leHRPYnNlcnZlcnMpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAob2JzLl93aWxsQmVVbnJlZ2lzdGVyZWQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAob2JzLm1hc2sgJiBtYXNrKSB7XG4gICAgICAgIGlmIChvYnMuc2NvcGUpIHtcbiAgICAgICAgICBwID0gcC50aGVuKChsYXN0UmV0dXJuZWRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUubGFzdFJldHVyblZhbHVlID0gbGFzdFJldHVybmVkVmFsdWVcbiAgICAgICAgICAgIHJldHVybiBvYnMuY2FsbGJhY2suYXBwbHkob2JzLnNjb3BlLCBbZXZlbnREYXRhLCBzdGF0ZV0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwID0gcC50aGVuKChsYXN0UmV0dXJuZWRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUubGFzdFJldHVyblZhbHVlID0gbGFzdFJldHVybmVkVmFsdWVcbiAgICAgICAgICAgIHJldHVybiBvYnMuY2FsbGJhY2soZXZlbnREYXRhLCBzdGF0ZSlcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChvYnMudW5yZWdpc3Rlck9uTmV4dENhbGwpIHtcbiAgICAgICAgICB0aGlzLl9kZWZlclVucmVnaXN0ZXIob2JzKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIHJldHVybiB0aGUgZXZlbnREYXRhXG4gICAgcmV0dXJuIHAudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gZXZlbnREYXRhXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3RpZnkgYSBzcGVjaWZpYyBvYnNlcnZlclxuICAgKiBAcGFyYW0gb2JzZXJ2ZXIgLSBkZWZpbmVzIHRoZSBvYnNlcnZlciB0byBub3RpZnlcbiAgICogQHBhcmFtIGV2ZW50RGF0YSAtIGRlZmluZXMgdGhlIGRhdGEgdG8gYmUgc2VudCB0byBlYWNoIGNhbGxiYWNrXG4gICAqIEBwYXJhbSBtYXNrIC0gaXMgdXNlZCB0byBmaWx0ZXIgb2JzZXJ2ZXJzIGRlZmF1bHRzIHRvIC0xXG4gICAqL1xuICBwdWJsaWMgbm90aWZ5T2JzZXJ2ZXIob2JzZXJ2ZXI6IE9ic2VydmVyPFQ+LCBldmVudERhdGE6IFQsIG1hc2s6IG51bWJlciA9IC0xKTogdm9pZCB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9ldmVudFN0YXRlXG4gICAgc3RhdGUubWFzayA9IG1hc2tcbiAgICBzdGF0ZS5za2lwTmV4dE9ic2VydmVycyA9IGZhbHNlXG5cbiAgICBvYnNlcnZlci5jYWxsYmFjayhldmVudERhdGEsIHN0YXRlKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBib29sZWFuIGluZGljYXRpbmcgaWYgdGhlIG9ic2VydmFibGUgaGFzIGF0IGxlYXN0IG9uZSBvYnNlcnZlclxuICAgKiBAcmV0dXJucyB0cnVlIGlzIHRoZSBPYnNlcnZhYmxlIGhhcyBhdCBsZWFzdCBvbmUgT2JzZXJ2ZXIgcmVnaXN0ZXJlZFxuICAgKi9cbiAgcHVibGljIGhhc09ic2VydmVycygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aCA+IDBcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciB0aGUgbGlzdCBvZiBvYnNlcnZlcnNcbiAgICovXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLl9vYnNlcnZlcnMgPSBuZXcgQXJyYXk8T2JzZXJ2ZXI8VD4+KClcbiAgICB0aGlzLl9vbk9ic2VydmVyQWRkZWQgPSBudWxsXG4gIH1cblxuICAvKipcbiAgICogQ2xvbmUgdGhlIGN1cnJlbnQgb2JzZXJ2YWJsZVxuICAgKiBAcmV0dXJucyBhIG5ldyBvYnNlcnZhYmxlXG4gICAqL1xuICBwdWJsaWMgY2xvbmUoKTogT2JzZXJ2YWJsZTxUPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IE9ic2VydmFibGU8VD4oKVxuXG4gICAgcmVzdWx0Ll9vYnNlcnZlcnMgPSB0aGlzLl9vYnNlcnZlcnMuc2xpY2UoMClcblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBEb2VzIHRoaXMgb2JzZXJ2YWJsZSBoYW5kbGVzIG9ic2VydmVyIHJlZ2lzdGVyZWQgd2l0aCBhIGdpdmVuIG1hc2tcbiAgICogQHBhcmFtIG1hc2sgLSBkZWZpbmVzIHRoZSBtYXNrIHRvIGJlIHRlc3RlZFxuICAgKiBAcmV0dXJucyB3aGV0aGVyIG9yIG5vdCBvbmUgb2JzZXJ2ZXIgcmVnaXN0ZXJlZCB3aXRoIHRoZSBnaXZlbiBtYXNrIGlzIGhhbmRlbGVkXG4gICAqL1xuICBwdWJsaWMgaGFzU3BlY2lmaWNNYXNrKG1hc2s6IG51bWJlciA9IC0xKTogYm9vbGVhbiB7XG4gICAgZm9yIChjb25zdCBvYnMgb2YgdGhpcy5fb2JzZXJ2ZXJzKSB7XG4gICAgICBpZiAob2JzLm1hc2sgJiBtYXNrIHx8IG9icy5tYXNrID09PSBtYXNrKSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcHJpdmF0ZSBfZGVmZXJVbnJlZ2lzdGVyKG9ic2VydmVyOiBPYnNlcnZlcjxUPik6IHZvaWQge1xuICAgIG9ic2VydmVyLnVucmVnaXN0ZXJPbk5leHRDYWxsID0gZmFsc2VcbiAgICBvYnNlcnZlci5fd2lsbEJlVW5yZWdpc3RlcmVkID0gdHJ1ZVxuICAgIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAudGhlbi5iaW5kKFByb21pc2UucmVzb2x2ZSgpKShhc3luYyAoKSA9PiB0aGlzLl9yZW1vdmUob2JzZXJ2ZXIpKVxuICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gIH1cblxuICAvLyBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuIG5vdCBpdGVyYXRpbmcgb3ZlciBfb2JzZXJ2ZXJzIHRvIGF2b2lkIGNhbGxiYWNrIHNraXBwaW5nLlxuICAvLyBSZW1vdmVzIGFuIG9ic2VydmVyIGZyb20gdGhlIF9vYnNlcnZlciBBcnJheS5cbiAgcHJpdmF0ZSBfcmVtb3ZlKG9ic2VydmVyOiBudWxsIHwgT2JzZXJ2ZXI8VD4pOiBib29sZWFuIHtcbiAgICBpZiAoIW9ic2VydmVyKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX29ic2VydmVycy5pbmRleE9mKG9ic2VydmVyKVxuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5fb2JzZXJ2ZXJzLnNwbGljZShpbmRleCwgMSlcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cbiIsICJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9pbnRlcm5hbC9PYnNlcnZhYmxlJ1xuaW1wb3J0IHsgUXVhdGVybmlvblR5cGUsIFZlY3RvcjNUeXBlIH0gZnJvbSAnQGRjbC9lY3MnXG5pbXBvcnQgeyBNYW55RW50aXR5QWN0aW9uLCBTZW5kQmF0Y2hSZXNwb25zZSwgc3Vic2NyaWJlIH0gZnJvbSAnfnN5c3RlbS9FbmdpbmVBcGknXG5cbmxldCBzdWJzY3JpYmVGdW5jdGlvbjogdHlwZW9mIHN1YnNjcmliZSA9IHN1YnNjcmliZVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgSW5wdXRFdmVudFJlc3VsdCA9IHtcbiAgLyoqIE9yaWdpbiBvZiB0aGUgcmF5LCByZWxhdGl2ZSB0byB0aGUgc2NlbmUgKi9cbiAgb3JpZ2luOiBWZWN0b3IzVHlwZVxuICAvKiogRGlyZWN0aW9uIHZlY3RvciBvZiB0aGUgcmF5IChub3JtYWxpemVkKSAqL1xuICBkaXJlY3Rpb246IFZlY3RvcjNUeXBlXG4gIC8qKiBJRCBvZiB0aGUgcG9pbnRlciB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnQgKi9cbiAgYnV0dG9uSWQ6IG51bWJlclxuICAvKiogRG9lcyB0aGlzIHBvaW50ZXIgZXZlbnQgaGl0IGFueSBvYmplY3Q/ICovXG4gIGhpdD86IHtcbiAgICAvKiogTGVuZ3RoIG9mIHRoZSByYXkgKi9cbiAgICBsZW5ndGg6IG51bWJlclxuICAgIC8qKiBJZiB0aGUgcmF5IGhpdHMgYSBtZXNoIHRoZSBpbnRlcnNlY3Rpb24gcG9pbnQgd2lsbCBiZSB0aGlzICovXG4gICAgaGl0UG9pbnQ6IFZlY3RvcjNUeXBlXG4gICAgLyoqIElmIHRoZSBtZXNoIGhhcyBhIG5hbWUsIGl0IHdpbGwgYmUgYXNzaWduZWQgdG8gbWVzaE5hbWUgKi9cbiAgICBtZXNoTmFtZTogc3RyaW5nXG4gICAgLyoqIE5vcm1hbCBvZiB0aGUgaGl0ICovXG4gICAgbm9ybWFsOiBWZWN0b3IzVHlwZVxuICAgIC8qKiBOb3JtYWwgb2YgdGhlIGhpdCwgaW4gd29ybGQgc3BhY2UgKi9cbiAgICB3b3JsZE5vcm1hbDogVmVjdG9yM1R5cGVcbiAgICAvKiogSGl0IGVudGl0eSBJRCBpZiBhbnkgKi9cbiAgICBlbnRpdHlJZDogdW5rbm93blxuICB9XG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBHbG9iYWxJbnB1dEV2ZW50UmVzdWx0ID0gSW5wdXRFdmVudFJlc3VsdCAmIHtcbiAgLyoqXG4gICAqIERPV04gPSAwLFxuICAgKiBVUCA9IDFcbiAgICovXG4gIHR5cGU6IDAgfCAxXG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBSYXljYXN0UmVzcG9uc2VQYXlsb2FkPFQ+ID0ge1xuICBxdWVyeUlkOiBzdHJpbmdcbiAgcXVlcnlUeXBlOiBzdHJpbmdcbiAgcGF5bG9hZDogVFxufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgR2l6bW9EcmFnRW5kRXZlbnQgPSB7XG4gIHR5cGU6ICdnaXptb0RyYWdFbmRlZCdcbiAgdHJhbnNmb3JtczogQXJyYXk8e1xuICAgIHBvc2l0aW9uOiBWZWN0b3IzVHlwZVxuICAgIHJvdGF0aW9uOiBRdWF0ZXJuaW9uVHlwZVxuICAgIHNjYWxlOiBWZWN0b3IzVHlwZVxuICAgIGVudGl0eUlkOiB1bmtub3duXG4gIH0+XG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBHaXptb1NlbGVjdGVkRXZlbnQgPSB7XG4gIHR5cGU6ICdnaXptb1NlbGVjdGVkJ1xuICBnaXptb1R5cGU6ICdNT1ZFJyB8ICdST1RBVEUnIHwgJ1NDQUxFJyB8ICdOT05FJ1xuICBlbnRpdGllczogc3RyaW5nW11cbn1cblxuLy8vIC0tLSBFVkVOVFMgLS0tXG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBJRXZlbnROYW1lcyA9IGtleW9mIElFdmVudHNcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIEVuZ2luZUV2ZW50PFQgZXh0ZW5kcyBJRXZlbnROYW1lcyA9IElFdmVudE5hbWVzLCBWID0gSUV2ZW50c1tUXT4gPSB7XG4gIC8qKiBldmVudE5hbWUgKi9cbiAgdHlwZTogVFxuICBkYXRhOiBSZWFkb25seTxWPlxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqIE5vdGU6IERvbid0IHVzZSBgb25gIHByZWZpeCBmb3IgSUV2ZW50cyB0byBhdm9pZCByZWR1bmRhbmN5IHdpdGggYGV2ZW50Lm9uKFwib25FdmVudE5hbWVcIilgIHN5bnRheC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJRXZlbnRzIHtcbiAgLyoqXG4gICAqIGBwb3NpdGlvbkNoYW5nZWRgIGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBwb3NpdGlvbiBvZiB0aGUgY2FtZXJhIGNoYW5nZXNcbiAgICogVGhpcyBldmVudCBpcyB0aHJvdHRsZWQgdG8gMTAgdGltZXMgcGVyIHNlY29uZC5cbiAgICovXG4gIHBvc2l0aW9uQ2hhbmdlZDoge1xuICAgIC8qKiBDYW1lcmEgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIGJhc2UgcGFyY2VsIG9mIHRoZSBzY2VuZSAqL1xuICAgIHBvc2l0aW9uOiBWZWN0b3IzVHlwZVxuXG4gICAgLyoqIENhbWVyYSBwb3NpdGlvbiwgdGhpcyBpcyBhIGFic29sdXRlIHdvcmxkIHBvc2l0aW9uICovXG4gICAgY2FtZXJhUG9zaXRpb246IFZlY3RvcjNUeXBlXG5cbiAgICAvKiogRXllIGhlaWdodCwgaW4gbWV0ZXJzLiAqL1xuICAgIHBsYXllckhlaWdodDogbnVtYmVyXG4gIH1cblxuICAvKipcbiAgICogYHJvdGF0aW9uQ2hhbmdlZGAgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIHJvdGF0aW9uIG9mIHRoZSBjYW1lcmEgY2hhbmdlcy5cbiAgICogVGhpcyBldmVudCBpcyB0aHJvdHRsZWQgdG8gMTAgdGltZXMgcGVyIHNlY29uZC5cbiAgICovXG4gIHJvdGF0aW9uQ2hhbmdlZDoge1xuICAgIC8qKiBEZWdyZWUgdmVjdG9yLiBTYW1lIGFzIGVudGl0aWVzICovXG4gICAgcm90YXRpb246IFZlY3RvcjNUeXBlXG4gICAgLyoqIFJvdGF0aW9uIHF1YXRlcm5pb24sIHVzZWZ1bCBpbiBzb21lIHNjZW5hcmlvcy4gKi9cbiAgICBxdWF0ZXJuaW9uOiBRdWF0ZXJuaW9uVHlwZVxuICB9XG5cbiAgLyoqXG4gICAqIGBjYW1lcmFNb2RlQ2hhbmdlZGAgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyB0aGUgY2FtZXJhIG1vZGVcbiAgICovXG4gIGNhbWVyYU1vZGVDaGFuZ2VkOiB7XG4gICAgLyoqXG4gICAgICogRklSU1RfUEVSU09OID0gMCxcbiAgICAgKiBUSElSRF9QRVJTT04gPSAxLFxuICAgICAqIEZSRUVfQ0FNRVJBID0gMlxuICAgICAqL1xuICAgIGNhbWVyYU1vZGU6IDAgfCAxIHwgMlxuICB9XG5cbiAgLyoqXG4gICAqIGBpZGxlU3RhdGVDaGFuZ2VkYCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBub3QgbW92ZXMgZm9yIGEgZGVmaW5lZCBwZXJpb2Qgb2YgdGltZVxuICAgKi9cbiAgaWRsZVN0YXRlQ2hhbmdlZDoge1xuICAgIGlzSWRsZTogYm9vbGVhblxuICB9XG5cbiAgcGxheWVyRXhwcmVzc2lvbjoge1xuICAgIGV4cHJlc3Npb25JZDogc3RyaW5nXG4gIH1cblxuICAvKipcbiAgICogYHBvaW50ZXJVcGAgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgcmVsZWFzZXMgYW4gaW5wdXQgcG9pbnRlci5cbiAgICogSXQgY291bGQgYmUgYSBWUiBjb250cm9sbGVyLCBhIHRvdWNoIHNjcmVlbiBvciB0aGUgbW91c2UuXG4gICAqL1xuICBwb2ludGVyVXA6IElucHV0RXZlbnRSZXN1bHRcblxuICAvKipcbiAgICogYHBvaW50ZXJEb3duYCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBwcmVzcyBhbiBpbnB1dCBwb2ludGVyLlxuICAgKiBJdCBjb3VsZCBiZSBhIFZSIGNvbnRyb2xsZXIsIGEgdG91Y2ggc2NyZWVuIG9yIHRoZSBtb3VzZS5cbiAgICovXG4gIHBvaW50ZXJEb3duOiBJbnB1dEV2ZW50UmVzdWx0XG5cbiAgLyoqXG4gICAqIGBwb2ludGVyRXZlbnRgIGlzIHRyaWdnZXJlZCB3aGVuIHRoZSB1c2VyIHByZXNzIG9yIHJlbGVhc2VzIGFuIGlucHV0IHBvaW50ZXIuXG4gICAqIEl0IGNvdWxkIGJlIGEgVlIgY29udHJvbGxlciwgYSB0b3VjaCBzY3JlZW4gb3IgdGhlIG1vdXNlLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYWN0aW9uQnV0dG9uRXZlbnQgaW5zdGVhZFxuICAgKi9cbiAgcG9pbnRlckV2ZW50OiBHbG9iYWxJbnB1dEV2ZW50UmVzdWx0XG5cbiAgLyoqXG4gICAqIGBhY3Rpb25CdXR0b25FdmVudGAgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgcHJlc3Mgb3IgcmVsZWFzZXMgYW4gaW5wdXQgcG9pbnRlci5cbiAgICogSXQgY291bGQgYmUgYSBWUiBjb250cm9sbGVyLCBhIHRvdWNoIHNjcmVlbiBvciB0aGUgbW91c2UuXG4gICAqXG4gICAqIFRoaXMgZXZlbnQgaXMgZXhhY3RseSB0aGUgc2FtZSBhcyBgcG9pbnRlckV2ZW50YCBidXQgdGhlIGxvZ2ljIGluIHRoZSBFQ1MgaGFkIGFuIHVuc29sdmFibGVcbiAgICogY29uZGl0aW9uIHRoYXQgcmVxdWlyZWQgdXMgdG8gY3JlYXRlIHRoaXMgbmV3IGV2ZW50IHRvIGhhbmRsZSBtb3JlIGNhc2VzIGZvciBuZXcgYnV0dG9ucy5cbiAgICovXG4gIGFjdGlvbkJ1dHRvbkV2ZW50OiBHbG9iYWxJbnB1dEV2ZW50UmVzdWx0XG5cbiAgLyoqXG4gICAqIGByYXljYXN0UmVzcG9uc2VgIGlzIHRyaWdnZXJlZCBpbiByZXNwb25zZSB0byBhIHJheWNhc3QgcXVlcnlcbiAgICovXG4gIHJheWNhc3RSZXNwb25zZTogUmF5Y2FzdFJlc3BvbnNlUGF5bG9hZDxhbnk+XG5cbiAgLyoqXG4gICAqIGBjaGF0TWVzc2FnZWAgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgc2VuZHMgYSBtZXNzYWdlIHRocm91Z2ggY2hhdCBlbnRpdHkuXG4gICAqL1xuICBjaGF0TWVzc2FnZToge1xuICAgIGlkOiBzdHJpbmdcbiAgICBzZW5kZXI6IHN0cmluZ1xuICAgIG1lc3NhZ2U6IHN0cmluZ1xuICAgIGlzQ29tbWFuZDogYm9vbGVhblxuICB9XG5cbiAgLyoqXG4gICAqIGBvbkNoYW5nZWAgaXMgdHJpZ2dlcmVkIHdoZW4gYW4gZW50aXR5IGNoYW5nZXMgaXRzIG93biBpbnRlcm5hbCBzdGF0ZS5cbiAgICogRGlzcGF0Y2hlZCBieSB0aGUgYHVpLSpgIGVudGl0aWVzIHdoZW4gdGhlaXIgdmFsdWUgaXMgY2hhbmdlZC4gSXQgdHJpZ2dlcnMgYSBjYWxsYmFjay5cbiAgICogTm90aWNlOiBPbmx5IGVudGl0aWVzIHdpdGggSUQgd2lsbCBiZSBsaXN0ZW5pbmcgZm9yIGNsaWNrIGV2ZW50cy5cbiAgICovXG4gIG9uQ2hhbmdlOiB7XG4gICAgdmFsdWU/OiBhbnlcbiAgICAvKiogSUQgb2YgdGhlIHBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50ICovXG4gICAgcG9pbnRlcklkPzogbnVtYmVyXG4gIH1cblxuICAvKipcbiAgICogYG9uRW50ZXJgIGlzIHRyaWdnZXJlZCB3aGVuIHRoZSB1c2VyIGhpdHMgdGhlIFwiRW50ZXJcIiBrZXkgZnJvbSB0aGUga2V5Ym9hcmRcbiAgICogVXNlZCBwcmluY2lwYWxseSBieSB0aGUgQ2hhdCBpbnRlcm5hbCBzY2VuZVxuICAgKi9cbiAgb25FbnRlcjogdW5rbm93blxuXG4gIC8qKlxuICAgKiBgb25Qb2ludGVyTG9ja2AgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZSB3b3JsZCBjYW52YXMgYW5kIHRoZVxuICAgKiBwb2ludGVyIGxvY2tzIHRvIGl0IHNvIHRoZSBwb2ludGVyIG1vdmVzIHRoZSBjYW1lcmFcbiAgICovXG4gIG9uUG9pbnRlckxvY2s6IHtcbiAgICBsb2NrZWQ/OiBib29sZWFuXG4gIH1cblxuICAvKipcbiAgICogYG9uQW5pbWF0aW9uRW5kYCBpcyB0cmlnZ2VyZWQgd2hlbiBhbiBhbmltYXRpb24gY2xpcCBnZXRzIGZpbmlzaFxuICAgKi9cbiAgb25BbmltYXRpb25FbmQ6IHtcbiAgICBjbGlwTmFtZTogc3RyaW5nXG4gIH1cblxuICAvKipcbiAgICogYG9uRm9jdXNgIGlzIHRyaWdnZXJlZCB3aGVuIGFuIGVudGl0eSBmb2N1cyBpcyBhY3RpdmUuXG4gICAqIERpc3BhdGNoZWQgYnkgdGhlIGB1aS1pbnB1dGAgYW5kIGB1aS1wYXNzd29yZGAgZW50aXRpZXMgd2hlbiB0aGUgdmFsdWUgaXMgY2hhbmdlZC5cbiAgICogSXQgdHJpZ2dlcnMgYSBjYWxsYmFjay5cbiAgICpcbiAgICogTm90aWNlOiBPbmx5IGVudGl0aWVzIHdpdGggSUQgd2lsbCBiZSBsaXN0ZW5pbmcgZm9yIGNsaWNrIGV2ZW50cy5cbiAgICovXG4gIG9uRm9jdXM6IHtcbiAgICAvKiogSUQgb2YgdGhlIGVudGl0aXkgb2YgdGhlIGV2ZW50ICovXG4gICAgZW50aXR5SWQ6IHVua25vd25cbiAgICAvKiogSUQgb2YgdGhlIHBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50ICovXG4gICAgcG9pbnRlcklkOiBudW1iZXJcbiAgfVxuXG4gIC8qKlxuICAgKiBgb25CbHVyYCBpcyB0cmlnZ2VyZWQgd2hlbiBhbiBlbnRpdHkgbG9zZXMgaXRzIGZvY3VzLlxuICAgKiBEaXNwYXRjaGVkIGJ5IHRoZSBgdWktaW5wdXRgIGFuZCBgdWktcGFzc3dvcmRgIGVudGl0aWVzIHdoZW4gdGhlIHZhbHVlIGlzIGNoYW5nZWQuXG4gICAqICBJdCB0cmlnZ2VycyBhIGNhbGxiYWNrLlxuICAgKlxuICAgKiBOb3RpY2U6IE9ubHkgZW50aXRpZXMgd2l0aCBJRCB3aWxsIGJlIGxpc3RlbmluZyBmb3IgY2xpY2sgZXZlbnRzLlxuICAgKi9cbiAgb25CbHVyOiB7XG4gICAgLyoqIElEIG9mIHRoZSBlbnRpdGl5IG9mIHRoZSBldmVudCAqL1xuICAgIGVudGl0eUlkOiB1bmtub3duXG4gICAgLyoqIElEIG9mIHRoZSBwb2ludGVyIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudCAqL1xuICAgIHBvaW50ZXJJZDogbnVtYmVyXG4gIH1cblxuICAvKiogVGhlIG9uQ2xpY2sgZXZlbnQgaXMgb25seSB1c2VkIGZvciBVSSBlbGVtZW50cyAqL1xuICBvbkNsaWNrOiB7XG4gICAgZW50aXR5SWQ6IHVua25vd25cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGV2ZW50IGdldHMgdHJpZ2dlcmVkIHdoZW4gYW4gZW50aXR5IGxlYXZlcyB0aGUgc2NlbmUgZmVuY2VzLlxuICAgKi9cbiAgZW50aXR5T3V0T2ZTY2VuZToge1xuICAgIGVudGl0eUlkOiB1bmtub3duXG4gIH1cblxuICAvKipcbiAgICogVGhpcyBldmVudCBnZXRzIHRyaWdnZXJlZCB3aGVuIGFuIGVudGl0eSBlbnRlcnMgdGhlIHNjZW5lIGZlbmNlcy5cbiAgICovXG4gIGVudGl0eUJhY2tJblNjZW5lOiB7XG4gICAgZW50aXR5SWQ6IHVua25vd25cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGV2ZW50IGdldHMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgZW50ZXJzIHRoZSBzY2VuZVxuICAgKi9cbiAgb25FbnRlclNjZW5lOiB7XG4gICAgdXNlcklkOiBzdHJpbmdcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGV2ZW50IGdldHMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgbGVhdmVzIHRoZSBzY2VuZVxuICAgKi9cbiAgb25MZWF2ZVNjZW5lOiB7XG4gICAgdXNlcklkOiBzdHJpbmdcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGV2ZW50IGdldHMgdHJpZ2dlcmVkIGFmdGVyIHJlY2VpdmluZyBhIGNvbW1zIG1lc3NhZ2UuXG4gICAqL1xuICBjb21tczoge1xuICAgIHNlbmRlcjogc3RyaW5nXG4gICAgbWVzc2FnZTogc3RyaW5nXG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB0cmlnZ2VyZWQgb25jZSB0aGUgc2NlbmUgc2hvdWxkIHN0YXJ0LlxuICAgKi9cbiAgc2NlbmVTdGFydDogdW5rbm93blxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRyaWdnZXJlZCBvbmNlIHRoZSBidWlsZGVyIHNjZW5lIGlzIGxvYWRlZC5cbiAgICovXG4gIGJ1aWxkZXJTY2VuZVN0YXJ0OiB1bmtub3duXG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdHJpZ2dlcmVkIG9uY2UgdGhlIGJ1aWxkZXIgc2NlbmUgaXMgdW5sb2FkZWQuXG4gICAqL1xuICBidWlsZGVyU2NlbmVVbmxvYWRlZDogdW5rbm93blxuXG4gIC8qKlxuICAgKiBBZnRlciBjaGVja2luZyBlbnRpdGllcyBvdXRzaWRlIHRoZSBmZW5jZXMsIGlmIGFueSBpcyBvdXRzaWRlLCB0aGlzIGV2ZW50XG4gICAqIHdpbGwgYmUgdHJpZ2dlcmVkIHdpdGggYWxsIHRoZSBlbnRpdGllcyBvdXRzaWRlIHRoZSBzY2VuZS5cbiAgICovXG4gIGVudGl0aWVzT3V0T2ZCb3VuZGFyaWVzOiB7XG4gICAgZW50aXRpZXM6IHN0cmluZ1tdXG4gIH1cblxuICB1dWlkRXZlbnQ6IHtcbiAgICB1dWlkOiBzdHJpbmdcbiAgICBwYXlsb2FkOiBhbnlcbiAgfVxuXG4gIG9uVGV4dFN1Ym1pdDoge1xuICAgIHRleHQ6IHN0cmluZ1xuICB9XG5cbiAgbWV0cmljc1VwZGF0ZToge1xuICAgIGdpdmVuOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+XG4gICAgbGltaXQ6IFJlY29yZDxzdHJpbmcsIG51bWJlcj5cbiAgfVxuXG4gIGxpbWl0c0V4Y2VlZGVkOiB7XG4gICAgZ2l2ZW46IFJlY29yZDxzdHJpbmcsIG51bWJlcj5cbiAgICBsaW1pdDogUmVjb3JkPHN0cmluZywgbnVtYmVyPlxuICB9XG5cbiAgLyoqIEZvciBnaXptb3MgKi9cbiAgZ2l6bW9FdmVudDogR2l6bW9EcmFnRW5kRXZlbnQgfCBHaXptb1NlbGVjdGVkRXZlbnRcblxuICBleHRlcm5hbEFjdGlvbjoge1xuICAgIHR5cGU6IHN0cmluZ1xuICAgIFtrZXk6IHN0cmluZ106IGFueVxuICB9XG5cbiAgc3RhdGVFdmVudDoge1xuICAgIHR5cGU6IHN0cmluZ1xuICAgIHBheWxvYWQ6IGFueVxuICB9XG5cbiAgLyoqIFRoaXMgaXMgdHJpZ2dlcmVkIGF0IGxlYXN0IGZvciBlYWNoIHZpZGVvU3RhdHVzIGNoYW5nZSAqL1xuICB2aWRlb0V2ZW50OiB7XG4gICAgY29tcG9uZW50SWQ6IHN0cmluZ1xuICAgIHZpZGVvQ2xpcElkOiBzdHJpbmdcbiAgICAvKiogU3RhdHVzLCBjYW4gYmUgTk9ORSA9IDAsIEVSUk9SID0gMSwgTE9BRElORyA9IDIsIFJFQURZID0gMywgUExBWUlORyA9IDQsQlVGRkVSSU5HID0gNSAqL1xuICAgIHZpZGVvU3RhdHVzOiBudW1iZXJcbiAgICAvKiogQ3VycmVudCBvZmZzZXQgcG9zaXRpb24gaW4gc2Vjb25kcyAqL1xuICAgIGN1cnJlbnRPZmZzZXQ6IG51bWJlclxuICAgIC8qKiBWaWRlbyBsZW5ndGggaW4gc2Vjb25kcy4gQ2FuIGJlIC0xICovXG4gICAgdG90YWxWaWRlb0xlbmd0aDogbnVtYmVyXG4gIH1cblxuICAvKiogVGhpcyBpcyB0cmlnZ2VyIGV2ZXJ5dGltZSBhIHByb2ZpbGUgaXMgY2hhbmdlZCAqL1xuICBwcm9maWxlQ2hhbmdlZDoge1xuICAgIGV0aEFkZHJlc3M6IHN0cmluZ1xuICAgIHZlcnNpb246IG51bWJlclxuICB9XG5cbiAgLyoqIFRyaWdnZXJlZCB3aGVuIHBlZXIncyBhdmF0YXIgaXMgY29ubmVjdGVkIGFuZCB2aXNpYmxlICovXG4gIHBsYXllckNvbm5lY3RlZDoge1xuICAgIHVzZXJJZDogc3RyaW5nXG4gIH1cblxuICAvKiogVHJpZ2dlcmVkIHdoZW4gcGVlciBkaXNjb25uZWN0IGFuZC9vciBpdCBhdmF0YXIgaXMgc2V0IGludmlzaWJsZSBieSBjb21tcyAqL1xuICBwbGF5ZXJEaXNjb25uZWN0ZWQ6IHtcbiAgICB1c2VySWQ6IHN0cmluZ1xuICB9XG5cbiAgLyoqIFRyaWdnZXJlZCB3aGVuIGN1cnJlbnQgcmVhbG0gb3IgaXNsYW5kIGNoYW5nZXMgKi9cbiAgb25SZWFsbUNoYW5nZWQ6IHtcbiAgICBkb21haW46IHN0cmluZ1xuICAgIHJvb206IHN0cmluZ1xuICAgIHNlcnZlck5hbWU6IHN0cmluZ1xuICAgIGRpc3BsYXlOYW1lOiBzdHJpbmdcbiAgfVxuXG4gIC8qKiBUcmlnZ2VyZWQgd2hlbiBvdGhlciBwbGF5ZXIncyBhdmF0YXIgaXMgY2xpY2tlZCAqL1xuICBwbGF5ZXJDbGlja2VkOiB7XG4gICAgdXNlcklkOiBzdHJpbmdcbiAgICByYXk6IHtcbiAgICAgIG9yaWdpbjogVmVjdG9yM1R5cGVcbiAgICAgIGRpcmVjdGlvbjogVmVjdG9yM1R5cGVcbiAgICAgIGRpc3RhbmNlOiBudW1iZXJcbiAgICB9XG4gIH1cblxuICAvKiogVHJpZ2dlcmVkIHdoZW4gcG9pbnRlciBzdGFydCBob3ZlcmluZyBhbiBlbnRpdGllcycgc2hhcGUgKi9cbiAgcG9pbnRlckhvdmVyRW50ZXI6IHVua25vd25cblxuICAvKiogVHJpZ2dlcmVkIHdoZW4gcG9pbnRlciBzdG9wIGhvdmVyaW5nIGFuIGVudGl0aWVzJyBzaGFwZSAqL1xuICBwb2ludGVySG92ZXJFeGl0OiB1bmtub3duXG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKiBUaGlzIGZ1bmN0aW9uIGdlbmVyYXRlcyBhIGNhbGxiYWNrIHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBPYnNlcnZhYmxlXG4gKiBjb25zdHJ1Y3RvciB0byBzdWJzY3JpYmUgdG8gdGhlIGV2ZW50cyBvZiB0aGUgRGVjZW50cmFsYW5kSW50ZXJmYWNlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVN1YnNjcmliZXIoZXZlbnROYW1lOiBzdHJpbmcpIHtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBzdWJzY3JpYmVGdW5jdGlvbih7IGV2ZW50SWQ6IGV2ZW50TmFtZSB9KS5jYXRjaChjb25zb2xlLmVycm9yKVxuICB9XG59XG5cbi8qKlxuICogVGhlc2UgZXZlbnRzIGFyZSB0cmlnZ2VyZWQgYWZ0ZXIgeW91ciBjaGFyYWN0ZXIgZW50ZXJzIHRoZSBzY2VuZS5cbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvbkVudGVyU2NlbmVPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1snb25FbnRlclNjZW5lJ10+KGNyZWF0ZVN1YnNjcmliZXIoJ29uRW50ZXJTY2VuZScpKVxuLyoqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLiBVc2Ugb25FbnRlclNjZW5lT2JzZXJ2YWJsZSBpbnN0ZWFkLiAqL1xuZXhwb3J0IGNvbnN0IG9uRW50ZXJTY2VuZSA9IG9uRW50ZXJTY2VuZU9ic2VydmFibGVcblxuLyoqXG4gKiBUaGVzZSBldmVudHMgYXJlIHRyaWdnZXJlZCBhZnRlciB5b3VyIGNoYXJhY3RlciBsZWF2ZXMgdGhlIHNjZW5lLlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IG9uTGVhdmVTY2VuZU9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxJRXZlbnRzWydvbkxlYXZlU2NlbmUnXT4oY3JlYXRlU3Vic2NyaWJlcignb25MZWF2ZVNjZW5lJykpXG5cbi8qKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC4gVXNlIG9uTGVhdmVTY2VuZU9ic2VydmFibGUgaW5zdGVhZC4gKi9cbmV4cG9ydCBjb25zdCBvbkxlYXZlU2NlbmUgPSBvbkxlYXZlU2NlbmVPYnNlcnZhYmxlXG5cbi8qKlxuICogVGhpcyBldmVudCBpcyB0cmlnZ2VyZWQgYWZ0ZXIgYWxsIHRoZSByZXNvdXJjZXMgb2YgdGhlIHNjZW5lIHdlcmUgbG9hZGVkIChtb2RlbHMsIHRleHR1cmVzLCBldGMuLi4pXG4gKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICovXG5leHBvcnQgY29uc3Qgb25TY2VuZVJlYWR5T2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ3NjZW5lU3RhcnQnXT4oY3JlYXRlU3Vic2NyaWJlcignc2NlbmVTdGFydCcpKVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvblBsYXllckV4cHJlc3Npb25PYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1sncGxheWVyRXhwcmVzc2lvbiddPihcbiAgY3JlYXRlU3Vic2NyaWJlcigncGxheWVyRXhwcmVzc2lvbicpXG4pXG5cbi8qKlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IG9uVmlkZW9FdmVudCA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ3ZpZGVvRXZlbnQnXT4oY3JlYXRlU3Vic2NyaWJlcigndmlkZW9FdmVudCcpKVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvblByb2ZpbGVDaGFuZ2VkID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1sncHJvZmlsZUNoYW5nZWQnXT4oY3JlYXRlU3Vic2NyaWJlcigncHJvZmlsZUNoYW5nZWQnKSlcblxuLyoqXG4gKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICovXG5leHBvcnQgY29uc3Qgb25QbGF5ZXJDb25uZWN0ZWRPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1sncGxheWVyQ29ubmVjdGVkJ10+KFxuICBjcmVhdGVTdWJzY3JpYmVyKCdwbGF5ZXJDb25uZWN0ZWQnKVxuKVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvblBsYXllckRpc2Nvbm5lY3RlZE9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxJRXZlbnRzWydwbGF5ZXJEaXNjb25uZWN0ZWQnXT4oXG4gIGNyZWF0ZVN1YnNjcmliZXIoJ3BsYXllckRpc2Nvbm5lY3RlZCcpXG4pXG5cbi8qKlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IG9uUmVhbG1DaGFuZ2VkT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ29uUmVhbG1DaGFuZ2VkJ10+KGNyZWF0ZVN1YnNjcmliZXIoJ29uUmVhbG1DaGFuZ2VkJykpXG5cbi8qKlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IG9uUGxheWVyQ2xpY2tlZE9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxJRXZlbnRzWydwbGF5ZXJDbGlja2VkJ10+KGNyZWF0ZVN1YnNjcmliZXIoJ3BsYXllckNsaWNrZWQnKSlcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvbkNvbW1zTWVzc2FnZSA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ2NvbW1zJ10+KGNyZWF0ZVN1YnNjcmliZXIoJ2NvbW1zJykpXG5cbi8qKlxuICogQGludGVybmFsXG4gKiBVc2VkIGZvciB0ZXN0aW5nIHB1cnBvc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFN1YnNjcmliZUZ1bmN0aW9uKGZuOiAoZXZlbnQ6IHsgZXZlbnRJZDogc3RyaW5nIH0pID0+IFByb21pc2U8YW55Pikge1xuICBzdWJzY3JpYmVGdW5jdGlvbiA9IGZuXG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKiBAZGVwcmVjYXRlZCB0aGlzIGlzIGFuIE9MRCBBUEkuXG4gKiBUaGlzIGZ1bmN0aW9uIHVzZXMgdGhlIFNESzYgc2VuZEJhdGNoIHRvIHBvbGwgZXZlbnRzIGZyb20gdGhlIHJlbmRlcmVyXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwb2xsRXZlbnRzKHNlbmRCYXRjaDogKGJvZHk6IE1hbnlFbnRpdHlBY3Rpb24pID0+IFByb21pc2U8U2VuZEJhdGNoUmVzcG9uc2U+KSB7XG4gIGNvbnN0IHsgZXZlbnRzIH0gPSBhd2FpdCBzZW5kQmF0Y2goeyBhY3Rpb25zOiBbXSB9KVxuICBmb3IgKGNvbnN0IGUgb2YgZXZlbnRzKSB7XG4gICAgaWYgKGUuZ2VuZXJpYykge1xuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZS5nZW5lcmljLmV2ZW50RGF0YSlcbiAgICAgIHN3aXRjaCAoZS5nZW5lcmljLmV2ZW50SWQpIHtcbiAgICAgICAgY2FzZSAnb25FbnRlclNjZW5lJzoge1xuICAgICAgICAgIG9uRW50ZXJTY2VuZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGRhdGEgYXMgSUV2ZW50c1snb25FbnRlclNjZW5lJ10pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdvbkxlYXZlU2NlbmUnOiB7XG4gICAgICAgICAgb25MZWF2ZVNjZW5lT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZGF0YSBhcyBJRXZlbnRzWydvbkxlYXZlU2NlbmUnXSlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3NjZW5lU3RhcnQnOiB7XG4gICAgICAgICAgb25TY2VuZVJlYWR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZGF0YSBhcyBJRXZlbnRzWydzY2VuZVN0YXJ0J10pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdwbGF5ZXJFeHByZXNzaW9uJzoge1xuICAgICAgICAgIG9uUGxheWVyRXhwcmVzc2lvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGRhdGEgYXMgSUV2ZW50c1sncGxheWVyRXhwcmVzc2lvbiddKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAndmlkZW9FdmVudCc6IHtcbiAgICAgICAgICBjb25zdCB2aWRlb0RhdGEgPSBkYXRhIGFzIElFdmVudHNbJ3ZpZGVvRXZlbnQnXVxuICAgICAgICAgIG9uVmlkZW9FdmVudC5ub3RpZnlPYnNlcnZlcnModmlkZW9EYXRhKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAncHJvZmlsZUNoYW5nZWQnOiB7XG4gICAgICAgICAgb25Qcm9maWxlQ2hhbmdlZC5ub3RpZnlPYnNlcnZlcnMoZGF0YSBhcyBJRXZlbnRzWydwcm9maWxlQ2hhbmdlZCddKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAncGxheWVyQ29ubmVjdGVkJzoge1xuICAgICAgICAgIG9uUGxheWVyQ29ubmVjdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZGF0YSBhcyBJRXZlbnRzWydwbGF5ZXJDb25uZWN0ZWQnXSlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3BsYXllckRpc2Nvbm5lY3RlZCc6IHtcbiAgICAgICAgICBvblBsYXllckRpc2Nvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGRhdGEgYXMgSUV2ZW50c1sncGxheWVyRGlzY29ubmVjdGVkJ10pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdvblJlYWxtQ2hhbmdlZCc6IHtcbiAgICAgICAgICBvblJlYWxtQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGRhdGEgYXMgSUV2ZW50c1snb25SZWFsbUNoYW5nZWQnXSlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3BsYXllckNsaWNrZWQnOiB7XG4gICAgICAgICAgb25QbGF5ZXJDbGlja2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZGF0YSBhcyBJRXZlbnRzWydwbGF5ZXJDbGlja2VkJ10pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdjb21tcyc6IHtcbiAgICAgICAgICBvbkNvbW1zTWVzc2FnZS5ub3RpZnlPYnNlcnZlcnMoZGF0YSBhcyBJRXZlbnRzWydjb21tcyddKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsICJleHBvcnQgY29uc3QgY29tcG9zaXRlRnJvbUxvYWRlciA9IHt9IiwgImltcG9ydCB7IGNvbXBvc2l0ZUZyb21Mb2FkZXIgfSBmcm9tICd+c2RrL2FsbC1jb21wb3NpdGVzJ1xuaW1wb3J0IHsgQ29tcG9zaXRlIH0gZnJvbSAnQGRjbC9lY3MnXG5cbmNvbnN0IGNvbXBvc2l0ZXM6IENvbXBvc2l0ZS5SZXNvdXJjZVtdID0gW11cblxuLy8gQHB1YmxpY1xuZXhwb3J0IGNvbnN0IGNvbXBvc2l0ZVByb3ZpZGVyOiBDb21wb3NpdGUuUHJvdmlkZXIgPSB7XG4gIGdldENvbXBvc2l0ZU9yTnVsbChzcmM6IHN0cmluZywgX2N1cnJlbnRQYXRoPzogc3RyaW5nKSB7XG4gICAgLy8gVE9ETzogcmVzb2x2ZSBwYXRoIGZyb20gc3JjIGFuZCBjdXJyZW50UGF0aFxuXG4gICAgY29uc3QgZnJvbUxvYWRlciA9IGNvbXBvc2l0ZUZyb21Mb2FkZXJbc3JjXVxuICAgIGlmIChmcm9tTG9hZGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZnJvbUxvYWRlciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICBjb25zdCBjb21wb3NpdGUgPSBDb21wb3NpdGUuZnJvbUJpbmFyeShmcm9tTG9hZGVyKVxuICAgICAgICAgIGNvbXBvc2l0ZXMucHVzaCh7IHNyYywgY29tcG9zaXRlIH0pXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZyb21Mb2FkZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgY29uc3QgY29tcG9zaXRlID0gQ29tcG9zaXRlLmZyb21Kc29uKEpTT04ucGFyc2UoZnJvbUxvYWRlcikpXG4gICAgICAgICAgY29tcG9zaXRlcy5wdXNoKHsgc3JjLCBjb21wb3NpdGUgfSlcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZnJvbUxvYWRlciA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBjb25zdCBjb21wb3NpdGUgPSBDb21wb3NpdGUuZnJvbUpzb24oZnJvbUxvYWRlcilcbiAgICAgICAgICBjb21wb3NpdGVzLnB1c2goeyBzcmMsIGNvbXBvc2l0ZSB9KVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBjb21wb3NpdGVGcm9tTG9hZGVyW3NyY11cbiAgICB9XG5cbiAgICByZXR1cm4gY29tcG9zaXRlcy5maW5kKChpdGVtKSA9PiBpdGVtLnNyYyA9PT0gc3JjKSB8fCBudWxsXG4gIH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUEsZ0RBQUFBLFVBQUFDLFNBQUE7QUFBQTtBQUNBLElBQUFBLFFBQU8sVUFBVTtBQW1CakIsYUFBUyxVQUFVLElBQUksS0FBbUI7QUFD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O0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFHO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUc7QUFBQSxRQUFHO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFLO0FBQUEsUUFBRztBQUFBLFFBQUc7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUs7QUFBQSxRQUFHO0FBQUEsUUFBRztBQUFBLFFBQUc7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBSztBQUFBLFFBQUc7QUFBQSxRQUFHO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFLO0FBQUEsUUFBRztBQUFBLFFBQUc7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFHO0FBQUEsUUFBRztBQUFBLFFBQUk7QUFBQSxRQUFLO0FBQUEsUUFBRztBQUFBLFFBQUc7QUFBQSxRQUFHO0FBQUEsUUFBRztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBSTtBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBSTtBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUk7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUk7QUFBQSxRQUFJO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUc7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUk7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFJO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFJO0FBQUEsUUFBSTtBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFJO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBSTtBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBSTtBQUFBLFFBQUk7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUk7QUFBQSxRQUFH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QSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFB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LE1BQU07QUFDOUQsVUFBTSxZQUFZLEVBQUUsTUFBTSxZQUFZLE1BQU0sWUFBWSxNQUFNO0FBQzlELFVBQU0sWUFBWSxFQUFFLE1BQU0sWUFBWSxNQUFNLFlBQVksTUFBTTtBQUM5RCxVQUFNLFlBQVksRUFBRSxNQUFNLFlBQVksTUFBTSxZQUFZLE1BQU07QUFDOUQsVUFBTSxNQUFNLE1BQU0sWUFBWSxNQUFNLFlBQVksTUFBTSxZQUFZLE1BQU07QUFDeEUsUUFBSSxRQUFRLEdBQUc7QUFDWCxXQUFLLFFBQVEsTUFBTTtBQUNuQjtBQUFBLElBQ0o7QUFDQSxVQUFNLFNBQVMsSUFBSTtBQUNuQixVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksRUFBRSxNQUFNLFlBQVksTUFBTSxZQUFZLE1BQU07QUFDOUQsVUFBTSxZQUFZLEVBQUUsTUFBTSxZQUFZLE1BQU0sWUFBWSxNQUFNO0FBQzlELFVBQU0sWUFBWSxFQUFFLE1BQU0sWUFBWSxNQUFNLFlBQVksTUFBTTtBQUM5RCxVQUFNLFlBQVksRUFBRSxNQUFNLFlBQVksTUFBTSxZQUFZLE1BQU07QUFDOUQsVUFBTSxZQUFZLEVBQUUsTUFBTSxZQUFZLE1BQU0sWUFBWSxNQUFNO0FBQzlELFVBQU0sWUFBWSxFQUFFLE1BQU0s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QU0sT0FBT0EsR0FBRSxFQUFFLEdBQUcsT0FBT0EsR0FBRSxFQUFFLEdBQUcsT0FBT0EsR0FBRSxFQUFFLEdBQUcsT0FBT0EsR0FBRSxFQUFFO0FBQzNELFVBQU0sTUFBTSxPQUFPLENBQUMsR0FBRyxNQUFNLE9BQU8sQ0FBQyxHQUFHLE1BQU0sT0FBTyxDQUFDLEdBQUcsTUFBTSxPQUFPLENBQUM7QUFDdkUsVUFBTSxNQUFNLE9BQU8sQ0FBQyxHQUFHLE1BQU0sT0FBTyxDQUFDLEdBQUcsTUFBTSxPQUFPLENBQUMsR0FBRyxNQUFNLE9BQU8sQ0FBQztBQUN2RSxVQUFNLE1BQU0sT0FBTyxDQUFDLEdBQUcsTUFBTSxPQUFPLENBQUMsR0FBRyxPQUFPLE9BQU8sRUFBRSxHQUFHLE9BQU8sT0FBTyxFQUFFO0FBQzNFLFVBQU0sT0FBTyxPQUFPLEVBQUUsR0FBRyxPQUFPLE9BQU8sRUFBRSxHQUFHLE9BQU8sT0FBTyxFQUFFLEdBQUcsT0FBTyxPQUFPLEVBQUU7QUFFL0UsV0FBTyxNQUFNLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUMzRCxXQUFPLFNBQVMsQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDL0QsV0FBTyxTQUFTLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTyxNQUFNO0FBQ2hFLFdBQU8sU0FBUyxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU8sTUFBTTtBQUNoRSxXQUFPLFNBQVMsQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDL0QsV0FBTyxTQUFTLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQy9ELFdBQU8sU0FBUyxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU8sTUFBTTtBQUNoRSxXQUFPLFNBQVMsQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPLE1BQU07QUFDaEUsV0FBTyxTQUFTLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU8sTUFBTSxPQUFPO0FBQ2pFLFdBQU8sU0FBUyxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPLE1BQU0sT0FBTztBQUNqRSxXQUFPLFNBQVMsRUFBRSxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE9BQU87QUFDbkUsV0FBTyxTQUFTLEVBQUUsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxPQUFPO0FBQ25FLFdBQU8sU0FBUyxFQUFFLElBQUksT0FBTyxNQUFNLE9BQU8sTUFBTSxPQUFPLE1BQU0sT0FBTztBQUNwRSxXQUFPLFNBQVMsRUFBRSxJQUFJLE9BQU8sTUFBTSxPQUFPLE1BQU0sT0FBTyxNQUFNLE9BQU87QUFDcEUsV0FBTyxTQUFTLEVBQUUsSUFBSSxPQUFPLE1BQU0sT0FBTyxNQUFNLE9BQU8sT0FBTyxPQUFPO0FBQ3JFLFdBQU8sU0FBUyxFQUFFLElBQUksT0FBTyxNQUFNLE9BQU8sTUFBTSxPQUFPLE9BQU8sT0FBTztBQUFBLEVBQ3pFO0FBQ0EsRUFBQUgsUUFBTyxrQkFBa0I7QUFNekIsV0FBUyxPQUFPQyxPQUFNLE9BQU87QUFDekIsVUFBTSxRQUFRO0FBQ2QsUUFBSSxDQUFDLE9BQU87QUFDUixhQUFPO0FBQUEsSUFDWDtBQUNBLFFBQUlBLE1BQUssY0FBYyxNQUFNLFlBQVk7QUFDckMsVUFBSSxDQUFDQSxNQUFLLG9CQUFvQixDQUFDLE1BQU0sa0JBQWtCO0FBQ25ELGVBQU9BLE1BQUssY0FBYyxNQUFNO0FBQUEsTUFDcEM7QUFBQSxJQUNKO0FBQ0EsVUFBTUUsS0FBSUYsTUFBSztBQUNmLFVBQU0sS0FBSyxNQUFNO0FBQ2pCLFdBQVFFLEdBQUUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxLQUNqQkEsR0FBRSxDQUFDLE1BQU0sR0FBRyxDQUFDLEtBQ2JBLEdBQUUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxLQUNiQSxHQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsS0FDYkEsR0FBRSxDQUFDLE1BQU0sR0FBRyxDQUFDLEtBQ2JBLEdBQUUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxLQUNiQSxHQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsS0FDYkEsR0FBRSxDQUFDLE1BQU0sR0FBRyxDQUFDLEtBQ2JBLEdBQUUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxLQUNiQSxHQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsS0FDYkEsR0FBRSxFQUFFLE1BQU0sR0FBRyxFQUFFLEtBQ2ZBLEdBQUUsRUFBRSxNQUFNLEdBQUcsRUFBRSxLQUNmQSxHQUFFLEVBQUUsTUFBTSxHQUFHLEVBQUUsS0FDZkEsR0FBRSxFQUFFLE1BQU0sR0FBRyxFQUFFLEtBQ2ZBLEdBQUUsRUFBRSxNQUFNLEdBQUcsRUFBRSxLQUNmQSxHQUFFLEVBQUUsTUFBTSxHQUFHLEVBQUU7QUFBQSxFQUN2QjtBQUNBLEVBQUFILFFBQU8sU0FBUztBQUtoQixXQUFTLE1BQU1DLE9BQU07QUFDakIsVUFBTSxTQUFTLE9BQU87QUFDdEIsU0FBS0EsT0FBTSxNQUFNO0FBQ2pCLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUQsUUFBTyxRQUFRO0FBS2YsV0FBUyxZQUFZQyxPQUFNO0FBQ3ZCLFFBQUksT0FBT0EsTUFBSyxHQUFHLENBQUMsS0FBSztBQUN6QixhQUFTLElBQUksR0FBRyxJQUFJLElBQUksS0FBSztBQUN6QixhQUFRLE9BQU8sT0FBUUEsTUFBSyxHQUFHLENBQUMsS0FBSztBQUFBLElBQ3pDO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBRCxRQUFPLGNBQWM7QUFRckIsV0FBUyxVQUFVQyxPQUFNQyxRQUFPLFVBQVVFLGNBQWE7QUFDbkQsUUFBSUgsTUFBSyxZQUFZO0FBQ2pCLFVBQUlHLGNBQWE7QUFDYixRQUFBQSxhQUFZLElBQUk7QUFDaEIsUUFBQUEsYUFBWSxJQUFJO0FBQ2hCLFFBQUFBLGFBQVksSUFBSTtBQUFBLE1BQ3BCO0FBQ0EsVUFBSUYsUUFBTztBQUNQLFFBQUFBLE9BQU0sSUFBSTtBQUNWLFFBQUFBLE9BQU0sSUFBSTtBQUNWLFFBQUFBLE9BQU0sSUFBSTtBQUFBLE1BQ2Q7QUFDQSxVQUFJLFVBQVU7QUFDVixpQkFBUyxJQUFJO0FBQ2IsaUJBQVMsSUFBSTtBQUNiLGlCQUFTLElBQUk7QUFDYixpQkFBUyxJQUFJO0FBQUEsTUFDakI7QUFDQSxhQUFPO0FBQUEsSUFDWDtBQUNBLFVBQU1DLEtBQUlGLE1BQUs7QUFDZixRQUFJRyxjQUFhO0FBQ2IsTUFBQUEsYUFBWSxJQUFJRCxHQUFFLEVBQUU7QUFDcEIsTUFBQUMsYUFBWSxJQUFJRCxHQUFFLEVBQUU7QUFDcEIsTUFBQUMsYUFBWSxJQUFJRCxHQUFFLEVBQUU7QUFBQSxJQUN4QjtBQUNBLFVBQU0sWUFBWUQsVUFBU0csU0FBUSxLQUFLO0FBQ3hDLGNBQVUsSUFBSSxLQUFLLEtBQUtGLEdBQUUsQ0FBQyxJQUFJQSxHQUFFLENBQUMsSUFBSUEsR0FBRSxDQUFDLElBQUlBLEdBQUUsQ0FBQyxJQUFJQSxHQUFFLENBQUMsSUFBSUEsR0FBRSxDQUFDLENBQUM7QUFDL0QsY0FBVSxJQUFJLEtBQUssS0FBS0EsR0FBRSxDQUFDLElBQUlBLEdBQUUsQ0FBQyxJQUFJQSxHQUFFLENBQUMsSUFBSUEsR0FBRSxDQUFDLElBQUlBLEdBQUUsQ0FBQyxJQUFJQSxHQUFFLENBQUMsQ0FBQztBQUMvRCxjQUFVLElBQUksS0FBSyxLQUFLQSxHQUFFLENBQUMsSUFBSUEsR0FBRSxDQUFDLElBQUlBLEdBQUUsQ0FBQyxJQUFJQSxHQUFFLENBQUMsSUFBSUEsR0FBRSxFQUFFLElBQUlBLEdBQUUsRUFBRSxDQUFDO0FBQ2pFLFFBQUksWUFBWUYsS0FBSSxLQUFLLEdBQUc7QUFDeEIsZ0JBQVUsS0FBSztBQUFBLElBQ25CO0FBQ0EsUUFBSSxVQUFVLE1BQU0sS0FBSyxVQUFVLE1BQU0sS0FBSyxVQUFVLE1BQU0sR0FBRztBQUM3RCxVQUFJLFVBQVU7QUFDVixpQkFBUyxJQUFJO0FBQ2IsaUJBQVMsSUFBSTtBQUNiLGlCQUFTLElBQUk7QUFDYixpQkFBUyxJQUFJO0FBQUEsTUFDakI7QUFDQSxhQUFPO0FBQUEsSUFDWDtBQUNBLFFBQUksVUFBVTtBQUVWLFlBQU0sS0FBSyxJQUFJLFVBQVUsR0FBRyxLQUFLLElBQUksVUFBVSxHQUFHLEtBQUssSUFBSSxVQUFVO0FBQ3JFLFlBQU0sWUFBWSxPQUFPO0FBQ3pCLHNCQUFnQkUsR0FBRSxDQUFDLElBQUksSUFBSUEsR0FBRSxDQUFDLElBQUksSUFBSUEsR0FBRSxDQUFDLElBQUksSUFBSSxHQUFLQSxHQUFFLENBQUMsSUFBSSxJQUFJQSxHQUFFLENBQUMsSUFBSSxJQUFJQSxHQUFFLENBQUMsSUFBSSxJQUFJLEdBQUtBLEdBQUUsQ0FBQyxJQUFJLElBQUlBLEdBQUUsQ0FBQyxJQUFJLElBQUlBLEdBQUUsRUFBRSxJQUFJLElBQUksR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLFNBQVM7QUFDaEssTUFBQUcsWUFBVyx3QkFBd0IsV0FBVyxRQUFRO0FBQUEsSUFDMUQ7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFOLFFBQU8sWUFBWTtBQXNDbkIsV0FBUyxpQkFBaUJDLE9BQU0sT0FBTyxHQUFHLEdBQUcsR0FBRyxHQUFHO0FBQy9DLFFBQUksUUFBUSxLQUFLLFFBQVEsR0FBRztBQUN4QjtBQUFBLElBQ0o7QUFDQSxVQUFNLElBQUksUUFBUTtBQUNsQixJQUFBQSxNQUFLLEdBQUcsSUFBSSxDQUFDLElBQUk7QUFDakIsSUFBQUEsTUFBSyxHQUFHLElBQUksQ0FBQyxJQUFJO0FBQ2pCLElBQUFBLE1BQUssR0FBRyxJQUFJLENBQUMsSUFBSTtBQUNqQixJQUFBQSxNQUFLLEdBQUcsSUFBSSxDQUFDLElBQUk7QUFDakIsbUJBQWVBLEtBQUk7QUFBQSxFQUN2QjtBQUNBLEVBQUFELFFBQU8sbUJBQW1CO0FBTTFCLFdBQVMsTUFBTUMsT0FBTUMsUUFBTztBQUN4QixVQUFNLFNBQVMsT0FBTztBQUN0QixlQUFXRCxPQUFNQyxRQUFPLE1BQU07QUFDOUIsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBRixRQUFPLFFBQVE7QUFPZixXQUFTLFdBQVdDLE9BQU1DLFFBQU8sUUFBUTtBQUNyQyxhQUFTLFFBQVEsR0FBRyxRQUFRLElBQUksU0FBUztBQUNyQyxhQUFPLEdBQUcsS0FBSyxJQUFJRCxNQUFLLEdBQUcsS0FBSyxJQUFJQztBQUFBLElBQ3hDO0FBQ0EsbUJBQWUsTUFBTTtBQUFBLEVBQ3pCO0FBQ0EsRUFBQUYsUUFBTyxhQUFhO0FBT3BCLFdBQVMsaUJBQWlCQyxPQUFNQyxRQUFPLFFBQVE7QUFDM0MsYUFBUyxRQUFRLEdBQUcsUUFBUSxJQUFJLFNBQVM7QUFDckMsYUFBTyxHQUFHLEtBQUssS0FBS0QsTUFBSyxHQUFHLEtBQUssSUFBSUM7QUFBQSxJQUN6QztBQUNBLG1CQUFlLE1BQU07QUFBQSxFQUN6QjtBQUNBLEVBQUFGLFFBQU8sbUJBQW1CO0FBSzFCLFdBQVMsa0JBQWtCQyxPQUFNLEtBQUs7QUFDbEMsVUFBTSxNQUFNLE9BQU87QUFDbkIsZ0JBQVlBLE9BQU0sR0FBRztBQUNyQixtQkFBZSxLQUFLLEdBQUc7QUFDdkIsVUFBTUUsS0FBSSxJQUFJO0FBQ2Qsb0JBQWdCQSxHQUFFLENBQUMsR0FBR0EsR0FBRSxDQUFDLEdBQUdBLEdBQUUsQ0FBQyxHQUFHLEdBQUtBLEdBQUUsQ0FBQyxHQUFHQSxHQUFFLENBQUMsR0FBR0EsR0FBRSxDQUFDLEdBQUcsR0FBS0EsR0FBRSxDQUFDLEdBQUdBLEdBQUUsQ0FBQyxHQUFHQSxHQUFFLEVBQUUsR0FBRyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBRztBQUFBLEVBQ2pIO0FBQ0EsRUFBQUgsUUFBTyxvQkFBb0I7QUFLM0IsV0FBUyxrQkFBa0JDLE9BQU07QUFDN0IsVUFBTSxTQUFTLE9BQU87QUFDdEIsMkJBQXVCQSxPQUFNLE1BQU07QUFDbkMsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBRCxRQUFPLG9CQUFvQjtBQU0zQixXQUFTLHVCQUF1QkMsT0FBTSxRQUFRO0FBQzFDLFVBQU1DLFNBQVFHLFNBQVEsS0FBSztBQUMzQixRQUFJLENBQUMsVUFBVUosT0FBTUMsTUFBSyxHQUFHO0FBQ3pCLGVBQVMsU0FBUztBQUNsQjtBQUFBLElBQ0o7QUFDQSxVQUFNQyxLQUFJRixNQUFLO0FBRWYsVUFBTSxLQUFLLElBQUlDLE9BQU0sR0FBRyxLQUFLLElBQUlBLE9BQU0sR0FBRyxLQUFLLElBQUlBLE9BQU07QUFDekQsb0JBQWdCQyxHQUFFLENBQUMsSUFBSSxJQUFJQSxHQUFFLENBQUMsSUFBSSxJQUFJQSxHQUFFLENBQUMsSUFBSSxJQUFJLEdBQUtBLEdBQUUsQ0FBQyxJQUFJLElBQUlBLEdBQUUsQ0FBQyxJQUFJLElBQUlBLEdBQUUsQ0FBQyxJQUFJLElBQUksR0FBS0EsR0FBRSxDQUFDLElBQUksSUFBSUEsR0FBRSxDQUFDLElBQUksSUFBSUEsR0FBRSxFQUFFLElBQUksSUFBSSxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssTUFBTTtBQUFBLEVBQ2pLO0FBQ0EsRUFBQUgsUUFBTyx5QkFBeUI7QUFJaEMsV0FBUyw2QkFBNkJDLE9BQU07QUFDeEMsSUFBQUEsTUFBSyxHQUFHLENBQUMsS0FBSztBQUNkLElBQUFBLE1BQUssR0FBRyxDQUFDLEtBQUs7QUFDZCxJQUFBQSxNQUFLLEdBQUcsQ0FBQyxLQUFLO0FBQ2QsSUFBQUEsTUFBSyxHQUFHLENBQUMsS0FBSztBQUNkLElBQUFBLE1BQUssR0FBRyxFQUFFLEtBQUs7QUFDZixtQkFBZUEsS0FBSTtBQUFBLEVBQ3ZCO0FBQ0EsRUFBQUQsUUFBTywrQkFBK0I7QUFJdEMsV0FBUyxrQ0FBa0NDLE9BQU07QUFDN0MsSUFBQUEsTUFBSyxHQUFHLENBQUMsS0FBSztBQUNkLElBQUFBLE1BQUssR0FBRyxDQUFDLEtBQUs7QUFDZCxJQUFBQSxNQUFLLEdBQUcsRUFBRSxLQUFLO0FBQ2YsSUFBQUEsTUFBSyxHQUFHLEVBQUUsS0FBSztBQUNmLG1CQUFlQSxLQUFJO0FBQUEsRUFDdkI7QUFDQSxFQUFBRCxRQUFPLG9DQUFvQztBQUUzQyxXQUFTLHNCQUFzQkMsT0FBTSxZQUFZLGtCQUFrQixPQUFPLGdCQUFnQixPQUFPLHFCQUFxQixNQUFNO0FBQ3hILElBQUFBLE1BQUssYUFBYTtBQUNsQixJQUFBQSxNQUFLLGFBQWE7QUFDbEIsSUFBQUEsTUFBSyxnQkFBZ0IsY0FBYztBQUNuQyxJQUFBQSxNQUFLLG1CQUFtQkEsTUFBSyxhQUFhLFFBQVE7QUFDbEQsSUFBQUEsTUFBSyxzQkFBc0JBLE1BQUssZ0JBQWdCLFFBQVE7QUFBQSxFQUM1RDtBQUNKLEdBQUcsV0FBVyxTQUFTLENBQUMsRUFBRTs7O0FDOWtEbkIsSUFBSU07QUFBQSxDQUNWLFNBQVVBLGFBQVk7QUFRbkIsV0FBUyxPQUVULElBQUksR0FFSixJQUFJLEdBRUosSUFBSSxHQUVKLElBQUksR0FBSztBQUNMLFdBQU8sRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFO0FBQUEsRUFDeEI7QUFDQSxFQUFBQSxZQUFXLFNBQVM7QUFPcEIsV0FBUyxJQUFJLElBQUksSUFBSTtBQUNqQixXQUFPLEVBQUUsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxFQUFFO0FBQUEsRUFDNUU7QUFDQSxFQUFBQSxZQUFXLE1BQU07QUFRakIsV0FBUyx5QkFBeUIsS0FBSyxPQUFPLE1BQU07QUFFaEQsVUFBTSxZQUFZLFFBQVE7QUFDMUIsVUFBTSxVQUFVLE1BQU07QUFDdEIsVUFBTSxXQUFXLE9BQU87QUFDeEIsVUFBTSxLQUFLLEtBQUssSUFBSSxTQUFTO0FBQzdCLFVBQU0sS0FBSyxLQUFLLElBQUksT0FBTztBQUMzQixVQUFNLEtBQUssS0FBSyxJQUFJLFFBQVE7QUFDNUIsVUFBTSxLQUFLLEtBQUssSUFBSSxTQUFTO0FBQzdCLFVBQU0sS0FBSyxLQUFLLElBQUksT0FBTztBQUMzQixVQUFNLEtBQUssS0FBSyxJQUFJLFFBQVE7QUFDNUIsV0FBTyxPQUFPLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxFQUFFO0FBQUEsRUFDcEk7QUFDQSxFQUFBQSxZQUFXLDJCQUEyQjtBQU90QyxXQUFTLGlCQUFpQixHQUFHLEdBQUcsR0FBRztBQUMvQixXQUFPLHlCQUF5QixJQUFJLFNBQVMsSUFBSSxTQUFTLElBQUksT0FBTztBQUFBLEVBQ3pFO0FBQ0EsRUFBQUEsWUFBVyxtQkFBbUI7QUFLOUIsV0FBU0MsUUFBTyxHQUFHO0FBQ2YsV0FBTyxLQUFLLEtBQUssY0FBYyxDQUFDLENBQUM7QUFBQSxFQUNyQztBQUNBLEVBQUFELFlBQVcsU0FBU0M7QUFLcEIsV0FBUyxjQUFjLEdBQUc7QUFDdEIsV0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtBQUFBLEVBQ3ZEO0FBQ0EsRUFBQUQsWUFBVyxnQkFBZ0I7QUFPM0IsV0FBUyxJQUFJLE1BQU0sT0FBTztBQUN0QixXQUFRLEtBQUssSUFBSSxNQUFNLElBQUksS0FBSyxJQUFJLE1BQU0sSUFBSSxLQUFLLElBQUksTUFBTSxJQUFJLEtBQUssSUFBSSxNQUFNO0FBQUEsRUFDcEY7QUFDQSxFQUFBQSxZQUFXLE1BQU07QUFPakIsV0FBUyxNQUFNLE9BQU8sT0FBTztBQUN6QixVQUFNLFNBQVMsSUFBSSxPQUFPLEtBQUs7QUFDL0IsV0FBTyxLQUFLLEtBQUssS0FBSyxJQUFJLEtBQUssSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSTtBQUFBLEVBQzFEO0FBQ0EsRUFBQUEsWUFBVyxRQUFRO0FBT25CLFdBQVMsY0FBYyxNQUFNLElBQUksaUJBQWlCO0FBQzlDLFVBQU0sTUFBTSxNQUFNLE1BQU0sRUFBRTtBQUMxQixRQUFJLFFBQVEsR0FBRztBQUNYLGFBQU87QUFBQSxJQUNYO0FBQ0EsVUFBTSxJQUFJLEtBQUssSUFBSSxHQUFHLGtCQUFrQixHQUFHO0FBQzNDLFdBQU8sTUFBTSxNQUFNLElBQUksQ0FBQztBQUFBLEVBQzVCO0FBQ0EsRUFBQUEsWUFBVyxnQkFBZ0I7QUFNM0IsV0FBUyxhQUFhLFNBQVMsS0FBSyxFQUFFLEdBQUcsR0FBSyxHQUFHLEdBQUssR0FBRyxFQUFJLEdBQUc7QUFDNUQsVUFBTSxhQUFhRSxTQUFRLFVBQVUsT0FBTztBQUM1QyxVQUFNLFFBQVFBLFNBQVEsVUFBVUEsU0FBUSxNQUFNLElBQUksVUFBVSxDQUFDO0FBQzdELFVBQU0sUUFBUUEsU0FBUSxNQUFNLFlBQVksS0FBSztBQUM3QyxVQUFNLE1BQU0sTUFBTTtBQUNsQixVQUFNLE1BQU0sTUFBTTtBQUNsQixVQUFNLE1BQU0sTUFBTTtBQUNsQixVQUFNLE1BQU0sTUFBTTtBQUNsQixVQUFNLE1BQU0sTUFBTTtBQUNsQixVQUFNLE1BQU0sTUFBTTtBQUNsQixVQUFNLE1BQU0sV0FBVztBQUN2QixVQUFNLE1BQU0sV0FBVztBQUN2QixVQUFNLE1BQU0sV0FBVztBQUN2QixVQUFNLE9BQU8sTUFBTSxNQUFNO0FBQ3pCLFVBQU0sYUFBYSxPQUFPO0FBQzFCLFFBQUksT0FBTyxHQUFHO0FBQ1YsVUFBSSxNQUFNLEtBQUssS0FBSyxPQUFPLENBQUM7QUFDNUIsaUJBQVcsSUFBSSxNQUFNO0FBQ3JCLFlBQU0sTUFBTTtBQUNaLGlCQUFXLEtBQUssTUFBTSxPQUFPO0FBQzdCLGlCQUFXLEtBQUssTUFBTSxPQUFPO0FBQzdCLGlCQUFXLEtBQUssTUFBTSxPQUFPO0FBQzdCLGFBQU87QUFBQSxJQUNYO0FBQ0EsUUFBSSxPQUFPLE9BQU8sT0FBTyxLQUFLO0FBQzFCLFlBQU0sT0FBTyxLQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sR0FBRztBQUMxQyxZQUFNLE9BQU8sTUFBTTtBQUNuQixpQkFBVyxJQUFJLE1BQU07QUFDckIsaUJBQVcsS0FBSyxNQUFNLE9BQU87QUFDN0IsaUJBQVcsS0FBSyxNQUFNLE9BQU87QUFDN0IsaUJBQVcsS0FBSyxNQUFNLE9BQU87QUFDN0IsYUFBTztBQUFBLElBQ1g7QUFDQSxRQUFJLE1BQU0sS0FBSztBQUNYLFlBQU0sT0FBTyxLQUFLLEtBQUssSUFBSSxNQUFNLE1BQU0sR0FBRztBQUMxQyxZQUFNLE9BQU8sTUFBTTtBQUNuQixpQkFBVyxLQUFLLE1BQU0sT0FBTztBQUM3QixpQkFBVyxJQUFJLE1BQU07QUFDckIsaUJBQVcsS0FBSyxNQUFNLE9BQU87QUFDN0IsaUJBQVcsS0FBSyxNQUFNLE9BQU87QUFDN0IsYUFBTztBQUFBLElBQ1g7QUFDQSxVQUFNLE9BQU8sS0FBSyxLQUFLLElBQUksTUFBTSxNQUFNLEdBQUc7QUFDMUMsVUFBTSxPQUFPLE1BQU07QUFDbkIsZUFBVyxLQUFLLE1BQU0sT0FBTztBQUM3QixlQUFXLEtBQUssTUFBTSxPQUFPO0FBQzdCLGVBQVcsSUFBSSxNQUFNO0FBQ3JCLGVBQVcsS0FBSyxNQUFNLE9BQU87QUFDN0IsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBRixZQUFXLGVBQWU7QUFLMUIsV0FBUyxVQUFVLEdBQUc7QUFDbEIsVUFBTSxVQUFVLElBQU1DLFFBQU8sQ0FBQztBQUM5QixXQUFPLE9BQU8sRUFBRSxJQUFJLFNBQVMsRUFBRSxJQUFJLFNBQVMsRUFBRSxJQUFJLFNBQVMsRUFBRSxJQUFJLE9BQU87QUFBQSxFQUM1RTtBQUNBLEVBQUFELFlBQVcsWUFBWTtBQU12QixXQUFTLGVBQWUsTUFBTSxJQUFJLEtBQUtFLFNBQVEsR0FBRyxHQUFHO0FBRWpELFVBQU0sS0FBS0EsU0FBUSxVQUFVLElBQUk7QUFDakMsVUFBTSxLQUFLQSxTQUFRLFVBQVUsRUFBRTtBQUMvQixVQUFNLElBQUlBLFNBQVEsTUFBTSxJQUFJLEVBQUU7QUFDOUIsVUFBTSxJQUFJLEtBQUssS0FBS0EsU0FBUSxjQUFjLEVBQUUsSUFBSUEsU0FBUSxjQUFjLEVBQUUsQ0FBQyxJQUNyRUEsU0FBUSxJQUFJLElBQUksRUFBRTtBQUN0QixRQUFJQSxTQUFRLGNBQWMsQ0FBQyxJQUFJLE1BQVE7QUFJbkMsYUFBTyxLQUFLLElBQUksQ0FBQyxJQUFJLE9BQ2YsVUFBVSxPQUFPLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxJQUNyQyxTQUFTO0FBQUEsSUFDbkIsT0FDSztBQUNELGFBQU8sVUFBVSxPQUFPLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUFBLElBQzdDO0FBQUEsRUFDSjtBQUNBLEVBQUFGLFlBQVcsaUJBQWlCO0FBSzVCLFdBQVMsV0FBVztBQUNoQixXQUFPLE9BQU8sR0FBSyxHQUFLLEdBQUssQ0FBRztBQUFBLEVBQ3BDO0FBQ0EsRUFBQUEsWUFBVyxXQUFXO0FBT3RCLFdBQVMsY0FBYyxHQUFHO0FBQ3RCLFVBQU0sTUFBTUUsU0FBUSxPQUFPO0FBRTNCLFVBQU0sT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtBQUV6RCxVQUFNLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtBQUNqQyxRQUFJLE9BQU8sU0FBUyxNQUFNO0FBRXRCLFVBQUksSUFBSSxLQUFLLEtBQUs7QUFDbEIsVUFBSSxJQUFJLElBQUksS0FBSyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUM7QUFDL0IsVUFBSSxJQUFJO0FBQUEsSUFDWixXQUNTLE9BQU8sVUFBVSxNQUFNO0FBRTVCLFVBQUksSUFBSSxDQUFDLEtBQUssS0FBSztBQUNuQixVQUFJLElBQUksS0FBSyxLQUFLLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQztBQUNoQyxVQUFJLElBQUk7QUFBQSxJQUNaLE9BQ0s7QUFFRCxVQUFJLElBQUksS0FBSyxLQUFLLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQzdDLFVBQUksSUFBSSxLQUFLLE1BQU0sSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLElBQUksRUFBRSxJQUFJLEVBQUUsR0FBRyxJQUFJLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2pGLFVBQUksSUFBSSxLQUFLLE1BQU0sSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLElBQUksRUFBRSxJQUFJLEVBQUUsR0FBRyxJQUFJLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQUEsSUFDckY7QUFDQSxRQUFJLEtBQUs7QUFDVCxRQUFJLEtBQUs7QUFDVCxRQUFJLEtBQUs7QUFFVCxRQUFJLElBQUksT0FBTyxPQUFPLElBQUksR0FBRyxHQUFHO0FBQ2hDLFFBQUksSUFBSSxPQUFPLE9BQU8sSUFBSSxHQUFHLEdBQUc7QUFDaEMsUUFBSSxJQUFJLE9BQU8sT0FBTyxJQUFJLEdBQUcsR0FBRztBQUNoQyxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFGLFlBQVcsZ0JBQWdCO0FBUTNCLFdBQVMsOEJBQThCLEtBQUssT0FBTyxNQUFNLFFBQVE7QUFFN0QsVUFBTSxZQUFZLFFBQVE7QUFDMUIsVUFBTSxVQUFVLE1BQU07QUFDdEIsVUFBTSxXQUFXLE9BQU87QUFDeEIsVUFBTSxLQUFLLEtBQUssSUFBSSxTQUFTO0FBQzdCLFVBQU0sS0FBSyxLQUFLLElBQUksT0FBTztBQUMzQixVQUFNLEtBQUssS0FBSyxJQUFJLFFBQVE7QUFDNUIsVUFBTSxLQUFLLEtBQUssSUFBSSxTQUFTO0FBQzdCLFVBQU0sS0FBSyxLQUFLLElBQUksT0FBTztBQUMzQixVQUFNLEtBQUssS0FBSyxJQUFJLFFBQVE7QUFDNUIsV0FBTyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUNwQyxXQUFPLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQ3BDLFdBQU8sSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDcEMsV0FBTyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUFBLEVBQ3hDO0FBQ0EsRUFBQUEsWUFBVyxnQ0FBZ0M7QUFNM0MsV0FBUyx3QkFBd0IsUUFBUSxRQUFRO0FBQzdDLFVBQU0sT0FBTyxPQUFPO0FBRXBCLFVBQU0sTUFBTSxLQUFLLENBQUMsR0FBRyxNQUFNLEtBQUssQ0FBQyxHQUFHLE1BQU0sS0FBSyxDQUFDO0FBQ2hELFVBQU0sTUFBTSxLQUFLLENBQUMsR0FBRyxNQUFNLEtBQUssQ0FBQyxHQUFHLE1BQU0sS0FBSyxDQUFDO0FBQ2hELFVBQU0sTUFBTSxLQUFLLENBQUMsR0FBRyxNQUFNLEtBQUssQ0FBQyxHQUFHLE1BQU0sS0FBSyxFQUFFO0FBRWpELFVBQU0sUUFBUSxNQUFNLE1BQU07QUFDMUIsUUFBSTtBQUNKLFFBQUksUUFBUSxHQUFHO0FBQ1gsVUFBSSxNQUFNLEtBQUssS0FBSyxRQUFRLENBQUc7QUFDL0IsYUFBTyxJQUFJLE9BQU87QUFDbEIsYUFBTyxLQUFLLE1BQU0sT0FBTztBQUN6QixhQUFPLEtBQUssTUFBTSxPQUFPO0FBQ3pCLGFBQU8sS0FBSyxNQUFNLE9BQU87QUFBQSxJQUM3QixXQUNTLE1BQU0sT0FBTyxNQUFNLEtBQUs7QUFDN0IsVUFBSSxJQUFNLEtBQUssS0FBSyxJQUFNLE1BQU0sTUFBTSxHQUFHO0FBQ3pDLGFBQU8sS0FBSyxNQUFNLE9BQU87QUFDekIsYUFBTyxJQUFJLE9BQU87QUFDbEIsYUFBTyxLQUFLLE1BQU0sT0FBTztBQUN6QixhQUFPLEtBQUssTUFBTSxPQUFPO0FBQUEsSUFDN0IsV0FDUyxNQUFNLEtBQUs7QUFDaEIsVUFBSSxJQUFNLEtBQUssS0FBSyxJQUFNLE1BQU0sTUFBTSxHQUFHO0FBQ3pDLGFBQU8sS0FBSyxNQUFNLE9BQU87QUFDekIsYUFBTyxLQUFLLE1BQU0sT0FBTztBQUN6QixhQUFPLElBQUksT0FBTztBQUNsQixhQUFPLEtBQUssTUFBTSxPQUFPO0FBQUEsSUFDN0IsT0FDSztBQUNELFVBQUksSUFBTSxLQUFLLEtBQUssSUFBTSxNQUFNLE1BQU0sR0FBRztBQUN6QyxhQUFPLEtBQUssTUFBTSxPQUFPO0FBQ3pCLGFBQU8sS0FBSyxNQUFNLE9BQU87QUFDekIsYUFBTyxLQUFLLE1BQU0sT0FBTztBQUN6QixhQUFPLElBQUksT0FBTztBQUFBLElBQ3RCO0FBQUEsRUFDSjtBQUNBLEVBQUFBLFlBQVcsMEJBQTBCO0FBUXJDLFdBQVMsTUFBTSxNQUFNLE9BQU8sUUFBUTtBQUNoQyxVQUFNLFNBQVNBLFlBQVcsU0FBUztBQUNuQyxJQUFBQSxZQUFXLFdBQVcsTUFBTSxPQUFPLFFBQVEsTUFBTTtBQUNqRCxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFlBQVcsUUFBUTtBQVFuQixXQUFTLFdBQVcsTUFBTSxPQUFPLFFBQVEsUUFBUTtBQUM3QyxRQUFJO0FBQ0osUUFBSTtBQUNKLFFBQUksT0FBTyxLQUFLLElBQUksTUFBTSxJQUFJLEtBQUssSUFBSSxNQUFNLElBQUksS0FBSyxJQUFJLE1BQU0sSUFBSSxLQUFLLElBQUksTUFBTTtBQUNuRixRQUFJLE9BQU87QUFDWCxRQUFJLE9BQU8sR0FBRztBQUNWLGFBQU87QUFDUCxhQUFPLENBQUM7QUFBQSxJQUNaO0FBQ0EsUUFBSSxPQUFPLFVBQVU7QUFDakIsYUFBTyxJQUFJO0FBQ1gsYUFBTyxPQUFPLENBQUMsU0FBUztBQUFBLElBQzVCLE9BQ0s7QUFDRCxZQUFNLE9BQU8sS0FBSyxLQUFLLElBQUk7QUFDM0IsWUFBTSxPQUFPLElBQU0sS0FBSyxJQUFJLElBQUk7QUFDaEMsYUFBTyxLQUFLLEtBQUssSUFBTSxVQUFVLElBQUksSUFBSTtBQUN6QyxhQUFPLE9BQ0QsQ0FBQyxLQUFLLElBQUksU0FBUyxJQUFJLElBQUksT0FDM0IsS0FBSyxJQUFJLFNBQVMsSUFBSSxJQUFJO0FBQUEsSUFDcEM7QUFDQSxXQUFPLElBQUksT0FBTyxLQUFLLElBQUksT0FBTyxNQUFNO0FBQ3hDLFdBQU8sSUFBSSxPQUFPLEtBQUssSUFBSSxPQUFPLE1BQU07QUFDeEMsV0FBTyxJQUFJLE9BQU8sS0FBSyxJQUFJLE9BQU8sTUFBTTtBQUN4QyxXQUFPLElBQUksT0FBTyxLQUFLLElBQUksT0FBTyxNQUFNO0FBQUEsRUFDNUM7QUFDQSxFQUFBQSxZQUFXLGFBQWE7QUFPeEIsV0FBUyxTQUFTRyxPQUFNLElBQUk7QUFDeEIsVUFBTSxTQUFTLE9BQU8sR0FBRyxHQUFHLEdBQUcsQ0FBRztBQUNsQyxrQkFBY0EsT0FBTSxJQUFJLE1BQU07QUFDOUIsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBSCxZQUFXLFdBQVc7QUFRdEIsV0FBUyxjQUFjRyxPQUFNLElBQUksUUFBUTtBQUNyQyxXQUFPLElBQUlBLE1BQUssSUFBSSxHQUFHLElBQUlBLE1BQUssSUFBSSxHQUFHLElBQUlBLE1BQUssSUFBSSxHQUFHLElBQUlBLE1BQUssSUFBSSxHQUFHO0FBQ3ZFLFdBQU8sSUFBSSxDQUFDQSxNQUFLLElBQUksR0FBRyxJQUFJQSxNQUFLLElBQUksR0FBRyxJQUFJQSxNQUFLLElBQUksR0FBRyxJQUFJQSxNQUFLLElBQUksR0FBRztBQUN4RSxXQUFPLElBQUlBLE1BQUssSUFBSSxHQUFHLElBQUlBLE1BQUssSUFBSSxHQUFHLElBQUlBLE1BQUssSUFBSSxHQUFHLElBQUlBLE1BQUssSUFBSSxHQUFHO0FBQ3ZFLFdBQU8sSUFBSSxDQUFDQSxNQUFLLElBQUksR0FBRyxJQUFJQSxNQUFLLElBQUksR0FBRyxJQUFJQSxNQUFLLElBQUksR0FBRyxJQUFJQSxNQUFLLElBQUksR0FBRztBQUFBLEVBQzVFO0FBQ0EsRUFBQUgsWUFBVyxnQkFBZ0I7QUFPM0IsV0FBUyxjQUFjLFNBQVMsTUFBTTtBQUNsQyxRQUFJRSxTQUFRLGNBQWMsSUFBSSxNQUFNLEdBQUc7QUFDbkMsYUFBT0YsWUFBVyxTQUFTO0FBQUEsSUFDL0I7QUFDQSxVQUFNLFNBQVMsU0FBUztBQUN4QixRQUFJLFVBQVUsVUFBVTtBQUN4QixlQUFXO0FBQ1gsVUFBTSxLQUFLRSxTQUFRLFVBQVUsSUFBSTtBQUNqQyxJQUFBQSxTQUFRLFdBQVcsSUFBSSxLQUFLLElBQUksT0FBTyxHQUFHLEVBQUU7QUFDNUMsV0FBTyxJQUFJLEdBQUc7QUFDZCxXQUFPLElBQUksR0FBRztBQUNkLFdBQU8sSUFBSSxHQUFHO0FBQ2QsV0FBTyxJQUFJLEtBQUssSUFBSSxPQUFPO0FBQzNCLFdBQU8sVUFBVSxNQUFNO0FBQUEsRUFDM0I7QUFDQSxFQUFBRixZQUFXLGdCQUFnQjtBQVEzQixXQUFTLDZCQUE2QixPQUFPLE9BQU8sT0FBTztBQUN2RCxVQUFNLE9BQU9BLFlBQVcsT0FBTyxHQUFLLEdBQUssR0FBSyxDQUFHO0FBQ2pELHNDQUFrQyxPQUFPLE9BQU8sT0FBTyxJQUFJO0FBQzNELFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUEsWUFBVywrQkFBK0I7QUFRMUMsV0FBUyxrQ0FBa0MsT0FBTyxPQUFPLE9BQU8sS0FBSztBQUNqRSxVQUFNLFNBQVMsT0FBTyxPQUFPO0FBQzdCLFdBQU8saUJBQWlCRSxTQUFRLFVBQVUsS0FBSyxHQUFHQSxTQUFRLFVBQVUsS0FBSyxHQUFHQSxTQUFRLFVBQVUsS0FBSyxHQUFHLE1BQU07QUFDNUcsSUFBQUYsWUFBVyx3QkFBd0IsUUFBUSxHQUFHO0FBQUEsRUFDbEQ7QUFDQSxFQUFBQSxZQUFXLG9DQUFvQztBQUkvQyxXQUFTLE9BQU87QUFDWixXQUFPLE9BQU8sR0FBSyxHQUFLLEdBQUssQ0FBRztBQUFBLEVBQ3BDO0FBQ0EsRUFBQUEsWUFBVyxPQUFPO0FBS2xCLFdBQVMsV0FBVyxVQUFVLFFBQVEsVUFBVUUsU0FBUSxHQUFHLEdBQUc7QUFDMUQsVUFBTSxTQUFTRixZQUFXLFNBQVM7QUFDbkMsb0JBQWdCLFVBQVUsUUFBUSxTQUFTLE1BQU07QUFDakQsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxZQUFXLGFBQWE7QUFLeEIsV0FBUyxnQkFBZ0IsVUFBVSxRQUFRLFVBQVVFLFNBQVEsR0FBRyxHQUFHLFFBQVE7QUFDdkUsVUFBTSxJQUFJLE9BQU8sU0FBUztBQUMxQixXQUFPLGNBQWMsVUFBVSxRQUFRLFNBQVMsQ0FBQztBQUNqRCxXQUFPLFlBQVksR0FBRyxDQUFDO0FBQ3ZCLElBQUFGLFlBQVcsd0JBQXdCLEdBQUcsTUFBTTtBQUFBLEVBQ2hEO0FBQ0EsRUFBQUEsWUFBVyxrQkFBa0I7QUFDakMsR0FBR0EsZ0JBQWVBLGNBQWEsQ0FBQyxFQUFFOzs7QUN2ZDNCLElBQUlJO0FBQUEsQ0FDVixTQUFVQSxTQUFRO0FBUWYsV0FBUyxPQUlULElBQUksR0FJSixJQUFJLEdBSUosSUFBSSxHQUlKLElBQUksR0FBRztBQUNILFdBQU8sRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFO0FBQUEsRUFDeEI7QUFDQSxFQUFBQSxRQUFPLFNBQVM7QUFPaEIsV0FBUyxjQUFjLEtBQUs7QUFDeEIsUUFBSSxJQUFJLFVBQVUsR0FBRyxDQUFDLE1BQU0sT0FBUSxJQUFJLFdBQVcsS0FBSyxJQUFJLFdBQVcsR0FBSTtBQUN2RSxhQUFPLE9BQU8sR0FBSyxHQUFLLEdBQUssQ0FBRztBQUFBLElBQ3BDO0FBQ0EsVUFBTSxJQUFJLFNBQVMsSUFBSSxVQUFVLEdBQUcsQ0FBQyxHQUFHLEVBQUU7QUFDMUMsVUFBTSxJQUFJLFNBQVMsSUFBSSxVQUFVLEdBQUcsQ0FBQyxHQUFHLEVBQUU7QUFDMUMsVUFBTSxJQUFJLFNBQVMsSUFBSSxVQUFVLEdBQUcsQ0FBQyxHQUFHLEVBQUU7QUFDMUMsVUFBTSxPQUFPLElBQUksVUFBVSxHQUFHLENBQUM7QUFDL0IsVUFBTSxJQUFJLE9BQU8sU0FBUyxNQUFNLEVBQUUsSUFBSTtBQUN0QyxXQUFPQSxRQUFPLFNBQVMsR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUFBLEVBQ3JDO0FBQ0EsRUFBQUEsUUFBTyxnQkFBZ0I7QUFRdkIsV0FBUyxLQUFLLE1BQU0sT0FBTyxRQUFRO0FBQy9CLFVBQU0sU0FBUyxPQUFPLEdBQUssR0FBSyxHQUFLLENBQUc7QUFDeEMsSUFBQUEsUUFBTyxVQUFVLE1BQU0sT0FBTyxRQUFRLE1BQU07QUFDNUMsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLE9BQU87QUFRZCxXQUFTLFVBQVUsTUFBTSxPQUFPLFFBQVEsUUFBUTtBQUM1QyxXQUFPLElBQUksS0FBSyxLQUFLLE1BQU0sSUFBSSxLQUFLLEtBQUs7QUFDekMsV0FBTyxJQUFJLEtBQUssS0FBSyxNQUFNLElBQUksS0FBSyxLQUFLO0FBQ3pDLFdBQU8sSUFBSSxLQUFLLEtBQUssTUFBTSxJQUFJLEtBQUssS0FBSztBQUN6QyxXQUFPLElBQUksS0FBSyxLQUFLLE1BQU0sSUFBSSxLQUFLLEtBQUs7QUFBQSxFQUM3QztBQUNBLEVBQUFBLFFBQU8sWUFBWTtBQUtuQixXQUFTLE1BQU07QUFDWCxXQUFPLE9BQU8sR0FBSyxHQUFHLEdBQUcsQ0FBRztBQUFBLEVBQ2hDO0FBQ0EsRUFBQUEsUUFBTyxNQUFNO0FBS2IsV0FBUyxRQUFRO0FBQ2IsV0FBTyxPQUFPLEdBQUcsR0FBSyxHQUFHLENBQUc7QUFBQSxFQUNoQztBQUNBLEVBQUFBLFFBQU8sUUFBUTtBQUtmLFdBQVMsT0FBTztBQUNaLFdBQU8sT0FBTyxHQUFHLEdBQUcsR0FBSyxDQUFHO0FBQUEsRUFDaEM7QUFDQSxFQUFBQSxRQUFPLE9BQU87QUFLZCxXQUFTLFFBQVE7QUFDYixXQUFPLE9BQU8sR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUFBLEVBQzVCO0FBQ0EsRUFBQUEsUUFBTyxRQUFRO0FBS2YsV0FBUyxRQUFRO0FBQ2IsV0FBTyxPQUFPLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFBQSxFQUM1QjtBQUNBLEVBQUFBLFFBQU8sUUFBUTtBQUtmLFdBQVMsU0FBUztBQUNkLFdBQU8sT0FBTyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQUEsRUFDaEM7QUFDQSxFQUFBQSxRQUFPLFNBQVM7QUFLaEIsV0FBUyxVQUFVO0FBQ2YsV0FBTyxPQUFPLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFBQSxFQUM1QjtBQUNBLEVBQUFBLFFBQU8sVUFBVTtBQUtqQixXQUFTLFNBQVM7QUFDZCxXQUFPLE9BQU8sR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUFBLEVBQzVCO0FBQ0EsRUFBQUEsUUFBTyxTQUFTO0FBS2hCLFdBQVMsT0FBTztBQUNaLFdBQU8sT0FBTyxLQUFLLEtBQUssS0FBSyxDQUFHO0FBQUEsRUFDcEM7QUFDQSxFQUFBQSxRQUFPLE9BQU87QUFLZCxXQUFTLE9BQU87QUFDWixXQUFPLE9BQU8sR0FBRyxHQUFLLEdBQUssQ0FBRztBQUFBLEVBQ2xDO0FBQ0EsRUFBQUEsUUFBTyxPQUFPO0FBS2QsV0FBUyxRQUFRO0FBQ2IsV0FBTyxPQUFPLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFBQSxFQUM1QjtBQUNBLEVBQUFBLFFBQU8sUUFBUTtBQU9mLFdBQVMsV0FBVyxRQUFRLFFBQVEsR0FBSztBQUNyQyxXQUFPLE9BQU8sT0FBTyxHQUFHLE9BQU8sR0FBRyxPQUFPLEdBQUcsS0FBSztBQUFBLEVBQ3JEO0FBQ0EsRUFBQUEsUUFBTyxhQUFhO0FBT3BCLFdBQVMsVUFBVSxPQUFPLFNBQVMsR0FBRztBQUNsQyxXQUFPLE9BQU8sTUFBTSxNQUFNLEdBQUcsTUFBTSxTQUFTLENBQUMsR0FBRyxNQUFNLFNBQVMsQ0FBQyxHQUFHLE1BQU0sU0FBUyxDQUFDLENBQUM7QUFBQSxFQUN4RjtBQUNBLEVBQUFBLFFBQU8sWUFBWTtBQVNuQixXQUFTLFNBQVMsR0FBRyxHQUFHLEdBQUcsR0FBRztBQUMxQixXQUFPLE9BQU8sSUFBSSxLQUFPLElBQUksS0FBTyxJQUFJLEtBQU8sSUFBSSxHQUFLO0FBQUEsRUFDNUQ7QUFDQSxFQUFBQSxRQUFPLFdBQVc7QUFRbEIsV0FBUyxhQUFhLFFBQVEsT0FBTztBQUVqQyxRQUFJLE9BQU8sV0FBVyxRQUFRLEdBQUc7QUFDN0IsWUFBTSxVQUFVLENBQUM7QUFDakIsZUFBUyxRQUFRLEdBQUcsUUFBUSxPQUFPLFFBQVEsU0FBUyxHQUFHO0FBQ25ELGNBQU0sV0FBWSxRQUFRLElBQUs7QUFDL0IsZ0JBQVEsUUFBUSxJQUFJLE9BQU8sS0FBSztBQUNoQyxnQkFBUSxXQUFXLENBQUMsSUFBSSxPQUFPLFFBQVEsQ0FBQztBQUN4QyxnQkFBUSxXQUFXLENBQUMsSUFBSSxPQUFPLFFBQVEsQ0FBQztBQUN4QyxnQkFBUSxXQUFXLENBQUMsSUFBSTtBQUFBLE1BQzVCO0FBQ0EsYUFBTztBQUFBLElBQ1g7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFFBQU8sZUFBZTtBQVN0QixXQUFTLFNBQVMsR0FBRyxHQUFHLEtBQUs7QUFDekIsUUFBSSxJQUFJLEVBQUUsSUFBSSxFQUFFO0FBQ2hCLFFBQUksSUFBSSxFQUFFLElBQUksRUFBRTtBQUNoQixRQUFJLElBQUksRUFBRSxJQUFJLEVBQUU7QUFDaEIsUUFBSSxJQUFJLEVBQUUsSUFBSSxFQUFFO0FBQUEsRUFDcEI7QUFDQSxFQUFBQSxRQUFPLFdBQVc7QUFPbEIsV0FBUyxRQUFRLE9BQU8sT0FBTyxRQUFRLEdBQUc7QUFDdEMsVUFBTSxLQUFLLElBQUksTUFBTTtBQUNyQixVQUFNLFFBQVEsQ0FBQyxJQUFJLE1BQU07QUFDekIsVUFBTSxRQUFRLENBQUMsSUFBSSxNQUFNO0FBQ3pCLFVBQU0sUUFBUSxDQUFDLElBQUksTUFBTTtBQUFBLEVBQzdCO0FBQ0EsRUFBQUEsUUFBTyxVQUFVO0FBTWpCLFdBQVMsSUFBSSxPQUFPLE9BQU87QUFDdkIsVUFBTSxNQUFNLE1BQU07QUFDbEIsYUFBUyxPQUFPLE9BQU8sR0FBRztBQUMxQixXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFFBQU8sTUFBTTtBQU1iLFdBQVMsU0FBUyxPQUFPLE9BQU87QUFDNUIsVUFBTSxNQUFNLE1BQU07QUFDbEIsa0JBQWMsT0FBTyxPQUFPLEdBQUc7QUFDL0IsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLFdBQVc7QUFPbEIsV0FBUyxjQUFjLEdBQUcsR0FBRyxRQUFRO0FBQ2pDLFdBQU8sSUFBSSxFQUFFLElBQUksRUFBRTtBQUNuQixXQUFPLElBQUksRUFBRSxJQUFJLEVBQUU7QUFDbkIsV0FBTyxJQUFJLEVBQUUsSUFBSSxFQUFFO0FBQ25CLFdBQU8sSUFBSSxFQUFFLElBQUksRUFBRTtBQUFBLEVBQ3ZCO0FBQ0EsRUFBQUEsUUFBTyxnQkFBZ0I7QUFNdkIsV0FBUyxNQUFNLE9BQU9DLFFBQU87QUFDekIsV0FBTyxPQUFPLE1BQU0sSUFBSUEsUUFBTyxNQUFNLElBQUlBLFFBQU8sTUFBTSxJQUFJQSxRQUFPLE1BQU0sSUFBSUEsTUFBSztBQUFBLEVBQ3BGO0FBQ0EsRUFBQUQsUUFBTyxRQUFRO0FBTWYsV0FBUyxXQUFXLE9BQU9DLFFBQU8sUUFBUTtBQUN0QyxXQUFPLElBQUksTUFBTSxJQUFJQTtBQUNyQixXQUFPLElBQUksTUFBTSxJQUFJQTtBQUNyQixXQUFPLElBQUksTUFBTSxJQUFJQTtBQUNyQixXQUFPLElBQUksTUFBTSxJQUFJQTtBQUFBLEVBQ3pCO0FBQ0EsRUFBQUQsUUFBTyxhQUFhO0FBTXBCLFdBQVMsaUJBQWlCLE9BQU9DLFFBQU8sUUFBUTtBQUM1QyxXQUFPLEtBQUssTUFBTSxJQUFJQTtBQUN0QixXQUFPLEtBQUssTUFBTSxJQUFJQTtBQUN0QixXQUFPLEtBQUssTUFBTSxJQUFJQTtBQUN0QixXQUFPLEtBQUssTUFBTSxJQUFJQTtBQUFBLEVBQzFCO0FBQ0EsRUFBQUQsUUFBTyxtQkFBbUI7QUFPMUIsV0FBUyxXQUFXLE9BQU8sTUFBTSxHQUFHLE1BQU0sR0FBRyxRQUFRO0FBQ2pELFdBQU8sSUFBSSxPQUFPLE1BQU0sTUFBTSxHQUFHLEtBQUssR0FBRztBQUN6QyxXQUFPLElBQUksT0FBTyxNQUFNLE1BQU0sR0FBRyxLQUFLLEdBQUc7QUFDekMsV0FBTyxJQUFJLE9BQU8sTUFBTSxNQUFNLEdBQUcsS0FBSyxHQUFHO0FBQ3pDLFdBQU8sSUFBSSxPQUFPLE1BQU0sTUFBTSxHQUFHLEtBQUssR0FBRztBQUFBLEVBQzdDO0FBQ0EsRUFBQUEsUUFBTyxhQUFhO0FBTXBCLFdBQVMsU0FBUyxPQUFPLE9BQU87QUFDNUIsV0FBTyxPQUFPLE1BQU0sSUFBSSxNQUFNLEdBQUcsTUFBTSxJQUFJLE1BQU0sR0FBRyxNQUFNLElBQUksTUFBTSxHQUFHLE1BQU0sSUFBSSxNQUFNLENBQUM7QUFBQSxFQUM1RjtBQUNBLEVBQUFBLFFBQU8sV0FBVztBQU9sQixXQUFTLGNBQWMsT0FBTyxPQUFPLFFBQVE7QUFDekMsV0FBTyxJQUFJLE1BQU0sSUFBSSxNQUFNO0FBQzNCLFdBQU8sSUFBSSxNQUFNLElBQUksTUFBTTtBQUMzQixXQUFPLElBQUksTUFBTSxJQUFJLE1BQU07QUFDM0IsV0FBTyxJQUFJLE1BQU0sSUFBSSxNQUFNO0FBQUEsRUFDL0I7QUFDQSxFQUFBQSxRQUFPLGdCQUFnQjtBQUt2QixXQUFTLFNBQVMsT0FBTztBQUNyQixXQUFRLFNBQ0osTUFBTSxJQUNOLFFBQ0EsTUFBTSxJQUNOLFFBQ0EsTUFBTSxJQUNOLFFBQ0EsTUFBTSxJQUNOO0FBQUEsRUFDUjtBQUNBLEVBQUFBLFFBQU8sV0FBVztBQUtsQixXQUFTLFlBQVksT0FBTztBQUN4QixRQUFJLE9BQU8sTUFBTSxLQUFLO0FBQ3RCLFdBQVEsT0FBTyxPQUFRLE1BQU0sS0FBSztBQUNsQyxXQUFRLE9BQU8sT0FBUSxNQUFNLEtBQUs7QUFDbEMsV0FBUSxPQUFPLE9BQVEsTUFBTSxLQUFLO0FBQ2xDLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUEsUUFBTyxjQUFjO0FBS3JCLFdBQVMsTUFBTSxPQUFPO0FBQ2xCLFdBQU8sT0FBTyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLENBQUM7QUFBQSxFQUNwRDtBQUNBLEVBQUFBLFFBQU8sUUFBUTtBQU9mLFdBQVMsU0FBUyxRQUFRLE1BQU07QUFDNUIsU0FBSyxJQUFJLE9BQU87QUFDaEIsU0FBSyxJQUFJLE9BQU87QUFDaEIsU0FBSyxJQUFJLE9BQU87QUFDaEIsU0FBSyxJQUFJLE9BQU87QUFBQSxFQUNwQjtBQUNBLEVBQUFBLFFBQU8sV0FBVztBQVNsQixXQUFTLGVBQWUsR0FBRyxHQUFHLEdBQUcsR0FBRyxNQUFNO0FBQ3RDLFNBQUssSUFBSTtBQUNULFNBQUssSUFBSTtBQUNULFNBQUssSUFBSTtBQUNULFNBQUssSUFBSTtBQUFBLEVBQ2I7QUFDQSxFQUFBQSxRQUFPLGlCQUFpQjtBQVN4QixXQUFTLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxNQUFNO0FBQzNCLFNBQUssSUFBSTtBQUNULFNBQUssSUFBSTtBQUNULFNBQUssSUFBSTtBQUNULFNBQUssSUFBSTtBQUFBLEVBQ2I7QUFDQSxFQUFBQSxRQUFPLE1BQU07QUFLYixXQUFTLFlBQVksT0FBTztBQUN4QixVQUFNLE9BQVEsTUFBTSxJQUFJLE1BQU87QUFDL0IsVUFBTSxPQUFRLE1BQU0sSUFBSSxNQUFPO0FBQy9CLFVBQU0sT0FBUSxNQUFNLElBQUksTUFBTztBQUMvQixVQUFNLE9BQVEsTUFBTSxJQUFJLE1BQU87QUFDL0IsV0FBUSxNQUNKLE9BQU8sTUFBTSxJQUFJLElBQ2pCLE9BQU8sTUFBTSxJQUFJLElBQ2pCLE9BQU8sTUFBTSxJQUFJLElBQ2pCLE9BQU8sTUFBTSxJQUFJO0FBQUEsRUFDekI7QUFDQSxFQUFBQSxRQUFPLGNBQWM7QUFLckIsV0FBUyxjQUFjLE9BQU87QUFDMUIsVUFBTSxpQkFBaUIsT0FBTztBQUM5Qix1QkFBbUIsT0FBTyxjQUFjO0FBQ3hDLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUEsUUFBTyxnQkFBZ0I7QUFNdkIsV0FBUyxtQkFBbUIsT0FBTyxLQUFLO0FBQ3BDLFFBQUksSUFBSSxLQUFLLElBQUksTUFBTSxHQUFHLGFBQWE7QUFDdkMsUUFBSSxJQUFJLEtBQUssSUFBSSxNQUFNLEdBQUcsYUFBYTtBQUN2QyxRQUFJLElBQUksS0FBSyxJQUFJLE1BQU0sR0FBRyxhQUFhO0FBQ3ZDLFFBQUksSUFBSSxNQUFNO0FBQUEsRUFDbEI7QUFDQSxFQUFBQSxRQUFPLHFCQUFxQjtBQUs1QixXQUFTLGFBQWEsT0FBTztBQUN6QixVQUFNLGlCQUFpQixPQUFPO0FBQzlCLHNCQUFrQixPQUFPLGNBQWM7QUFDdkMsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLGVBQWU7QUFNdEIsV0FBUyxrQkFBa0IsT0FBTyxnQkFBZ0I7QUFDOUMsbUJBQWUsSUFBSSxLQUFLLElBQUksTUFBTSxHQUFHLFlBQVk7QUFDakQsbUJBQWUsSUFBSSxLQUFLLElBQUksTUFBTSxHQUFHLFlBQVk7QUFDakQsbUJBQWUsSUFBSSxLQUFLLElBQUksTUFBTSxHQUFHLFlBQVk7QUFDakQsbUJBQWUsSUFBSSxNQUFNO0FBQUEsRUFDN0I7QUFDQSxFQUFBQSxRQUFPLG9CQUFvQjtBQUMvQixHQUFHQSxZQUFXQSxVQUFTLENBQUMsRUFBRTs7O0FDdGVuQixJQUFJRTtBQUFBLENBQ1YsU0FBVUEsU0FBUTtBQU9mLFdBQVMsT0FJVCxJQUFJLEdBSUosSUFBSSxHQUlKLElBQUksR0FBRztBQUNILFdBQU8sRUFBRSxHQUFHLEdBQUcsRUFBRTtBQUFBLEVBQ3JCO0FBQ0EsRUFBQUEsUUFBTyxTQUFTO0FBTWhCLFdBQVMsY0FBYyxLQUFLO0FBQ3hCLFFBQUksSUFBSSxVQUFVLEdBQUcsQ0FBQyxNQUFNLE9BQU8sSUFBSSxXQUFXLEdBQUc7QUFDakQsYUFBTyxPQUFPLEdBQUcsR0FBRyxDQUFDO0FBQUEsSUFDekI7QUFDQSxVQUFNLElBQUksU0FBUyxJQUFJLFVBQVUsR0FBRyxDQUFDLEdBQUcsRUFBRTtBQUMxQyxVQUFNLElBQUksU0FBUyxJQUFJLFVBQVUsR0FBRyxDQUFDLEdBQUcsRUFBRTtBQUMxQyxVQUFNLElBQUksU0FBUyxJQUFJLFVBQVUsR0FBRyxDQUFDLEdBQUcsRUFBRTtBQUMxQyxXQUFPLFNBQVMsR0FBRyxHQUFHLENBQUM7QUFBQSxFQUMzQjtBQUNBLEVBQUFBLFFBQU8sZ0JBQWdCO0FBT3ZCLFdBQVMsVUFBVSxPQUFPLFNBQVMsR0FBRztBQUNsQyxXQUFPLE9BQU8sTUFBTSxNQUFNLEdBQUcsTUFBTSxTQUFTLENBQUMsR0FBRyxNQUFNLFNBQVMsQ0FBQyxDQUFDO0FBQUEsRUFDckU7QUFDQSxFQUFBQSxRQUFPLFlBQVk7QUFRbkIsV0FBUyxTQUFTLEdBQUcsR0FBRyxHQUFHO0FBQ3ZCLFdBQU8sT0FBTyxJQUFJLEtBQU8sSUFBSSxLQUFPLElBQUksR0FBSztBQUFBLEVBQ2pEO0FBQ0EsRUFBQUEsUUFBTyxXQUFXO0FBUWxCLFdBQVMsS0FBSyxPQUFPLEtBQUssUUFBUTtBQUM5QixVQUFNLFNBQVMsT0FBTyxHQUFLLEdBQUssQ0FBRztBQUNuQyxJQUFBQSxRQUFPLFVBQVUsT0FBTyxLQUFLLFFBQVEsTUFBTTtBQUMzQyxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFFBQU8sT0FBTztBQVFkLFdBQVMsVUFBVSxNQUFNLE9BQU8sUUFBUSxRQUFRO0FBQzVDLFdBQU8sSUFBSSxLQUFLLEtBQUssTUFBTSxJQUFJLEtBQUssS0FBSztBQUN6QyxXQUFPLElBQUksS0FBSyxLQUFLLE1BQU0sSUFBSSxLQUFLLEtBQUs7QUFDekMsV0FBTyxJQUFJLEtBQUssS0FBSyxNQUFNLElBQUksS0FBSyxLQUFLO0FBQUEsRUFDN0M7QUFDQSxFQUFBQSxRQUFPLFlBQVk7QUFLbkIsV0FBUyxNQUFNO0FBQ1gsV0FBTyxPQUFPLEdBQUcsR0FBRyxDQUFDO0FBQUEsRUFDekI7QUFDQSxFQUFBQSxRQUFPLE1BQU07QUFLYixXQUFTLFFBQVE7QUFDYixXQUFPLE9BQU8sR0FBRyxHQUFHLENBQUM7QUFBQSxFQUN6QjtBQUNBLEVBQUFBLFFBQU8sUUFBUTtBQUtmLFdBQVMsT0FBTztBQUNaLFdBQU8sT0FBTyxHQUFHLEdBQUcsQ0FBQztBQUFBLEVBQ3pCO0FBQ0EsRUFBQUEsUUFBTyxPQUFPO0FBS2QsV0FBUyxRQUFRO0FBQ2IsV0FBTyxPQUFPLEdBQUcsR0FBRyxDQUFDO0FBQUEsRUFDekI7QUFDQSxFQUFBQSxRQUFPLFFBQVE7QUFLZixXQUFTLFFBQVE7QUFDYixXQUFPLE9BQU8sR0FBRyxHQUFHLENBQUM7QUFBQSxFQUN6QjtBQUNBLEVBQUFBLFFBQU8sUUFBUTtBQUtmLFdBQVMsU0FBUztBQUNkLFdBQU8sT0FBTyxLQUFLLEdBQUcsR0FBRztBQUFBLEVBQzdCO0FBQ0EsRUFBQUEsUUFBTyxTQUFTO0FBS2hCLFdBQVMsVUFBVTtBQUNmLFdBQU8sT0FBTyxHQUFHLEdBQUcsQ0FBQztBQUFBLEVBQ3pCO0FBQ0EsRUFBQUEsUUFBTyxVQUFVO0FBS2pCLFdBQVMsU0FBUztBQUNkLFdBQU8sT0FBTyxHQUFHLEdBQUcsQ0FBQztBQUFBLEVBQ3pCO0FBQ0EsRUFBQUEsUUFBTyxTQUFTO0FBS2hCLFdBQVMsT0FBTztBQUNaLFdBQU8sT0FBTyxLQUFLLEtBQUssR0FBRztBQUFBLEVBQy9CO0FBQ0EsRUFBQUEsUUFBTyxPQUFPO0FBS2QsV0FBUyxPQUFPO0FBQ1osV0FBTyxPQUFPLEdBQUcsR0FBSyxDQUFHO0FBQUEsRUFDN0I7QUFDQSxFQUFBQSxRQUFPLE9BQU87QUFLZCxXQUFTLFNBQVM7QUFDZCxXQUFPLE9BQU8sS0FBSyxPQUFPLEdBQUcsS0FBSyxPQUFPLEdBQUcsS0FBSyxPQUFPLENBQUM7QUFBQSxFQUM3RDtBQUNBLEVBQUFBLFFBQU8sU0FBUztBQUtoQixXQUFTLFNBQVMsT0FBTztBQUNyQixXQUFPLFNBQVMsTUFBTSxJQUFJLFFBQVEsTUFBTSxJQUFJLFFBQVEsTUFBTSxJQUFJO0FBQUEsRUFDbEU7QUFDQSxFQUFBQSxRQUFPLFdBQVc7QUFLbEIsV0FBUyxZQUFZLE9BQU87QUFDeEIsUUFBSSxPQUFPLE1BQU0sS0FBSztBQUN0QixXQUFRLE9BQU8sT0FBUSxNQUFNLEtBQUs7QUFDbEMsV0FBUSxPQUFPLE9BQVEsTUFBTSxLQUFLO0FBQ2xDLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUEsUUFBTyxjQUFjO0FBUXJCLFdBQVMsUUFBUSxPQUFPLE9BQU8sUUFBUSxHQUFHO0FBQ3RDLFVBQU0sS0FBSyxJQUFJLE1BQU07QUFDckIsVUFBTSxRQUFRLENBQUMsSUFBSSxNQUFNO0FBQ3pCLFVBQU0sUUFBUSxDQUFDLElBQUksTUFBTTtBQUFBLEVBQzdCO0FBQ0EsRUFBQUEsUUFBTyxVQUFVO0FBTWpCLFdBQVMsU0FBUyxPQUFPLFFBQVEsR0FBRztBQUNoQyxXQUFPQyxRQUFPLE9BQU8sTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsS0FBSztBQUFBLEVBQ3pEO0FBQ0EsRUFBQUQsUUFBTyxXQUFXO0FBS2xCLFdBQVMsUUFBUSxPQUFPO0FBQ3BCLFVBQU0sU0FBUyxJQUFJLE1BQU07QUFDekIsWUFBUSxPQUFPLFFBQVEsQ0FBQztBQUN4QixXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFFBQU8sVUFBVTtBQUtqQixXQUFTLFlBQVksT0FBTztBQUN4QixXQUFPLE1BQU0sSUFBSSxNQUFNLE1BQU0sSUFBSSxPQUFPLE1BQU0sSUFBSTtBQUFBLEVBQ3REO0FBQ0EsRUFBQUEsUUFBTyxjQUFjO0FBTXJCLFdBQVMsU0FBUyxPQUFPLFlBQVk7QUFDakMsV0FBTyxPQUFPLE1BQU0sSUFBSSxXQUFXLEdBQUcsTUFBTSxJQUFJLFdBQVcsR0FBRyxNQUFNLElBQUksV0FBVyxDQUFDO0FBQUEsRUFDeEY7QUFDQSxFQUFBQSxRQUFPLFdBQVc7QUFPbEIsV0FBUyxjQUFjLE9BQU8sWUFBWSxRQUFRO0FBQzlDLFdBQU8sSUFBSSxNQUFNLElBQUksV0FBVztBQUNoQyxXQUFPLElBQUksTUFBTSxJQUFJLFdBQVc7QUFDaEMsV0FBTyxJQUFJLE1BQU0sSUFBSSxXQUFXO0FBQUEsRUFDcEM7QUFDQSxFQUFBQSxRQUFPLGdCQUFnQjtBQU12QixXQUFTLE9BQU8sT0FBTyxZQUFZO0FBQy9CLFdBQVEsY0FDSixNQUFNLE1BQU0sV0FBVyxLQUN2QixNQUFNLE1BQU0sV0FBVyxLQUN2QixNQUFNLE1BQU0sV0FBVztBQUFBLEVBQy9CO0FBQ0EsRUFBQUEsUUFBTyxTQUFTO0FBUWhCLFdBQVMsYUFBYSxPQUFPLEdBQUcsR0FBRyxHQUFHO0FBQ2xDLFdBQU8sTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNO0FBQUEsRUFDekQ7QUFDQSxFQUFBQSxRQUFPLGVBQWU7QUFNdEIsV0FBUyxNQUFNLE9BQU9FLFFBQU87QUFDekIsV0FBTyxPQUFPLE1BQU0sSUFBSUEsUUFBTyxNQUFNLElBQUlBLFFBQU8sTUFBTSxJQUFJQSxNQUFLO0FBQUEsRUFDbkU7QUFDQSxFQUFBRixRQUFPLFFBQVE7QUFPZixXQUFTLFdBQVcsT0FBT0UsUUFBTyxRQUFRO0FBQ3RDLFdBQU8sSUFBSSxNQUFNLElBQUlBO0FBQ3JCLFdBQU8sSUFBSSxNQUFNLElBQUlBO0FBQ3JCLFdBQU8sSUFBSSxNQUFNLElBQUlBO0FBQUEsRUFDekI7QUFDQSxFQUFBRixRQUFPLGFBQWE7QUFPcEIsV0FBUyxpQkFBaUIsT0FBT0UsUUFBTyxRQUFRO0FBQzVDLFdBQU8sS0FBSyxNQUFNLElBQUlBO0FBQ3RCLFdBQU8sS0FBSyxNQUFNLElBQUlBO0FBQ3RCLFdBQU8sS0FBSyxNQUFNLElBQUlBO0FBQUEsRUFDMUI7QUFDQSxFQUFBRixRQUFPLG1CQUFtQjtBQVExQixXQUFTLFdBQVcsT0FBTyxNQUFNLEdBQUcsTUFBTSxHQUFHLFFBQVE7QUFDakQsV0FBTyxJQUFJLE9BQU8sTUFBTSxNQUFNLEdBQUcsS0FBSyxHQUFHO0FBQ3pDLFdBQU8sSUFBSSxPQUFPLE1BQU0sTUFBTSxHQUFHLEtBQUssR0FBRztBQUN6QyxXQUFPLElBQUksT0FBTyxNQUFNLE1BQU0sR0FBRyxLQUFLLEdBQUc7QUFBQSxFQUM3QztBQUNBLEVBQUFBLFFBQU8sYUFBYTtBQU9wQixXQUFTLE1BQU0sT0FBTyxNQUFNLEdBQUcsTUFBTSxHQUFHO0FBQ3BDLFVBQU0sU0FBU0EsUUFBTyxNQUFNO0FBQzVCLGVBQVcsT0FBTyxLQUFLLEtBQUssTUFBTTtBQUNsQyxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFFBQU8sUUFBUTtBQU1mLFdBQVMsSUFBSSxPQUFPLFlBQVk7QUFDNUIsV0FBTyxPQUFPLE1BQU0sSUFBSSxXQUFXLEdBQUcsTUFBTSxJQUFJLFdBQVcsR0FBRyxNQUFNLElBQUksV0FBVyxDQUFDO0FBQUEsRUFDeEY7QUFDQSxFQUFBQSxRQUFPLE1BQU07QUFPYixXQUFTLFNBQVMsT0FBTyxZQUFZLFFBQVE7QUFDekMsV0FBTyxJQUFJLE1BQU0sSUFBSSxXQUFXO0FBQ2hDLFdBQU8sSUFBSSxNQUFNLElBQUksV0FBVztBQUNoQyxXQUFPLElBQUksTUFBTSxJQUFJLFdBQVc7QUFBQSxFQUNwQztBQUNBLEVBQUFBLFFBQU8sV0FBVztBQU1sQixXQUFTLFNBQVMsT0FBTyxZQUFZO0FBQ2pDLFdBQU8sT0FBTyxNQUFNLElBQUksV0FBVyxHQUFHLE1BQU0sSUFBSSxXQUFXLEdBQUcsTUFBTSxJQUFJLFdBQVcsQ0FBQztBQUFBLEVBQ3hGO0FBQ0EsRUFBQUEsUUFBTyxXQUFXO0FBT2xCLFdBQVMsY0FBYyxPQUFPLFlBQVksUUFBUTtBQUM5QyxXQUFPLElBQUksTUFBTSxJQUFJLFdBQVc7QUFDaEMsV0FBTyxJQUFJLE1BQU0sSUFBSSxXQUFXO0FBQ2hDLFdBQU8sSUFBSSxNQUFNLElBQUksV0FBVztBQUFBLEVBQ3BDO0FBQ0EsRUFBQUEsUUFBTyxnQkFBZ0I7QUFLdkIsV0FBUyxNQUFNLE9BQU87QUFDbEIsV0FBTyxPQUFPLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFDO0FBQUEsRUFDM0M7QUFDQSxFQUFBQSxRQUFPLFFBQVE7QUFNZixXQUFTLFNBQVMsUUFBUSxNQUFNO0FBQzVCLFNBQUssSUFBSSxPQUFPO0FBQ2hCLFNBQUssSUFBSSxPQUFPO0FBQ2hCLFNBQUssSUFBSSxPQUFPO0FBQUEsRUFDcEI7QUFDQSxFQUFBQSxRQUFPLFdBQVc7QUFTbEIsV0FBUyxJQUFJLE1BQU0sR0FBRyxHQUFHLEdBQUc7QUFDeEIsU0FBSyxJQUFJO0FBQ1QsU0FBSyxJQUFJO0FBQ1QsU0FBSyxJQUFJO0FBQUEsRUFDYjtBQUNBLEVBQUFBLFFBQU8sTUFBTTtBQUtiLFdBQVMsWUFBWSxPQUFPO0FBQ3hCLFVBQU0sT0FBUSxNQUFNLElBQUksTUFBTztBQUMvQixVQUFNLE9BQVEsTUFBTSxJQUFJLE1BQU87QUFDL0IsVUFBTSxPQUFRLE1BQU0sSUFBSSxNQUFPO0FBQy9CLFdBQU8sTUFBTSxPQUFPLE1BQU0sSUFBSSxJQUFJLE9BQU8sTUFBTSxJQUFJLElBQUksT0FBTyxNQUFNLElBQUk7QUFBQSxFQUM1RTtBQUNBLEVBQUFBLFFBQU8sY0FBYztBQUtyQixXQUFTLGNBQWMsT0FBTztBQUMxQixVQUFNLGlCQUFpQixPQUFPO0FBQzlCLHVCQUFtQixPQUFPLGNBQWM7QUFDeEMsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLGdCQUFnQjtBQU12QixXQUFTLG1CQUFtQixPQUFPLGdCQUFnQjtBQUMvQyxtQkFBZSxJQUFJLEtBQUssSUFBSSxNQUFNLEdBQUcsYUFBYTtBQUNsRCxtQkFBZSxJQUFJLEtBQUssSUFBSSxNQUFNLEdBQUcsYUFBYTtBQUNsRCxtQkFBZSxJQUFJLEtBQUssSUFBSSxNQUFNLEdBQUcsYUFBYTtBQUFBLEVBQ3REO0FBQ0EsRUFBQUEsUUFBTyxxQkFBcUI7QUFLNUIsV0FBUyxhQUFhLE9BQU87QUFDekIsVUFBTSxpQkFBaUIsT0FBTztBQUM5QixzQkFBa0IsT0FBTyxjQUFjO0FBQ3ZDLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUEsUUFBTyxlQUFlO0FBTXRCLFdBQVMsa0JBQWtCLE9BQU8sZ0JBQWdCO0FBQzlDLG1CQUFlLElBQUksS0FBSyxJQUFJLE1BQU0sR0FBRyxZQUFZO0FBQ2pELG1CQUFlLElBQUksS0FBSyxJQUFJLE1BQU0sR0FBRyxZQUFZO0FBQ2pELG1CQUFlLElBQUksS0FBSyxJQUFJLE1BQU0sR0FBRyxZQUFZO0FBQUEsRUFDckQ7QUFDQSxFQUFBQSxRQUFPLG9CQUFvQjtBQUMvQixHQUFHQSxZQUFXQSxVQUFTLENBQUMsRUFBRTs7O0FDN2RuQixJQUFNLE9BQU8sT0FBTyxnQkFBZ0IsV0FBVyxDQUFDLENBQUM7QUFJakQsSUFBTSxVQUFVLE9BQU8sZ0JBQWdCLFdBQVcsRUFBRSxPQUFPLFFBQVEsT0FBTyxDQUFDOzs7QUNHM0UsSUFBTSxnQkFBZ0IsT0FBTyxnQkFBZ0IsaUJBQWlCLEVBQUUsR0FBRyxRQUFRLE9BQU8sQ0FBQztBQUtuRixTQUFTLGVBQWUsSUFBWTtBQUN6QyxRQUFNLHNCQUFzQixPQUFPLGdCQUFnQixTQUFTRyxVQUFTO0FBQ3JFLGFBQVcsQ0FBQyxRQUFRLFVBQVUsVUFBVSxLQUFLLHFCQUFxQjtBQUNoRSxVQUFNLG1CQUFtQkEsV0FBVSxXQUFXLE1BQU07QUFDcEQsVUFBTSxjQUFjLFFBQVEsSUFBSSxNQUFNO0FBRXRDLHFCQUFpQixXQUFXQyxZQUFXO0FBQUEsTUFDckMsaUJBQWlCO0FBQUEsTUFDakJBLFlBQVcsY0FBYyxLQUFLLFlBQVksT0FBT0MsU0FBUSxHQUFHLENBQUM7QUFBQSxJQUMvRDtBQUFBLEVBQ0Y7QUFDRjs7O0FDM0JPLFNBQVMsb0JBQTRCO0FBQzFDLFFBQU0sVUFBVTtBQUNoQixNQUFJLFFBQVE7QUFDWixXQUFTLElBQUksR0FBRyxJQUFJLEdBQUcsS0FBSztBQUMxQixhQUFTLFFBQVEsS0FBSyxNQUFNLEtBQUssT0FBTyxJQUFJLEVBQUUsQ0FBQztBQUFBLEVBQ2pEO0FBQ0EsU0FBTztBQUNUOzs7QUNTTyxTQUFTLFdBQVcsR0FBVyxHQUFXLEdBQVcsVUFBVSxNQUFjO0FBQ2xGLFFBQU0sU0FBUyxPQUFPLFVBQVU7QUFHaEMsT0FBSyxPQUFPLE1BQU07QUFFbEIsRUFBQUMsV0FBVSxPQUFPLFFBQVEsRUFBRSxVQUFVLEVBQUUsR0FBRyxHQUFHLEVBQUUsRUFBRSxDQUFDO0FBR2xELEVBQUFDLGNBQWEsT0FBTyxNQUFNO0FBQzFCLEVBQUFDLGNBQWEsT0FBTyxNQUFNO0FBQzFCLEVBQUFDLFVBQVMsZUFBZSxRQUFRLEVBQUUsYUFBYUMsUUFBTyxjQUFjLGtCQUFrQixDQUFDLEVBQUUsQ0FBQztBQUcxRixVQUFRLE9BQU8sUUFBUSxFQUFFLE9BQU8sS0FBSyxLQUFLLE9BQU8sRUFBRSxDQUFDO0FBR3BELE1BQUksU0FBUztBQUNYLElBQUFDLGVBQWMsT0FBTyxRQUFRO0FBQUEsTUFDM0IsZUFBZTtBQUFBLFFBQ2I7QUFBQSxVQUNFLFdBQVcsaUJBQWlCO0FBQUEsVUFDNUIsV0FBVztBQUFBLFlBQ1QsUUFBUSxZQUFZO0FBQUEsWUFDcEIsV0FBVztBQUFBLFlBQ1gsYUFBYTtBQUFBLFlBQ2IsY0FBYztBQUFBLFVBQ2hCO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFBQSxJQUNGLENBQUM7QUFBQSxFQUNIO0FBRUEsU0FBTztBQUNUOzs7QUM5Q0EsaUNBQTJDO0FBRzNDLE9BQU8sVUFBVSxjQUFjO0FBQy9CLElBQUk7QUFFRyxTQUFTLE9BQU87QUFFckIsUUFBTSxPQUFPLFdBQVcsR0FBRyxHQUFHLENBQUM7QUFFL0IsRUFBQUMsZUFBYyxnQkFBZ0IsTUFBTTtBQUFBLElBQ2xDLGVBQWU7QUFBQSxNQUNiO0FBQUEsUUFDRSxXQUFXLGlCQUFpQjtBQUFBLFFBQzVCLFdBQVc7QUFBQSxVQUNULFFBQVEsWUFBWTtBQUFBLFVBQ3BCLFdBQVc7QUFBQSxRQUNiO0FBQUEsTUFDRjtBQUFBLE1BQ0E7QUFBQSxRQUNFLFdBQVcsaUJBQWlCO0FBQUEsUUFDNUIsV0FBVztBQUFBLFVBQ1QsUUFBUSxZQUFZO0FBQUEsVUFDcEIsV0FBVztBQUFBLFFBQ2I7QUFBQSxNQUNGO0FBQUEsSUFDRjtBQUFBLEVBQ0YsQ0FBQztBQUVELHNCQUFvQjtBQUFBLElBQ2xCLEVBQUUsUUFBUSxNQUFNLE1BQU0sRUFBRSxRQUFRLFlBQVksT0FBTyxFQUFFO0FBQUEsSUFDckQsQ0FBQyxVQUFVO0FBQ1QsaUJBQVcsSUFBSSxLQUFLLE9BQU8sSUFBSSxHQUFHLEtBQUssT0FBTyxJQUFJLEdBQUcsSUFBSSxLQUFLLE9BQU8sSUFBSSxHQUFHLEtBQUs7QUFFakYsVUFBSSxNQUFNLFdBQVcsWUFBWSxZQUFZO0FBQzNDLDhDQUFNLEVBQUUsS0FBSyxnQkFBZ0IsQ0FBQyxFQUFFLEtBQUssQ0FBQyxNQUFNO0FBQzFDLGlCQUFPO0FBQ1Asa0JBQVEsSUFBSSxDQUFDO0FBQUEsUUFDZixDQUFDO0FBQUEsTUFDSDtBQUVBLFVBQUksTUFBTSxXQUFXLFlBQVksZ0JBQWdCLENBQUMsQ0FBQyxNQUFNLEtBQUs7QUFDNUQsNkNBQUssRUFBRSxLQUFLLEtBQUssSUFBSSxDQUFDLEVBQUUsS0FBSyxRQUFRLEdBQUcsRUFBRSxNQUFNLFFBQVEsS0FBSztBQUFBLE1BQy9EO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFDRjs7O0FDaERBLElBQUFDLG9CQUE0RDs7O0FDTXRELFNBQVUsd0JBQXdCLFdBQWdDO0FBQ3RFLGlCQUFlLGVBQWUsU0FBbUI7QUFDL0MsVUFBTSxXQUFXLE1BQU0sVUFBVSxtQkFBbUI7TUFDbEQsTUFBTSxJQUFJLFdBQVcsT0FBTztLQUM3QjtBQUVELFFBQUksWUFBWSxTQUFTLFFBQVEsU0FBUyxLQUFLLFFBQVE7QUFDckQsVUFBSUMsbUJBQWtCLFdBQVc7QUFDL0IsbUJBQVcsYUFBYSxTQUFTLE1BQU07QUFDckMsVUFBQUEsbUJBQWtCLFVBQVUsU0FBUzs7OztFQUk3QztBQUVBLFFBQU1BLHFCQUErQjtJQUNuQyxNQUFNLEtBQUssU0FBTztBQUNoQixVQUFJO0FBQ0YsY0FBTSxlQUFlLE9BQU87ZUFDckIsT0FBUDtBQUdBLGdCQUFRLE1BQU0sS0FBSztBQUNuQjs7SUFFSjtJQUNBLE9BQU8sU0FBeUI7QUFFOUIsVUFFRyxRQUFnQixjQUFjLHNCQUMvQjtBQUNBLGVBQU87O0FBR1QsYUFBTyxDQUFDLENBQUM7SUFDWDs7QUFHRixTQUFPQTtBQUNUOzs7QUMzQ00sSUFBTyxxQkFBUCxNQUF5QjtFQWtDN0IsWUFBWSxNQUFjLG9CQUFvQixPQUFPLFFBQWMsZUFBbUI7QUFDcEYsU0FBSyxVQUFVLE1BQU0sbUJBQW1CLFFBQVEsYUFBYTtFQUMvRDtFQVVPLFVBQVUsTUFBYyxvQkFBb0IsT0FBTyxRQUFjLGVBQW1CO0FBQ3pGLFNBQUssT0FBTztBQUNaLFNBQUssb0JBQW9CO0FBQ3pCLFNBQUssU0FBUztBQUNkLFNBQUssZ0JBQWdCO0FBQ3JCLFdBQU87RUFDVDs7QUFPSSxJQUFPLFdBQVAsTUFBZTtFQWVuQixZQUlTLFVBSUEsTUFJQSxRQUFhLE1BQUk7QUFSakIsU0FBQSxXQUFBO0FBSUEsU0FBQSxPQUFBO0FBSUEsU0FBQSxRQUFBO0FBdkJGLFNBQUEsdUJBQXVCO0FBR3ZCLFNBQUEsc0JBQXNCO0VBcUIxQjs7QUFhQyxJQUFPLGFBQVAsTUFBaUI7RUFXckIsWUFBWSxpQkFBaUQ7QUFWckQsU0FBQSxhQUFhLElBQUksTUFBSztBQUl0QixTQUFBLG1CQUE2RDtBQU9uRSxTQUFLLGNBQWMsSUFBSSxtQkFBbUIsQ0FBQztBQUUzQyxRQUFJLGlCQUFpQjtBQUNuQixXQUFLLG1CQUFtQjs7RUFFNUI7RUFXTyxJQUNMLFVBQ0EsT0FBZSxJQUNmLGNBQWMsT0FDZCxRQUFhLE1BQ2Isd0JBQXdCLE9BQUs7QUFFN0IsUUFBSSxDQUFDLFVBQVU7QUFDYixhQUFPOztBQUdULFVBQU0sV0FBVyxJQUFJLFNBQVMsVUFBVSxNQUFNLEtBQUs7QUFDbkQsYUFBUyx1QkFBdUI7QUFFaEMsUUFBSSxhQUFhO0FBQ2YsV0FBSyxXQUFXLFFBQVEsUUFBUTtXQUMzQjtBQUNMLFdBQUssV0FBVyxLQUFLLFFBQVE7O0FBRy9CLFFBQUksS0FBSyxrQkFBa0I7QUFDekIsV0FBSyxpQkFBaUIsUUFBUTs7QUFHaEMsV0FBTztFQUNUO0VBT08sUUFBUSxVQUFnRTtBQUM3RSxXQUFPLEtBQUssSUFBSSxVQUFVLFFBQVcsUUFBVyxRQUFXLElBQUk7RUFDakU7RUFPTyxPQUFPLFVBQTRCO0FBQ3hDLFFBQUksQ0FBQyxVQUFVO0FBQ2IsYUFBTzs7QUFHVCxVQUFNLFFBQVEsS0FBSyxXQUFXLFFBQVEsUUFBUTtBQUU5QyxRQUFJLFVBQVUsSUFBSTtBQUNoQixXQUFLLGlCQUFpQixRQUFRO0FBQzlCLGFBQU87O0FBR1QsV0FBTztFQUNUO0VBUU8sZUFBZSxVQUFrRSxPQUFXO0FBQ2pHLGFBQVMsUUFBUSxHQUFHLFFBQVEsS0FBSyxXQUFXLFFBQVEsU0FBUztBQUMzRCxVQUFJLEtBQUssV0FBVyxLQUFLLEVBQUUsYUFBYSxhQUFhLENBQUMsU0FBUyxVQUFVLEtBQUssV0FBVyxLQUFLLEVBQUUsUUFBUTtBQUN0RyxhQUFLLGlCQUFpQixLQUFLLFdBQVcsS0FBSyxDQUFDO0FBQzVDLGVBQU87OztBQUlYLFdBQU87RUFDVDtFQVdPLGdCQUFnQixXQUFjLE9BQWUsSUFBSSxRQUFjLGVBQW1CO0FBQ3ZGLFFBQUksQ0FBQyxLQUFLLFdBQVcsUUFBUTtBQUMzQixhQUFPOztBQUdULFVBQU0sUUFBUSxLQUFLO0FBQ25CLFVBQU0sT0FBTztBQUNiLFVBQU0sU0FBUztBQUNmLFVBQU0sZ0JBQWdCO0FBQ3RCLFVBQU0sb0JBQW9CO0FBQzFCLFVBQU0sa0JBQWtCO0FBRXhCLGVBQVcsT0FBTyxLQUFLLFlBQVk7QUFDakMsVUFBSSxJQUFJLHFCQUFxQjtBQUMzQjs7QUFHRixVQUFJLElBQUksT0FBTyxNQUFNO0FBQ25CLFlBQUksSUFBSSxPQUFPO0FBQ2IsZ0JBQU0sa0JBQWtCLElBQUksU0FBUyxNQUFNLElBQUksT0FBTyxDQUFDLFdBQVcsS0FBSyxDQUFDO2VBQ25FO0FBQ0wsZ0JBQU0sa0JBQWtCLElBQUksU0FBUyxXQUFXLEtBQUs7O0FBR3ZELFlBQUksSUFBSSxzQkFBc0I7QUFDNUIsZUFBSyxpQkFBaUIsR0FBRzs7O0FBRzdCLFVBQUksTUFBTSxtQkFBbUI7QUFDM0IsZUFBTzs7O0FBR1gsV0FBTztFQUNUO0VBZU8sMkJBQTJCLFdBQWMsT0FBZSxJQUFJLFFBQWMsZUFBbUI7QUFFbEcsUUFBSSxJQUFrQixRQUFRLFFBQVEsU0FBUztBQUcvQyxRQUFJLENBQUMsS0FBSyxXQUFXLFFBQVE7QUFDM0IsYUFBTzs7QUFHVCxVQUFNLFFBQVEsS0FBSztBQUNuQixVQUFNLE9BQU87QUFDYixVQUFNLFNBQVM7QUFDZixVQUFNLGdCQUFnQjtBQUN0QixVQUFNLG9CQUFvQjtBQUcxQixTQUFLLFdBQVcsUUFBUSxDQUFDLFFBQU87QUFDOUIsVUFBSSxNQUFNLG1CQUFtQjtBQUMzQjs7QUFFRixVQUFJLElBQUkscUJBQXFCO0FBQzNCOztBQUVGLFVBQUksSUFBSSxPQUFPLE1BQU07QUFDbkIsWUFBSSxJQUFJLE9BQU87QUFDYixjQUFJLEVBQUUsS0FBSyxDQUFDLHNCQUFxQjtBQUMvQixrQkFBTSxrQkFBa0I7QUFDeEIsbUJBQU8sSUFBSSxTQUFTLE1BQU0sSUFBSSxPQUFPLENBQUMsV0FBVyxLQUFLLENBQUM7VUFDekQsQ0FBQztlQUNJO0FBQ0wsY0FBSSxFQUFFLEtBQUssQ0FBQyxzQkFBcUI7QUFDL0Isa0JBQU0sa0JBQWtCO0FBQ3hCLG1CQUFPLElBQUksU0FBUyxXQUFXLEtBQUs7VUFDdEMsQ0FBQzs7QUFFSCxZQUFJLElBQUksc0JBQXNCO0FBQzVCLGVBQUssaUJBQWlCLEdBQUc7OztJQUcvQixDQUFDO0FBR0QsV0FBTyxFQUFFLEtBQUssTUFBSztBQUNqQixhQUFPO0lBQ1QsQ0FBQztFQUNIO0VBUU8sZUFBZSxVQUF1QixXQUFjLE9BQWUsSUFBRTtBQUMxRSxVQUFNLFFBQVEsS0FBSztBQUNuQixVQUFNLE9BQU87QUFDYixVQUFNLG9CQUFvQjtBQUUxQixhQUFTLFNBQVMsV0FBVyxLQUFLO0VBQ3BDO0VBTU8sZUFBWTtBQUNqQixXQUFPLEtBQUssV0FBVyxTQUFTO0VBQ2xDO0VBS08sUUFBSztBQUNWLFNBQUssYUFBYSxJQUFJLE1BQUs7QUFDM0IsU0FBSyxtQkFBbUI7RUFDMUI7RUFNTyxRQUFLO0FBQ1YsVUFBTSxTQUFTLElBQUksV0FBVTtBQUU3QixXQUFPLGFBQWEsS0FBSyxXQUFXLE1BQU0sQ0FBQztBQUUzQyxXQUFPO0VBQ1Q7RUFPTyxnQkFBZ0IsT0FBZSxJQUFFO0FBQ3RDLGVBQVcsT0FBTyxLQUFLLFlBQVk7QUFDakMsVUFBSSxJQUFJLE9BQU8sUUFBUSxJQUFJLFNBQVMsTUFBTTtBQUN4QyxlQUFPOzs7QUFHWCxXQUFPO0VBQ1Q7RUFFUSxpQkFBaUIsVUFBcUI7QUFDNUMsYUFBUyx1QkFBdUI7QUFDaEMsYUFBUyxzQkFBc0I7QUFDL0IsWUFBUSxRQUFPLEVBQ1osS0FBSyxLQUFLLFFBQVEsUUFBTyxDQUFFLEVBQUUsWUFBWSxLQUFLLFFBQVEsUUFBUSxDQUFDLEVBQy9ELE1BQU0sUUFBUSxLQUFLO0VBQ3hCO0VBSVEsUUFBUSxVQUE0QjtBQUMxQyxRQUFJLENBQUMsVUFBVTtBQUNiLGFBQU87O0FBR1QsVUFBTSxRQUFRLEtBQUssV0FBVyxRQUFRLFFBQVE7QUFFOUMsUUFBSSxVQUFVLElBQUk7QUFDaEIsV0FBSyxXQUFXLE9BQU8sT0FBTyxDQUFDO0FBQy9CLGFBQU87O0FBR1QsV0FBTztFQUNUOzs7O0FDbllGLHVCQUErRDtBQUUvRCxJQUFJLG9CQUFzQztBQWlZMUMsU0FBUyxpQkFBaUIsV0FBaUI7QUFDekMsU0FBTyxNQUFLO0FBQ1Ysc0JBQWtCLEVBQUUsU0FBUyxVQUFTLENBQUUsRUFBRSxNQUFNLFFBQVEsS0FBSztFQUMvRDtBQUNGO0FBT08sSUFBTSx5QkFBeUIsSUFBSSxXQUFvQyxpQkFBaUIsY0FBYyxDQUFDO0FBV3ZHLElBQU0seUJBQXlCLElBQUksV0FBb0MsaUJBQWlCLGNBQWMsQ0FBQztBQVl2RyxJQUFNLHlCQUF5QixJQUFJLFdBQWtDLGlCQUFpQixZQUFZLENBQUM7QUFNbkcsSUFBTSwrQkFBK0IsSUFBSSxXQUM5QyxpQkFBaUIsa0JBQWtCLENBQUM7QUFPL0IsSUFBTSxlQUFlLElBQUksV0FBa0MsaUJBQWlCLFlBQVksQ0FBQztBQU16RixJQUFNLG1CQUFtQixJQUFJLFdBQXNDLGlCQUFpQixnQkFBZ0IsQ0FBQztBQU1yRyxJQUFNLDhCQUE4QixJQUFJLFdBQzdDLGlCQUFpQixpQkFBaUIsQ0FBQztBQU85QixJQUFNLGlDQUFpQyxJQUFJLFdBQ2hELGlCQUFpQixvQkFBb0IsQ0FBQztBQU9qQyxJQUFNLDJCQUEyQixJQUFJLFdBQXNDLGlCQUFpQixnQkFBZ0IsQ0FBQztBQU03RyxJQUFNLDRCQUE0QixJQUFJLFdBQXFDLGlCQUFpQixlQUFlLENBQUM7QUFNNUcsSUFBTSxpQkFBaUIsSUFBSSxXQUE2QixpQkFBaUIsT0FBTyxDQUFDO0FBZXhGLGVBQXNCLFdBQVdDLFlBQWlFO0FBQ2hHLFFBQU0sRUFBRSxPQUFNLElBQUssTUFBTUEsV0FBVSxFQUFFLFNBQVMsQ0FBQSxFQUFFLENBQUU7QUFDbEQsYUFBVyxLQUFLLFFBQVE7QUFDdEIsUUFBSSxFQUFFLFNBQVM7QUFDYixZQUFNLE9BQU8sS0FBSyxNQUFNLEVBQUUsUUFBUSxTQUFTO0FBQzNDLGNBQVEsRUFBRSxRQUFRLFNBQVM7UUFDekIsS0FBSyxnQkFBZ0I7QUFDbkIsaUNBQXVCLGdCQUFnQixJQUErQjtBQUN0RTs7UUFFRixLQUFLLGdCQUFnQjtBQUNuQixpQ0FBdUIsZ0JBQWdCLElBQStCO0FBQ3RFOztRQUVGLEtBQUssY0FBYztBQUNqQixpQ0FBdUIsZ0JBQWdCLElBQTZCO0FBQ3BFOztRQUVGLEtBQUssb0JBQW9CO0FBQ3ZCLHVDQUE2QixnQkFBZ0IsSUFBbUM7QUFDaEY7O1FBRUYsS0FBSyxjQUFjO0FBQ2pCLGdCQUFNLFlBQVk7QUFDbEIsdUJBQWEsZ0JBQWdCLFNBQVM7QUFDdEM7O1FBRUYsS0FBSyxrQkFBa0I7QUFDckIsMkJBQWlCLGdCQUFnQixJQUFpQztBQUNsRTs7UUFFRixLQUFLLG1CQUFtQjtBQUN0QixzQ0FBNEIsZ0JBQWdCLElBQWtDO0FBQzlFOztRQUVGLEtBQUssc0JBQXNCO0FBQ3pCLHlDQUErQixnQkFBZ0IsSUFBcUM7QUFDcEY7O1FBRUYsS0FBSyxrQkFBa0I7QUFDckIsbUNBQXlCLGdCQUFnQixJQUFpQztBQUMxRTs7UUFFRixLQUFLLGlCQUFpQjtBQUNwQixvQ0FBMEIsZ0JBQWdCLElBQWdDO0FBQzFFOztRQUVGLEtBQUssU0FBUztBQUNaLHlCQUFlLGdCQUFnQixJQUF3QjtBQUN2RDs7Ozs7QUFLVjs7O0FDbGlCTyxJQUFNLHNCQUFzQixDQUFDOzs7QUNHcEMsSUFBTSxhQUFtQyxDQUFBO0FBR2xDLElBQU0sb0JBQXdDO0VBQ25ELG1CQUFtQixLQUFhLGNBQXFCO0FBR25ELFVBQU0sYUFBYSxvQkFBb0IsR0FBRztBQUMxQyxRQUFJLFlBQVk7QUFDZCxVQUFJO0FBQ0YsWUFBSSxzQkFBc0IsWUFBWTtBQUNwQyxnQkFBTSxZQUFZLFVBQVUsV0FBVyxVQUFVO0FBQ2pELHFCQUFXLEtBQUssRUFBRSxLQUFLLFVBQVMsQ0FBRTttQkFDekIsT0FBTyxlQUFlLFVBQVU7QUFDekMsZ0JBQU0sWUFBWSxVQUFVLFNBQVMsS0FBSyxNQUFNLFVBQVUsQ0FBQztBQUMzRCxxQkFBVyxLQUFLLEVBQUUsS0FBSyxVQUFTLENBQUU7bUJBQ3pCLE9BQU8sZUFBZSxVQUFVO0FBQ3pDLGdCQUFNLFlBQVksVUFBVSxTQUFTLFVBQVU7QUFDL0MscUJBQVcsS0FBSyxFQUFFLEtBQUssVUFBUyxDQUFFOztlQUU3QixLQUFQO0FBQ0EsZ0JBQVEsTUFBTSxHQUFHOztBQUduQixhQUFPLG9CQUFvQixHQUFHOztBQUdoQyxXQUFPLFdBQVcsS0FBSyxDQUFDLFNBQVMsS0FBSyxRQUFRLEdBQUcsS0FBSztFQUN4RDs7OztBTHRCSyxJQUFNLG9CQUFvQix3QkFBd0IsRUFBRSx5REFBa0IsQ0FBRTtBQUMvRSxPQUFPLGFBQWEsaUJBQWlCO0FBRXJDLGVBQXNCLFNBQVMsV0FBaUI7QUFDOUMsU0FBTyxLQUFJO0FBQ1gsUUFBTSxPQUFPLE9BQU8sU0FBUztBQUM3QixRQUFNLFdBQVcsMkJBQVM7QUFDNUI7QUFNQSxlQUFzQixVQUFPO0FBQzNCLFFBQU0sV0FBVyxVQUFNLGdDQUFhLEVBQUUsTUFBTSxJQUFJLFdBQVUsRUFBRSxDQUFFO0FBRzlELE1BQUksQ0FBQyxTQUFTLGFBQWE7QUFDekIsVUFBTSxnQkFBZ0Isa0JBQWtCLG1CQUFtQixnQkFBZ0I7QUFDM0UsUUFBSSxlQUFlO0FBQ2pCLFVBQUk7QUFDRixrQkFBVSxTQUFTLFFBQVEsZUFBZSxpQkFBaUI7ZUFDcEQsS0FBUDtBQUNBLGdCQUFRLElBQUksZ0RBQWdEO0FBQzVELGdCQUFRLE1BQU0sR0FBRzs7OztBQUt2QixNQUFJLENBQUMsQ0FBQyxrQkFBa0IsV0FBVztBQUNqQyxRQUFJLFlBQVksU0FBUyxRQUFRLFNBQVMsS0FBSyxRQUFRO0FBQ3JELGlCQUFXLGFBQWEsU0FBUyxNQUFNO0FBQ3JDLDBCQUFrQixVQUFVLFNBQVM7Ozs7QUFJN0M7OztBakp2Q0EsSUFBd0IsU0FBUyxRQUFXO0FBQzFDLE1BQVMsMkJBQVQsV0FBb0M7QUFDbEMsVUFBTSxlQUFtQyxLQUFLO0FBQzlDLFFBQUksZ0JBQWdCLE9BQU8saUJBQWlCLFlBQVksT0FBUSxhQUE2QyxTQUFTLFlBQVk7QUFDaEksbUJBQWEsTUFBTSxRQUFRLEtBQUs7QUFBQSxJQUNsQztBQUNBLFdBQU8sYUFBYSx3QkFBd0I7QUFBQSxFQUM5QztBQUNBLFNBQU8sVUFBVSwwQkFBMEIsUUFBUTtBQUNyRDsiLAogICJuYW1lcyI6IFsiZXhwb3J0cyIsICJtb2R1bGUiLCAicmVzb2x2ZSIsICJwYXJhbXMiLCAib2Zmc2V0IiwgImV4cG9ydHMiLCAibGVuZ3RoIiwgImkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJ1dGY4IiwgImV4cG9ydHMiLCAibW9kdWxlIiwgInNpemUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAibGVuZ3RoIiwgImV4cG9ydHMiLCAiaXNPYmplY3QiLCAiaXNTZXQiLCAiQnVmZmVyIiwgImkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAidXRmOCIsICJjcmVhdGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAidXRmOCIsICJjcmVhdGVfYXJyYXkiLCAiY3JlYXRlIiwgImJ1ZmZlciIsICJsZW5ndGgiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAic2VsZiIsICJlcnIiLCAiZXhwb3J0cyIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgInJlcXVpcmVfbWluaW1hbCIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJMb25nIiwgIlBCQW5pbWF0b3IiLCAiX20wIiwgImxlbmd0aCIsICJQQkFuaW1hdGlvblN0YXRlIiwgImltcG9ydF9taW5pbWFsIiwgIlBCQXVkaW9Tb3VyY2UiLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJQQkF1ZGlvU3RyZWFtIiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiQXZhdGFyQW5jaG9yUG9pbnRUeXBlIiwgIlBCQXZhdGFyQXR0YWNoIiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiaW1wb3J0X21pbmltYWwiLCAiUG9zaXRpb24iLCAiX20wIiwgImxlbmd0aCIsICJWZWN0b3IzIiwgIlZlY3RvcjIiLCAiUXVhdGVybmlvbiIsICJBdmF0YXJNb2RpZmllclR5cGUiLCAiUEJBdmF0YXJNb2RpZmllckFyZWEiLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJpbXBvcnRfbWluaW1hbCIsICJDb2xvcjMiLCAiX20wIiwgImxlbmd0aCIsICJDb2xvcjQiLCAiUEJBdmF0YXJTaGFwZSIsICJfbTAiLCAibGVuZ3RoIiwgIkxvbmciLCAiaW1wb3J0X21pbmltYWwiLCAiQmlsbGJvYXJkTW9kZSIsICJQQkJpbGxib2FyZCIsICJfbTAiLCAibGVuZ3RoIiwgImltcG9ydF9taW5pbWFsIiwgIlBCQ2FtZXJhTW9kZSIsICJfbTAiLCAibGVuZ3RoIiwgImltcG9ydF9taW5pbWFsIiwgIlBCQ2FtZXJhTW9kZUFyZWEiLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJQQkVuZ2luZUluZm8iLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJQQkdsdGZDb250YWluZXIiLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJQQkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUiLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJpbXBvcnRfbWluaW1hbCIsICJUZXh0dXJlV3JhcE1vZGUiLCAiVGV4dHVyZUZpbHRlck1vZGUiLCAiVGV4dHVyZSIsICJfbTAiLCAibGVuZ3RoIiwgIkF2YXRhclRleHR1cmUiLCAiVmlkZW9UZXh0dXJlIiwgIlRleHR1cmVVbmlvbiIsICJNYXRlcmlhbFRyYW5zcGFyZW5jeU1vZGUiLCAiUEJNYXRlcmlhbCIsICJfbTAiLCAibGVuZ3RoIiwgIlBCTWF0ZXJpYWxfVW5saXRNYXRlcmlhbCIsICJQQk1hdGVyaWFsX1Bick1hdGVyaWFsIiwgImltcG9ydF9taW5pbWFsIiwgIkNvbGxpZGVyTGF5ZXIiLCAiUEJNZXNoQ29sbGlkZXIiLCAiX20wIiwgImxlbmd0aCIsICJQQk1lc2hDb2xsaWRlcl9Cb3hNZXNoIiwgIlBCTWVzaENvbGxpZGVyX0N5bGluZGVyTWVzaCIsICJQQk1lc2hDb2xsaWRlcl9QbGFuZU1lc2giLCAiUEJNZXNoQ29sbGlkZXJfU3BoZXJlTWVzaCIsICJpbXBvcnRfbWluaW1hbCIsICJQQk1lc2hSZW5kZXJlciIsICJfbTAiLCAibGVuZ3RoIiwgIlBCTWVzaFJlbmRlcmVyX0JveE1lc2giLCAiUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoIiwgIlBCTWVzaFJlbmRlcmVyX1BsYW5lTWVzaCIsICJQQk1lc2hSZW5kZXJlcl9TcGhlcmVNZXNoIiwgImltcG9ydF9taW5pbWFsIiwgIk5mdEZyYW1lVHlwZSIsICJQQk5mdFNoYXBlIiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJQb2ludGVyRXZlbnRzIiwgIl9tMCIsICJsZW5ndGgiLCAiUEJQb2ludGVyRXZlbnRzX0luZm8iLCAiUEJQb2ludGVyRXZlbnRzX0VudHJ5IiwgImltcG9ydF9taW5pbWFsIiwgImltcG9ydF9taW5pbWFsIiwgIlJheWNhc3RIaXQiLCAiX20wIiwgImxlbmd0aCIsICJQQlBvaW50ZXJFdmVudHNSZXN1bHQiLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJQQlBvaW50ZXJMb2NrIiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiUmF5Y2FzdFF1ZXJ5VHlwZSIsICJQQlJheWNhc3QiLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJQQlJheWNhc3RSZXN1bHQiLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJQQlRleHRTaGFwZSIsICJfbTAiLCAibGVuZ3RoIiwgImltcG9ydF9taW5pbWFsIiwgImltcG9ydF9taW5pbWFsIiwgIkJvcmRlclJlY3QiLCAiX20wIiwgImxlbmd0aCIsICJSZWN0IiwgIkJhY2tncm91bmRUZXh0dXJlTW9kZSIsICJQQlVpQmFja2dyb3VuZCIsICJfbTAiLCAibGVuZ3RoIiwgImltcG9ydF9taW5pbWFsIiwgIlBCVWlDYW52YXNJbmZvcm1hdGlvbiIsICJfbTAiLCAibGVuZ3RoIiwgImltcG9ydF9taW5pbWFsIiwgIlBCVWlEcm9wZG93biIsICJfbTAiLCAibGVuZ3RoIiwgImltcG9ydF9taW5pbWFsIiwgIlBCVWlEcm9wZG93blJlc3VsdCIsICJfbTAiLCAibGVuZ3RoIiwgImltcG9ydF9taW5pbWFsIiwgIlBCVWlJbnB1dCIsICJfbTAiLCAibGVuZ3RoIiwgImltcG9ydF9taW5pbWFsIiwgIlBCVWlJbnB1dFJlc3VsdCIsICJfbTAiLCAibGVuZ3RoIiwgImltcG9ydF9taW5pbWFsIiwgIlBCVWlUZXh0IiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiWUdQb3NpdGlvblR5cGUiLCAiWUdBbGlnbiIsICJZR1VuaXQiLCAiWUdGbGV4RGlyZWN0aW9uIiwgIllHV3JhcCIsICJZR0p1c3RpZnkiLCAiWUdPdmVyZmxvdyIsICJZR0Rpc3BsYXkiLCAiWUdFZGdlIiwgIlBCVWlUcmFuc2Zvcm0iLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJWaWRlb1N0YXRlIiwgIlBCVmlkZW9FdmVudCIsICJfbTAiLCAibGVuZ3RoIiwgImltcG9ydF9taW5pbWFsIiwgIlBCVmlkZW9QbGF5ZXIiLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJQQlZpc2liaWxpdHlDb21wb25lbnQiLCAiX20wIiwgImxlbmd0aCIsICJlbmdpbmUiLCAiZW5naW5lIiwgImVuZ2luZSIsICJlbmdpbmUiLCAibGVuZ3RoIiwgInNwZWNSZWZsZWN0aW9uIiwgInNwZWNSZWZsZWN0aW9uIiwgInZhbHVlIiwgIlNjaGVtYXMiLCAiZW5naW5lIiwgIk5hbWUiLCAiZW5naW5lIiwgImVuZ2luZSIsICJNYXRlcmlhbCIsICJNZXNoUmVuZGVyZXIiLCAiZW5naW5lIiwgIk1lc2hDb2xsaWRlciIsICJFbnRpdHlVdGlscyIsICJFbnRpdHlTdGF0ZSIsICJ1dGY4IiwgImxlbmd0aCIsICJfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCIsICJfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCIsICJDcmR0TWVzc2FnZVR5cGUiLCAiUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlIiwgIkNyZHRNZXNzYWdlUHJvdG9jb2wiLCAiRGVsZXRlQ29tcG9uZW50IiwgIndyaXRlIiwgInJlYWQiLCAiQXBwZW5kVmFsdWVPcGVyYXRpb24iLCAid3JpdGUiLCAicmVhZCIsICJEZWxldGVFbnRpdHkiLCAid3JpdGUiLCAicmVhZCIsICJQdXRDb21wb25lbnRPcGVyYXRpb24iLCAid3JpdGUiLCAicmVhZCIsICJlbmdpbmUiLCAicGFyc2VDaHVua01lc3NhZ2UiLCAibWVzc2FnZSIsICJDcmR0VXRpbHMiLCAiU3luY2hyb25pemVkRW50aXR5VHlwZSIsICJlbmdpbmUiLCAiUG9pbnRlckV2ZW50c1Jlc3VsdCIsICJDb21wb25lbnRUeXBlIiwgImVuZ2luZSIsICJpbnB1dFN5c3RlbSIsICJQb2ludGVyRXZlbnRzIiwgIkV2ZW50VHlwZSIsICJQb2ludGVyRXZlbnRzIiwgIkNhbWVyYVR5cGUiLCAiSW5wdXRBY3Rpb24iLCAiUG9pbnRlckV2ZW50VHlwZSIsICJMb2FkaW5nU3RhdGUiLCAiVGV4dEFsaWduTW9kZSIsICJGb250IiwgImVuZ2luZSIsICJFbnRpdHlNYXBwaW5nTW9kZSIsICJlbmdpbmUiLCAiY29tcG9zaXRlUHJvdmlkZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiaW1wb3J0X21pbmltYWwiLCAiTnVsbFZhbHVlIiwgInRzUHJvdG9HbG9iYWxUaGlzIiwgIlN0cnVjdCIsICJfbTAiLCAibGVuZ3RoIiwgIlN0cnVjdF9GaWVsZHNFbnRyeSIsICJWYWx1ZSIsICJMaXN0VmFsdWUiLCAiQ29tcG9uZW50RGF0YSIsICJfbTAiLCAibGVuZ3RoIiwgImlzU2V0IiwgIkNvbXBvc2l0ZUNvbXBvbmVudCIsICJpc09iamVjdCIsICJDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5IiwgIkNvbXBvc2l0ZURlZmluaXRpb24iLCAidHNQcm90b0dsb2JhbFRoaXMiLCAiQ29tcG9zaXRlIiwgImVuZ2luZSIsICJjb21wb3NpdGVQcm92aWRlciIsICJUcmFuc2Zvcm0iLCAiTWF0ZXJpYWwiLCAiTWVzaFJlbmRlcmVyIiwgIk1lc2hDb2xsaWRlciIsICJOYW1lIiwgIlNjYWxhciIsICJsZW5ndGgiLCAiVmVjdG9yMyIsICJsZW5ndGgiLCAic2NhbGUiLCAiY2VudGVyIiwgIlF1YXRlcm5pb24iLCAiUGxhbmUiLCAiVmVjdG9yMyIsICJNYXRyaXgiLCAic2VsZiIsICJzY2FsZSIsICJtIiwgInRyYW5zbGF0aW9uIiwgIlZlY3RvcjMiLCAiUXVhdGVybmlvbiIsICJRdWF0ZXJuaW9uIiwgImxlbmd0aCIsICJWZWN0b3IzIiwgInNlbGYiLCAiQ29sb3I0IiwgInNjYWxlIiwgIkNvbG9yMyIsICJDb2xvcjQiLCAic2NhbGUiLCAiVHJhbnNmb3JtIiwgIlF1YXRlcm5pb24iLCAiVmVjdG9yMyIsICJUcmFuc2Zvcm0iLCAiTWVzaFJlbmRlcmVyIiwgIk1lc2hDb2xsaWRlciIsICJNYXRlcmlhbCIsICJDb2xvcjQiLCAiUG9pbnRlckV2ZW50cyIsICJQb2ludGVyRXZlbnRzIiwgImltcG9ydF9FbmdpbmVBcGkiLCAicmVuZGVyZXJUcmFuc3BvcnQiLCAic2VuZEJhdGNoIl0KfQo=
